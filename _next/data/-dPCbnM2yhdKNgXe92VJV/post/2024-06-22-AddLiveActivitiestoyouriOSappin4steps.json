{"pageProps":{"post":{"title":"4ë‹¨ê³„ë¡œ iOS ì•±ì— ì‹¤ì‹œê°„ í™œë™ ì¶”ê°€í•˜ëŠ” ë°©ë²•","description":"","date":"2024-06-22 23:13","slug":"2024-06-22-AddLiveActivitiestoyouriOSappin4steps","content":"\n## iOSì—ì„œ ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ë¡œ ì‚¬ìš©ì ê²½í—˜ê³¼ ì‹¤ì‹œê°„ ìƒí˜¸ì‘ìš© í–¥ìƒ\n\nì´ë¯¸ ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ë¥¼ ì•±ì— í†µí•©í•˜ì§€ ì•Šì•˜ë‹¤ë©´, ì´ì œ ê°•ë ¥í•œ ì ì¬ë ¥ì„ ê³ ë ¤í•´ë³´ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\n\në¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ëŠ” í˜¸í™˜ë˜ëŠ” ì•„ì´í°ì˜ ì ê¸ˆ í™”ë©´ê³¼ ë‹¤ì´ë‚˜ë¯¹ ì•„ì¼ëœë“œì— ìì—°ìŠ¤ëŸ½ê²Œ ë‚˜íƒ€ë‚˜ëŠ” ì „ìš© UIë¡œ, ì´ ê¸°ëŠ¥ì„ í™œìš©í•˜ë©´ ì‚¬ìš©ìê°€ ì•±ì˜ ì£¼ìš” ë¶€ë¶„ì„ ë²—ì–´ë‚˜ë„ ì‚¬ìš©ìì™€ ìƒí˜¸ì‘ìš©ì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\ní‘¸ì‹œ ì•Œë¦¼ì„ ë³´ë‚´ì§€ ì•Šê³  ì—…ë°ì´íŠ¸ë¥¼ ë³´ë‚´ê±°ë‚˜ ì‹¤ì‹œê°„ ì •ë³´ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ê°€ì¥ ì¢‹ì€ ì ì€? ì´ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ë†€ëë„ë¡ ì‰½ìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì—¬ê¸°ì— ê·¸ê²ƒì„ í•˜ëŠ” ë°©ë²•ì´ ìˆì–´ìš”.\n\n![image1](/assets/img/2024-06-22-AddLiveActivitiestoyouriOSappin4steps_0.png)\n\n![image2](https://miro.medium.com/v2/resize:fit:460/1*RqsG45Gbo625UNKcIUElTQ.gif)\n\n## ë‹¨ê³„1 â€” ë¼ì´ë¸Œ í™œë™ ì½˜í…ì¸  ì •ì˜\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nê°€ì¥ ì²˜ìŒìœ¼ë¡œ í•  ì¼ì€ ë¼ì´ë¸Œ í™œë™ì—ì„œ ë³´ì—¬ì¤„ ì •ë³´ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì œí•œëœ ê³µê°„ ë•Œë¬¸ì— ì‚¬ìš©ìê°€ ì¤‘ìš”í•˜ê²Œ ìƒê°í•  ë°ì´í„°ì— ì§‘ì¤‘í•´ì•¼ í•©ë‹ˆë‹¤.\n\nê·¸ ìƒê°ì„ ê¸°ì–µí•˜ê³  ë‹¤ìŒìœ¼ë¡œ í•  ì¼ì€ ActivityAttributes í”„ë¡œí† ì½œì„ êµ¬í˜„í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n```js\npublic protocol ActivityAttributes : Decodable, Encodable {\n\n    /// ë¼ì´ë¸Œ í™œë™ì˜ ë™ì  ì½˜í…ì¸ ë¥¼ ì„¤ëª…í•˜ëŠ” ì—°ê´€ íƒ€ì….\n    ///\n    /// `ContentState`ë¡œ ì¸ì½”ë”©ëœ ë¼ì´ë¸Œ í™œë™ì˜ ë™ì  ë°ì´í„°ëŠ” 4KBë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n    associatedtype ContentState : Decodable, Encodable, Hashable\n}\n```\n\nì•Œ ìˆ˜ ìˆë“¯ì´, ìš°ë¦¬ëŠ” ì •ë³´ë¥¼ ë‘ ê°€ì§€ ë²”ì£¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n- ì •ì  â†’ ActivityAttributesë¥¼ êµ¬í˜„í•˜ëŠ” ëª¨ë¸ì˜ ì†ì„±ì…ë‹ˆë‹¤.\n- ë™ì  â†’ ContentState íƒ€ì…ì— ì €ì¥ë©ë‹ˆë‹¤.\n\nìš°ë¦¬ ê²½ìš°ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì •ë³´ë¥¼ ì •ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n- ì •ì  â†’ ì£¼ë¬¸ ë²ˆí˜¸ì…ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì£¼ë¬¸ì„ í•˜ë©´ ë²ˆí˜¸ê°€ ë°”ë€Œì§€ ì•ŠìŠµë‹ˆë‹¤.\n- ë™ì  â†’ ì£¼ë¬¸ ìƒíƒœë¡œ, ì£¼ë¬¸ì˜ í˜„ì¬ ë‹¨ê³„ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\n\n```js\nstruct OrderAttributes: ActivityAttributes {\n\n    struct ContentState: Codable, Hashable {\n        enum OrderStatus: Float, Codable, Hashable {\n            case inQueue = 0\n            case aboutToTake\n            case making\n            case ready\n\n            var description: String {\n                switch self {\n                case .inQueue:\n                    return \"ì£¼ë¬¸ì´ ëŒ€ê¸° ì¤‘ì…ë‹ˆë‹¤\"\n                case .aboutToTake:\n                    return \"ì£¼ë¬¸ì„ ë°›ì„ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤\"\n                case .making:\n                    return \"ì£¼ë¬¸ì„ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤\"\n                case .ready:\n                    return \"ì£¼ë¬¸ì´ ìˆ˜ë ¹ ê°€ëŠ¥í•©ë‹ˆë‹¤!\"\n                }\n            }\n        }\n\n        let status: OrderStatus\n    }\n\n    let orderNumber: Int\n}\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## ë‹¨ê³„ 2 â€” UI ìƒì„±í•˜ê¸°\n\në¼ì´ë¸Œ í™œë™ UIëŠ” ì•±ì˜ ìœ„ì ¯ ë²”ìœ„ì— ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì•±ì— ìœ„ì ¯ í™•ì¥ ê¸°ëŠ¥ì´ ì—†ëŠ” ê²½ìš°, ë¨¼ì € í•˜ë‚˜ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.\n\nìƒˆë¡œìš´ ìœ„ì ¯ ë·°ë¥¼ ìƒì„±í•˜ê³  ìœ„ì ¯ êµ¬í˜„ì—ì„œ ActivityConfigurationì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì´ì „ ë‹¨ê³„ì—ì„œ ë§Œë“  ActivityAttributes ëª¨ë¸ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\n\n```js\nstruct CoffeeShopWidgetLiveActivity: Widget {\n\n    var body: some WidgetConfiguration {\n        ActivityConfiguration(for: OrderAttributes.self) { context in\n            // ì—¬ê¸°ì— ì ê¸ˆ í™”ë©´/ë°°ë„ˆ UIê°€ ë“¤ì–´ê°‘ë‹ˆë‹¤\n            LiveActivityView(state: context.state)\n        } dynamicIsland: { context in\n            // ë™ì  ì•„ì¼ëœë“œ êµ¬í˜„ì´ ì´ê³³ì— ë“¤ì–´ê°‘ë‹ˆë‹¤\n            // ì´ ê¸°ì‚¬ì˜ ë²”ìœ„ë¥¼ ë²—ì–´ë‚œ ë‚´ìš©ì…ë‹ˆë‹¤\n             ...\n        }\n    }\n}\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nLiveActivityView ë‚´ì—ì„œëŠ” Live Activity UIë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.\n\n```js\nstruct LiveActivityView: View {\n    let state: OrderAttributes.ContentState\n\n    var body: some View {\n        VStack {\n            HStack {\n                Image(systemName: \"cup.and.saucer\")\n                ProgressView(value: state.status.rawValue, total: 3)\n                    .tint(.black)\n                    .background(Color.brown)\n                Image(systemName: \"cup.and.saucer.fill\")\n            }\n            .padding(16)\n\n            Text(\"\\(state.status.description)\")\n                .font(.system(size: 18, weight: .semibold))\n                .padding(.bottom)\n            Spacer()\n        }\n        .background(Color.brown.opacity(0.6))\n    }\n}\n```\n\në§ˆì§€ë§‰ìœ¼ë¡œ, Live Activity ìœ„ì ¯ì„ ìœ„í•œ ìœ„ì ¯ ë²ˆë“¤ì— ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ê²½ìš°, ìœ„ì ¯ì„ ì œê³µí•˜ì§€ ì•Šì„ ê²ƒì´ë¯€ë¡œ Live Activityë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\n```js\n@main\nstruct CoffeeShopWidgetBundle: WidgetBundle {\n    var body: some Widget {\n        CoffeeShopWidgetLiveActivity()\n    }\n}\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## ë‹¨ê³„ 3 â€” ë¼ì´ë¸Œ í™œë™ ì´ˆê¸°í™”\n\në¼ì´ë¸Œ í™œë™ê³¼ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë°ëŠ” ActivityKit APIë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\n\në¨¼ì €, ActivityContentì˜ ìƒì„±ìì¸ init(state:staleDate:relevanceScore:)ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¼ì´ë¸Œ í™œë™ì˜ ì´ˆê¸° ë‚´ìš©ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.\n\n- state: ë¼ì´ë¸Œ í™œë™ì— ëŒ€í•œ ì´ˆê¸° ActivityAttributes.ContentStateì…ë‹ˆë‹¤.\n- staleDate: ë¼ì´ë¸Œ í™œë™ì´ ì˜¤ë˜ë˜ì—ˆìŒì„ OSì— ì•Œë¦¬ê¸° ìœ„í•œ ë‚ ì§œì…ë‹ˆë‹¤. staleDateê°€ ì§€ì •ë˜ì§€ ì•Šìœ¼ë©´, 8ì‹œê°„ í›„ OSê°€ ë¼ì´ë¸Œ í™œë™ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.\n- relevanceScore: ì—¬ëŸ¬ ê°œì˜ ë¼ì´ë¸Œ í™œë™ì´ ìˆëŠ” ê²½ìš°, relevanceScoreëŠ” ë‹¤ì´ë‚˜ë¯¹ ì•„ì¼ëœë“œì— í‘œì‹œí•  ìš°ì„ ìˆœìœ„ì™€ ì ê¸ˆ í™”ë©´ì˜ ìˆœì„œë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nê·¸ëŸ¼ Activity ë©”ì„œë“œ request(attributes: content: pushType:)ë¥¼ í˜¸ì¶œí•˜ì—¬ ìƒˆë¡œìš´ ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆì–´ìš”.\n\n- attributes: Step 1ì—ì„œ ìƒì„±í•œ ActivityAttributesì˜ ì¸ìŠ¤í„´ìŠ¤ì…ë‹ˆë‹¤.\n- content: ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ì˜ ì´ˆê¸° ì½˜í…ì¸ ì…ë‹ˆë‹¤.\n- pushType: ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ì˜ ì—…ë°ì´íŠ¸ê°€ ActivityKit í‘¸ì‹œ ì•Œë¦¼ì—ì„œ ì˜¬ ê²ƒì¸ì§€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì—…ë°ì´íŠ¸ ê¸°ëŠ¥ë§Œ ì‚¬ìš©í•  ê²½ìš°ì—ëŠ” nilì„ ì „ë‹¬í•  ìˆ˜ ìˆì–´ìš”.\n\nğŸ“£ ì¤‘ìš”í•œ ì•Œë¦¼: ìƒˆë¡œìš´ Activityë¥¼ ìš”ì²­í•  ë•Œ ì•±ì€ í™œì„±í™” ìƒíƒœì—¬ì•¼ í•´ìš”.\n\n```js\nlet orderAttributes = OrderAttributes(orderNumber: 1)\nlet initialState = OrderAttributes.ContentState(status: .inQueue)\nlet content = ActivityContent(state: initialState, staleDate: nil, relevanceScore: 1.0)\n\ndo {\n    let orderActivity = try Activity.request(\n        attributes: orderAttributes,\n        content: content,\n        pushType: nil\n    )\n} catch {\n    print(error.localizedDescription)\n}\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## ë‹¨ê³„ 4 â€” ë¼ì´ë¸Œ í™œë™ ì—…ë°ì´íŠ¸\n\në¼ì´ë¸Œ í™œë™ì„ ì—…ë°ì´íŠ¸í•˜ë ¤ë©´ update(\\_:) í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ˆê¸° ìƒíƒœë¥¼ ìƒì„±í•œ ê²ƒê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì—…ë°ì´íŠ¸ë¡œ ActivityContentë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\nawait orderActivity?.update(\n    ActivityContent<OrderAttributes.ContentState>(\n        state: state,\n        staleDate: nil\n    )\n)\n```\n\në¼ì´ë¸Œ í™œë™ì„ ì¢…ë£Œí•˜ë ¤ë©´ end(\\_:dismissalPolicy:) í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì‚¬ìš©í•˜ëŠ” ì¢…ë£Œ ì •ì±…ì— ë”°ë¼ ë¼ì´ë¸Œ í™œë™ì€ ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ ì œê±°í•  ë•Œê¹Œì§€ ì ê¸ˆ í™”ë©´ì— ë‚¨ê²Œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì´ ë§ˆì§€ë§‰ ë¼ì´ë¸Œ í™œë™ ìƒíƒœë¥¼ ì „ë‹¬í•˜ì—¬ UIë¥¼ í•­ìƒ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€í•´ì•¼í•˜ëŠ” ì´ìœ ì…ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì‚¬ìš© ê°€ëŠ¥í•œ í•´ì œ ì •ì±… ì˜µì…˜ì€ ì„¸ ê°€ì§€ì…ë‹ˆë‹¤.\n\n- default: ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ëŠ” ìµœëŒ€ 4ì‹œê°„ ë™ì•ˆ ì ê¸ˆ í™”ë©´ì— ìœ ì§€ë©ë‹ˆë‹¤. (ì‚¬ìš©ìê°€ ì œê±°í•  ë•Œê¹Œì§€)\n- immediate: ìš´ì˜ ì²´ì œê°€ ì¦‰ì‹œ ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ë¥¼ ì œê±°í•©ë‹ˆë‹¤.\n- after(\\_ date:): ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ë¥¼ í•´ì œí•  ë‚ ì§œë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹° ì¢…ë£Œ ì‹œê°„ìœ¼ë¡œë¶€í„° 4ì‹œê°„ ì´ë‚´ì—¬ì•¼ í•¨)\n\n# ë‹¤ìŒ ë‹¨ê³„ëŠ” ë¬´ì—‡ì¸ê°€ìš”?\n\nì•±ì˜ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ì‹ ì¤‘í•˜ê²Œ ê³ ë ¤í•´ë³´ì„¸ìš”. ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ëŠ” ë°°ì†¡ ì•±ì´ë‚˜ ìŠ¤í¬ì¸  ì´ë²¤íŠ¸ì™€ ê°™ì€ ì‹¤ì‹œê°„ ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹íˆ ì í•©í•˜ì§€ë§Œ, í‘¸ì‹œ ì•Œë¦¼ì— ëŒ€í•œ ë§¤ë ¥ì ì¸ ëŒ€ì•ˆìœ¼ë¡œë„ ì‚¬ìš©ë  ìˆ˜ ìˆì–´ ì‚¬ìš©ìì—ê²Œ ë” ë§¤ë ¥ì ì¸ ê²½í—˜ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\në” í’ë¶€í•œ ì‚¬ìš©ì ê²½í—˜ì„ ìœ„í•´ ë¼ì´ë¸Œ í™œë™ì— ë”¥ ë§í¬ë¥¼ í†µí•©í•˜ì—¬ ì‚¬ìš©ìê°€ ë¼ì´ë¸Œ í™œë™ì„ íƒ­í•  ë•Œ ì—°ê²°ì´ ì›í™œí•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ë©”ì‹œì§€ ë‚¨ê²¨ì£¼ì„¸ìš”! ğŸ™‚\n\n- ğŸ¤“ iOS ê°œë°œ íŒê³¼ í†µì°°ì„ ì •ê¸°ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” ì œ íŠ¸ìœ„í„°ì— ì°¸ì—¬í•´ë³´ì„¸ìš”.\n- ğŸš€ ë‚˜ì˜ ì˜ˆì œ í”„ë¡œì íŠ¸ë¥¼ ëª¨ë‘ ê³µìœ í•˜ëŠ” GitHubë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.\n","ogImage":{"url":"/assets/img/2024-06-22-AddLiveActivitiestoyouriOSappin4steps_0.png"},"coverImage":"/assets/img/2024-06-22-AddLiveActivitiestoyouriOSappin4steps_0.png","tag":["Tech"],"readingTime":9},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<h2>iOSì—ì„œ ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ë¡œ ì‚¬ìš©ì ê²½í—˜ê³¼ ì‹¤ì‹œê°„ ìƒí˜¸ì‘ìš© í–¥ìƒ</h2>\n<p>ì´ë¯¸ ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ë¥¼ ì•±ì— í†µí•©í•˜ì§€ ì•Šì•˜ë‹¤ë©´, ì´ì œ ê°•ë ¥í•œ ì ì¬ë ¥ì„ ê³ ë ¤í•´ë³´ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</p>\n<p>ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ëŠ” í˜¸í™˜ë˜ëŠ” ì•„ì´í°ì˜ ì ê¸ˆ í™”ë©´ê³¼ ë‹¤ì´ë‚˜ë¯¹ ì•„ì¼ëœë“œì— ìì—°ìŠ¤ëŸ½ê²Œ ë‚˜íƒ€ë‚˜ëŠ” ì „ìš© UIë¡œ, ì´ ê¸°ëŠ¥ì„ í™œìš©í•˜ë©´ ì‚¬ìš©ìê°€ ì•±ì˜ ì£¼ìš” ë¶€ë¶„ì„ ë²—ì–´ë‚˜ë„ ì‚¬ìš©ìì™€ ìƒí˜¸ì‘ìš©ì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>í‘¸ì‹œ ì•Œë¦¼ì„ ë³´ë‚´ì§€ ì•Šê³  ì—…ë°ì´íŠ¸ë¥¼ ë³´ë‚´ê±°ë‚˜ ì‹¤ì‹œê°„ ì •ë³´ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ê°€ì¥ ì¢‹ì€ ì ì€? ì´ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ë†€ëë„ë¡ ì‰½ìŠµë‹ˆë‹¤.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ì—¬ê¸°ì— ê·¸ê²ƒì„ í•˜ëŠ” ë°©ë²•ì´ ìˆì–´ìš”.</p>\n<p><img src=\"/assets/img/2024-06-22-AddLiveActivitiestoyouriOSappin4steps_0.png\" alt=\"image1\"></p>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:460/1*RqsG45Gbo625UNKcIUElTQ.gif\" alt=\"image2\"></p>\n<h2>ë‹¨ê³„1 â€” ë¼ì´ë¸Œ í™œë™ ì½˜í…ì¸  ì •ì˜</h2>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ê°€ì¥ ì²˜ìŒìœ¼ë¡œ í•  ì¼ì€ ë¼ì´ë¸Œ í™œë™ì—ì„œ ë³´ì—¬ì¤„ ì •ë³´ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì œí•œëœ ê³µê°„ ë•Œë¬¸ì— ì‚¬ìš©ìê°€ ì¤‘ìš”í•˜ê²Œ ìƒê°í•  ë°ì´í„°ì— ì§‘ì¤‘í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<p>ê·¸ ìƒê°ì„ ê¸°ì–µí•˜ê³  ë‹¤ìŒìœ¼ë¡œ í•  ì¼ì€ ActivityAttributes í”„ë¡œí† ì½œì„ êµ¬í˜„í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\">public protocol <span class=\"hljs-title class_\">ActivityAttributes</span> : <span class=\"hljs-title class_\">Decodable</span>, <span class=\"hljs-title class_\">Encodable</span> {\n\n    <span class=\"hljs-comment\">/// ë¼ì´ë¸Œ í™œë™ì˜ ë™ì  ì½˜í…ì¸ ë¥¼ ì„¤ëª…í•˜ëŠ” ì—°ê´€ íƒ€ì….</span>\n    <span class=\"hljs-comment\">///</span>\n    <span class=\"hljs-comment\">/// `ContentState`ë¡œ ì¸ì½”ë”©ëœ ë¼ì´ë¸Œ í™œë™ì˜ ë™ì  ë°ì´í„°ëŠ” 4KBë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</span>\n    associatedtype <span class=\"hljs-title class_\">ContentState</span> : <span class=\"hljs-title class_\">Decodable</span>, <span class=\"hljs-title class_\">Encodable</span>, <span class=\"hljs-title class_\">Hashable</span>\n}\n</code></pre>\n<p>ì•Œ ìˆ˜ ìˆë“¯ì´, ìš°ë¦¬ëŠ” ì •ë³´ë¥¼ ë‘ ê°€ì§€ ë²”ì£¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<ul>\n<li>ì •ì  â†’ ActivityAttributesë¥¼ êµ¬í˜„í•˜ëŠ” ëª¨ë¸ì˜ ì†ì„±ì…ë‹ˆë‹¤.</li>\n<li>ë™ì  â†’ ContentState íƒ€ì…ì— ì €ì¥ë©ë‹ˆë‹¤.</li>\n</ul>\n<p>ìš°ë¦¬ ê²½ìš°ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì •ë³´ë¥¼ ì •ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>\n<ul>\n<li>ì •ì  â†’ ì£¼ë¬¸ ë²ˆí˜¸ì…ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì£¼ë¬¸ì„ í•˜ë©´ ë²ˆí˜¸ê°€ ë°”ë€Œì§€ ì•ŠìŠµë‹ˆë‹¤.</li>\n<li>ë™ì  â†’ ì£¼ë¬¸ ìƒíƒœë¡œ, ì£¼ë¬¸ì˜ í˜„ì¬ ë‹¨ê³„ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</li>\n</ul>\n<pre><code class=\"hljs language-js\">struct <span class=\"hljs-title class_\">OrderAttributes</span>: <span class=\"hljs-title class_\">ActivityAttributes</span> {\n\n    struct <span class=\"hljs-title class_\">ContentState</span>: <span class=\"hljs-title class_\">Codable</span>, <span class=\"hljs-title class_\">Hashable</span> {\n        enum <span class=\"hljs-title class_\">OrderStatus</span>: <span class=\"hljs-title class_\">Float</span>, <span class=\"hljs-title class_\">Codable</span>, <span class=\"hljs-title class_\">Hashable</span> {\n            <span class=\"hljs-keyword\">case</span> inQueue = <span class=\"hljs-number\">0</span>\n            <span class=\"hljs-keyword\">case</span> aboutToTake\n            <span class=\"hljs-keyword\">case</span> making\n            <span class=\"hljs-keyword\">case</span> ready\n\n            <span class=\"hljs-keyword\">var</span> <span class=\"hljs-attr\">description</span>: <span class=\"hljs-title class_\">String</span> {\n                <span class=\"hljs-keyword\">switch</span> self {\n                <span class=\"hljs-keyword\">case</span> .<span class=\"hljs-property\">inQueue</span>:\n                    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">\"ì£¼ë¬¸ì´ ëŒ€ê¸° ì¤‘ì…ë‹ˆë‹¤\"</span>\n                <span class=\"hljs-keyword\">case</span> .<span class=\"hljs-property\">aboutToTake</span>:\n                    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">\"ì£¼ë¬¸ì„ ë°›ì„ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤\"</span>\n                <span class=\"hljs-keyword\">case</span> .<span class=\"hljs-property\">making</span>:\n                    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">\"ì£¼ë¬¸ì„ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤\"</span>\n                <span class=\"hljs-keyword\">case</span> .<span class=\"hljs-property\">ready</span>:\n                    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">\"ì£¼ë¬¸ì´ ìˆ˜ë ¹ ê°€ëŠ¥í•©ë‹ˆë‹¤!\"</span>\n                }\n            }\n        }\n\n        <span class=\"hljs-keyword\">let</span> <span class=\"hljs-attr\">status</span>: <span class=\"hljs-title class_\">OrderStatus</span>\n    }\n\n    <span class=\"hljs-keyword\">let</span> <span class=\"hljs-attr\">orderNumber</span>: <span class=\"hljs-title class_\">Int</span>\n}\n</code></pre>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h2>ë‹¨ê³„ 2 â€” UI ìƒì„±í•˜ê¸°</h2>\n<p>ë¼ì´ë¸Œ í™œë™ UIëŠ” ì•±ì˜ ìœ„ì ¯ ë²”ìœ„ì— ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì•±ì— ìœ„ì ¯ í™•ì¥ ê¸°ëŠ¥ì´ ì—†ëŠ” ê²½ìš°, ë¨¼ì € í•˜ë‚˜ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<p>ìƒˆë¡œìš´ ìœ„ì ¯ ë·°ë¥¼ ìƒì„±í•˜ê³  ìœ„ì ¯ êµ¬í˜„ì—ì„œ ActivityConfigurationì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì´ì „ ë‹¨ê³„ì—ì„œ ë§Œë“  ActivityAttributes ëª¨ë¸ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\">struct <span class=\"hljs-title class_\">CoffeeShopWidgetLiveActivity</span>: <span class=\"hljs-title class_\">Widget</span> {\n\n    <span class=\"hljs-keyword\">var</span> <span class=\"hljs-attr\">body</span>: some <span class=\"hljs-title class_\">WidgetConfiguration</span> {\n        <span class=\"hljs-title class_\">ActivityConfiguration</span>(<span class=\"hljs-attr\">for</span>: <span class=\"hljs-title class_\">OrderAttributes</span>.<span class=\"hljs-property\">self</span>) { context <span class=\"hljs-keyword\">in</span>\n            <span class=\"hljs-comment\">// ì—¬ê¸°ì— ì ê¸ˆ í™”ë©´/ë°°ë„ˆ UIê°€ ë“¤ì–´ê°‘ë‹ˆë‹¤</span>\n            <span class=\"hljs-title class_\">LiveActivityView</span>(<span class=\"hljs-attr\">state</span>: context.<span class=\"hljs-property\">state</span>)\n        } <span class=\"hljs-attr\">dynamicIsland</span>: { context <span class=\"hljs-keyword\">in</span>\n            <span class=\"hljs-comment\">// ë™ì  ì•„ì¼ëœë“œ êµ¬í˜„ì´ ì´ê³³ì— ë“¤ì–´ê°‘ë‹ˆë‹¤</span>\n            <span class=\"hljs-comment\">// ì´ ê¸°ì‚¬ì˜ ë²”ìœ„ë¥¼ ë²—ì–´ë‚œ ë‚´ìš©ì…ë‹ˆë‹¤</span>\n             ...\n        }\n    }\n}\n</code></pre>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>LiveActivityView ë‚´ì—ì„œëŠ” Live Activity UIë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\">struct <span class=\"hljs-title class_\">LiveActivityView</span>: <span class=\"hljs-title class_\">View</span> {\n    <span class=\"hljs-keyword\">let</span> <span class=\"hljs-attr\">state</span>: <span class=\"hljs-title class_\">OrderAttributes</span>.<span class=\"hljs-property\">ContentState</span>\n\n    <span class=\"hljs-keyword\">var</span> <span class=\"hljs-attr\">body</span>: some <span class=\"hljs-title class_\">View</span> {\n        <span class=\"hljs-title class_\">VStack</span> {\n            <span class=\"hljs-title class_\">HStack</span> {\n                <span class=\"hljs-title class_\">Image</span>(<span class=\"hljs-attr\">systemName</span>: <span class=\"hljs-string\">\"cup.and.saucer\"</span>)\n                <span class=\"hljs-title class_\">ProgressView</span>(<span class=\"hljs-attr\">value</span>: state.<span class=\"hljs-property\">status</span>.<span class=\"hljs-property\">rawValue</span>, <span class=\"hljs-attr\">total</span>: <span class=\"hljs-number\">3</span>)\n                    .<span class=\"hljs-title function_\">tint</span>(.<span class=\"hljs-property\">black</span>)\n                    .<span class=\"hljs-title function_\">background</span>(<span class=\"hljs-title class_\">Color</span>.<span class=\"hljs-property\">brown</span>)\n                <span class=\"hljs-title class_\">Image</span>(<span class=\"hljs-attr\">systemName</span>: <span class=\"hljs-string\">\"cup.and.saucer.fill\"</span>)\n            }\n            .<span class=\"hljs-title function_\">padding</span>(<span class=\"hljs-number\">16</span>)\n\n            <span class=\"hljs-title class_\">Text</span>(<span class=\"hljs-string\">\"\\(state.status.description)\"</span>)\n                .<span class=\"hljs-title function_\">font</span>(.<span class=\"hljs-title function_\">system</span>(<span class=\"hljs-attr\">size</span>: <span class=\"hljs-number\">18</span>, <span class=\"hljs-attr\">weight</span>: .<span class=\"hljs-property\">semibold</span>))\n                .<span class=\"hljs-title function_\">padding</span>(.<span class=\"hljs-property\">bottom</span>)\n            <span class=\"hljs-title class_\">Spacer</span>()\n        }\n        .<span class=\"hljs-title function_\">background</span>(<span class=\"hljs-title class_\">Color</span>.<span class=\"hljs-property\">brown</span>.<span class=\"hljs-title function_\">opacity</span>(<span class=\"hljs-number\">0.6</span>))\n    }\n}\n</code></pre>\n<p>ë§ˆì§€ë§‰ìœ¼ë¡œ, Live Activity ìœ„ì ¯ì„ ìœ„í•œ ìœ„ì ¯ ë²ˆë“¤ì— ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ê²½ìš°, ìœ„ì ¯ì„ ì œê³µí•˜ì§€ ì•Šì„ ê²ƒì´ë¯€ë¡œ Live Activityë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\">@main\nstruct <span class=\"hljs-title class_\">CoffeeShopWidgetBundle</span>: <span class=\"hljs-title class_\">WidgetBundle</span> {\n    <span class=\"hljs-keyword\">var</span> <span class=\"hljs-attr\">body</span>: some <span class=\"hljs-title class_\">Widget</span> {\n        <span class=\"hljs-title class_\">CoffeeShopWidgetLiveActivity</span>()\n    }\n}\n</code></pre>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h2>ë‹¨ê³„ 3 â€” ë¼ì´ë¸Œ í™œë™ ì´ˆê¸°í™”</h2>\n<p>ë¼ì´ë¸Œ í™œë™ê³¼ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë°ëŠ” ActivityKit APIë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<p>ë¨¼ì €, ActivityContentì˜ ìƒì„±ìì¸ init(state:staleDate:relevanceScore:)ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¼ì´ë¸Œ í™œë™ì˜ ì´ˆê¸° ë‚´ìš©ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.</p>\n<ul>\n<li>state: ë¼ì´ë¸Œ í™œë™ì— ëŒ€í•œ ì´ˆê¸° ActivityAttributes.ContentStateì…ë‹ˆë‹¤.</li>\n<li>staleDate: ë¼ì´ë¸Œ í™œë™ì´ ì˜¤ë˜ë˜ì—ˆìŒì„ OSì— ì•Œë¦¬ê¸° ìœ„í•œ ë‚ ì§œì…ë‹ˆë‹¤. staleDateê°€ ì§€ì •ë˜ì§€ ì•Šìœ¼ë©´, 8ì‹œê°„ í›„ OSê°€ ë¼ì´ë¸Œ í™œë™ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.</li>\n<li>relevanceScore: ì—¬ëŸ¬ ê°œì˜ ë¼ì´ë¸Œ í™œë™ì´ ìˆëŠ” ê²½ìš°, relevanceScoreëŠ” ë‹¤ì´ë‚˜ë¯¹ ì•„ì¼ëœë“œì— í‘œì‹œí•  ìš°ì„ ìˆœìœ„ì™€ ì ê¸ˆ í™”ë©´ì˜ ìˆœì„œë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</li>\n</ul>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ê·¸ëŸ¼ Activity ë©”ì„œë“œ request(attributes: content: pushType:)ë¥¼ í˜¸ì¶œí•˜ì—¬ ìƒˆë¡œìš´ ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆì–´ìš”.</p>\n<ul>\n<li>attributes: Step 1ì—ì„œ ìƒì„±í•œ ActivityAttributesì˜ ì¸ìŠ¤í„´ìŠ¤ì…ë‹ˆë‹¤.</li>\n<li>content: ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ì˜ ì´ˆê¸° ì½˜í…ì¸ ì…ë‹ˆë‹¤.</li>\n<li>pushType: ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ì˜ ì—…ë°ì´íŠ¸ê°€ ActivityKit í‘¸ì‹œ ì•Œë¦¼ì—ì„œ ì˜¬ ê²ƒì¸ì§€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì—…ë°ì´íŠ¸ ê¸°ëŠ¥ë§Œ ì‚¬ìš©í•  ê²½ìš°ì—ëŠ” nilì„ ì „ë‹¬í•  ìˆ˜ ìˆì–´ìš”.</li>\n</ul>\n<p>ğŸ“£ ì¤‘ìš”í•œ ì•Œë¦¼: ìƒˆë¡œìš´ Activityë¥¼ ìš”ì²­í•  ë•Œ ì•±ì€ í™œì„±í™” ìƒíƒœì—¬ì•¼ í•´ìš”.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">let</span> orderAttributes = <span class=\"hljs-title class_\">OrderAttributes</span>(<span class=\"hljs-attr\">orderNumber</span>: <span class=\"hljs-number\">1</span>)\n<span class=\"hljs-keyword\">let</span> initialState = <span class=\"hljs-title class_\">OrderAttributes</span>.<span class=\"hljs-title class_\">ContentState</span>(<span class=\"hljs-attr\">status</span>: .<span class=\"hljs-property\">inQueue</span>)\n<span class=\"hljs-keyword\">let</span> content = <span class=\"hljs-title class_\">ActivityContent</span>(<span class=\"hljs-attr\">state</span>: initialState, <span class=\"hljs-attr\">staleDate</span>: nil, <span class=\"hljs-attr\">relevanceScore</span>: <span class=\"hljs-number\">1.0</span>)\n\n<span class=\"hljs-keyword\">do</span> {\n    <span class=\"hljs-keyword\">let</span> orderActivity = <span class=\"hljs-keyword\">try</span> <span class=\"hljs-title class_\">Activity</span>.<span class=\"hljs-title function_\">request</span>(\n        <span class=\"hljs-attr\">attributes</span>: orderAttributes,\n        <span class=\"hljs-attr\">content</span>: content,\n        <span class=\"hljs-attr\">pushType</span>: nil\n    )\n} <span class=\"hljs-keyword\">catch</span> {\n    <span class=\"hljs-title function_\">print</span>(error.<span class=\"hljs-property\">localizedDescription</span>)\n}\n</code></pre>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h2>ë‹¨ê³„ 4 â€” ë¼ì´ë¸Œ í™œë™ ì—…ë°ì´íŠ¸</h2>\n<p>ë¼ì´ë¸Œ í™œë™ì„ ì—…ë°ì´íŠ¸í•˜ë ¤ë©´ update(_:) í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ˆê¸° ìƒíƒœë¥¼ ìƒì„±í•œ ê²ƒê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì—…ë°ì´íŠ¸ë¡œ ActivityContentë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">await</span> orderActivity?.<span class=\"hljs-title function_\">update</span>(\n    <span class=\"hljs-title class_\">ActivityContent</span>&#x3C;<span class=\"hljs-title class_\">OrderAttributes</span>.<span class=\"hljs-property\">ContentState</span>>(\n        <span class=\"hljs-attr\">state</span>: state,\n        <span class=\"hljs-attr\">staleDate</span>: nil\n    )\n)\n</code></pre>\n<p>ë¼ì´ë¸Œ í™œë™ì„ ì¢…ë£Œí•˜ë ¤ë©´ end(_:dismissalPolicy:) í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì‚¬ìš©í•˜ëŠ” ì¢…ë£Œ ì •ì±…ì— ë”°ë¼ ë¼ì´ë¸Œ í™œë™ì€ ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ ì œê±°í•  ë•Œê¹Œì§€ ì ê¸ˆ í™”ë©´ì— ë‚¨ê²Œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì´ ë§ˆì§€ë§‰ ë¼ì´ë¸Œ í™œë™ ìƒíƒœë¥¼ ì „ë‹¬í•˜ì—¬ UIë¥¼ í•­ìƒ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€í•´ì•¼í•˜ëŠ” ì´ìœ ì…ë‹ˆë‹¤.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ì‚¬ìš© ê°€ëŠ¥í•œ í•´ì œ ì •ì±… ì˜µì…˜ì€ ì„¸ ê°€ì§€ì…ë‹ˆë‹¤.</p>\n<ul>\n<li>default: ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ëŠ” ìµœëŒ€ 4ì‹œê°„ ë™ì•ˆ ì ê¸ˆ í™”ë©´ì— ìœ ì§€ë©ë‹ˆë‹¤. (ì‚¬ìš©ìê°€ ì œê±°í•  ë•Œê¹Œì§€)</li>\n<li>immediate: ìš´ì˜ ì²´ì œê°€ ì¦‰ì‹œ ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ë¥¼ ì œê±°í•©ë‹ˆë‹¤.</li>\n<li>after(_ date:): ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ë¥¼ í•´ì œí•  ë‚ ì§œë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹° ì¢…ë£Œ ì‹œê°„ìœ¼ë¡œë¶€í„° 4ì‹œê°„ ì´ë‚´ì—¬ì•¼ í•¨)</li>\n</ul>\n<h1>ë‹¤ìŒ ë‹¨ê³„ëŠ” ë¬´ì—‡ì¸ê°€ìš”?</h1>\n<p>ì•±ì˜ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ì‹ ì¤‘í•˜ê²Œ ê³ ë ¤í•´ë³´ì„¸ìš”. ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ëŠ” ë°°ì†¡ ì•±ì´ë‚˜ ìŠ¤í¬ì¸  ì´ë²¤íŠ¸ì™€ ê°™ì€ ì‹¤ì‹œê°„ ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹íˆ ì í•©í•˜ì§€ë§Œ, í‘¸ì‹œ ì•Œë¦¼ì— ëŒ€í•œ ë§¤ë ¥ì ì¸ ëŒ€ì•ˆìœ¼ë¡œë„ ì‚¬ìš©ë  ìˆ˜ ìˆì–´ ì‚¬ìš©ìì—ê²Œ ë” ë§¤ë ¥ì ì¸ ê²½í—˜ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ë” í’ë¶€í•œ ì‚¬ìš©ì ê²½í—˜ì„ ìœ„í•´ ë¼ì´ë¸Œ í™œë™ì— ë”¥ ë§í¬ë¥¼ í†µí•©í•˜ì—¬ ì‚¬ìš©ìê°€ ë¼ì´ë¸Œ í™œë™ì„ íƒ­í•  ë•Œ ì—°ê²°ì´ ì›í™œí•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ë©”ì‹œì§€ ë‚¨ê²¨ì£¼ì„¸ìš”! ğŸ™‚</p>\n<ul>\n<li>ğŸ¤“ iOS ê°œë°œ íŒê³¼ í†µì°°ì„ ì •ê¸°ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” ì œ íŠ¸ìœ„í„°ì— ì°¸ì—¬í•´ë³´ì„¸ìš”.</li>\n<li>ğŸš€ ë‚˜ì˜ ì˜ˆì œ í”„ë¡œì íŠ¸ë¥¼ ëª¨ë‘ ê³µìœ í•˜ëŠ” GitHubë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.</li>\n</ul>\n</body>\n</html>\n"},"__N_SSG":true}