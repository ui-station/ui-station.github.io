{"pageProps":{"post":{"title":"Grafana Alloy OpenTelemetry","description":"","date":"2024-05-27 17:29","slug":"2024-05-27-GrafanaAlloyOpenTelemetry","content":"\n## Alloyì— ì¸ì‚¬ë¥¼ ì „í•´ë³´ì„¸ìš”\n\n## ì†Œê°œ\n\nGrafana ì—ì´ì „íŠ¸ê°€ ìµœê·¼ì— Alloyë¡œ ì „í™˜ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ ê²Œì‹œë¬¼ì—ì„œëŠ” ì´ì— ëŒ€í•´ ì•ˆë‚´í•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ì˜ˆì‹œëŠ” ì—ì´ì „íŠ¸ì—ì„œ ë²¤ë”ì˜ ë°±ì—”ë“œë¡œ ì§ì ‘ í…”ë ˆë¯¸í„° ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ” ê²ƒì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ OpenTelemetryëŠ” Collectorë¼ëŠ” í¥ë¯¸ë¡œìš´ êµ¬ì„± ìš”ì†Œë¥¼ ì†Œê°œí–ˆìŠµë‹ˆë‹¤.\n\nOpenTelemetry Collectorë¥¼ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ìëŠ” ë°ì´í„°ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì œì–´í•˜ì—¬ ë³€í˜•, ë³´ì™„ ë° ë²¤ë” ì¤‘ë¦½ì ì¸ ëŒ€ìƒ ê²°ì •ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì €ë²ˆ í¬ìŠ¤íŠ¸ì¸ \"OpenTelemetry as a Service\"ë¥¼ ì°¸ê³ í•´ë³´ì„¸ìš”. ê·¸ê³³ì—ì„œ ì¤‘ì•™ OpenTelemetry ìˆ˜ì§‘ê¸°(ê²Œì´íŠ¸ì›¨ì´)ë¥¼ ì„¤ì •í•˜ëŠ” ë” ë§ì€ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## Grafana Alloyê°€ ë¬´ì—‡ì´ë©°, ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?\n\nGrafana AlloyëŠ” OpenTelemetry (OTEL) ì—ì´ì „íŠ¸ë¡œ ì‘ë™í•˜ì—¬ ë‹¤ì–‘í•œ ì†ŒìŠ¤ì—ì„œ í…”ë ˆë©”íŠ¸ë¦¬ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³  ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œìœ¼ë¡œ ì „ì†¡í•˜ì—¬ ë¶„ì„ ë° ì‹œê°í™”í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.\n\nAlloyëŠ” OpenTelemetry ìˆ˜ì§‘ê¸°ë‚˜ Grafana ì—ì´ì „íŠ¸ì™€ ê°™ì€ ë°ì´í„° ìˆ˜ì§‘ êµ¬ì„± ìš”ì†Œë¥¼ ëŒ€ì²´í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ Mimir, Tempo, ë˜ëŠ” Lokiì™€ ê°™ì€ ë„êµ¬ë¥¼ ëŒ€ì²´í•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì˜ˆë¥¼ ë“¤ì–´, Grafanaì—ì„œ ë¡œê·¸, ë©”íŠ¸ë¦­ ë° ì¶”ì  ë°ì´í„°ë¥¼ ì†Œí™”í•˜ê³  í‘œì‹œí•˜ë ¤ëŠ” ê²½ìš°, Loki, Mimir ë° Tempoë¥¼ ë°ì´í„° ì›ë³¸ìœ¼ë¡œ ì„¤ì •í•˜ê³  Alloyë¥¼ ë°°í¬í•˜ì—¬ ë°ì´í„°ë¥¼ ìŠ¤í¬ë©í•˜ê³  ì „ì†¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ ë°©ë²•ì„ í†µí•´ í•œ êµ¬ì„± ìš”ì†Œë¡œ ì—¬ëŸ¬ ëª©ì ì„ ìœ„í•œ ì†Œí™”ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ AlloyëŠ” ë‹¤ì–‘í•œ ëª¨ë‹ˆí„°ë§ ìš”êµ¬ ì‚¬í•­ì„ ì¶©ì¡±í•  ìˆ˜ ìˆëŠ” ë‹¤ì¬ë‹¤ëŠ¥í•œ ë„êµ¬ê°€ ë©ë‹ˆë‹¤.\n\n## Grafana Alloyì˜ Walkthrough\n\n## Prerequisites\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì‹œì‘í•˜ê¸° ì „ì— Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ ì„¤ì •í•´ ë‘ì„¸ìš”. ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ ìƒˆë¡œìš´ ë¡œì»¬ Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”: kind create cluster\n\nê·¸ë¦¬ê³  ë¬´ë£Œ Grafana Cloud ê³„ì •ì´ í•„ìš”í•´ìš”. Grafana CloudëŠ” Grafana, Mimir, Loki, Tempoì™€ ê°™ì€ ì˜¤í”ˆ ì†ŒìŠ¤ í”„ë¡œì íŠ¸ë¡œ êµ¬ì¶•ëœ ì™„ì „íˆ ê´€ë¦¬ë˜ëŠ” í´ë¼ìš°ë“œ ê´€ì¸¡ì„± í”Œë«í¼ì´ì—ìš”. ì•„ì§ ê°€ì…í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ë¬´ë£Œ ê³„ì •ìœ¼ë¡œ ê°€ì…í•˜ì„¸ìš”. ì—¬ê¸°ì„œ í•  ì‘ì—…ì— ëŒ€í•´ ì¶©ë¶„íˆ ì œê³µí•´ ì¤„ ê±°ì—ìš”.\n\ní•„ìš”í•œ ì €ì¥ì†Œë¥¼ ì¶”ê°€í•˜ì„¸ìš”:\n\n```js\nhelm repo add grafana https://grafana.github.io/helm-charts\nhelm repo update\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## í™˜ê²½ ì„¤ì • ì„¤ì •\n\nGrafana Alloyë¥¼ Grafana Cloudì—ì„œ Kubernetes í´ëŸ¬ìŠ¤í„°ì— êµ¬ì„±í•˜ëŠ” ë‘ ê°€ì§€ ëŒ€ì•ˆì´ ìˆìŠµë‹ˆë‹¤. ê°„ë‹¨í•œ ë°©ë²•ë¶€í„° ì‹œì‘í•˜ì—¬ ë‘˜ ë‹¤ ìì„¸íˆ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.\n\n## ëŒ€ì•ˆ 1 (ê°€ì¥ ì‰¬ìš´ ë°©ë²•)\n\nGrafana Cloudì—ì„œ Kubernetes í´ëŸ¬ìŠ¤í„°ìš© Grafana Alloyë¥¼ êµ¬ì„±í•˜ë ¤ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¼ì£¼ì‹­ì‹œì˜¤:\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n- Grafana Cloudì—ì„œ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ `Kubernetes` êµ¬ì„±ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.\n- í™œì„±í™”í•˜ë ¤ëŠ” ê¸°ëŠ¥ì„ ì„ íƒí•©ë‹ˆë‹¤.\n\n- ë©”íŠ¸ë¦­: ì´ ì˜µì…˜ì€ Kubernetes í´ëŸ¬ìŠ¤í„° ì¸í”„ë¼ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•˜ì—¬ Grafana Cloud Prometheusë¡œ ì „ì†¡í•©ë‹ˆë‹¤.\n- ë¹„ìš© ë©”íŠ¸ë¦­: ë¹„ìš© ë©”íŠ¸ë¦­ì„ ìŠ¤í¬ë©í•˜ê³  Grafana Cloud Prometheusë¡œ ì „ì†¡í•˜ë ¤ë©´ ì´ ê¸°ëŠ¥ì„ í™œì„±í™”í•˜ì„¸ìš”.\n- í´ëŸ¬ìŠ¤í„° ì´ë²¤íŠ¸: Kubernetes í´ëŸ¬ìŠ¤í„° ì´ë²¤íŠ¸ë¥¼ ìº¡ì²˜í•˜ì—¬ Grafana Cloud Lokië¡œ ì „ì†¡í•©ë‹ˆë‹¤.\n- Pod ë¡œê·¸: Pod ë¡œê·¸ë¥¼ ìº¡ì²˜í•˜ê³  Grafana Cloud Lokië¡œ ì „ì†¡í•©ë‹ˆë‹¤.\n- OTLP ìˆ˜ì‹ ê¸°: Grafana Alloyë¥¼ êµ¬ì„±í•˜ì—¬ OTLP/gRPC ë° OTLP/HTTPë¥¼ í†µí•´ OpenTelemetry ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•©ë‹ˆë‹¤.\n\n3. êµ¬ì„± í”„ë¡œì„¸ìŠ¤ë¥¼ ê³„ì†í•©ë‹ˆë‹¤.\n\nê·¸ëŸ¬ë‚˜ ë°ì´í„°ë¥¼ ë³„ë„ì˜ OpenTelemetry Collectorë¡œ ì „ì†¡í•˜ë ¤ë©´ ëŒ€ì²´ 2ë¥¼ ê³„ì†í•˜ì„¸ìš”.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## ëŒ€ì•ˆ 2 (ê¶Œì¥í•˜ëŠ” ë°©ë²•)\n\nì´ ë°©ë²•ì€ êµ¬ì„± í”„ë¡œì„¸ìŠ¤ì— ëŒ€í•œ ë” ë§ì€ ìœ ì—°ì„±ê³¼ ì œì–´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n\n- ë¨¼ì € í—¬ë¦„ ê°’ íŒŒì¼ì„ ì¤€ë¹„í•˜ì„¸ìš”.\n- ìš”êµ¬ ì‚¬í•­ì— ë”°ë¼ í—¬ë¦„ ê°’ íŒŒì¼ì„ êµ¬ì„±í•˜ê³ , 'OTLP endpoint', 'your_endpoint', 'my_username', 'my_secret_password'ë¥¼ ì‹¤ì œ ê°’ìœ¼ë¡œ êµì²´í•´ì•¼ í•©ë‹ˆë‹¤. ë˜í•œ, OTLPë¥¼ HTTPë¥¼ í†µí•´ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì„œë²„ í”„ë¡œí† ì½œì´ otlphttpë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.\n\n```js\nhost: <OTLP ì—”ë“œí¬ì¸íŠ¸>\nwriteEndpoint: /<your_endpoint>\nprotocol: otlphttp\nbasicAuth:\n  username: <my_username>\n  password: <my_secret_password>\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n3. ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— Helm ì°¨íŠ¸ë¥¼ ë°°í¬í•˜ì„¸ìš”.\n\n```js\nhelm repo add grafana https://grafana.github.io/helm-charts &&\n  helm repo update &&\n  helm upgrade --install --atomic --timeout 300s grafana-k8s-monitoring grafana/k8s-monitoring \\\n    --namespace \"default\" --create-namespace --values - <<EOF\n```\n\n## ë°°í¬ ê²€ì¦\n\nkubectl get all -n defaultì„ ì‚¬ìš©í•˜ì—¬ ë°°í¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì´ë£¨ì–´ì¡ŒëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n```yaml\nPODS\n\nNAME                                                        READY   STATUS    RESTARTS   AGE\ngrafana-k8s-monitoring-alloy-0                              2/2     Running   0          7m29s\ngrafana-k8s-monitoring-alloy-events-6fc5d58d6f-k4fz9        2/2     Running   0          7m29s\ngrafana-k8s-monitoring-alloy-logs-x4chm                     2/2     Running   0          7m29s\ngrafana-k8s-monitoring-kube-state-metrics-f995ccbbc-7gdkh   1/1     Running   0          7m29s\ngrafana-k8s-monitoring-opencost-6659b44b6f-dn8ck            1/1     Running   0          7m29s\ngrafana-k8s-monitoring-prometheus-node-exporter-g2ddm       1/1     Running   0          7m29s\n\nDEPLOYMENT\nNAME                                        READY   UP-TO-DATE   AVAILABLE   AGE\ngrafana-k8s-monitoring-alloy-events         1/1     1            1           7m46s\ngrafana-k8s-monitoring-kube-state-metrics   1/1     1            1           7m46s\ngrafana-k8s-monitoring-opencost             1/1     1            1           7m46s\n\nSERVICES\nNAME                                              TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                                                                               AGE\ngrafana-k8s-monitoring-alloy                      ClusterIP   10.96.55.19     <none>        12345/TCP,4317/TCP,4318/TCP,9999/TCP,14250/TCP,6832/TCP,6831/TCP,14268/TCP,9411/TCP   8m7s\ngrafana-k8s-monitoring-alloy-cluster              ClusterIP   None            <none>        12345/TCP,4317/TCP,4318/TCP,9999/TCP,14250/TCP,6832/TCP,6831/TCP,14268/TCP,9411/TCP   8m7s\ngrafana-k8s-monitoring-alloy-events               ClusterIP   10.96.222.205   <none>        12345/TCP                                                                             8m7s\ngrafana-k8s-monitoring-alloy-logs                 ClusterIP   10.96.68.158    <none>        12345/TCP                                                                             8m7s\ngrafana-k8s-monitoring-grafana-agent              ClusterIP   10.96.207.204   <none>        12345/TCP,4317/TCP,4318/TCP,9999/TCP,14250/TCP,6832/TCP,6831/TCP,14268/TCP,9411/TCP   8m7s\ngrafana-k8s-monitoring-kube-state-metrics         ClusterIP   10.96.168.190   <none>        8080/TCP                                                                              8m7s\ngrafana-k8s-monitoring-opencost                   ClusterIP   10.96.55.101    <none>        9003/TCP                                                                              8m7s\ngrafana-k8s-monitoring-prometheus-node-exporter   ClusterIP   10.96.162.70    <none>        9100/TCP\n\nDAEMONSET\nNAME                                              DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR            AGE\ngrafana-k8s-monitoring-alloy-logs                 1         1         1       1            1           kubernetes.io/os=linux   8m52s\ngrafana-k8s-monitoring-prometheus-node-exporter   1         1         1       1            1           kubernetes.io/os=linux   8m52s\n\nCONFIGMAPS\nNAME                                  DATA   AGE\ngrafana-k8s-monitoring-alloy          1      9m4s\ngrafana-k8s-monitoring-alloy-events   1      9m4s\ngrafana-k8s-monitoring-alloy-logs     1      9m4s\nkube-root-ca.crt                      1      121m\nkubernetes-monitoring-telemetry       1      9m4s\n```\n\n## Inspecting Grafana Alloy\n\nTo inspect the Grafana Alloy configuration, run:\n\n```yaml\nkubectl get cm grafana-k8s-monitoring-alloy -o yaml\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì—¬ê¸°ì—ì„œ OpenTelemetry Collector ë‚´ì—ì„œ ì‚¬ìš©ë˜ëŠ” ìˆ˜ì‹ ê¸°, í”„ë¡œì„¸ì„œ, ì»¤ë„¥í„° ë° ìµìŠ¤í¬í„° êµ¬ì„± ì„¸ë¶€ ì •ë³´ë¥¼ ì‚´í´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## ë°œê²¬\n\nGrafana Alloyê°€ ë¨¼ì € ë‹¤ì–‘í•œ Kubernetes ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ Kubernetes ë°œê²¬ ì„¤ì •ì„ ì„¤ì •í•©ë‹ˆë‹¤. ë…¸ë“œ, ì„œë¹„ìŠ¤, ì—”ë“œí¬ì¸íŠ¸ ë° íŒŒë“œì™€ ê°™ì€ Kubernetes ë¦¬ì†ŒìŠ¤ë¥¼ ì‹œê°í™”, ëª¨ë‹ˆí„°ë§ ë° ë¶„ì„ì— í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\n     discovery.kubernetes \"nodes\" {\n       role = \"node\"\n     }\n\n     discovery.kubernetes \"services\" {\n       role = \"service\"\n     }\n\n     discovery.kubernetes \"endpoints\" {\n       role = \"endpoints\"\n     }\n\n     discovery.kubernetes \"pods\" {\n       role = \"pod\"\n     }\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## OTLP ìˆ˜ì‹ ê¸°\n\nìˆ˜ì‹ ê¸°ëŠ” gRPC ë° HTTPë¥¼ í†µí•´ OpenTelemetry í”„ë¡œí† ì½œ (OTLP)ì„ ì‚¬ìš©í•˜ì—¬ í…”ë ˆë¯¸í„° ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ë„ë¡ ì„¤ì •ë©ë‹ˆë‹¤.\n\n```js\n     // OTLP Receivers\n     otelcol.receiver.otlp \"receiver\" {\n       debug_metrics {\n         disable_high_cardinality_metrics = true\n       }\n\n       grpc {\n         endpoint = \"0.0.0.0:4317\"\n       }\n\n       http {\n         endpoint = \"0.0.0.0:4318\"\n       }\n       output {\n         metrics = [otelcol.processor.resourcedetection.default.input]\n         logs = [otelcol.processor.resourcedetection.default.input]\n         traces = [otelcol.processor.resourcedetection.default.input]\n       }\n     }\n```\n\noutput ë¸”ë¡ì€ ë©”íŠ¸ë¦­, ë¡œê·¸ ë° ì¶”ì ì´ otelcol.processor.resourcedetection.default.inputì´ë¼ëŠ” í”„ë¡œì„¸ì„œë¡œ ì „ì†¡ë˜ì–´ì•¼ í•¨ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## ì²˜ë¦¬ê¸°\n\nì²˜ë¦¬ê¸°ëŠ” í…”ë ˆë©”íŠ¸ë¦¬ ë°ì´í„°ë¥¼ ë³€í™˜í•˜ê³  í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ëª¨ë‹ˆí„°ë§ ì¸í”„ë¼ì˜ ê°€ì‹œì„±ì„ í–¥ìƒì‹œí‚¤ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì²˜ë¦¬ê¸°ëŠ” OpenTelemetry Collector ë‚´ì—ì„œ í…”ë ˆë©”íŠ¸ë¦¬ ë°ì´í„°ë¥¼ ë³€í™˜, ê°ì§€, ì¶”ì¶œ ë° í•„í„°ë§í•˜ëŠ” ë° ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ë˜ê³  ìˆëŠ” ì²˜ë¦¬ê¸°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n```js\notelcol.processor.transform         # ì†ì„±ì„ ì¶”ê°€í•˜ì—¬ ë©”íŠ¸ë¦­ ë°ì´í„°ë¥¼ ë³€í™˜í•©ë‹ˆë‹¤.\notelcol.processor.resourcedetection # í™˜ê²½ì—ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ ê°ì§€í•©ë‹ˆë‹¤.\notelcol.processor.k8sattributes     # Kubernetes ê´€ë ¨ ë©”íƒ€ë°ì´í„°ë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤.\notelcol.connector.host_info         # í˜¸ìŠ¤íŠ¸ ì •ë³´ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.\notelcol.processor.batch             # ë°ì´í„° ì²˜ë¦¬ë¥¼ ì¼ê´„ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.\notelcol.processor.filter            # ë°ì´í„°ë¥¼ í•„í„°ë§í•©ë‹ˆë‹¤.\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## Exporters\n\nìˆ˜ì¶œê¸°ëŠ” ì™¸ë¶€ ì‹œìŠ¤í…œìœ¼ë¡œ í…”ë ˆë©”íŠ¸ë¦¬ ë°ì´í„°ë¥¼ ë‚´ë³´ë‚´ê¸° ìœ„í•´ ì •ì˜ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë©”íŠ¸ë¦­ì„ í”„ë¡œë©”í…Œìš°ìŠ¤ë¡œ ë‚´ë³´ë‚´ê¸°, ë¡œê·¸ë¥¼ ë¡œí‚¤ë¡œ ë‚´ë³´ë‚´ê¸°, ê·¸ë¦¬ê³  Tempoë¡œ ì¶”ì ì„ ë‚´ë³´ë‚´ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.\n\n## ì£¼ì„ ìë™ íƒì§€\n\nì£¼ì„ì„ ê¸°ë°˜ìœ¼ë¡œ ë™ì ìœ¼ë¡œ í¬ë“œ ë° ì„œë¹„ìŠ¤ì—ì„œ ë©”íŠ¸ë¦­ì„ ë°œê²¬í•˜ê³  ìŠ¤í¬ë©í•˜ê¸° ìœ„í•´ ê·œì¹™ì´ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## ìŠ¤í¬ë˜í•‘ êµ¬ì„±\n\nêµ¬ì„±ì€ Kubernetes, cAdvisor, Kubelet ë° Node Exporterì™€ ê°™ì€ ë‹¤ì–‘í•œ êµ¬ì„± ìš”ì†Œì—ì„œ ë©”íŠ¸ë¦­ì„ ìŠ¤í¬ë©í•˜ëŠ” ë° ì„¤ì •ë©ë‹ˆë‹¤.\n\n## ë¼ë²¨ ì¬ì„¤ì •\n\nê·œì¹™ì€ ë©”íŠ¸ë¦­ ë° ë¡œê·¸ì— ë¶€ì°©ëœ ë ˆì´ë¸”ì„ ìˆ˜ì •í•˜ê¸° ìœ„í•´ ì •ì˜ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë ˆì´ë¸” ì´ë¦„ ë°”ê¾¸ê¸°, ë¶ˆí•„ìš”í•œ ë ˆì´ë¸” ì‚­ì œ ë° íŠ¹ì • ë©”íŠ¸ë¦­ í•„í„°ë§ ë“±ì´ í¬í•¨ë©ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## ì¸ì¦\n\nê¸°ë³¸ ì¸ì¦ì€ ìˆ˜ì¶œ ì—…ì²´ ë° í•„ìš”í•œ ë‹¤ë¥¸ êµ¬ì„± ìš”ì†Œì— êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\nêµ¬ì„± íŒŒì¼ì„ ì´í•´í•˜ê¸° ìœ„í•´ êµ¬ì„± ë§µì„ í™•ì¸í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤. ì´ëŠ” ì™„ì „í•œ ì„¸ë¶€ ì •ë³´ì™€ êµ¬ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.\n\nìš”êµ¬ ì‚¬í•­ì— ë§ê²Œ Grafana Alloy ì„¤ì •ì„ ê²€í† í•˜ê³  êµ¬ì„±í•œ í›„ UIë¡œ ëŒì•„ê°€ì„œ ëª¨ë“  ê²ƒì´ ì˜ˆìƒëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n<img src=\"/assets/img/2024-05-27-GrafanaAlloyOpenTelemetry_0.png\" />\n\n## ëª¨ë‹ˆí„°ë§ ì»´í¬ë„ŒíŠ¸ íƒìƒ‰\n\n## í´ëŸ¬ìŠ¤í„° íƒìƒ‰\n\nGrafanaì—ì„œ ì œê³µí•˜ëŠ” ê¸°ë³¸ í´ëŸ¬ìŠ¤í„° íƒìƒ‰ ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ Kubernetes í´ëŸ¬ìŠ¤í„°ì— ëŒ€í•œ ìœ ìš©í•œ í†µì°°ì„ ì–»ì–´ë³´ì„¸ìš”.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n![GrafanaAlloyOpenTelemetry_1](/assets/img/2024-05-27-GrafanaAlloyOpenTelemetry_1.png)\n![GrafanaAlloyOpenTelemetry_2](/assets/img/2024-05-27-GrafanaAlloyOpenTelemetry_2.png)\n![GrafanaAlloyOpenTelemetry_3](/assets/img/2024-05-27-GrafanaAlloyOpenTelemetry_3.png)\n![GrafanaAlloyOpenTelemetry_4](/assets/img/2024-05-27-GrafanaAlloyOpenTelemetry_4.png)\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## ë¹„ìš© ëª¨ë‹ˆí„°ë§\n\nGrafanaì˜ ë¹„ìš© ê°œìš” í˜ì´ì§€ë¥¼ í™œìš©í•˜ì—¬ í´ë¼ìš°ë“œ ë¹„ìš©ì„ ëª¨ë‹ˆí„°ë§í•˜ì„¸ìš”. íš¨ìœ¨ì ì¸ ìì› ê´€ë¦¬ì— ì¤‘ìš”í•©ë‹ˆë‹¤.\n\n## ì•Œë¦¼\n\nì¤‘ìš”í•œ ì´ë²¤íŠ¸ì— ëŒ€í•œ ì˜ˆë°©ì ì¸ ëª¨ë‹ˆí„°ë§ê³¼ ì¦‰ê°ì ì¸ ëŒ€ì‘ì„ ìœ„í•´ ê²½ë³´ ê·œì¹™ ë° ê¸°ë¡ ê·œì¹™ì„ ì„¤ì •í•˜ì„¸ìš”.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## Cardinality\n\nì´ ê²Œì‹œë¬¼ì€ ì¹´ë””ë„ë¦¬í‹°ì— ì§‘ì¤‘í•œ ê²ƒì€ ì•„ë‹ˆì§€ë§Œ, ì¤‘ìš”í•œ ë¶€ë¶„ì´ê¸° ë•Œë¬¸ì— ì–¸ê¸‰í•´ì•¼ í•©ë‹ˆë‹¤. ì¹´ë””ë„ë¦¬í‹°ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ë©´ ë°ì´í„°ì˜ ê³ ìœ ì„±ì„ ì´í•´í•  ìˆ˜ ìˆì–´ ì„±ëŠ¥ ë° ìì› ì´ìš©ì„ ìµœì í™”í•˜ëŠ” ë° ì¤‘ìš”í•©ë‹ˆë‹¤. ê³ ì¹´ë””ë„ë¦¬í‹°ëŠ” ë§ì€ ê³ ìœ ê°’ì„ ê°€ì§„ ë°ì´í„° ì„¸íŠ¸ë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤.\n\nGrafana Cloudì˜ ì ì‘í˜• ë©”íŠ¸ë¦­ì„ ì‚¬ìš©í•˜ì—¬ ì¦ê°€í•œ ì¹´ë””ë„ë¦¬í‹° ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-27-GrafanaAlloyOpenTelemetry_5.png)\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## ì• í”Œë¦¬ì¼€ì´ì…˜ ê¸°ê¸° ì„¤ì •\n\nì´ì œ ìš°ë¦¬ëŠ” ìš°ë¦¬ ì• í”Œë¦¬ì¼€ì´ì…˜ë“¤ì—ê²Œ Grafana Alloyë¡œ í…”ë ˆë¯¸í„° ë°ì´í„°ë¥¼ ë³´ë‚´ë„ë¡ ì§€ì‹œí•´ì•¼ í•©ë‹ˆë‹¤. http://grafana-k8s-monitoring-grafana-agent.default.svc.cluster.local:4318\n\në§ì•„ìš”, ì´ ë¡œì»¬ OpenTelemetry ì—ì´ì „íŠ¸ëŠ” í´ëŸ¬ìŠ¤í„°ì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œë¶€í„° ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ëŠ” ì¤‘ê°œì ì—­í• ì„ í•©ë‹ˆë‹¤.\n\n## ë©”íŠ¸ë¦­ê³¼ ë¡œê·¸\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì´ì œ ìš°ë¦¬ì˜ ë©”íŠ¸ë¦­ê³¼ ë¡œê·¸ê°€ Kubernetes í´ëŸ¬ìŠ¤í„°ì—ì„œ Grafana Alloyë¡œ í˜ëŸ¬ë“¤ì–´ê°€ê³ , ì¤‘ì•™ OpenTelemetry Collectorë¥¼ ê±°ì³ Grafana Cloudì—ì„œ ì‹œê°í™”ë©ë‹ˆë‹¤.\n\nì´ ë°ì´í„°ì— ì•¡ì„¸ìŠ¤í•˜ëŠ” ê²ƒì€ ì‰½ìŠµë‹ˆë‹¤. í´ëŸ¬ìŠ¤í„° ë‚´ë¹„ê²Œì´ì…˜ì„ í†µí•´ ì´ë™í•˜ê±°ë‚˜ Explore ë„êµ¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì œ ê°œì¸ì ìœ¼ë¡œëŠ” ë‹¤ì–‘í•œ ì†ŒìŠ¤ì—ì„œ í…”ë ˆë©”íŠ¸ë¦¬ ë°ì´í„°ë¥¼ íƒìƒ‰í•  ìˆ˜ ìˆëŠ” Explore ë„êµ¬ë¥¼ ì„ í˜¸í•©ë‹ˆë‹¤. ì´ ê°•ë ¥í•œ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ë©´ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ê³  í•„í„° ë° ë³€í™˜ì„ ì ìš©í•˜ë©° ê°€ì¹˜ ìˆëŠ” í†µì°°ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì¶”ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## ì¶”ì \n\nê·¸ë ‡ë‹¤ë©´ ì¶”ì ì€ ì–´ë–¨ê¹Œìš”? ì¶”ì ì€ ì‚¬ìš©ì ìš”ì²­ì´ ì‘ìš© í”„ë¡œê·¸ë¨ì„ í†µí•´ ì´ë™í•˜ëŠ” ê³¼ì •ì— ëŒ€í•œ ì¤‘ìš”í•œ í†µì°°ì„ ì œê³µí•©ë‹ˆë‹¤. ì¶”ì ì„ í™œìš©í•˜ë ¤ë©´ ë°ì´í„°ë¥¼ Grafana Alloyë¡œ ë³´ë‚´ë„ë¡ ì„¤ì •ëœ ê³„ê¸°ê°€ ì„¤ì¹˜ëœ ì‘ìš© í”„ë¡œê·¸ë¨ì´ í•„ìš”í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ì‘ìš© í”„ë¡œê·¸ë¨ì´ ë‹¤ìŒ ì£¼ì†Œ ì¤‘ í•˜ë‚˜ë¡œ ë°ì´í„°ë¥¼ ë³´ë‚´ë„ë¡ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤:\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n- OTLP/gRPC ì—”ë“œí¬ì¸íŠ¸: http://grafana-k8s-monitoring-grafana-agent.default.svc.cluster.local:4317\n- OTLP/HTTP ì—”ë“œí¬ì¸íŠ¸: http://grafana-k8s-monitoring-grafana-agent.default.svc.cluster.local:4318\n\nSpring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ë‹¤ìŒ ì£¼ì†Œë¥¼ OTEL_EXPORTER_OTLP_ENDPOINT í™˜ê²½ ë³€ìˆ˜ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\n- name: OTEL_EXPORTER_OTLP_ENDPOINT\n  value: http://grafana-k8s-monitoring-grafana-agent.default.svc.cluster.local:4317\n```\n\në˜í•œ springboot-serviceì— OTEL_SERVICE_NAME ë³€ìˆ˜ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n```yaml\n- name: OTEL_SERVICE_NAME\n  value: springboot-service\n```\n\nì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë°°í¬ë˜ê³  ë°ì´í„°ë¥¼ ìƒì„±í•˜ë©´ Explore ë„êµ¬ì—ì„œ ì¶”ì ì„ ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## Tempoì—ì„œ ì¶”ì  íƒìƒ‰\n\nTempoë¡œ ì¶”ì ì„ íƒìƒ‰í•´ ë´…ì‹œë‹¤. TempoëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ ë¶„ì‚° ì¶”ì  ì‹œìŠ¤í…œìœ¼ë¡œ, ë¶„ì‚° ì‹œìŠ¤í…œ ê°„ ìš”ì²­ íë¦„ì— ëŒ€í•œ ê°€ì‹œì„±ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\në¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ì¶”ì (trace)ì€ ë‹¨ì¼ ì‚¬ìš©ì ìš”ì²­ì´ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ë¥¼ ê±°ì³ ì´ë™í•˜ëŠ” ì—¬ì •ì„ ë‚˜íƒ€ë‚´ëŠ” ë°ì´í„° ì§‘í•©ì…ë‹ˆë‹¤. ì´ ì—¬ì •ì˜ ê° ë‹¨ê³„ë¥¼ ìŠ¤íŒ¬(span)ì´ë¼ê³  í•˜ë©°, ì„œë¹„ìŠ¤ ì´ë¦„, ìˆ˜í–‰ëœ ì‘ì—…, ì†Œìš”ëœ ì‹œê°„ ë“±ì˜ ì •ë³´ê°€ í¬í•¨ë©ë‹ˆë‹¤. ì¶”ì  ë° ìŠ¤íŒ¬ì„ í†µí•´ ê°œë°œìëŠ” ë³µì¡í•˜ê³  ì—°ê²°ëœ í™˜ê²½ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ ë° ë™ì‘ì„ ì´í•´í•˜ëŠ” ë° ë„ì›€ì„ ë°›ìŠµë‹ˆë‹¤.\n\nExplore ë„êµ¬ì—ì„œ grafanacloud-`name`-traces ë°ì´í„° ì†ŒìŠ¤ë¥¼ ì„ íƒí•©ë‹ˆë‹¤. ì„œë¹„ìŠ¤ ì´ë¦„ ë“œë¡­ë‹¤ìš´ ëª©ë¡ì—ì„œ ì„œë¹„ìŠ¤ë¥¼ ì„ íƒí•˜ê³ (ì˜ˆ: springboot-service), ì¶”ì ì„ ì°¾ì•„ë´…ë‹ˆë‹¤. ìì„¸í•œ í†µì°°ì„ ì–»ìœ¼ë ¤ë©´ ì–´ë–¤ ì¶”ì ì´ë“  í´ë¦­í•˜ì„¸ìš”.\n\n<img src=\"/assets/img/2024-05-27-GrafanaAlloyOpenTelemetry_6.png\" />\n\nìì„¸í•œ í†µì°°ì„ ì–»ìœ¼ë ¤ë©´ ì–´ë–¤ ì¶”ì ì´ë“  í´ë¦­í•˜ì„¸ìš”.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-27-GrafanaAlloyOpenTelemetry_7.png)\n\nì €í¬ëŠ” ì„œë¹„ìŠ¤, ì‘ìš© í”„ë¡œê·¸ë¨ ë° ì¸í”„ë¼ì— ëŒ€í•œ íƒì›”í•œ ê´€ì¸¡ì„±ì„ ìœ„í•´ ìŠ¤ìŠ¤ë¡œë¥¼ ì„±ê³µì ìœ¼ë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë” ë§ì€ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤! ë‹¤ìŒ í¬ìŠ¤íŠ¸ì—ì„œ ëª¨ë“  ê´€ì¸¡ì„± ìš”êµ¬ ì‚¬í•­ì„ ì¶©ì¡±ì‹œí‚¤ëŠ” ë˜ ë‹¤ë¥¸ Grafana ì œí’ˆì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ê´€ì¸¡ì„±ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. ê³„ì† ì£¼ì‹œí•´ ì£¼ì„¸ìš”! ğŸ˜Š\n\n## ê²°ë¡ \n\nì´ ë‹¨ê³„ë¥¼ ë”°ë¥´ë©´ ì˜¤í”ˆí…”ë ˆë¯¸íŠ¸ë¦¬ì˜ ê°•ë ¥í•¨ì„ í™œìš©í•˜ì—¬ Kubernetes í´ëŸ¬ìŠ¤í„°ì— Grafana Alloyë¥¼ ì„±ê³µì ìœ¼ë¡œ ë°°í¬í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\në§Œì•½ ì´ ë‚´ìš©ì´ ë„ì›€ì´ ë˜ì—ˆë‹¤ë©´ ğŸ‘ ë²„íŠ¼ì„ í´ë¦­í•˜ì‹œê³  ì œ í”„ë¡œí•„ì„ íŒ”ë¡œìš°í•´ì£¼ì„¸ìš”. ë” ë§ì€ ê¸°ì‚¬ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!\n","ogImage":{"url":"/assets/img/2024-05-27-GrafanaAlloyOpenTelemetry_0.png"},"coverImage":"/assets/img/2024-05-27-GrafanaAlloyOpenTelemetry_0.png","tag":["Tech"],"readingTime":19},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<h2>Alloyì— ì¸ì‚¬ë¥¼ ì „í•´ë³´ì„¸ìš”</h2>\n<h2>ì†Œê°œ</h2>\n<p>Grafana ì—ì´ì „íŠ¸ê°€ ìµœê·¼ì— Alloyë¡œ ì „í™˜ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ ê²Œì‹œë¬¼ì—ì„œëŠ” ì´ì— ëŒ€í•´ ì•ˆë‚´í•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ì˜ˆì‹œëŠ” ì—ì´ì „íŠ¸ì—ì„œ ë²¤ë”ì˜ ë°±ì—”ë“œë¡œ ì§ì ‘ í…”ë ˆë¯¸í„° ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ” ê²ƒì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ OpenTelemetryëŠ” Collectorë¼ëŠ” í¥ë¯¸ë¡œìš´ êµ¬ì„± ìš”ì†Œë¥¼ ì†Œê°œí–ˆìŠµë‹ˆë‹¤.</p>\n<p>OpenTelemetry Collectorë¥¼ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ìëŠ” ë°ì´í„°ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì œì–´í•˜ì—¬ ë³€í˜•, ë³´ì™„ ë° ë²¤ë” ì¤‘ë¦½ì ì¸ ëŒ€ìƒ ê²°ì •ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ì €ë²ˆ í¬ìŠ¤íŠ¸ì¸ \"OpenTelemetry as a Service\"ë¥¼ ì°¸ê³ í•´ë³´ì„¸ìš”. ê·¸ê³³ì—ì„œ ì¤‘ì•™ OpenTelemetry ìˆ˜ì§‘ê¸°(ê²Œì´íŠ¸ì›¨ì´)ë¥¼ ì„¤ì •í•˜ëŠ” ë” ë§ì€ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h2>Grafana Alloyê°€ ë¬´ì—‡ì´ë©°, ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?</h2>\n<p>Grafana AlloyëŠ” OpenTelemetry (OTEL) ì—ì´ì „íŠ¸ë¡œ ì‘ë™í•˜ì—¬ ë‹¤ì–‘í•œ ì†ŒìŠ¤ì—ì„œ í…”ë ˆë©”íŠ¸ë¦¬ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³  ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œìœ¼ë¡œ ì „ì†¡í•˜ì—¬ ë¶„ì„ ë° ì‹œê°í™”í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.</p>\n<p>AlloyëŠ” OpenTelemetry ìˆ˜ì§‘ê¸°ë‚˜ Grafana ì—ì´ì „íŠ¸ì™€ ê°™ì€ ë°ì´í„° ìˆ˜ì§‘ êµ¬ì„± ìš”ì†Œë¥¼ ëŒ€ì²´í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ Mimir, Tempo, ë˜ëŠ” Lokiì™€ ê°™ì€ ë„êµ¬ë¥¼ ëŒ€ì²´í•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ì˜ˆë¥¼ ë“¤ì–´, Grafanaì—ì„œ ë¡œê·¸, ë©”íŠ¸ë¦­ ë° ì¶”ì  ë°ì´í„°ë¥¼ ì†Œí™”í•˜ê³  í‘œì‹œí•˜ë ¤ëŠ” ê²½ìš°, Loki, Mimir ë° Tempoë¥¼ ë°ì´í„° ì›ë³¸ìœ¼ë¡œ ì„¤ì •í•˜ê³  Alloyë¥¼ ë°°í¬í•˜ì—¬ ë°ì´í„°ë¥¼ ìŠ¤í¬ë©í•˜ê³  ì „ì†¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ì´ ë°©ë²•ì„ í†µí•´ í•œ êµ¬ì„± ìš”ì†Œë¡œ ì—¬ëŸ¬ ëª©ì ì„ ìœ„í•œ ì†Œí™”ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ AlloyëŠ” ë‹¤ì–‘í•œ ëª¨ë‹ˆí„°ë§ ìš”êµ¬ ì‚¬í•­ì„ ì¶©ì¡±í•  ìˆ˜ ìˆëŠ” ë‹¤ì¬ë‹¤ëŠ¥í•œ ë„êµ¬ê°€ ë©ë‹ˆë‹¤.</p>\n<h2>Grafana Alloyì˜ Walkthrough</h2>\n<h2>Prerequisites</h2>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ì‹œì‘í•˜ê¸° ì „ì— Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ ì„¤ì •í•´ ë‘ì„¸ìš”. ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ ìƒˆë¡œìš´ ë¡œì»¬ Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”: kind create cluster</p>\n<p>ê·¸ë¦¬ê³  ë¬´ë£Œ Grafana Cloud ê³„ì •ì´ í•„ìš”í•´ìš”. Grafana CloudëŠ” Grafana, Mimir, Loki, Tempoì™€ ê°™ì€ ì˜¤í”ˆ ì†ŒìŠ¤ í”„ë¡œì íŠ¸ë¡œ êµ¬ì¶•ëœ ì™„ì „íˆ ê´€ë¦¬ë˜ëŠ” í´ë¼ìš°ë“œ ê´€ì¸¡ì„± í”Œë«í¼ì´ì—ìš”. ì•„ì§ ê°€ì…í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ë¬´ë£Œ ê³„ì •ìœ¼ë¡œ ê°€ì…í•˜ì„¸ìš”. ì—¬ê¸°ì„œ í•  ì‘ì—…ì— ëŒ€í•´ ì¶©ë¶„íˆ ì œê³µí•´ ì¤„ ê±°ì—ìš”.</p>\n<p>í•„ìš”í•œ ì €ì¥ì†Œë¥¼ ì¶”ê°€í•˜ì„¸ìš”:</p>\n<pre><code class=\"hljs language-js\">helm repo add grafana <span class=\"hljs-attr\">https</span>:<span class=\"hljs-comment\">//grafana.github.io/helm-charts</span>\nhelm repo update\n</code></pre>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h2>í™˜ê²½ ì„¤ì • ì„¤ì •</h2>\n<p>Grafana Alloyë¥¼ Grafana Cloudì—ì„œ Kubernetes í´ëŸ¬ìŠ¤í„°ì— êµ¬ì„±í•˜ëŠ” ë‘ ê°€ì§€ ëŒ€ì•ˆì´ ìˆìŠµë‹ˆë‹¤. ê°„ë‹¨í•œ ë°©ë²•ë¶€í„° ì‹œì‘í•˜ì—¬ ë‘˜ ë‹¤ ìì„¸íˆ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<h2>ëŒ€ì•ˆ 1 (ê°€ì¥ ì‰¬ìš´ ë°©ë²•)</h2>\n<p>Grafana Cloudì—ì„œ Kubernetes í´ëŸ¬ìŠ¤í„°ìš© Grafana Alloyë¥¼ êµ¬ì„±í•˜ë ¤ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¼ì£¼ì‹­ì‹œì˜¤:</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<ul>\n<li>\n<p>Grafana Cloudì—ì„œ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ <code>Kubernetes</code> êµ¬ì„±ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.</p>\n</li>\n<li>\n<p>í™œì„±í™”í•˜ë ¤ëŠ” ê¸°ëŠ¥ì„ ì„ íƒí•©ë‹ˆë‹¤.</p>\n</li>\n<li>\n<p>ë©”íŠ¸ë¦­: ì´ ì˜µì…˜ì€ Kubernetes í´ëŸ¬ìŠ¤í„° ì¸í”„ë¼ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•˜ì—¬ Grafana Cloud Prometheusë¡œ ì „ì†¡í•©ë‹ˆë‹¤.</p>\n</li>\n<li>\n<p>ë¹„ìš© ë©”íŠ¸ë¦­: ë¹„ìš© ë©”íŠ¸ë¦­ì„ ìŠ¤í¬ë©í•˜ê³  Grafana Cloud Prometheusë¡œ ì „ì†¡í•˜ë ¤ë©´ ì´ ê¸°ëŠ¥ì„ í™œì„±í™”í•˜ì„¸ìš”.</p>\n</li>\n<li>\n<p>í´ëŸ¬ìŠ¤í„° ì´ë²¤íŠ¸: Kubernetes í´ëŸ¬ìŠ¤í„° ì´ë²¤íŠ¸ë¥¼ ìº¡ì²˜í•˜ì—¬ Grafana Cloud Lokië¡œ ì „ì†¡í•©ë‹ˆë‹¤.</p>\n</li>\n<li>\n<p>Pod ë¡œê·¸: Pod ë¡œê·¸ë¥¼ ìº¡ì²˜í•˜ê³  Grafana Cloud Lokië¡œ ì „ì†¡í•©ë‹ˆë‹¤.</p>\n</li>\n<li>\n<p>OTLP ìˆ˜ì‹ ê¸°: Grafana Alloyë¥¼ êµ¬ì„±í•˜ì—¬ OTLP/gRPC ë° OTLP/HTTPë¥¼ í†µí•´ OpenTelemetry ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•©ë‹ˆë‹¤.</p>\n</li>\n</ul>\n<ol start=\"3\">\n<li>êµ¬ì„± í”„ë¡œì„¸ìŠ¤ë¥¼ ê³„ì†í•©ë‹ˆë‹¤.</li>\n</ol>\n<p>ê·¸ëŸ¬ë‚˜ ë°ì´í„°ë¥¼ ë³„ë„ì˜ OpenTelemetry Collectorë¡œ ì „ì†¡í•˜ë ¤ë©´ ëŒ€ì²´ 2ë¥¼ ê³„ì†í•˜ì„¸ìš”.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h2>ëŒ€ì•ˆ 2 (ê¶Œì¥í•˜ëŠ” ë°©ë²•)</h2>\n<p>ì´ ë°©ë²•ì€ êµ¬ì„± í”„ë¡œì„¸ìŠ¤ì— ëŒ€í•œ ë” ë§ì€ ìœ ì—°ì„±ê³¼ ì œì–´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>\n<ul>\n<li>ë¨¼ì € í—¬ë¦„ ê°’ íŒŒì¼ì„ ì¤€ë¹„í•˜ì„¸ìš”.</li>\n<li>ìš”êµ¬ ì‚¬í•­ì— ë”°ë¼ í—¬ë¦„ ê°’ íŒŒì¼ì„ êµ¬ì„±í•˜ê³ , 'OTLP endpoint', 'your_endpoint', 'my_username', 'my_secret_password'ë¥¼ ì‹¤ì œ ê°’ìœ¼ë¡œ êµì²´í•´ì•¼ í•©ë‹ˆë‹¤. ë˜í•œ, OTLPë¥¼ HTTPë¥¼ í†µí•´ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì„œë²„ í”„ë¡œí† ì½œì´ otlphttpë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.</li>\n</ul>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-attr\">host</span>: &#x3C;OTLP ì—”ë“œí¬ì¸íŠ¸>\nwriteEndpoint: /&#x3C;your_endpoint>\nprotocol: otlphttp\nbasicAuth:\n  username: &#x3C;my_username>\n  password: &#x3C;my_secret_password>\n</code></pre>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<ol start=\"3\">\n<li>ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— Helm ì°¨íŠ¸ë¥¼ ë°°í¬í•˜ì„¸ìš”.</li>\n</ol>\n<pre><code class=\"hljs language-js\">helm repo add grafana <span class=\"hljs-attr\">https</span>:<span class=\"hljs-comment\">//grafana.github.io/helm-charts &#x26;&#x26;</span>\n  helm repo update &#x26;&#x26;\n  helm upgrade --install --atomic --timeout 300s grafana-k8s-monitoring grafana/k8s-monitoring \\\n    --namespace <span class=\"hljs-string\">\"default\"</span> --create-namespace --values - &#x3C;&#x3C;<span class=\"hljs-variable constant_\">EOF</span>\n</code></pre>\n<h2>ë°°í¬ ê²€ì¦</h2>\n<p>kubectl get all -n defaultì„ ì‚¬ìš©í•˜ì—¬ ë°°í¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì´ë£¨ì–´ì¡ŒëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-string\">PODS</span>\n\n<span class=\"hljs-string\">NAME</span>                                                        <span class=\"hljs-string\">READY</span>   <span class=\"hljs-string\">STATUS</span>    <span class=\"hljs-string\">RESTARTS</span>   <span class=\"hljs-string\">AGE</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-alloy-0</span>                              <span class=\"hljs-number\">2</span><span class=\"hljs-string\">/2</span>     <span class=\"hljs-string\">Running</span>   <span class=\"hljs-number\">0</span>          <span class=\"hljs-string\">7m29s</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-alloy-events-6fc5d58d6f-k4fz9</span>        <span class=\"hljs-number\">2</span><span class=\"hljs-string\">/2</span>     <span class=\"hljs-string\">Running</span>   <span class=\"hljs-number\">0</span>          <span class=\"hljs-string\">7m29s</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-alloy-logs-x4chm</span>                     <span class=\"hljs-number\">2</span><span class=\"hljs-string\">/2</span>     <span class=\"hljs-string\">Running</span>   <span class=\"hljs-number\">0</span>          <span class=\"hljs-string\">7m29s</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-kube-state-metrics-f995ccbbc-7gdkh</span>   <span class=\"hljs-number\">1</span><span class=\"hljs-string\">/1</span>     <span class=\"hljs-string\">Running</span>   <span class=\"hljs-number\">0</span>          <span class=\"hljs-string\">7m29s</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-opencost-6659b44b6f-dn8ck</span>            <span class=\"hljs-number\">1</span><span class=\"hljs-string\">/1</span>     <span class=\"hljs-string\">Running</span>   <span class=\"hljs-number\">0</span>          <span class=\"hljs-string\">7m29s</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-prometheus-node-exporter-g2ddm</span>       <span class=\"hljs-number\">1</span><span class=\"hljs-string\">/1</span>     <span class=\"hljs-string\">Running</span>   <span class=\"hljs-number\">0</span>          <span class=\"hljs-string\">7m29s</span>\n\n<span class=\"hljs-string\">DEPLOYMENT</span>\n<span class=\"hljs-string\">NAME</span>                                        <span class=\"hljs-string\">READY</span>   <span class=\"hljs-string\">UP-TO-DATE</span>   <span class=\"hljs-string\">AVAILABLE</span>   <span class=\"hljs-string\">AGE</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-alloy-events</span>         <span class=\"hljs-number\">1</span><span class=\"hljs-string\">/1</span>     <span class=\"hljs-number\">1</span>            <span class=\"hljs-number\">1</span>           <span class=\"hljs-string\">7m46s</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-kube-state-metrics</span>   <span class=\"hljs-number\">1</span><span class=\"hljs-string\">/1</span>     <span class=\"hljs-number\">1</span>            <span class=\"hljs-number\">1</span>           <span class=\"hljs-string\">7m46s</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-opencost</span>             <span class=\"hljs-number\">1</span><span class=\"hljs-string\">/1</span>     <span class=\"hljs-number\">1</span>            <span class=\"hljs-number\">1</span>           <span class=\"hljs-string\">7m46s</span>\n\n<span class=\"hljs-string\">SERVICES</span>\n<span class=\"hljs-string\">NAME</span>                                              <span class=\"hljs-string\">TYPE</span>        <span class=\"hljs-string\">CLUSTER-IP</span>      <span class=\"hljs-string\">EXTERNAL-IP</span>   <span class=\"hljs-string\">PORT(S)</span>                                                                               <span class=\"hljs-string\">AGE</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-alloy</span>                      <span class=\"hljs-string\">ClusterIP</span>   <span class=\"hljs-number\">10.96</span><span class=\"hljs-number\">.55</span><span class=\"hljs-number\">.19</span>     <span class=\"hljs-string\">&#x3C;none></span>        <span class=\"hljs-number\">12345</span><span class=\"hljs-string\">/TCP,4317/TCP,4318/TCP,9999/TCP,14250/TCP,6832/TCP,6831/TCP,14268/TCP,9411/TCP</span>   <span class=\"hljs-string\">8m7s</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-alloy-cluster</span>              <span class=\"hljs-string\">ClusterIP</span>   <span class=\"hljs-string\">None</span>            <span class=\"hljs-string\">&#x3C;none></span>        <span class=\"hljs-number\">12345</span><span class=\"hljs-string\">/TCP,4317/TCP,4318/TCP,9999/TCP,14250/TCP,6832/TCP,6831/TCP,14268/TCP,9411/TCP</span>   <span class=\"hljs-string\">8m7s</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-alloy-events</span>               <span class=\"hljs-string\">ClusterIP</span>   <span class=\"hljs-number\">10.96</span><span class=\"hljs-number\">.222</span><span class=\"hljs-number\">.205</span>   <span class=\"hljs-string\">&#x3C;none></span>        <span class=\"hljs-number\">12345</span><span class=\"hljs-string\">/TCP</span>                                                                             <span class=\"hljs-string\">8m7s</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-alloy-logs</span>                 <span class=\"hljs-string\">ClusterIP</span>   <span class=\"hljs-number\">10.96</span><span class=\"hljs-number\">.68</span><span class=\"hljs-number\">.158</span>    <span class=\"hljs-string\">&#x3C;none></span>        <span class=\"hljs-number\">12345</span><span class=\"hljs-string\">/TCP</span>                                                                             <span class=\"hljs-string\">8m7s</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-grafana-agent</span>              <span class=\"hljs-string\">ClusterIP</span>   <span class=\"hljs-number\">10.96</span><span class=\"hljs-number\">.207</span><span class=\"hljs-number\">.204</span>   <span class=\"hljs-string\">&#x3C;none></span>        <span class=\"hljs-number\">12345</span><span class=\"hljs-string\">/TCP,4317/TCP,4318/TCP,9999/TCP,14250/TCP,6832/TCP,6831/TCP,14268/TCP,9411/TCP</span>   <span class=\"hljs-string\">8m7s</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-kube-state-metrics</span>         <span class=\"hljs-string\">ClusterIP</span>   <span class=\"hljs-number\">10.96</span><span class=\"hljs-number\">.168</span><span class=\"hljs-number\">.190</span>   <span class=\"hljs-string\">&#x3C;none></span>        <span class=\"hljs-number\">8080</span><span class=\"hljs-string\">/TCP</span>                                                                              <span class=\"hljs-string\">8m7s</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-opencost</span>                   <span class=\"hljs-string\">ClusterIP</span>   <span class=\"hljs-number\">10.96</span><span class=\"hljs-number\">.55</span><span class=\"hljs-number\">.101</span>    <span class=\"hljs-string\">&#x3C;none></span>        <span class=\"hljs-number\">9003</span><span class=\"hljs-string\">/TCP</span>                                                                              <span class=\"hljs-string\">8m7s</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-prometheus-node-exporter</span>   <span class=\"hljs-string\">ClusterIP</span>   <span class=\"hljs-number\">10.96</span><span class=\"hljs-number\">.162</span><span class=\"hljs-number\">.70</span>    <span class=\"hljs-string\">&#x3C;none></span>        <span class=\"hljs-number\">9100</span><span class=\"hljs-string\">/TCP</span>\n\n<span class=\"hljs-string\">DAEMONSET</span>\n<span class=\"hljs-string\">NAME</span>                                              <span class=\"hljs-string\">DESIRED</span>   <span class=\"hljs-string\">CURRENT</span>   <span class=\"hljs-string\">READY</span>   <span class=\"hljs-string\">UP-TO-DATE</span>   <span class=\"hljs-string\">AVAILABLE</span>   <span class=\"hljs-string\">NODE</span> <span class=\"hljs-string\">SELECTOR</span>            <span class=\"hljs-string\">AGE</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-alloy-logs</span>                 <span class=\"hljs-number\">1</span>         <span class=\"hljs-number\">1</span>         <span class=\"hljs-number\">1</span>       <span class=\"hljs-number\">1</span>            <span class=\"hljs-number\">1</span>           <span class=\"hljs-string\">kubernetes.io/os=linux</span>   <span class=\"hljs-string\">8m52s</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-prometheus-node-exporter</span>   <span class=\"hljs-number\">1</span>         <span class=\"hljs-number\">1</span>         <span class=\"hljs-number\">1</span>       <span class=\"hljs-number\">1</span>            <span class=\"hljs-number\">1</span>           <span class=\"hljs-string\">kubernetes.io/os=linux</span>   <span class=\"hljs-string\">8m52s</span>\n\n<span class=\"hljs-string\">CONFIGMAPS</span>\n<span class=\"hljs-string\">NAME</span>                                  <span class=\"hljs-string\">DATA</span>   <span class=\"hljs-string\">AGE</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-alloy</span>          <span class=\"hljs-number\">1</span>      <span class=\"hljs-string\">9m4s</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-alloy-events</span>   <span class=\"hljs-number\">1</span>      <span class=\"hljs-string\">9m4s</span>\n<span class=\"hljs-string\">grafana-k8s-monitoring-alloy-logs</span>     <span class=\"hljs-number\">1</span>      <span class=\"hljs-string\">9m4s</span>\n<span class=\"hljs-string\">kube-root-ca.crt</span>                      <span class=\"hljs-number\">1</span>      <span class=\"hljs-string\">121m</span>\n<span class=\"hljs-string\">kubernetes-monitoring-telemetry</span>       <span class=\"hljs-number\">1</span>      <span class=\"hljs-string\">9m4s</span>\n</code></pre>\n<h2>Inspecting Grafana Alloy</h2>\n<p>To inspect the Grafana Alloy configuration, run:</p>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-string\">kubectl</span> <span class=\"hljs-string\">get</span> <span class=\"hljs-string\">cm</span> <span class=\"hljs-string\">grafana-k8s-monitoring-alloy</span> <span class=\"hljs-string\">-o</span> <span class=\"hljs-string\">yaml</span>\n</code></pre>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ì—¬ê¸°ì—ì„œ OpenTelemetry Collector ë‚´ì—ì„œ ì‚¬ìš©ë˜ëŠ” ìˆ˜ì‹ ê¸°, í”„ë¡œì„¸ì„œ, ì»¤ë„¥í„° ë° ìµìŠ¤í¬í„° êµ¬ì„± ì„¸ë¶€ ì •ë³´ë¥¼ ì‚´í´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h2>ë°œê²¬</h2>\n<p>Grafana Alloyê°€ ë¨¼ì € ë‹¤ì–‘í•œ Kubernetes ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ Kubernetes ë°œê²¬ ì„¤ì •ì„ ì„¤ì •í•©ë‹ˆë‹¤. ë…¸ë“œ, ì„œë¹„ìŠ¤, ì—”ë“œí¬ì¸íŠ¸ ë° íŒŒë“œì™€ ê°™ì€ Kubernetes ë¦¬ì†ŒìŠ¤ë¥¼ ì‹œê°í™”, ëª¨ë‹ˆí„°ë§ ë° ë¶„ì„ì— í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\">     discovery.<span class=\"hljs-property\">kubernetes</span> <span class=\"hljs-string\">\"nodes\"</span> {\n       role = <span class=\"hljs-string\">\"node\"</span>\n     }\n\n     discovery.<span class=\"hljs-property\">kubernetes</span> <span class=\"hljs-string\">\"services\"</span> {\n       role = <span class=\"hljs-string\">\"service\"</span>\n     }\n\n     discovery.<span class=\"hljs-property\">kubernetes</span> <span class=\"hljs-string\">\"endpoints\"</span> {\n       role = <span class=\"hljs-string\">\"endpoints\"</span>\n     }\n\n     discovery.<span class=\"hljs-property\">kubernetes</span> <span class=\"hljs-string\">\"pods\"</span> {\n       role = <span class=\"hljs-string\">\"pod\"</span>\n     }\n</code></pre>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h2>OTLP ìˆ˜ì‹ ê¸°</h2>\n<p>ìˆ˜ì‹ ê¸°ëŠ” gRPC ë° HTTPë¥¼ í†µí•´ OpenTelemetry í”„ë¡œí† ì½œ (OTLP)ì„ ì‚¬ìš©í•˜ì—¬ í…”ë ˆë¯¸í„° ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ë„ë¡ ì„¤ì •ë©ë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\">     <span class=\"hljs-comment\">// OTLP Receivers</span>\n     otelcol.<span class=\"hljs-property\">receiver</span>.<span class=\"hljs-property\">otlp</span> <span class=\"hljs-string\">\"receiver\"</span> {\n       debug_metrics {\n         disable_high_cardinality_metrics = <span class=\"hljs-literal\">true</span>\n       }\n\n       grpc {\n         endpoint = <span class=\"hljs-string\">\"0.0.0.0:4317\"</span>\n       }\n\n       http {\n         endpoint = <span class=\"hljs-string\">\"0.0.0.0:4318\"</span>\n       }\n       output {\n         metrics = [otelcol.<span class=\"hljs-property\">processor</span>.<span class=\"hljs-property\">resourcedetection</span>.<span class=\"hljs-property\">default</span>.<span class=\"hljs-property\">input</span>]\n         logs = [otelcol.<span class=\"hljs-property\">processor</span>.<span class=\"hljs-property\">resourcedetection</span>.<span class=\"hljs-property\">default</span>.<span class=\"hljs-property\">input</span>]\n         traces = [otelcol.<span class=\"hljs-property\">processor</span>.<span class=\"hljs-property\">resourcedetection</span>.<span class=\"hljs-property\">default</span>.<span class=\"hljs-property\">input</span>]\n       }\n     }\n</code></pre>\n<p>output ë¸”ë¡ì€ ë©”íŠ¸ë¦­, ë¡œê·¸ ë° ì¶”ì ì´ otelcol.processor.resourcedetection.default.inputì´ë¼ëŠ” í”„ë¡œì„¸ì„œë¡œ ì „ì†¡ë˜ì–´ì•¼ í•¨ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h2>ì²˜ë¦¬ê¸°</h2>\n<p>ì²˜ë¦¬ê¸°ëŠ” í…”ë ˆë©”íŠ¸ë¦¬ ë°ì´í„°ë¥¼ ë³€í™˜í•˜ê³  í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ëª¨ë‹ˆí„°ë§ ì¸í”„ë¼ì˜ ê°€ì‹œì„±ì„ í–¥ìƒì‹œí‚¤ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì²˜ë¦¬ê¸°ëŠ” OpenTelemetry Collector ë‚´ì—ì„œ í…”ë ˆë©”íŠ¸ë¦¬ ë°ì´í„°ë¥¼ ë³€í™˜, ê°ì§€, ì¶”ì¶œ ë° í•„í„°ë§í•˜ëŠ” ë° ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤.</p>\n<p>ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ë˜ê³  ìˆëŠ” ì²˜ë¦¬ê¸°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\">otelcol.<span class=\"hljs-property\">processor</span>.<span class=\"hljs-property\">transform</span>         # ì†ì„±ì„ ì¶”ê°€í•˜ì—¬ ë©”íŠ¸ë¦­ ë°ì´í„°ë¥¼ ë³€í™˜í•©ë‹ˆë‹¤.\notelcol.<span class=\"hljs-property\">processor</span>.<span class=\"hljs-property\">resourcedetection</span> # í™˜ê²½ì—ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ ê°ì§€í•©ë‹ˆë‹¤.\notelcol.<span class=\"hljs-property\">processor</span>.<span class=\"hljs-property\">k8sattributes</span>     # <span class=\"hljs-title class_\">Kubernetes</span> ê´€ë ¨ ë©”íƒ€ë°ì´í„°ë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤.\notelcol.<span class=\"hljs-property\">connector</span>.<span class=\"hljs-property\">host_info</span>         # í˜¸ìŠ¤íŠ¸ ì •ë³´ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.\notelcol.<span class=\"hljs-property\">processor</span>.<span class=\"hljs-property\">batch</span>             # ë°ì´í„° ì²˜ë¦¬ë¥¼ ì¼ê´„ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.\notelcol.<span class=\"hljs-property\">processor</span>.<span class=\"hljs-property\">filter</span>            # ë°ì´í„°ë¥¼ í•„í„°ë§í•©ë‹ˆë‹¤.\n</code></pre>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h2>Exporters</h2>\n<p>ìˆ˜ì¶œê¸°ëŠ” ì™¸ë¶€ ì‹œìŠ¤í…œìœ¼ë¡œ í…”ë ˆë©”íŠ¸ë¦¬ ë°ì´í„°ë¥¼ ë‚´ë³´ë‚´ê¸° ìœ„í•´ ì •ì˜ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë©”íŠ¸ë¦­ì„ í”„ë¡œë©”í…Œìš°ìŠ¤ë¡œ ë‚´ë³´ë‚´ê¸°, ë¡œê·¸ë¥¼ ë¡œí‚¤ë¡œ ë‚´ë³´ë‚´ê¸°, ê·¸ë¦¬ê³  Tempoë¡œ ì¶”ì ì„ ë‚´ë³´ë‚´ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.</p>\n<h2>ì£¼ì„ ìë™ íƒì§€</h2>\n<p>ì£¼ì„ì„ ê¸°ë°˜ìœ¼ë¡œ ë™ì ìœ¼ë¡œ í¬ë“œ ë° ì„œë¹„ìŠ¤ì—ì„œ ë©”íŠ¸ë¦­ì„ ë°œê²¬í•˜ê³  ìŠ¤í¬ë©í•˜ê¸° ìœ„í•´ ê·œì¹™ì´ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h2>ìŠ¤í¬ë˜í•‘ êµ¬ì„±</h2>\n<p>êµ¬ì„±ì€ Kubernetes, cAdvisor, Kubelet ë° Node Exporterì™€ ê°™ì€ ë‹¤ì–‘í•œ êµ¬ì„± ìš”ì†Œì—ì„œ ë©”íŠ¸ë¦­ì„ ìŠ¤í¬ë©í•˜ëŠ” ë° ì„¤ì •ë©ë‹ˆë‹¤.</p>\n<h2>ë¼ë²¨ ì¬ì„¤ì •</h2>\n<p>ê·œì¹™ì€ ë©”íŠ¸ë¦­ ë° ë¡œê·¸ì— ë¶€ì°©ëœ ë ˆì´ë¸”ì„ ìˆ˜ì •í•˜ê¸° ìœ„í•´ ì •ì˜ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë ˆì´ë¸” ì´ë¦„ ë°”ê¾¸ê¸°, ë¶ˆí•„ìš”í•œ ë ˆì´ë¸” ì‚­ì œ ë° íŠ¹ì • ë©”íŠ¸ë¦­ í•„í„°ë§ ë“±ì´ í¬í•¨ë©ë‹ˆë‹¤.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h2>ì¸ì¦</h2>\n<p>ê¸°ë³¸ ì¸ì¦ì€ ìˆ˜ì¶œ ì—…ì²´ ë° í•„ìš”í•œ ë‹¤ë¥¸ êµ¬ì„± ìš”ì†Œì— êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>\n<p>êµ¬ì„± íŒŒì¼ì„ ì´í•´í•˜ê¸° ìœ„í•´ êµ¬ì„± ë§µì„ í™•ì¸í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤. ì´ëŠ” ì™„ì „í•œ ì„¸ë¶€ ì •ë³´ì™€ êµ¬ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.</p>\n<p>ìš”êµ¬ ì‚¬í•­ì— ë§ê²Œ Grafana Alloy ì„¤ì •ì„ ê²€í† í•˜ê³  êµ¬ì„±í•œ í›„ UIë¡œ ëŒì•„ê°€ì„œ ëª¨ë“  ê²ƒì´ ì˜ˆìƒëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<img src=\"/assets/img/2024-05-27-GrafanaAlloyOpenTelemetry_0.png\">\n<h2>ëª¨ë‹ˆí„°ë§ ì»´í¬ë„ŒíŠ¸ íƒìƒ‰</h2>\n<h2>í´ëŸ¬ìŠ¤í„° íƒìƒ‰</h2>\n<p>Grafanaì—ì„œ ì œê³µí•˜ëŠ” ê¸°ë³¸ í´ëŸ¬ìŠ¤í„° íƒìƒ‰ ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ Kubernetes í´ëŸ¬ìŠ¤í„°ì— ëŒ€í•œ ìœ ìš©í•œ í†µì°°ì„ ì–»ì–´ë³´ì„¸ìš”.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p><img src=\"/assets/img/2024-05-27-GrafanaAlloyOpenTelemetry_1.png\" alt=\"GrafanaAlloyOpenTelemetry_1\">\n<img src=\"/assets/img/2024-05-27-GrafanaAlloyOpenTelemetry_2.png\" alt=\"GrafanaAlloyOpenTelemetry_2\">\n<img src=\"/assets/img/2024-05-27-GrafanaAlloyOpenTelemetry_3.png\" alt=\"GrafanaAlloyOpenTelemetry_3\">\n<img src=\"/assets/img/2024-05-27-GrafanaAlloyOpenTelemetry_4.png\" alt=\"GrafanaAlloyOpenTelemetry_4\"></p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h2>ë¹„ìš© ëª¨ë‹ˆí„°ë§</h2>\n<p>Grafanaì˜ ë¹„ìš© ê°œìš” í˜ì´ì§€ë¥¼ í™œìš©í•˜ì—¬ í´ë¼ìš°ë“œ ë¹„ìš©ì„ ëª¨ë‹ˆí„°ë§í•˜ì„¸ìš”. íš¨ìœ¨ì ì¸ ìì› ê´€ë¦¬ì— ì¤‘ìš”í•©ë‹ˆë‹¤.</p>\n<h2>ì•Œë¦¼</h2>\n<p>ì¤‘ìš”í•œ ì´ë²¤íŠ¸ì— ëŒ€í•œ ì˜ˆë°©ì ì¸ ëª¨ë‹ˆí„°ë§ê³¼ ì¦‰ê°ì ì¸ ëŒ€ì‘ì„ ìœ„í•´ ê²½ë³´ ê·œì¹™ ë° ê¸°ë¡ ê·œì¹™ì„ ì„¤ì •í•˜ì„¸ìš”.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h2>Cardinality</h2>\n<p>ì´ ê²Œì‹œë¬¼ì€ ì¹´ë””ë„ë¦¬í‹°ì— ì§‘ì¤‘í•œ ê²ƒì€ ì•„ë‹ˆì§€ë§Œ, ì¤‘ìš”í•œ ë¶€ë¶„ì´ê¸° ë•Œë¬¸ì— ì–¸ê¸‰í•´ì•¼ í•©ë‹ˆë‹¤. ì¹´ë””ë„ë¦¬í‹°ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ë©´ ë°ì´í„°ì˜ ê³ ìœ ì„±ì„ ì´í•´í•  ìˆ˜ ìˆì–´ ì„±ëŠ¥ ë° ìì› ì´ìš©ì„ ìµœì í™”í•˜ëŠ” ë° ì¤‘ìš”í•©ë‹ˆë‹¤. ê³ ì¹´ë””ë„ë¦¬í‹°ëŠ” ë§ì€ ê³ ìœ ê°’ì„ ê°€ì§„ ë°ì´í„° ì„¸íŠ¸ë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤.</p>\n<p>Grafana Cloudì˜ ì ì‘í˜• ë©”íŠ¸ë¦­ì„ ì‚¬ìš©í•˜ì—¬ ì¦ê°€í•œ ì¹´ë””ë„ë¦¬í‹° ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><img src=\"/assets/img/2024-05-27-GrafanaAlloyOpenTelemetry_5.png\" alt=\"ì´ë¯¸ì§€\"></p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h2>ì• í”Œë¦¬ì¼€ì´ì…˜ ê¸°ê¸° ì„¤ì •</h2>\n<p>ì´ì œ ìš°ë¦¬ëŠ” ìš°ë¦¬ ì• í”Œë¦¬ì¼€ì´ì…˜ë“¤ì—ê²Œ Grafana Alloyë¡œ í…”ë ˆë¯¸í„° ë°ì´í„°ë¥¼ ë³´ë‚´ë„ë¡ ì§€ì‹œí•´ì•¼ í•©ë‹ˆë‹¤. <a href=\"http://grafana-k8s-monitoring-grafana-agent.default.svc.cluster.local:4318\" rel=\"nofollow\" target=\"_blank\">http://grafana-k8s-monitoring-grafana-agent.default.svc.cluster.local:4318</a></p>\n<p>ë§ì•„ìš”, ì´ ë¡œì»¬ OpenTelemetry ì—ì´ì „íŠ¸ëŠ” í´ëŸ¬ìŠ¤í„°ì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œë¶€í„° ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ëŠ” ì¤‘ê°œì ì—­í• ì„ í•©ë‹ˆë‹¤.</p>\n<h2>ë©”íŠ¸ë¦­ê³¼ ë¡œê·¸</h2>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ì´ì œ ìš°ë¦¬ì˜ ë©”íŠ¸ë¦­ê³¼ ë¡œê·¸ê°€ Kubernetes í´ëŸ¬ìŠ¤í„°ì—ì„œ Grafana Alloyë¡œ í˜ëŸ¬ë“¤ì–´ê°€ê³ , ì¤‘ì•™ OpenTelemetry Collectorë¥¼ ê±°ì³ Grafana Cloudì—ì„œ ì‹œê°í™”ë©ë‹ˆë‹¤.</p>\n<p>ì´ ë°ì´í„°ì— ì•¡ì„¸ìŠ¤í•˜ëŠ” ê²ƒì€ ì‰½ìŠµë‹ˆë‹¤. í´ëŸ¬ìŠ¤í„° ë‚´ë¹„ê²Œì´ì…˜ì„ í†µí•´ ì´ë™í•˜ê±°ë‚˜ Explore ë„êµ¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì œ ê°œì¸ì ìœ¼ë¡œëŠ” ë‹¤ì–‘í•œ ì†ŒìŠ¤ì—ì„œ í…”ë ˆë©”íŠ¸ë¦¬ ë°ì´í„°ë¥¼ íƒìƒ‰í•  ìˆ˜ ìˆëŠ” Explore ë„êµ¬ë¥¼ ì„ í˜¸í•©ë‹ˆë‹¤. ì´ ê°•ë ¥í•œ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ë©´ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ê³  í•„í„° ë° ë³€í™˜ì„ ì ìš©í•˜ë©° ê°€ì¹˜ ìˆëŠ” í†µì°°ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì¶”ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h2>ì¶”ì </h2>\n<p>ê·¸ë ‡ë‹¤ë©´ ì¶”ì ì€ ì–´ë–¨ê¹Œìš”? ì¶”ì ì€ ì‚¬ìš©ì ìš”ì²­ì´ ì‘ìš© í”„ë¡œê·¸ë¨ì„ í†µí•´ ì´ë™í•˜ëŠ” ê³¼ì •ì— ëŒ€í•œ ì¤‘ìš”í•œ í†µì°°ì„ ì œê³µí•©ë‹ˆë‹¤. ì¶”ì ì„ í™œìš©í•˜ë ¤ë©´ ë°ì´í„°ë¥¼ Grafana Alloyë¡œ ë³´ë‚´ë„ë¡ ì„¤ì •ëœ ê³„ê¸°ê°€ ì„¤ì¹˜ëœ ì‘ìš© í”„ë¡œê·¸ë¨ì´ í•„ìš”í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ì‘ìš© í”„ë¡œê·¸ë¨ì´ ë‹¤ìŒ ì£¼ì†Œ ì¤‘ í•˜ë‚˜ë¡œ ë°ì´í„°ë¥¼ ë³´ë‚´ë„ë¡ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤:</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<ul>\n<li>OTLP/gRPC ì—”ë“œí¬ì¸íŠ¸: <a href=\"http://grafana-k8s-monitoring-grafana-agent.default.svc.cluster.local:4317\" rel=\"nofollow\" target=\"_blank\">http://grafana-k8s-monitoring-grafana-agent.default.svc.cluster.local:4317</a></li>\n<li>OTLP/HTTP ì—”ë“œí¬ì¸íŠ¸: <a href=\"http://grafana-k8s-monitoring-grafana-agent.default.svc.cluster.local:4318\" rel=\"nofollow\" target=\"_blank\">http://grafana-k8s-monitoring-grafana-agent.default.svc.cluster.local:4318</a></li>\n</ul>\n<p>Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ë‹¤ìŒ ì£¼ì†Œë¥¼ OTEL_EXPORTER_OTLP_ENDPOINT í™˜ê²½ ë³€ìˆ˜ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>\n<pre><code class=\"hljs language-js\">- <span class=\"hljs-attr\">name</span>: <span class=\"hljs-variable constant_\">OTEL_EXPORTER_OTLP_ENDPOINT</span>\n  <span class=\"hljs-attr\">value</span>: <span class=\"hljs-attr\">http</span>:<span class=\"hljs-comment\">//grafana-k8s-monitoring-grafana-agent.default.svc.cluster.local:4317</span>\n</code></pre>\n<p>ë˜í•œ springboot-serviceì— OTEL_SERVICE_NAME ë³€ìˆ˜ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">OTEL_SERVICE_NAME</span>\n  <span class=\"hljs-attr\">value:</span> <span class=\"hljs-string\">springboot-service</span>\n</code></pre>\n<p>ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë°°í¬ë˜ê³  ë°ì´í„°ë¥¼ ìƒì„±í•˜ë©´ Explore ë„êµ¬ì—ì„œ ì¶”ì ì„ ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h2>Tempoì—ì„œ ì¶”ì  íƒìƒ‰</h2>\n<p>Tempoë¡œ ì¶”ì ì„ íƒìƒ‰í•´ ë´…ì‹œë‹¤. TempoëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ ë¶„ì‚° ì¶”ì  ì‹œìŠ¤í…œìœ¼ë¡œ, ë¶„ì‚° ì‹œìŠ¤í…œ ê°„ ìš”ì²­ íë¦„ì— ëŒ€í•œ ê°€ì‹œì„±ì„ ì œê³µí•©ë‹ˆë‹¤.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ì¶”ì (trace)ì€ ë‹¨ì¼ ì‚¬ìš©ì ìš”ì²­ì´ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ë¥¼ ê±°ì³ ì´ë™í•˜ëŠ” ì—¬ì •ì„ ë‚˜íƒ€ë‚´ëŠ” ë°ì´í„° ì§‘í•©ì…ë‹ˆë‹¤. ì´ ì—¬ì •ì˜ ê° ë‹¨ê³„ë¥¼ ìŠ¤íŒ¬(span)ì´ë¼ê³  í•˜ë©°, ì„œë¹„ìŠ¤ ì´ë¦„, ìˆ˜í–‰ëœ ì‘ì—…, ì†Œìš”ëœ ì‹œê°„ ë“±ì˜ ì •ë³´ê°€ í¬í•¨ë©ë‹ˆë‹¤. ì¶”ì  ë° ìŠ¤íŒ¬ì„ í†µí•´ ê°œë°œìëŠ” ë³µì¡í•˜ê³  ì—°ê²°ëœ í™˜ê²½ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ ë° ë™ì‘ì„ ì´í•´í•˜ëŠ” ë° ë„ì›€ì„ ë°›ìŠµë‹ˆë‹¤.</p>\n<p>Explore ë„êµ¬ì—ì„œ grafanacloud-<code>name</code>-traces ë°ì´í„° ì†ŒìŠ¤ë¥¼ ì„ íƒí•©ë‹ˆë‹¤. ì„œë¹„ìŠ¤ ì´ë¦„ ë“œë¡­ë‹¤ìš´ ëª©ë¡ì—ì„œ ì„œë¹„ìŠ¤ë¥¼ ì„ íƒí•˜ê³ (ì˜ˆ: springboot-service), ì¶”ì ì„ ì°¾ì•„ë´…ë‹ˆë‹¤. ìì„¸í•œ í†µì°°ì„ ì–»ìœ¼ë ¤ë©´ ì–´ë–¤ ì¶”ì ì´ë“  í´ë¦­í•˜ì„¸ìš”.</p>\n<img src=\"/assets/img/2024-05-27-GrafanaAlloyOpenTelemetry_6.png\">\n<p>ìì„¸í•œ í†µì°°ì„ ì–»ìœ¼ë ¤ë©´ ì–´ë–¤ ì¶”ì ì´ë“  í´ë¦­í•˜ì„¸ìš”.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p><img src=\"/assets/img/2024-05-27-GrafanaAlloyOpenTelemetry_7.png\" alt=\"ì´ë¯¸ì§€\"></p>\n<p>ì €í¬ëŠ” ì„œë¹„ìŠ¤, ì‘ìš© í”„ë¡œê·¸ë¨ ë° ì¸í”„ë¼ì— ëŒ€í•œ íƒì›”í•œ ê´€ì¸¡ì„±ì„ ìœ„í•´ ìŠ¤ìŠ¤ë¡œë¥¼ ì„±ê³µì ìœ¼ë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë” ë§ì€ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤! ë‹¤ìŒ í¬ìŠ¤íŠ¸ì—ì„œ ëª¨ë“  ê´€ì¸¡ì„± ìš”êµ¬ ì‚¬í•­ì„ ì¶©ì¡±ì‹œí‚¤ëŠ” ë˜ ë‹¤ë¥¸ Grafana ì œí’ˆì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ê´€ì¸¡ì„±ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. ê³„ì† ì£¼ì‹œí•´ ì£¼ì„¸ìš”! ğŸ˜Š</p>\n<h2>ê²°ë¡ </h2>\n<p>ì´ ë‹¨ê³„ë¥¼ ë”°ë¥´ë©´ ì˜¤í”ˆí…”ë ˆë¯¸íŠ¸ë¦¬ì˜ ê°•ë ¥í•¨ì„ í™œìš©í•˜ì—¬ Kubernetes í´ëŸ¬ìŠ¤í„°ì— Grafana Alloyë¥¼ ì„±ê³µì ìœ¼ë¡œ ë°°í¬í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ë§Œì•½ ì´ ë‚´ìš©ì´ ë„ì›€ì´ ë˜ì—ˆë‹¤ë©´ ğŸ‘ ë²„íŠ¼ì„ í´ë¦­í•˜ì‹œê³  ì œ í”„ë¡œí•„ì„ íŒ”ë¡œìš°í•´ì£¼ì„¸ìš”. ë” ë§ì€ ê¸°ì‚¬ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!</p>\n</body>\n</html>\n"},"__N_SSG":true}