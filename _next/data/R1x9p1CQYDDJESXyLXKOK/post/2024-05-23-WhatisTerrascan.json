{"pageProps":{"post":{"title":"í…Œë¼ìŠ¤ìº”Terrascanì´ë€ ë¬´ì—‡ì¸ê°€ìš”","description":"","date":"2024-05-23 14:39","slug":"2024-05-23-WhatisTerrascan","content":"\n\nì´ ê¸°ì‚¬ì—ì„œëŠ” Terrascanì„ ì‚´í´ë³¼ ê²ƒì…ë‹ˆë‹¤. ì´ê²ƒì´ ë¬´ì—‡ì¸ì§€, ì™œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ì§€, ì–´ë–»ê²Œ ì„¤ì¹˜í•´ì•¼ í•˜ëŠ”ì§€, ê·¸ë¦¬ê³  ê·¸ ê¸°ëŠ¥ì„ í™œìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³¼ ê²ƒì…ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì¼ë¶€ ì‚¬ìš© ì‚¬ë¡€ ì˜ˆì œë¥¼ ì‚´í´ë³´ê³ , Terraform, Kubernetes (K8S) ë° Helm ì°¨íŠ¸ë¥¼ ìŠ¤ìº”í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤„ ê²ƒì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì‚¬ìš©ì ì •ì˜ ì •ì±…ì„ ì •ì˜í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ê³ , ë§ˆì§€ë§‰ìœ¼ë¡œ Terrascanì´ Chekov ë° TFSecì™€ ê°™ì€ ë‹¤ë¥¸ ìœ ì‚¬í•œ ì œí’ˆê³¼ ë¹„êµë˜ëŠ” ë°©ë²•ì„ ìì„¸íˆ ì‚´í´ë³¼ ê²ƒì…ë‹ˆë‹¤.\n\n![What is Terrascan](/assets/img/2024-05-23-WhatisTerrascan_0.png)\n\n## Terrascanì´ë€ ë¬´ì—‡ì¸ê°€ìš”?\n\nTerrascanì€ ì¸í”„ë¼ë¥¼ ì½”ë“œë¡œ ì •ì˜í•˜ëŠ”(Infrastructure as Code, IaC)ë¥¼ ìœ„í•œ ì˜¤í”ˆ ì†ŒìŠ¤ ì •ì  ì½”ë“œ ë¶„ì„ ë„êµ¬ì…ë‹ˆë‹¤. Terrascan ì›¹ì‚¬ì´íŠ¸ íƒœê·¸ë¼ì¸ì´ Terrascanì„ ìš”ì•½í•©ë‹ˆë‹¤:\n\n<div class=\"content-ad\"></div>\n\nì—¬ê¸°ì˜ í•µì‹¬ í‚¤ì›Œë“œ ì¤‘ í•˜ë‚˜ëŠ” 'before'ì…ë‹ˆë‹¤. Terrascan ë„êµ¬ì˜ ëª©í‘œëŠ” ì¸í”„ë¼ê°€ í”„ë¡œë¹„ì €ë‹ë˜ê¸° ì „ì— ê·œì • ì¤€ìˆ˜ë‚˜ ë³´ì•ˆ ë¬¸ì œë¥¼ ì•Œë ¤ì¤Œìœ¼ë¡œì¨ ì´ë¥¼ í•´ê²°í•˜ì—¬ ë¬¸ì œë¥¼ í”¼í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nTerrascanì€ Tenableì´ ì†Œìœ í•˜ê³  ìˆìœ¼ë©°, ì´ íšŒì‚¬ëŠ” Cloud Native Computing Foundation (CNCF) ë° Open Source Security Foundation (OpenSSF)ì˜ íšŒì›ì…ë‹ˆë‹¤.\n\n## Terrascanì˜ ì‚¬ìš© ëª©ì \n\nTerrascanì€ ê°œë°œìì™€ DevOps íŒ€ì´ ì¸í”„ë¼ ì½”ë“œê°€ ëª¨ë²” ì‚¬ë¡€, ë³´ì•ˆ í‘œì¤€ ë° ê·œì • ìš”êµ¬ ì‚¬í•­ì„ ì¤€ìˆ˜í•˜ëŠ”ì§€ë¥¼ ë³´ì¥í•˜ëŠ” ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤. Terrascanì€ 500ê°œ ì´ìƒì˜ ë¯¸ë¦¬ ì„¤ì •ëœ ì •ì±…ì„ ì œê³µí•˜ì—¬ CIS Benchmarkì™€ ê°™ì€ ê³µí†µ ì •ì±… í‘œì¤€ì— ëŒ€í•´ IaCë¥¼ ê²€ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Terrascanì„ ì²˜ìŒ ì‚¬ìš©í•  ë•Œ -p í”Œë˜ê·¸ê°€ ì§€ì •ë˜ì§€ ì•Šì€ ê²½ìš°, Terrascanì€ Terrascan ë¦¬í¬ì§€í† ë¦¬ì—ì„œ ìµœì‹  ì •ì±…ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤. terrascan initë¥¼ ì‹¤í–‰í•˜ì—¬ ë¡œì»¬ í™˜ê²½ì„ ë¦¬í¬ì§€í† ë¦¬ì— ê²Œì‹œëœ ìµœì‹  ì •ì±…ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n## Terrascan íŠ¹ì§•\n\n- Terrascanì€ AWS, Azure, Google Cloud Platform (GCP), K8S, ArgoCD, Atlantis, GitHub, Dockerì„ í¬í•¨í•œ ë‹¤ì–‘í•œ í´ë¼ìš°ë“œ ì œê³µì—…ì²´ ë° ì½”ë“œ ìœ í˜•ê³¼ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ êµì°¨ í´ë¼ìš°ë“œ ì¸í”„ë¼ ë°°í¬ì— ë‹¤ì¬ë‹¤ëŠ¥í•©ë‹ˆë‹¤.\n- Terrascanì€ ì‚¬ìš©ì ì •ì˜ ê°€ëŠ¥í•œ ì‚¬ì „ ì •ì˜ëœ ë³´ì•ˆ ë° ê·œì • ì¤€ìˆ˜ ê·œì¹™ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ê·œì¹™ì€ ì•”í˜¸í™”, ì•¡ì„¸ìŠ¤ ì œì–´, ë¦¬ì†ŒìŠ¤ êµ¬ì„± ë“± ì¸í”„ë¼ ë³´ì•ˆ ë° ê·œì • ì¤€ìˆ˜ì˜ ë‹¤ì–‘í•œ ì¸¡ë©´ì„ í¬í•¨í•©ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì •ì±…ì„ ìì„¸íˆ ë³´ë ¤ë©´ terrascan ì •ì±… ë¬¸ì„œ í˜ì´ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- Terrascanì€ CI/CD íŒŒì´í”„ë¼ì¸, IDE(í†µí•© ê°œë°œ í™˜ê²½) ë° ë‹¤ë¥¸ ê°œë°œ ë° ë°°í¬ ì›Œí¬í”Œë¡œì— í†µí•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ IaC ì½”ë“œì˜ ìë™ ìŠ¤ìº” ë° ìœ íš¨ì„± ê²€ì‚¬ê°€ ê°œë°œ í”„ë¡œì„¸ìŠ¤ì˜ ì¼ë¶€ë¡œ ì´ë£¨ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- Terrascanì€ í´ë¼ìš°ë“œ ì¸í”„ë¼ì˜ ì§€ì†ì ì¸ ëª¨ë‹ˆí„°ë§ì— ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì·¨ì•½ì ì´ë‚˜ ê·œì • ì¤€ìˆ˜ ë¬¸ì œë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ë³€ì§ˆì´ë‚˜ êµ¬ì„± ë³€ê²½ì„ ì •ê¸°ì ìœ¼ë¡œ ê²€ì‚¬í•˜ê³  í™•ì¸í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ë³´ê³  ë° ê°œì„ : Terrascanì€ ë¶„ì„ ì¤‘ ë°œê²¬ëœ ë¬¸ì œë¥¼ ê°•ì¡°í•˜ëŠ” ìì„¸í•œ ë³´ê³ ì„œë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ë˜í•œ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ì–´ë–»ê²Œ ê°œì„ í• ì§€ì— ëŒ€í•œ ì§€ì¹¨ì„ ì œê³µí•˜ì—¬ íŒ€ì´ ë³´ì•ˆ ë° ê·œì • ì¤€ìˆ˜ ë¬¸ì œë¥¼ íš¨ê³¼ì ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.\n\n## Terrascan ì„¤ì¹˜ ë°©ë²•\n\n- Windows\n\n<div class=\"content-ad\"></div>\n\nì¸ê¸° ìˆëŠ” Windows íŒ¨í‚¤ì§€ ê´€ë¦¬ì Chocolatelyë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ ìˆ˜ë™ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œí•˜ì—¬ ì„¤ì¹˜í•  ìˆ˜ ìˆì–´ìš”.\n\n```js\nchoco install terrascan\n```\n\në¦´ë¦¬ìŠ¤ í˜ì´ì§€ì—ì„œ Terrascanì„ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”:\n\nzip íŒŒì¼ì—ì„œ íŒŒì¼ì„ ì¶”ì¶œí•˜ê³  Windows ê²½ë¡œì— ì¶”ê°€í•˜ì„¸ìš”.\n\n<div class=\"content-ad\"></div>\n\n- ì‹œì‘ ë‹¨ì¶”ë¥¼ ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ ë²„íŠ¼ìœ¼ë¡œ í´ë¦­í•©ë‹ˆë‹¤.\n- ì½˜í…ìŠ¤íŠ¸ ë©”ë‰´ì—ì„œ â€œì‹œìŠ¤í…œâ€ì„ ì„ íƒí•©ë‹ˆë‹¤.\n- â€œê³ ê¸‰ ì‹œìŠ¤í…œ ì„¤ì •â€ì„ í´ë¦­í•©ë‹ˆë‹¤.\n- â€œê³ ê¸‰â€ íƒ­ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.\n- â€œí™˜ê²½ ë³€ìˆ˜â€¦â€ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.\n- â€œPathâ€ë¼ëŠ” ë³€ìˆ˜ë¥¼ í´ë¦­í•˜ê³  â€œí¸ì§‘â€¦â€ì„ í´ë¦­í•©ë‹ˆë‹¤.\n- â€œìƒˆë¡œ ë§Œë“¤ê¸°â€ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.\n- PATHì— í¬í•¨í•˜ë ¤ëŠ” Terrascan íŒŒì¼ì´ ìˆëŠ” í´ë”ì˜ ê²½ë¡œë¥¼ ì…ë ¥í•˜ì„¸ìš”.\n\n- MacOS\n\n```js\ncurl -L \"$(curl -s https://api.github.com/repos/tenable/terrascan/releases/latest | grep -o -E \"https://.+?_Darwin_x86_64.tar.gz\")\" > terrascan.tar.gz\ntar -xf terrascan.tar.gz terrascan && rm terrascan.tar.gz\ninstall terrascan /usr/local/bin && rm terrascan\nsudo install terrascan /usr/local/bin\n```\n\n- Linux\n\n<div class=\"content-ad\"></div>\n\n```js\ncurl -L \"$(curl -s https://api.github.com/repos/tenable/terrascan/releases/latest | grep -o -E \"https://.+?_Linux_x86_64.tar.gz\")\" > terrascan.tar.gz\ntar -xf terrascan.tar.gz terrascan && rm terrascan.tar.gz\ninstall terrascan /usr/local/bin && rm terrascan\nsudo install terrascan /usr/local/bin\n```\n\n- ë„ì»¤\n\në„ì»¤ í—ˆë¸Œì—ì„œ ì´ë¯¸ì§€ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ê°€ì ¸ì˜¬ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:\n\n```js\n$ docker run --rm tenable/terrascan version\n```\n\n<div class=\"content-ad\"></div>\n\ní…Œë¼ìŠ¤ìº”ì„ ì„¤ì¹˜í•œ í›„ ì„¤ì¹˜ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ëª…ë ¹ì¤„ì—ì„œ í…Œë¼ìŠ¤ìº”ì„ ì‹¤í–‰í•˜ì„¸ìš”.\n\n![Terrascan](/assets/img/2024-05-23-WhatisTerrascan_1.png)\n\n## IaC ì½”ë“œë¥¼ ìŠ¤ìº”í•˜ëŠ” ë°©ë²•\n\nì½”ë“œë¥¼ ìŠ¤ìº”í•˜ë ¤ë©´ êµ¬ì„± íŒŒì¼ì´ ìˆëŠ” í´ë”ë¡œ ì´ë™í•œ í›„ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”:\n\n<div class=\"content-ad\"></div>\n\n```js\nterrascan scan\n```\n\n--c ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤ìº”í•  ë””ë ‰í† ë¦¬ë¥¼ ì§€ì •í•  ìˆ˜ë„ ìˆì–´ìš”.\n\n## Terrascan ì‚¬ìš© ì‚¬ë¡€ - ì˜ˆì‹œ\n\nTerrascanì„ ì—¬ëŸ¬ ìœ í˜•ì˜ êµ¬ì„± íŒŒì¼ê³¼ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”. ì—¬ê¸°ì— ëª‡ ê°€ì§€ ì˜ˆì‹œê°€ ìˆì–´ìš”. ì´ë¥¼ í†µí•´ ì‰½ê²Œ ì‹œì‘í•  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”.\n\n<div class=\"content-ad\"></div>\n\n## ì˜ˆì œ 1 â€” Terraform ì½”ë“œ ìŠ¤ìº”\n\nAzureë¥¼ ìœ„í•œ ì˜ˆì œ Terraform ì„¤ì • íŒŒì¼ì´ ìˆìŠµë‹ˆë‹¤. ì´ íŒŒì¼ì€ ê°„ë‹¨íˆ ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ì„ ìƒì„±í•©ë‹ˆë‹¤:\n\nmain.tf\n\n```js\nprovider \"azurerm\" {\n  features {}\n}\n\nresource \"azurerm_resource_group\" \"example\" {\n  name     = \"example-resources\"\n  location = \"East US\"\n}\n```\n\n<div class=\"content-ad\"></div>\n\níŒŒì¼ì„ ì €ì¥í•œ í›„ í•´ë‹¹ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ì—¬ terrascan scanì„ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤. Terrascanì´ 1ê°œì˜ ì •ì±… ìœ„ë°˜ì„ ê°ì§€í•˜ê³  ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ì— ë¦¬ì†ŒìŠ¤ ì ê¸ˆì„ í™œì„±í™”í•´ì•¼ í•œë‹¤ê³  ê¶Œì¥í•¨ì„ ë³¼ ìˆ˜ ìˆì–´ìš”. ì´ ë¬¸ì œëŠ” LOW ì‹¬ê°ë„ë¡œ í‘œì‹œë¼ìš”.\n\n![Terrascan Screenshot](/assets/img/2024-05-23-WhatisTerrascan_2.png)\n\n## ì˜ˆì œ 2 - Helm ì°¨íŠ¸ ìŠ¤ìº”\n\nHelm ì°¨íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ Terrascanì„ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ demo-chartë¼ëŠ” ìƒˆ ì°¨íŠ¸ë¥¼ ë§Œë“¤ì–´ë³´ê² ì–´ìš”:\n\n<div class=\"content-ad\"></div>\n\n```js\nhelm create demo-chart\n```\n\nì´ì œ values.yaml íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ Terrascanì´ ë³´ê³ í•  ëª‡ ê°€ì§€ ì¶”ê°€ ì·¨ì•½ì ì„ ì¶”ê°€í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n<img src=\"/assets/img/2024-05-23-WhatisTerrascan_3.png\" />\n\nvalues.yaml íŒŒì¼ì´ ìˆëŠ” ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•œ ë‹¤ìŒ terrascan scanì„ ì‹¤í–‰í•˜ì„¸ìš”. ë³´ê³ ëœ ìœ„ë°˜ ì •ì±…ì´ ì—¬ëŸ¬ ê°œ í‘œì‹œë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ì—¬ê¸°ì—ëŠ” ìœ„ì— securityContext ë¼ì¸ì„ ì¶”ê°€í•˜ì—¬ ë°œìƒì‹œí‚¨ HIGH ì‹¬ê°ë„ì˜ 2ê°œì˜ ì •ì±… ìœ„ë°˜ì´ í¬í•¨ë  ê²ƒì…ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n<img src=\"/assets/img/2024-05-23-WhatisTerrascan_4.png\" />\n\n## ì˜ˆì œ 3 â€” ì¿ ë²„ë„¤í‹°ìŠ¤ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ìŠ¤ìº”í•˜ê¸°\n\nK8S ë§¤ë‹ˆí˜ìŠ¤íŠ¸ë¥¼ ìŠ¤ìº”í•˜ëŠ” ë°©ë²•ì„ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ ê°„ë‹¨í•œ nginx ë°°í¬ìš© íŒŒì¼ì„ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤:\n\nnginx.yaml\n\n<div class=\"content-ad\"></div>\n\n```yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-deployment\n  labels:\n    app: nginx\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx:latest\n        ports:\n        - containerPort: 80\n```\n\nnginx.yaml íŒŒì¼ì´ ìˆëŠ” í´ë”ë¡œ ì´ë™í•˜ì—¬ terrascan scanì„ ì‹¤í–‰í•´ì£¼ì„¸ìš”.\n\nTerrascanì—ì„œ ì—¬ëŸ¬ ê¶Œì¥ ì‚¬í•­ì„ ë³´ê²Œ ë  ê²ƒì¸ë°, ê·¸ ì¤‘ì—ëŠ” 2ê°œì˜ HIGH ìš°ì„  ìˆœìœ„ ì´ìŠˆ('Minimize Admission of Root Containers' ë° 'Containers Should Not Run with AllowPrivilegeEscalation')ë„ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n<img src=\"/assets/img/2024-05-23-WhatisTerrascan_5.png\" />\n\n\n<div class=\"content-ad\"></div>\n\n## ì˜ˆì œ 4 â€” Terrascanì„ ArgoCDì™€ í†µí•©í•˜ê¸°\n\nTerrascanì€ ì¸ê¸°ìˆëŠ” CI/CD ì‹œìŠ¤í…œì¸ Azure DevOps, GitHub, GitLab ë° Argoì™€ í†µí•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ArgoCDì˜ ê²½ìš°, Terrascanì€ ArgoCDì˜ ë¦¬ì†ŒìŠ¤ í›„í¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ìš© í”„ë¡œê·¸ë¨ ì‚¬ì „ ë™ê¸°í™” í”„ë¡œì„¸ìŠ¤ ì¤‘ Argo CD ì‘ì—…ìœ¼ë¡œ êµ¬ì„±ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ Terrascanì˜ K8S admission ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ì „ ë™ê¸°í™” ë° ì»¨íŠ¸ë¡¤ëŸ¬ ì›¹í›…ê³¼ í•¨ê»˜ êµ¬ì„±ëœ ì €ì¥ì†Œë¥¼ ìŠ¤ìº”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nTerrascan ë¬¸ì„œ í˜ì´ì§€ì—ì„œ ì „ì²´ í†µí•© ì˜ˆì‹œë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## Terrascan ì‚¬ìš©ì ì •ì˜ ì •ì±…\n\n<div class=\"content-ad\"></div>\n\nTerrascanì€ ì‚¬ìš©ìê°€ Rego ì¿¼ë¦¬ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‰½ê²Œ ì‚¬ìš©ì ì •ì˜ ì •ì±…ì„ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ Open Policy Agent (OPA) ì—”ì§„ì„ í™œìš©í•©ë‹ˆë‹¤. ê° rego ì •ì±…ì—ëŠ” ì •ì±…ì— ëŒ€í•œ ë©”íƒ€ë°ì´í„°ë¥¼ ì •ì˜í•˜ëŠ” JSON \"rule\" íŒŒì¼ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. Terrascanì— í¬í•¨ëœ ì •ì±…ì€ pkg/policies/opa/rego ë””ë ‰í† ë¦¬ì— ì €ì¥ë©ë‹ˆë‹¤. rule.json íŒŒì¼ì€ Rego íŒŒì¼ì—ì„œ ì •ì˜ëœ ì‚¬ìš©ì ì •ì˜ ì •ì±…ì„ ì°¸ì¡°í•˜ëŠ” êµ¬ì„± íŒŒì¼ë¡œ, Terrascan ìŠ¤ìº” ì¤‘ì— ì–´ë–¤ ì •ì±…ì´ ì ìš©ë˜ê³  ì‹¬ê°ì„± ìˆ˜ì¤€ì´ ì–´ë–»ê²Œë˜ëŠ”ì§€ë¥¼ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ìš©ì ì •ì±… ë¡œì§ ë° ê·œì¹™ì€ .rego íŒŒì¼ì— ì •ì˜ë˜ë©°, rule.json íŒŒì¼ì€ í•´ë‹¹ ì •ì±…ì„ ì ìš©í•˜ê³  êµ¬ì„±í•˜ëŠ” ë°©ë²•ì„ ì§€ì •í•©ë‹ˆë‹¤.\n\nì•„ë˜ ì •ì±… ì˜ˆì‹œëŠ” Azure ë¦¬ì†ŒìŠ¤ê°€ \"UK South\" ë˜ëŠ” \"UK West\"ì—ë§Œ ìˆì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ê°•ì œí•©ë‹ˆë‹¤. ë‹¤ë¥¸ ìœ„ì¹˜ì—ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ìœ¼ë©´ Terrascanì—ì„œ ë³´ê³ ë©ë‹ˆë‹¤.\n\nazure_region_policy.rego\n\n```js\npackage main\n\nimport input.tfplan as tfplan\n\ndefault allow = false\n\nallowed_regions = [\"UK South\", \"UK West\"]\n\n# í…Œë¼í¼ ê³„íšì˜ ëª¨ë“  Azure ë¦¬ì†ŒìŠ¤ë¥¼ ë°˜ë³µí•©ë‹ˆë‹¤.\nazure_resources[resource_name] {\n    resource_name = input.tfplan.resource_changes[_].address\n    input.tfplan.resource_changes[_].type == \"azurerm_resource\"\n}\n\n# ê° Azure ë¦¬ì†ŒìŠ¤ì˜ ì§€ì—­ì´ í—ˆìš©ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.\nallow {\n    resource_name\n    resource_config := input.tfplan.resource_changes[resource_name].change.after\n    resource_config.location == allowed_region\n    allowed_region = allowed_regions[_]\n}\n```\n\n\n<div class=\"content-ad\"></div>\n\nì‚¬ìš©ì ì •ì±…ì„ í™œì„±í™”í•˜ë ¤ë©´ rule.json íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ Terrascanì˜ ë™ì‘ì„ êµ¬ì„±í•˜ê³  ìŠ¤ìº” ì¤‘ì— ì ìš©í•´ì•¼ í•  ì •ì±…ì„ ì§€ì •í•©ë‹ˆë‹¤.\n\nrule.json\n\n```js\n{\n  \"rules\": {\n    \"azure_region_policy\": {\n      \"severity\": \"HIGH\",\n      \"message\": \"'UK South' ë˜ëŠ” 'UK West' ì§€ì—­ì— Azure ë¦¬ì†ŒìŠ¤ë¥¼ ë°°í¬í•´ì•¼ í•©ë‹ˆë‹¤.\",\n      \"rules_file\": \"azure_region_policy.rego\"\n    }\n  }\n}\n```\n\në§ˆì§€ë§‰ìœ¼ë¡œ ì‚¬ìš©ì ì •ì±…ì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤ìº”í•˜ë ¤ë©´ ìŠ¤ìº”í•˜ë ¤ëŠ” ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ê³  -rules í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ json íŒŒì¼ ê²½ë¡œë¥¼ ì§€ì •í•˜ì‹­ì‹œì˜¤.\n\n<div class=\"content-ad\"></div>\n\n```js\nterrascan scan -rules /path/to/rule.json\n```\n\në˜í•œ Terrascanì€ ì›í•˜ëŠ” ê²½ìš° ì •ì±…ì„ ì¤€ìˆ˜í•˜ì§€ ì•Šìœ¼ë ¤ë©´ í•´ë‹¹ ì •ì±…ì„ ì œì™¸í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì˜ˆì‹œ 1ì—ì„œ êµ¬ì„±í•œ Azure ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ì— ë¦¬ì†ŒìŠ¤ ì ê¸ˆì„ ì‚¬ìš©í•˜ê³  ì‹¶ì§€ ì•Šë‹¤ë©´ ì´ ì •ì±…ì„ ìŠ¤ìº”ì—ì„œ ì œì™¸í•˜ì—¬ ì´ ë¬¸ì œë¡œ í‘œì‹œë˜ì§€ ì•Šê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ -skip-rules í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ íŠ¹ì • ë¦¬ì†ŒìŠ¤ì—ì„œ ì •ì±…ì„ ê±´ë„ˆë›°ëŠ” íŒŒì¼ ë‚´ë¶€ ê¸°ëŠ¥ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\n## Terrascan ëŒ€ Checkov\n\nì™¸ê´€ìƒìœ¼ë¡œ ë³´ë©´, Terrascanê³¼ CheckovëŠ” ë§¤ìš° ìœ ì‚¬í•©ë‹ˆë‹¤. ë‘˜ ë‹¤ IaC ë³´ì•ˆ ë° ê·œì • ì¤€ìˆ˜ ìŠ¤ìº”ì„ ìœ„í•´ ì„¤ê³„ëœ ì˜¤í”ˆ ì†ŒìŠ¤ ì •ì  ì½”ë“œ ë¶„ì„ ë„êµ¬ì…ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\nCheckovì€ Terraformì— ì£¼ë¡œ ì´ˆì ì„ ë§ì¶”ê³  ìˆì§€ë§Œ, AWS SAMì„ í¬í•¨í•œ CloudFormation, Azure Resource Manager (ARM), Serverless framework, Helm ì°¨íŠ¸, K8S ë° Dockerì™€ ê°™ì€ ì—¬ëŸ¬ ìœ í˜•ì˜ íŒŒì¼ì„ ìŠ¤ìº”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. CheckovëŠ” í™œë°œí•œ ê¸°ì—¬ ë° DevSecOps ì»¤ë®¤ë‹ˆí‹°ì—ì„œ ê°•ë ¥í•œ ì¡´ì¬ê°ì„ ë³´ì´ëŠ” ì»¤ë®¤ë‹ˆí‹° ì£¼ë„ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\n\nCheckovëŠ” Pythonì„ ì‚¬ìš©í•˜ì—¬ êµ¬ì¶•ë˜ì—ˆìœ¼ë©°, Terrascanì€ Goë¥¼ ì‚¬ìš©í•˜ë©° Regoë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ì •ì˜ ì •ì±…ì„ ì‘ì„±í•©ë‹ˆë‹¤. ì‚¬ìš©ì ì •ì˜ ì •ì±…ì„ ì‘ì„±í•˜ëŠ” ë° Regoë¥¼ ì„ í˜¸í•œë‹¤ë©´ Terrascanì€ ì¢‹ì€ ì„ íƒì…ë‹ˆë‹¤.\n\n## Terrascan vs tfsec\n\nTfsecëŠ” ë˜ ë‹¤ë¥¸ ì˜¤í”ˆ ì†ŒìŠ¤ ì •ì  ì½”ë“œ ë¶„ì„ ë„êµ¬ì´ë©°, ê³ ë ¤í•  ìˆ˜ ìˆëŠ” ì£¼ìš” ì˜µì…˜ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\nTerrascanê³¼ ë‹¬ë¦¬ TFSecëŠ” GOë¡œ ì‘ì„±ë˜ì—ˆìœ¼ë©° ì‚¬ìš©ì ì •ì˜ ì •ì±…ì—ëŠ” Terrascanì—ì„œ ì‚¬ìš©ë˜ëŠ” Rego ëŒ€ì‹  YAML ì •ì˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. K8Sì— ìµìˆ™í•œ ì‚¬ìš©ìëŠ” Rego í•™ìŠµ ëŒ€ì‹  YAMLì„ ì‚¬ìš©í•˜ì—¬ ì •ì±…ì„ ì‘ì„±í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” TFSecë¥¼ ì„ íƒí•˜ëŠ” ì´ìœ ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ì»¤ë®¤ë‹ˆí‹°ì—ì„œ Checkov ë° Terrascanë³´ë‹¤ ê°€ì¥ ì¸ê¸° ìˆëŠ” í”„ë¡œì íŠ¸ì´ë©° ê°€ì¥ ë§ì€ GitHub ìŠ¤íƒ€ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.\n\n## ì£¼ìš” í¬ì¸íŠ¸\n\nTerrascanì€ IaC í…œí”Œë¦¿ ë° êµ¬ì„±ì„ ìŠ¤ìº”í•˜ëŠ” ë° ì„¤ê³„ëœ ë§¤ìš° ìœ ì—°í•˜ê³  ê°•ë ¥í•œ ì˜¤í”ˆ ì†ŒìŠ¤ ì •ì  ì½”ë“œ ë¶„ì„ ë„êµ¬ì…ë‹ˆë‹¤. IaC ì½”ë“œì—ì„œ ë³´ì•ˆ ì·¨ì•½ì , ì¤€ìˆ˜ ìœ„ë°˜ ë° ìµœìƒì˜ ì‹¤ì²œ ë°©ë²• ë¬¸ì œë¥¼ ì‹ë³„í•˜ëŠ” ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤. ë‹¤ì–‘í•œ ìœ í˜•ì˜ êµ¬ì„± íŒŒì¼ê³¼ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° ë‚´ì¥ ì •ì±…ì„ ì œê³µí•˜ë©° Regoë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ì •ì˜ ì •ì±…ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. CI/CD ì‹œìŠ¤í…œê³¼ ìë™í™” íŒŒì´í”„ë¼ì¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì§€ì›ë©ë‹ˆë‹¤.\n\nì—¬ê¸°ì—ì„œ Terraformì— ê´€í•œ ë‹¤ë¥¸ ê¸°ì‚¬ë“¤ë„ í™•ì¸í•´ë³´ì„¸ìš”!\n\n<div class=\"content-ad\"></div>\n\ní™˜í˜¸! ğŸ»\n\nì›ë˜ spacelift.ioì—ì„œ ë°œí–‰ë˜ì—ˆìŠµë‹ˆë‹¤.","ogImage":{"url":"/assets/img/2024-05-23-WhatisTerrascan_0.png"},"coverImage":"/assets/img/2024-05-23-WhatisTerrascan_0.png","tag":["Tech"],"readingTime":9},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    img: \"img\",\n    h2: \"h2\",\n    ul: \"ul\",\n    li: \"li\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"ì´ ê¸°ì‚¬ì—ì„œëŠ” Terrascanì„ ì‚´í´ë³¼ ê²ƒì…ë‹ˆë‹¤. ì´ê²ƒì´ ë¬´ì—‡ì¸ì§€, ì™œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ì§€, ì–´ë–»ê²Œ ì„¤ì¹˜í•´ì•¼ í•˜ëŠ”ì§€, ê·¸ë¦¬ê³  ê·¸ ê¸°ëŠ¥ì„ í™œìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³¼ ê²ƒì…ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì¼ë¶€ ì‚¬ìš© ì‚¬ë¡€ ì˜ˆì œë¥¼ ì‚´í´ë³´ê³ , Terraform, Kubernetes (K8S) ë° Helm ì°¨íŠ¸ë¥¼ ìŠ¤ìº”í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤„ ê²ƒì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì‚¬ìš©ì ì •ì˜ ì •ì±…ì„ ì •ì˜í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ê³ , ë§ˆì§€ë§‰ìœ¼ë¡œ Terrascanì´ Chekov ë° TFSecì™€ ê°™ì€ ë‹¤ë¥¸ ìœ ì‚¬í•œ ì œí’ˆê³¼ ë¹„êµë˜ëŠ” ë°©ë²•ì„ ìì„¸íˆ ì‚´í´ë³¼ ê²ƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-23-WhatisTerrascan_0.png\",\n        alt: \"What is Terrascan\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Terrascanì´ë€ ë¬´ì—‡ì¸ê°€ìš”?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascanì€ ì¸í”„ë¼ë¥¼ ì½”ë“œë¡œ ì •ì˜í•˜ëŠ”(Infrastructure as Code, IaC)ë¥¼ ìœ„í•œ ì˜¤í”ˆ ì†ŒìŠ¤ ì •ì  ì½”ë“œ ë¶„ì„ ë„êµ¬ì…ë‹ˆë‹¤. Terrascan ì›¹ì‚¬ì´íŠ¸ íƒœê·¸ë¼ì¸ì´ Terrascanì„ ìš”ì•½í•©ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì—¬ê¸°ì˜ í•µì‹¬ í‚¤ì›Œë“œ ì¤‘ í•˜ë‚˜ëŠ” 'before'ì…ë‹ˆë‹¤. Terrascan ë„êµ¬ì˜ ëª©í‘œëŠ” ì¸í”„ë¼ê°€ í”„ë¡œë¹„ì €ë‹ë˜ê¸° ì „ì— ê·œì • ì¤€ìˆ˜ë‚˜ ë³´ì•ˆ ë¬¸ì œë¥¼ ì•Œë ¤ì¤Œìœ¼ë¡œì¨ ì´ë¥¼ í•´ê²°í•˜ì—¬ ë¬¸ì œë¥¼ í”¼í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascanì€ Tenableì´ ì†Œìœ í•˜ê³  ìˆìœ¼ë©°, ì´ íšŒì‚¬ëŠ” Cloud Native Computing Foundation (CNCF) ë° Open Source Security Foundation (OpenSSF)ì˜ íšŒì›ì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Terrascanì˜ ì‚¬ìš© ëª©ì \"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascanì€ ê°œë°œìì™€ DevOps íŒ€ì´ ì¸í”„ë¼ ì½”ë“œê°€ ëª¨ë²” ì‚¬ë¡€, ë³´ì•ˆ í‘œì¤€ ë° ê·œì • ìš”êµ¬ ì‚¬í•­ì„ ì¤€ìˆ˜í•˜ëŠ”ì§€ë¥¼ ë³´ì¥í•˜ëŠ” ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤. Terrascanì€ 500ê°œ ì´ìƒì˜ ë¯¸ë¦¬ ì„¤ì •ëœ ì •ì±…ì„ ì œê³µí•˜ì—¬ CIS Benchmarkì™€ ê°™ì€ ê³µí†µ ì •ì±… í‘œì¤€ì— ëŒ€í•´ IaCë¥¼ ê²€ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Terrascanì„ ì²˜ìŒ ì‚¬ìš©í•  ë•Œ -p í”Œë˜ê·¸ê°€ ì§€ì •ë˜ì§€ ì•Šì€ ê²½ìš°, Terrascanì€ Terrascan ë¦¬í¬ì§€í† ë¦¬ì—ì„œ ìµœì‹  ì •ì±…ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤. terrascan initë¥¼ ì‹¤í–‰í•˜ì—¬ ë¡œì»¬ í™˜ê²½ì„ ë¦¬í¬ì§€í† ë¦¬ì— ê²Œì‹œëœ ìµœì‹  ì •ì±…ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Terrascan íŠ¹ì§•\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Terrascanì€ AWS, Azure, Google Cloud Platform (GCP), K8S, ArgoCD, Atlantis, GitHub, Dockerì„ í¬í•¨í•œ ë‹¤ì–‘í•œ í´ë¼ìš°ë“œ ì œê³µì—…ì²´ ë° ì½”ë“œ ìœ í˜•ê³¼ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ êµì°¨ í´ë¼ìš°ë“œ ì¸í”„ë¼ ë°°í¬ì— ë‹¤ì¬ë‹¤ëŠ¥í•©ë‹ˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Terrascanì€ ì‚¬ìš©ì ì •ì˜ ê°€ëŠ¥í•œ ì‚¬ì „ ì •ì˜ëœ ë³´ì•ˆ ë° ê·œì • ì¤€ìˆ˜ ê·œì¹™ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ê·œì¹™ì€ ì•”í˜¸í™”, ì•¡ì„¸ìŠ¤ ì œì–´, ë¦¬ì†ŒìŠ¤ êµ¬ì„± ë“± ì¸í”„ë¼ ë³´ì•ˆ ë° ê·œì • ì¤€ìˆ˜ì˜ ë‹¤ì–‘í•œ ì¸¡ë©´ì„ í¬í•¨í•©ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì •ì±…ì„ ìì„¸íˆ ë³´ë ¤ë©´ terrascan ì •ì±… ë¬¸ì„œ í˜ì´ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Terrascanì€ CI/CD íŒŒì´í”„ë¼ì¸, IDE(í†µí•© ê°œë°œ í™˜ê²½) ë° ë‹¤ë¥¸ ê°œë°œ ë° ë°°í¬ ì›Œí¬í”Œë¡œì— í†µí•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ IaC ì½”ë“œì˜ ìë™ ìŠ¤ìº” ë° ìœ íš¨ì„± ê²€ì‚¬ê°€ ê°œë°œ í”„ë¡œì„¸ìŠ¤ì˜ ì¼ë¶€ë¡œ ì´ë£¨ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Terrascanì€ í´ë¼ìš°ë“œ ì¸í”„ë¼ì˜ ì§€ì†ì ì¸ ëª¨ë‹ˆí„°ë§ì— ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì·¨ì•½ì ì´ë‚˜ ê·œì • ì¤€ìˆ˜ ë¬¸ì œë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ë³€ì§ˆì´ë‚˜ êµ¬ì„± ë³€ê²½ì„ ì •ê¸°ì ìœ¼ë¡œ ê²€ì‚¬í•˜ê³  í™•ì¸í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ë³´ê³  ë° ê°œì„ : Terrascanì€ ë¶„ì„ ì¤‘ ë°œê²¬ëœ ë¬¸ì œë¥¼ ê°•ì¡°í•˜ëŠ” ìì„¸í•œ ë³´ê³ ì„œë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ë˜í•œ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ì–´ë–»ê²Œ ê°œì„ í• ì§€ì— ëŒ€í•œ ì§€ì¹¨ì„ ì œê³µí•˜ì—¬ íŒ€ì´ ë³´ì•ˆ ë° ê·œì • ì¤€ìˆ˜ ë¬¸ì œë¥¼ íš¨ê³¼ì ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Terrascan ì„¤ì¹˜ ë°©ë²•\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Windows\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì¸ê¸° ìˆëŠ” Windows íŒ¨í‚¤ì§€ ê´€ë¦¬ì Chocolatelyë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ ìˆ˜ë™ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œí•˜ì—¬ ì„¤ì¹˜í•  ìˆ˜ ìˆì–´ìš”.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-js\",\n        children: \"choco install terrascan\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë¦´ë¦¬ìŠ¤ í˜ì´ì§€ì—ì„œ Terrascanì„ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"zip íŒŒì¼ì—ì„œ íŒŒì¼ì„ ì¶”ì¶œí•˜ê³  Windows ê²½ë¡œì— ì¶”ê°€í•˜ì„¸ìš”.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"ì‹œì‘ ë‹¨ì¶”ë¥¼ ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ ë²„íŠ¼ìœ¼ë¡œ í´ë¦­í•©ë‹ˆë‹¤.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"ì½˜í…ìŠ¤íŠ¸ ë©”ë‰´ì—ì„œ â€œì‹œìŠ¤í…œâ€ì„ ì„ íƒí•©ë‹ˆë‹¤.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"â€œê³ ê¸‰ ì‹œìŠ¤í…œ ì„¤ì •â€ì„ í´ë¦­í•©ë‹ˆë‹¤.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"â€œê³ ê¸‰â€ íƒ­ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"â€œí™˜ê²½ ë³€ìˆ˜â€¦â€ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"â€œPathâ€ë¼ëŠ” ë³€ìˆ˜ë¥¼ í´ë¦­í•˜ê³  â€œí¸ì§‘â€¦â€ì„ í´ë¦­í•©ë‹ˆë‹¤.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"â€œìƒˆë¡œ ë§Œë“¤ê¸°â€ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"PATHì— í¬í•¨í•˜ë ¤ëŠ” Terrascan íŒŒì¼ì´ ìˆëŠ” í´ë”ì˜ ê²½ë¡œë¥¼ ì…ë ¥í•˜ì„¸ìš”.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"MacOS\"\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"curl -L \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"$(curl -s https://api.github.com/repos/tenable/terrascan/releases/latest | grep -o -E \\\"\"\n        }), _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"https\"\n        }), \":\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"//.+?_Darwin_x86_64.tar.gz\\\")\\\" > terrascan.tar.gz\"\n        }), \"\\ntar -xf terrascan.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tar\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"gz\"\n        }), \" terrascan && rm terrascan.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tar\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"gz\"\n        }), \"\\ninstall terrascan /usr/local/bin && rm terrascan\\nsudo install terrascan /usr/local/bin\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Linux\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"curl -L \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"$(curl -s https://api.github.com/repos/tenable/terrascan/releases/latest | grep -o -E \\\"\"\n        }), _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"https\"\n        }), \":\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"//.+?_Linux_x86_64.tar.gz\\\")\\\" > terrascan.tar.gz\"\n        }), \"\\ntar -xf terrascan.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tar\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"gz\"\n        }), \" terrascan && rm terrascan.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tar\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"gz\"\n        }), \"\\ninstall terrascan /usr/local/bin && rm terrascan\\nsudo install terrascan /usr/local/bin\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ë„ì»¤\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë„ì»¤ í—ˆë¸Œì—ì„œ ì´ë¯¸ì§€ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ê°€ì ¸ì˜¬ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-js\",\n        children: \"$ docker run --rm tenable/terrascan version\\n\"\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"í…Œë¼ìŠ¤ìº”ì„ ì„¤ì¹˜í•œ í›„ ì„¤ì¹˜ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ëª…ë ¹ì¤„ì—ì„œ í…Œë¼ìŠ¤ìº”ì„ ì‹¤í–‰í•˜ì„¸ìš”.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-23-WhatisTerrascan_1.png\",\n        alt: \"Terrascan\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"IaC ì½”ë“œë¥¼ ìŠ¤ìº”í•˜ëŠ” ë°©ë²•\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì½”ë“œë¥¼ ìŠ¤ìº”í•˜ë ¤ë©´ êµ¬ì„± íŒŒì¼ì´ ìˆëŠ” í´ë”ë¡œ ì´ë™í•œ í›„ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”:\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-js\",\n        children: \"terrascan scan\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"--c ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤ìº”í•  ë””ë ‰í† ë¦¬ë¥¼ ì§€ì •í•  ìˆ˜ë„ ìˆì–´ìš”.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Terrascan ì‚¬ìš© ì‚¬ë¡€ - ì˜ˆì‹œ\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascanì„ ì—¬ëŸ¬ ìœ í˜•ì˜ êµ¬ì„± íŒŒì¼ê³¼ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”. ì—¬ê¸°ì— ëª‡ ê°€ì§€ ì˜ˆì‹œê°€ ìˆì–´ìš”. ì´ë¥¼ í†µí•´ ì‰½ê²Œ ì‹œì‘í•  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ì˜ˆì œ 1 â€” Terraform ì½”ë“œ ìŠ¤ìº”\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Azureë¥¼ ìœ„í•œ ì˜ˆì œ Terraform ì„¤ì • íŒŒì¼ì´ ìˆìŠµë‹ˆë‹¤. ì´ íŒŒì¼ì€ ê°„ë‹¨íˆ ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ì„ ìƒì„±í•©ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"main.tf\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"provider \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"azurerm\\\"\"\n        }), \" {\\n  features {}\\n}\\n\\nresource \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"azurerm_resource_group\\\"\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"example\\\"\"\n        }), \" {\\n  name     = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"example-resources\\\"\"\n        }), \"\\n  location = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"East US\\\"\"\n        }), \"\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"íŒŒì¼ì„ ì €ì¥í•œ í›„ í•´ë‹¹ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ì—¬ terrascan scanì„ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤. Terrascanì´ 1ê°œì˜ ì •ì±… ìœ„ë°˜ì„ ê°ì§€í•˜ê³  ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ì— ë¦¬ì†ŒìŠ¤ ì ê¸ˆì„ í™œì„±í™”í•´ì•¼ í•œë‹¤ê³  ê¶Œì¥í•¨ì„ ë³¼ ìˆ˜ ìˆì–´ìš”. ì´ ë¬¸ì œëŠ” LOW ì‹¬ê°ë„ë¡œ í‘œì‹œë¼ìš”.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-23-WhatisTerrascan_2.png\",\n        alt: \"Terrascan Screenshot\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ì˜ˆì œ 2 - Helm ì°¨íŠ¸ ìŠ¤ìº”\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Helm ì°¨íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ Terrascanì„ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ demo-chartë¼ëŠ” ìƒˆ ì°¨íŠ¸ë¥¼ ë§Œë“¤ì–´ë³´ê² ì–´ìš”:\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-js\",\n        children: \"helm create demo-chart\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ì œ values.yaml íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ Terrascanì´ ë³´ê³ í•  ëª‡ ê°€ì§€ ì¶”ê°€ ì·¨ì•½ì ì„ ì¶”ê°€í•´ë³´ê² ìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-23-WhatisTerrascan_3.png\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"values.yaml íŒŒì¼ì´ ìˆëŠ” ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•œ ë‹¤ìŒ terrascan scanì„ ì‹¤í–‰í•˜ì„¸ìš”. ë³´ê³ ëœ ìœ„ë°˜ ì •ì±…ì´ ì—¬ëŸ¬ ê°œ í‘œì‹œë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ì—¬ê¸°ì—ëŠ” ìœ„ì— securityContext ë¼ì¸ì„ ì¶”ê°€í•˜ì—¬ ë°œìƒì‹œí‚¨ HIGH ì‹¬ê°ë„ì˜ 2ê°œì˜ ì •ì±… ìœ„ë°˜ì´ í¬í•¨ë  ê²ƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-23-WhatisTerrascan_4.png\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ì˜ˆì œ 3 â€” ì¿ ë²„ë„¤í‹°ìŠ¤ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ìŠ¤ìº”í•˜ê¸°\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"K8S ë§¤ë‹ˆí˜ìŠ¤íŠ¸ë¥¼ ìŠ¤ìº”í•˜ëŠ” ë°©ë²•ì„ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ ê°„ë‹¨í•œ nginx ë°°í¬ìš© íŒŒì¼ì„ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"nginx.yaml\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-yaml\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"apiVersion:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"apps/v1\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"kind:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"Deployment\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"metadata:\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"name:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"nginx-deployment\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"labels:\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"app:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"nginx\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"spec:\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"replicas:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"3\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"selector:\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"matchLabels:\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"app:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"nginx\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"template:\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"metadata:\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"labels:\"\n        }), \"\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"app:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"nginx\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"spec:\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"containers:\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"hljs-bullet\",\n          children: \"-\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"name:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"nginx\"\n        }), \"\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"image:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"nginx:latest\"\n        }), \"\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"ports:\"\n        }), \"\\n        \", _jsx(_components.span, {\n          className: \"hljs-bullet\",\n          children: \"-\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"containerPort:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"80\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"nginx.yaml íŒŒì¼ì´ ìˆëŠ” í´ë”ë¡œ ì´ë™í•˜ì—¬ terrascan scanì„ ì‹¤í–‰í•´ì£¼ì„¸ìš”.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascanì—ì„œ ì—¬ëŸ¬ ê¶Œì¥ ì‚¬í•­ì„ ë³´ê²Œ ë  ê²ƒì¸ë°, ê·¸ ì¤‘ì—ëŠ” 2ê°œì˜ HIGH ìš°ì„  ìˆœìœ„ ì´ìŠˆ('Minimize Admission of Root Containers' ë° 'Containers Should Not Run with AllowPrivilegeEscalation')ë„ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-23-WhatisTerrascan_5.png\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ì˜ˆì œ 4 â€” Terrascanì„ ArgoCDì™€ í†µí•©í•˜ê¸°\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascanì€ ì¸ê¸°ìˆëŠ” CI/CD ì‹œìŠ¤í…œì¸ Azure DevOps, GitHub, GitLab ë° Argoì™€ í†µí•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ArgoCDì˜ ê²½ìš°, Terrascanì€ ArgoCDì˜ ë¦¬ì†ŒìŠ¤ í›„í¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ìš© í”„ë¡œê·¸ë¨ ì‚¬ì „ ë™ê¸°í™” í”„ë¡œì„¸ìŠ¤ ì¤‘ Argo CD ì‘ì—…ìœ¼ë¡œ êµ¬ì„±ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ Terrascanì˜ K8S admission ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ì „ ë™ê¸°í™” ë° ì»¨íŠ¸ë¡¤ëŸ¬ ì›¹í›…ê³¼ í•¨ê»˜ êµ¬ì„±ëœ ì €ì¥ì†Œë¥¼ ìŠ¤ìº”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascan ë¬¸ì„œ í˜ì´ì§€ì—ì„œ ì „ì²´ í†µí•© ì˜ˆì‹œë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Terrascan ì‚¬ìš©ì ì •ì˜ ì •ì±…\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascanì€ ì‚¬ìš©ìê°€ Rego ì¿¼ë¦¬ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‰½ê²Œ ì‚¬ìš©ì ì •ì˜ ì •ì±…ì„ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ Open Policy Agent (OPA) ì—”ì§„ì„ í™œìš©í•©ë‹ˆë‹¤. ê° rego ì •ì±…ì—ëŠ” ì •ì±…ì— ëŒ€í•œ ë©”íƒ€ë°ì´í„°ë¥¼ ì •ì˜í•˜ëŠ” JSON \\\"rule\\\" íŒŒì¼ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. Terrascanì— í¬í•¨ëœ ì •ì±…ì€ pkg/policies/opa/rego ë””ë ‰í† ë¦¬ì— ì €ì¥ë©ë‹ˆë‹¤. rule.json íŒŒì¼ì€ Rego íŒŒì¼ì—ì„œ ì •ì˜ëœ ì‚¬ìš©ì ì •ì˜ ì •ì±…ì„ ì°¸ì¡°í•˜ëŠ” êµ¬ì„± íŒŒì¼ë¡œ, Terrascan ìŠ¤ìº” ì¤‘ì— ì–´ë–¤ ì •ì±…ì´ ì ìš©ë˜ê³  ì‹¬ê°ì„± ìˆ˜ì¤€ì´ ì–´ë–»ê²Œë˜ëŠ”ì§€ë¥¼ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ìš©ì ì •ì±… ë¡œì§ ë° ê·œì¹™ì€ .rego íŒŒì¼ì— ì •ì˜ë˜ë©°, rule.json íŒŒì¼ì€ í•´ë‹¹ ì •ì±…ì„ ì ìš©í•˜ê³  êµ¬ì„±í•˜ëŠ” ë°©ë²•ì„ ì§€ì •í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì•„ë˜ ì •ì±… ì˜ˆì‹œëŠ” Azure ë¦¬ì†ŒìŠ¤ê°€ \\\"UK South\\\" ë˜ëŠ” \\\"UK West\\\"ì—ë§Œ ìˆì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ê°•ì œí•©ë‹ˆë‹¤. ë‹¤ë¥¸ ìœ„ì¹˜ì—ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ìœ¼ë©´ Terrascanì—ì„œ ë³´ê³ ë©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"azure_region_policy.rego\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"package main\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" input.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tfplan\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" tfplan\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" allow = \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"false\"\n        }), \"\\n\\nallowed_regions = [\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"UK South\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"UK West\\\"\"\n        }), \"]\\n\\n# í…Œë¼í¼ ê³„íšì˜ ëª¨ë“  \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Azure\"\n        }), \" ë¦¬ì†ŒìŠ¤ë¥¼ ë°˜ë³µí•©ë‹ˆë‹¤.\\nazure_resources[resource_name] {\\n    resource_name = input.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tfplan\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"resource_changes\"\n        }), \"[_].\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"address\"\n        }), \"\\n    input.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tfplan\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"resource_changes\"\n        }), \"[_].\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"type\"\n        }), \" == \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"azurerm_resource\\\"\"\n        }), \"\\n}\\n\\n# ê° \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Azure\"\n        }), \" ë¦¬ì†ŒìŠ¤ì˜ ì§€ì—­ì´ í—ˆìš©ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.\\nallow {\\n    resource_name\\n    resource_config := input.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tfplan\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"resource_changes\"\n        }), \"[resource_name].\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"change\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"after\"\n        }), \"\\n    resource_config.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"location\"\n        }), \" == allowed_region\\n    allowed_region = allowed_regions[_]\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì‚¬ìš©ì ì •ì±…ì„ í™œì„±í™”í•˜ë ¤ë©´ rule.json íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ Terrascanì˜ ë™ì‘ì„ êµ¬ì„±í•˜ê³  ìŠ¤ìº” ì¤‘ì— ì ìš©í•´ì•¼ í•  ì •ì±…ì„ ì§€ì •í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"rule.json\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"{\\n  \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"rules\\\"\"\n        }), \": {\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"azure_region_policy\\\"\"\n        }), \": {\\n      \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"severity\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"HIGH\\\"\"\n        }), \",\\n      \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"message\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"'UK South' ë˜ëŠ” 'UK West' ì§€ì—­ì— Azure ë¦¬ì†ŒìŠ¤ë¥¼ ë°°í¬í•´ì•¼ í•©ë‹ˆë‹¤.\\\"\"\n        }), \",\\n      \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"rules_file\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"azure_region_policy.rego\\\"\"\n        }), \"\\n    }\\n  }\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë§ˆì§€ë§‰ìœ¼ë¡œ ì‚¬ìš©ì ì •ì±…ì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤ìº”í•˜ë ¤ë©´ ìŠ¤ìº”í•˜ë ¤ëŠ” ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ê³  -rules í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ json íŒŒì¼ ê²½ë¡œë¥¼ ì§€ì •í•˜ì‹­ì‹œì˜¤.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"terrascan scan -rules /path/to/rule.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"json\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë˜í•œ Terrascanì€ ì›í•˜ëŠ” ê²½ìš° ì •ì±…ì„ ì¤€ìˆ˜í•˜ì§€ ì•Šìœ¼ë ¤ë©´ í•´ë‹¹ ì •ì±…ì„ ì œì™¸í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì˜ˆì‹œ 1ì—ì„œ êµ¬ì„±í•œ Azure ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ì— ë¦¬ì†ŒìŠ¤ ì ê¸ˆì„ ì‚¬ìš©í•˜ê³  ì‹¶ì§€ ì•Šë‹¤ë©´ ì´ ì •ì±…ì„ ìŠ¤ìº”ì—ì„œ ì œì™¸í•˜ì—¬ ì´ ë¬¸ì œë¡œ í‘œì‹œë˜ì§€ ì•Šê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ -skip-rules í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ íŠ¹ì • ë¦¬ì†ŒìŠ¤ì—ì„œ ì •ì±…ì„ ê±´ë„ˆë›°ëŠ” íŒŒì¼ ë‚´ë¶€ ê¸°ëŠ¥ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Terrascan ëŒ€ Checkov\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì™¸ê´€ìƒìœ¼ë¡œ ë³´ë©´, Terrascanê³¼ CheckovëŠ” ë§¤ìš° ìœ ì‚¬í•©ë‹ˆë‹¤. ë‘˜ ë‹¤ IaC ë³´ì•ˆ ë° ê·œì • ì¤€ìˆ˜ ìŠ¤ìº”ì„ ìœ„í•´ ì„¤ê³„ëœ ì˜¤í”ˆ ì†ŒìŠ¤ ì •ì  ì½”ë“œ ë¶„ì„ ë„êµ¬ì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Checkovì€ Terraformì— ì£¼ë¡œ ì´ˆì ì„ ë§ì¶”ê³  ìˆì§€ë§Œ, AWS SAMì„ í¬í•¨í•œ CloudFormation, Azure Resource Manager (ARM), Serverless framework, Helm ì°¨íŠ¸, K8S ë° Dockerì™€ ê°™ì€ ì—¬ëŸ¬ ìœ í˜•ì˜ íŒŒì¼ì„ ìŠ¤ìº”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. CheckovëŠ” í™œë°œí•œ ê¸°ì—¬ ë° DevSecOps ì»¤ë®¤ë‹ˆí‹°ì—ì„œ ê°•ë ¥í•œ ì¡´ì¬ê°ì„ ë³´ì´ëŠ” ì»¤ë®¤ë‹ˆí‹° ì£¼ë„ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"CheckovëŠ” Pythonì„ ì‚¬ìš©í•˜ì—¬ êµ¬ì¶•ë˜ì—ˆìœ¼ë©°, Terrascanì€ Goë¥¼ ì‚¬ìš©í•˜ë©° Regoë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ì •ì˜ ì •ì±…ì„ ì‘ì„±í•©ë‹ˆë‹¤. ì‚¬ìš©ì ì •ì˜ ì •ì±…ì„ ì‘ì„±í•˜ëŠ” ë° Regoë¥¼ ì„ í˜¸í•œë‹¤ë©´ Terrascanì€ ì¢‹ì€ ì„ íƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Terrascan vs tfsec\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"TfsecëŠ” ë˜ ë‹¤ë¥¸ ì˜¤í”ˆ ì†ŒìŠ¤ ì •ì  ì½”ë“œ ë¶„ì„ ë„êµ¬ì´ë©°, ê³ ë ¤í•  ìˆ˜ ìˆëŠ” ì£¼ìš” ì˜µì…˜ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascanê³¼ ë‹¬ë¦¬ TFSecëŠ” GOë¡œ ì‘ì„±ë˜ì—ˆìœ¼ë©° ì‚¬ìš©ì ì •ì˜ ì •ì±…ì—ëŠ” Terrascanì—ì„œ ì‚¬ìš©ë˜ëŠ” Rego ëŒ€ì‹  YAML ì •ì˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. K8Sì— ìµìˆ™í•œ ì‚¬ìš©ìëŠ” Rego í•™ìŠµ ëŒ€ì‹  YAMLì„ ì‚¬ìš©í•˜ì—¬ ì •ì±…ì„ ì‘ì„±í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” TFSecë¥¼ ì„ íƒí•˜ëŠ” ì´ìœ ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ì»¤ë®¤ë‹ˆí‹°ì—ì„œ Checkov ë° Terrascanë³´ë‹¤ ê°€ì¥ ì¸ê¸° ìˆëŠ” í”„ë¡œì íŠ¸ì´ë©° ê°€ì¥ ë§ì€ GitHub ìŠ¤íƒ€ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ì£¼ìš” í¬ì¸íŠ¸\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascanì€ IaC í…œí”Œë¦¿ ë° êµ¬ì„±ì„ ìŠ¤ìº”í•˜ëŠ” ë° ì„¤ê³„ëœ ë§¤ìš° ìœ ì—°í•˜ê³  ê°•ë ¥í•œ ì˜¤í”ˆ ì†ŒìŠ¤ ì •ì  ì½”ë“œ ë¶„ì„ ë„êµ¬ì…ë‹ˆë‹¤. IaC ì½”ë“œì—ì„œ ë³´ì•ˆ ì·¨ì•½ì , ì¤€ìˆ˜ ìœ„ë°˜ ë° ìµœìƒì˜ ì‹¤ì²œ ë°©ë²• ë¬¸ì œë¥¼ ì‹ë³„í•˜ëŠ” ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤. ë‹¤ì–‘í•œ ìœ í˜•ì˜ êµ¬ì„± íŒŒì¼ê³¼ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° ë‚´ì¥ ì •ì±…ì„ ì œê³µí•˜ë©° Regoë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ì •ì˜ ì •ì±…ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. CI/CD ì‹œìŠ¤í…œê³¼ ìë™í™” íŒŒì´í”„ë¼ì¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì§€ì›ë©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì—¬ê¸°ì—ì„œ Terraformì— ê´€í•œ ë‹¤ë¥¸ ê¸°ì‚¬ë“¤ë„ í™•ì¸í•´ë³´ì„¸ìš”!\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"í™˜í˜¸! ğŸ»\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì›ë˜ spacelift.ioì—ì„œ ë°œí–‰ë˜ì—ˆìŠµë‹ˆë‹¤.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true}