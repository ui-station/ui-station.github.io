{"pageProps":{"post":{"title":"í…Œë¼í¼ DevOps ì•ˆë‚´ì„œ ë³´ì•ˆ ìµœìƒì˜ ì‹¤ì²œ ë°©ì•ˆ","description":"","date":"2024-05-17 18:29","slug":"2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices","content":"\n\n<img src=\"/assets/img/2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices_0.png\" />\n\n# ìš”ì•½\n\nì „í†µì ìœ¼ë¡œ, ì¸í”„ë¼ êµ¬ì¶•ì€ ìˆ˜ë™ êµ¬ì„±ì„ í¬í•¨í•˜ëŠ” ì‹œê°„ì´ ë§ì´ ì†Œìš”ë˜ê³  ì˜¤ë¥˜ ë°œìƒ ê°€ëŠ¥ì„±ì´ ìˆëŠ” í”„ë¡œì„¸ìŠ¤ì˜€ìŠµë‹ˆë‹¤. Terraformì€ ì½”ë“œë¡œ ì¸í”„ë¼ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë„ë¡ í•¨ìœ¼ë¡œì¨ ì´ëŸ¬í•œ ê´€í–‰ì„ ë°”ê¿‰ë‹ˆë‹¤. HashiCorp Configuration Language (HCL)ë¡œ ì‘ì„±ëœ ì½”ë“œëŠ” í•„ìš”í•œ ë¦¬ì†ŒìŠ¤(ì„œë²„, ë„¤íŠ¸ì›Œí¬, ë°ì´í„°ë² ì´ìŠ¤)ì™€ ì´ë“¤ì˜ êµ¬ì„±ì„ êµ¬ì²´í™”í•©ë‹ˆë‹¤. ê²½í—˜ì´ í’ë¶€í•œ ì‹¤ë¬´ìë“  ì´ˆë³´ìë“ , ë³¸ ì•ˆë‚´ì„œëŠ” í˜„ëŒ€ì ì¸ DevOps ë°©ë²•ë¡ ì— ëŒ€í•œ Terraformì˜ íŒ¨ëŸ¬ë‹¤ì„ ì „í™˜ì ì¸ ì˜í–¥ì— ëŒ€í•œ ê·€ì¤‘í•œ í†µì°°ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n# ëª©ì°¨\n\n<div class=\"content-ad\"></div>\n\n- Terraform DevOps ì•ˆë‚´ì„œ: ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€\n- ìš”ì•½\n- ëª©ì°¨\n- ì†Œê°œ\n- ì „ì œ ì¡°ê±´\n  - ğŸ’¡í•´ê²°ì±…ğŸ’¡\n- Terraform ìƒíƒœë¥¼ ì•ˆì „í•˜ê²Œ ìœ ì§€ ğŸ«¶\n- ë¹„ë°€ ì •ë³´ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ê¸° ğŸ«¶\n- ì—­í•  ê¸°ë°˜ ì•¡ì„¸ìŠ¤ ì œì–´ (RBAC) êµ¬í˜„\n- ì½”ë“œ ë¦¬ë·°ì™€ í˜‘ì—… ğŸ«¶\n- CI/CD íŒŒì´í”„ë¼ì¸ êµ¬í˜„ ğŸ’£\n- Terraform ëª¨ë“ˆ ë° ì œê³µì—…ì²´ ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•˜ê¸° ğŸ’£\n- ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§ ğŸ«¶\n- ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ ğŸ«¶\n- ê°ì‚¬ ë° ê·œì • ì¤€ìˆ˜ ğŸ‘€\n- ì¬í•´ ë³µêµ¬ ë° ë°±ì—… ğŸ‘€\n- ê²°ë¡ \n- ë‚´ ì •ë³´\n- ì°¸ê³  ë¬¸í—Œ\n\n# ì†Œê°œ\n\nTerraformì€ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ì˜ ì½”ë“œ (IaC)ì— ëŒ€í•œ í•„ìˆ˜ ë„êµ¬ë¡œ, ì—¬ëŸ¬ í´ë¼ìš°ë“œ ì œê³µì—…ì²´ ê°„ì— ìì›ì„ í†µí•©ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ í° ê¶Œí•œì—ëŠ” í° ì±…ì„ì´ ë”°ë¦…ë‹ˆë‹¤. ì–´ë– í•œ êµ¬ì„± ì˜¤ë¥˜ë„ ì „ì²´ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë³´ì•ˆì´ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.\n\nì „í†µì ìœ¼ë¡œ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ í”„ë¡œë¹„ì €ë‹ì€ ìˆ˜ë™ êµ¬ì„±ì„ í•„ìš”ë¡œ í•˜ë©°, ì‹œê°„ì´ ë§ì´ ê±¸ë¦¬ê³  ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê¸° ì‰¬ìš´ ê³¼ì •ì´ì—ˆìŠµë‹ˆë‹¤. Terraformì€ ì´ì— ë„ì „í•˜ì—¬ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ë¥¼ ì½”ë“œë¡œ ì •ì˜í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ì ‘ê·¼ë²•ì„ ì œê³µí•©ë‹ˆë‹¤. HashiCorp Configuration Language (HCL)ë¡œ ì‘ì„±ëœ ì½”ë“œëŠ” í•„ìš”í•œ ë¦¬ì†ŒìŠ¤ (ì„œë²„, ë„¤íŠ¸ì›Œí¬, ë°ì´í„°ë² ì´ìŠ¤)ì™€ ê·¸ êµ¬ì„±ì„ ì§€ì •í•©ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\nì´ ê¸°ì‚¬ëŠ” Terraformì˜ ì´ì ì— ëŒ€í•´ íƒêµ¬í•˜ê³  IaC ë°°í¬ê°€ ì•ˆì „í•˜ê³  ì‹ ë¢°í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•˜ê¸° ìœ„í•œ í•„ìˆ˜ ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì£¼ìš” ì˜ì—­ì„ íƒìƒ‰í•  ê²ƒì…ë‹ˆë‹¤:\n\nğŸ’£ ì·¨ì•½ì  ê°ì‚¬: Terraform êµ¬ì„±ì—ì„œ ì·¨ì•½ì„±ì„ ì˜ˆë°©ì ìœ¼ë¡œ ì‹ë³„í•˜ê³  ì œê±°í•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤.\n\nğŸ’£ ì ‘ê·¼ ì œì–´ ëª¨ë²” ì‚¬ë¡€: ì ‘ê·¼ ìê²© ì¦ëª…ì„ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ê³  ìµœì†Œ ê¶Œí•œ ì›ì¹™ì„ ì‹œí–‰í•˜ëŠ” ì „ëµì„ ë°œê²¬í•©ë‹ˆë‹¤.\n\nğŸ’£ ì•ˆì „í•œ Terraform ëª¨ë“ˆ: ëª¨ë“ˆì„ ì•ˆì „í•˜ê²Œ í™œìš©í•˜ê³  ë³´ì•ˆì„ ì—¼ë‘ì— ë‘ê³  ìì²´ ëª¨ë“ˆì„ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì´í•´í•©ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n\"IBMì™€ HashiCorpì˜ ë³‘í•©ëœ í¬íŠ¸í´ë¦¬ì˜¤ëŠ” ê³ ê°ì´ ì¦ê°€í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ë° ì¸í”„ë¼ ë³µì¡ì„±ì„ ê´€ë¦¬í•˜ê³  AI ì‹œëŒ€ë¥¼ ìœ„í•´ ì„¤ê³„ëœ í¬ê´„ì ì¸ í•˜ì´ë¸Œë¦¬ë“œ í´ë¼ìš°ë“œ í”Œë«í¼ì„ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.\" - IBM íšŒì¥ì´ì ìµœê³  ê²½ì˜ìì¸ ì•„ë¹ˆë“œ í¬ë¦¬ìŠˆë‚˜ê°€ ë§í–ˆìŠµë‹ˆë‹¤.\n\n# ì¤€ë¹„ ì‚¬í•­\n\nìš°ë¦¬ê°€ ë³¸ê²©ì ì¸ ì‘ì—…ì— ë“¤ì–´ê°€ê¸° ì „ì—, ë¨¼ì € ë¡œì»¬ ë¨¸ì‹ ì´ë‚˜ ê°œë°œ ì„œë²„ì— í•„ìš”í•œ ì„œë¹„ìŠ¤ê°€ ìˆëŠ”ì§€ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤:\n\n- React ë° Terraformì— ëŒ€í•œ ê¸°ë³¸ ì§€ì‹.\n- AWS ê³„ì •\n- GitHub ê³„ì •\n- AWS CLI ì„¤ì¹˜ ë° êµ¬ì„± ì™„ë£Œ.\n- ë¡œì»¬ì— Docker ì„¤ì¹˜.\n- Terraform\n\n<div class=\"content-ad\"></div>\n\n## ğŸ’¡ ì†”ë£¨ì…˜ ğŸ’¡\n\në°ë¸Œì˜µìŠ¤ í™˜ê²½ì—ì„œ Terraformì„ êµ¬í˜„í•˜ë ¤ë©´ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ ì½”ë“œ(IaC) ë°©ë²•ë¡ ì´ ì·¨ì•½ì ì„ ë„ì…í•˜ì§€ ì•Šë„ë¡ ë³´ì•ˆì— ì¤‘ì ì„ ë‘ì–´ì•¼ í•©ë‹ˆë‹¤.\n\n<img src=\"/assets/img/2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices_1.png\" />\n\në‹¤ìŒì€ Terraformì„ ì‚¬ìš©í•  ë•Œ ë³´ì•ˆì„ ìœ ì§€í•˜ê¸° ìœ„í•œ ëª¨ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ì…ë‹ˆë‹¤:\n\n<div class=\"content-ad\"></div>\n\n# í…Œë¼í¼ ìƒíƒœ ë³´ì•ˆì„ ê°•í™”í•˜ì„¸ìš” ğŸ«¶\n\n- ì›ê²© ìƒíƒœ ì €ì¥ì†Œ ì‚¬ìš©: ìƒíƒœ íŒŒì¼ì„ AWS S3, Azure Blob Storage ë˜ëŠ” Google Cloud Storageì™€ ê°™ì€ ì›ê²© ë°±ì—”ë“œì— ì €ì¥í•˜ì—¬ ë¬´ë‹¨ ì•¡ì„¸ìŠ¤ë¥¼ ë°©ì§€í•˜ëŠ” ì ì ˆí•œ ì•¡ì„¸ìŠ¤ ì œì–´ë¥¼ ì ìš©í•˜ì„¸ìš”.\n- ìƒíƒœ íŒŒì¼ ì•”í˜¸í™”: ì›ê²© ë°±ì—”ë“œì— ì €ì¥ëœ ìƒíƒœ íŒŒì¼ì— ëŒ€í•´ ì„œë²„ ì¸¡ ì•”í˜¸í™”ë¥¼ í™œì„±í™”í•˜ì„¸ìš”.\n- ì•¡ì„¸ìŠ¤ ì œí•œ: IAM ì—­í•  ë° ì •ì±…ì„ ì‚¬ìš©í•˜ì—¬ ìƒíƒœ íŒŒì¼ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ë¥¼ í•„ìš”í•œ ì‚¬ìš©ìì—ê²Œë¡œ ì œí•œí•˜ì„¸ìš”.\n\nì˜ˆì‹œ:\n\n```js\nvariable \"db_password\" {\n  type    = string\n  sensitive = true\n}\n\ndata \"terraform_remote_state\" \"foo\" {\n  backend = \"http\"\n  config = {\n    address = \"http://my.rest.api.com\"\n  }\n}\n```\n\n<div class=\"content-ad\"></div>\n\nì—¬ê¸°ì—ì„œ ë” ë§ì€ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n# **ë³´ì•ˆì ìœ¼ë¡œ ë¹„ë°€ì„ ê´€ë¦¬í•˜ê¸° ğŸ«¶**\n\n- **ë¹„ë°€ ì§ì ‘ ì½”ë”© í”¼í•˜ê¸°**: Terraform íŒŒì¼ì— ë¹„ë°€ë²ˆí˜¸, API í‚¤ ë˜ëŠ” ê¸°ë°€ ì •ë³´ì™€ ê°™ì€ ì¤‘ìš”í•œ ì •ë³´ë¥¼ ì§ì ‘ ì½”ë”©í•˜ì§€ ë§ˆì„¸ìš”.\n- **ì‹œí¬ë¦¿ ê´€ë¦¬ ë„êµ¬ ì‚¬ìš©í•˜ê¸°**: HashiCorp Vault, AWS Secrets Manager ë˜ëŠ” Azure Key Vaultì™€ ê°™ì€ ì‹œí¬ë¦¿ ê´€ë¦¬ ë„êµ¬ë¥¼ í†µí•©í•˜ì—¬ Terraform êµ¬ì„±ì— ì•ˆì „í•˜ê²Œ ì‹œí¬ë¦¿ì„ ê´€ë¦¬í•˜ê³  ì£¼ì…í•˜ì„¸ìš”.\n\nì˜ˆë¥¼ ë“¤ì–´ Azure Key Vaultë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ë°€ì„ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•:\n\n<div class=\"content-ad\"></div>\n\nprovider.tf\n\n```js\nterraform {\n  required_version = \">=1.0\"\n  required_providers {\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \"~>3.0\"\n    }\n    random = {\n      source  = \"hashicorp/random\"\n      version = \"~>3.0\"\n    }\n  }\n}\n\nprovider \"azurerm\" {\n  features {}\n}\n```\n\nmain.tf\n\n```js\nresource \"random_string\" \"secret_value\" {\n  length  = 20\n  special = true\n}\n\nresource \"azurerm_key_vault\" \"vault\" {\n  name                       = \"my-key-vault\"\n  location                   = \"East US\"\n  resource_group_name        = \"my-resource-group\"\n  tenant_id                  = data.azurerm_client_config.current.tenant_id\n  sku_name                   = \"standard\"\n  soft_delete_retention_days = 7\n\n  access_policy {\n    tenant_id = data.azurerm_client_config.current.tenant_id\n    object_id = local.current_user_id\n    secret_permissions = [\"get\", \"list\"]\n  }\n}\n\nresource \"azurerm_key_vault_secret\" \"my_secret\" {\n  name         = \"my-secret\"\n  value        = random_string.secret_value.result\n  key_vault_id = azurerm_key_vault.vault.id\n}\n\ndata \"azurerm_client_config\" \"current\" {}\n```\n\n<div class=\"content-ad\"></div>\n\n# Role-Based Access Control (RBAC) êµ¬í˜„\n\n- IAM ì •ì±… ì‚¬ìš©: ì‚¬ìš©ì ë° ì„œë¹„ìŠ¤ê°€ í•„ìš”í•œ ê¶Œí•œë§Œ ê°–ë„ë¡ IAM ì •ì±…ì„ ì •ì˜í•˜ê³  ê°•ì œí•©ë‹ˆë‹¤.\n- ì—­í•  ë¶„ë¦¬: ê° ë‹¨ê³„ (ê°œë°œ, ìŠ¤í…Œì´ì§•, í”„ë¡œë•ì…˜)ì— ëŒ€í•´ ì„œë¡œ ë‹¤ë¥¸ ì—­í• ì„ ì‚¬ìš©í•˜ê³  ìµœì†Œ ê¶Œí•œì˜ ì›ì¹™ì„ ì ìš©í•©ë‹ˆë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´ Azure ë¦¬ì†ŒìŠ¤ë¥¼ ìœ„í•œ Role-Based Access Control (RBAC) :\n\n```js\nterraform {\n  required_providers {\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \"~>2.0\"\n    }\n    azuread = {\n      source = \"hashicorp/azuread\"\n    }\n  }\n}\n\nprovider \"azurerm\" {\n  features {}\n}\n\n// main.tf\ndata \"azuread_user\" \"aad_user\" {\n  for_each            = toset(var.avd_users)\n  user_principal_name = format(\"%s\", each.key)\n}\n\ndata \"azurerm_role_definition\" \"role\" {\n  name = \"Desktop Virtualization User\"\n}\n\nresource \"azuread_group\" \"aad_group\" {\n  display_name     = var.aad_group_name\n  security_enabled = true\n}\n\nresource \"azuread_group_member\" \"aad_group_member\" {\n  for_each         = data.azuread_user.aad_user\n  group_object_id  = azuread_group.aad_group.id\n  member_object_id = each.value[\"id\"]\n}\n\nresource \"azurerm_role_assignment\" \"role\" {\n  scope              = azurerm_virtual_desktop_application_group.dag.id\n  role_definition_id = data.azurerm_role_definition.role.id\n  principal_id       = azuread_group.aad_group.id\n}\n``` \n\n<div class=\"content-ad\"></div>\n\n# ì½”ë“œ ë¦¬ë·° ë° í˜‘ì—… ğŸ«¶\n\n- ë²„ì „ ê´€ë¦¬ ì‚¬ìš©: í…Œë¼í¼ êµ¬ì„±ì„ Gitê³¼ ê°™ì€ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ(VCS)ì— ì €ì¥í•˜ì„¸ìš”.\n- ì½”ë“œ ë¦¬ë·°: ì ì¬ì ì¸ ë³´ì•ˆ ë¬¸ì œë¥¼ ë¯¸ë¦¬ ë°œê²¬í•˜ê¸° ìœ„í•´ í…Œë¼í¼ êµ¬ì„±ì— ëŒ€í•œ ëª¨ë“  ë³€ê²½ì— ëŒ€í•´ í•„ìˆ˜ ì½”ë“œ ë¦¬ë·°ë¥¼ ì‹¤ì‹œí•˜ì„¸ìš”.\n- í’€ ë¦¬í€˜ìŠ¤íŠ¸: ë³€ê²½ ì‚¬í•­ì„ ë³¸ ë¸Œëœì¹˜ë¡œ ë³‘í•©í•˜ê¸° ì „ì— ë¦¬ë·° ë° í† ë¡ í•˜ê¸° ìœ„í•´ í’€ ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.\n\n# CI/CD íŒŒì´í”„ë¼ì¸ êµ¬í˜„ ğŸ’£\n\n```js\nname: í…Œë¼í¼ CI/CD\n\non:\n  push:\n    branches:\n      - main\n  pull_request:\n    branches:\n      - main\n\nenv:\n  ARM_CLIENT_ID: ${ secrets.ARM_CLIENT_ID }\n  ARM_CLIENT_SECRET: ${ secrets.ARM_CLIENT_SECRET }\n  ARM_SUBSCRIPTION_ID: ${ secrets.ARM_SUBSCRIPTION_ID }\n  ARM_TENANT_ID: ${ secrets.ARM_TENANT_ID }\n  TF_VAR_client_id: ${ secrets.ARM_CLIENT_ID }\n  TF_VAR_client_secret: ${ secrets.ARM_CLIENT_SECRET }\n  TF_VAR_subscription_id: ${ secrets.ARM_SUBSCRIPTION_ID }\n  TF_VAR_tenant_id: ${ secrets.ARM_TENANT_ID }\n\njobs:\n  terraform:\n    name: 'í…Œë¼í¼'\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: ì½”ë“œ ì²´í¬ì•„ì›ƒ\n        uses: actions/checkout@v2\n\n      - name: í…Œë¼í¼ ì„¤ì •\n        uses: hashicorp/setup-terraform@v2\n        with:\n          terraform_version: 1.3.7\n\n      - name: í…Œë¼í¼ ì´ˆê¸°í™”\n        run: terraform init\n\n      - name: í…Œë¼í¼ í¬ë§·\n        run: terraform fmt -check\n\n      - name: í…Œë¼í¼ ìœ íš¨ì„± ê²€ì‚¬\n        run: terraform validate\n\n      - name: í…Œë¼í¼ ê³„íš\n        id: plan\n        run: terraform plan -out=plan.tfplan\n        continue-on-error: true\n\n      - name: í…Œë¼í¼ ì ìš©\n        if: github.ref == 'refs/heads/main' && github.event_name == 'push'\n        run: terraform apply -auto-approve plan.tfplan\n\n      - name: í…Œë¼í¼ ì‚­ì œ (ì˜µì…˜)\n        if: github.event_name == 'pull_request' && github.event.action == 'closed' && github.event.pull_request.merged == false\n        run: terraform destroy -auto-approve\n```\n\n<div class=\"content-ad\"></div>\n\n- ë°°í¬ ìë™í™”: CI/CD íŒŒì´í”„ë¼ì¸ì„ ì‚¬ìš©í•˜ì—¬ Terraform ë°°í¬ë¥¼ ìë™í™”í•˜ì—¬ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ê³  ì¸ê°„ ì—ëŸ¬ì˜ ìœ„í—˜ì„ ì¤„ì…ë‹ˆë‹¤.\n- ì·¨ì•½ì  ê²€ì‚¬: CI/CD íŒŒì´í”„ë¼ì¸ì— ë³´ì•ˆ ìŠ¤ìº” ë„êµ¬ë¥¼ í†µí•©í•˜ì—¬ ë°°í¬ ì „ì— Terraform êµ¬ì„±ì—ì„œ ì·¨ì•½ì ì„ ê°ì§€í•©ë‹ˆë‹¤.\n\n# Terraform ëª¨ë“ˆê³¼ í”„ë¡œë°”ì´ë” ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•˜ê¸° ğŸ’£\n\n- í”„ë¡œë°”ì´ë” í™•ì¸: Terraform ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë˜ëŠ” ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì†ŒìŠ¤ì—ì„œ í™•ì¸ëœ í”„ë¡œë°”ì´ë”ì™€ ëª¨ë“ˆë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤.\n- ë²„ì „ í•€: í”„ë¡œë°”ì´ë”ì™€ ëª¨ë“ˆì˜ ë²„ì „ì„ í•€í•˜ì—¬ ìƒìœ„ ì—…ë°ì´íŠ¸ë¡œ ì¸í•œ ì˜ë„í•˜ì§€ ì•Šì€ ë³€ê²½ì„ ë°©ì§€í•©ë‹ˆë‹¤.\n- ì½”ë“œ ê²€í† : ëª¨ë“ˆê³¼ í”„ë¡œë°”ì´ë”ì˜ ì½”ë“œë¥¼ ì •ê¸°ì ìœ¼ë¡œ ê²€í† í•˜ê³  ê°ì‚¬í•˜ì—¬ ë³´ì•ˆ ìœ„í—˜ì„ ë°©ì§€í•©ë‹ˆë‹¤.\n\nì˜ˆì‹œ:\n\n<div class=\"content-ad\"></div>\n\n```js\nmodule \"network\" {\n  source  = \"terraform-azure-modules/network/azurerm\"\n  version = \"2.0.0\"\n  # ê¸°íƒ€ ëª¨ë“ˆ ì…ë ¥ ê°’\n}\n```\n\n# ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§ ğŸ«¶\n\n- ë¡œê¹… í™œì„±í™”: í…Œë¼í¼ì—ì„œ ìˆ˜í–‰ë˜ëŠ” ëª¨ë“  ì‘ì—…ì´ ë¡œê¹…ë˜ê³ , ì´ëŸ¬í•œ ë¡œê·¸ê°€ ì´ìƒ í™œë™ì„ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë° ì‚¬ìš©ë  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n- ìƒíƒœ ë³€ê²½ ëª¨ë‹ˆí„°ë§: í…Œë¼í¼ ìƒíƒœ ë° ì¸í”„ë¼ ë³€ê²½ì— ëŒ€í•œ ê²½ë³´ë¥¼ ì„¤ì •í•˜ì—¬ ë¬´ë‹¨ ìˆ˜ì •ì— ì‹ ì†í•˜ê²Œ ëŒ€ì‘í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n\n# ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ ğŸ«¶\n\n\n<div class=\"content-ad\"></div>\n\n- VPC ë° ì„œë¸Œë„· ì‚¬ìš©: ê°€ìƒ ì‚¬ì„¤ í´ë¼ìš°ë“œ(VPC) ë° ì„œë¸Œë„·ì„ ì´ìš©í•˜ì—¬ ë¦¬ì†ŒìŠ¤ë¥¼ ê²©ë¦¬í•˜ë„ë¡ ë„¤íŠ¸ì›Œí¬ ì•„í‚¤í…ì²˜ë¥¼ ì„¤ê³„í•˜ì„¸ìš”.\n- ë³´ì•ˆ ê·¸ë£¹ ë° ë°©í™”ë²½: ì—„ê²©í•œ ë³´ì•ˆ ê·¸ë£¹ ê·œì¹™ê³¼ ë„¤íŠ¸ì›Œí¬ ë°©í™”ë²½ ì •ì±…ì„ ì ìš©í•˜ì—¬ íŠ¸ë˜í”½ íë¦„ì„ ì œì–´í•˜ê³  ë…¸ì¶œì„ ì œí•œí•˜ì„¸ìš”.\n\n# ê°ì‚¬ ë° ê·œì • ì¤€ìˆ˜ ğŸ‘€\n\n- ì •ê¸° ê°ì‚¬: Terraform êµ¬ì„± ë° ë°°í¬ëœ ì¸í”„ë¼ì˜ ë³´ì•ˆ ê°ì‚¬ì™€ ê·œì • ì¤€ìˆ˜ ì ê²€ì„ ì •ê¸°ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ì„¸ìš”.\n- ê·œì • ì¤€ìˆ˜ ì½”ë“œ: ê·œì • ì¤€ìˆ˜ë¥¼ ë³´ì¥í•˜ê¸° ìœ„í•´ Terraform êµ¬ì„±ì— ê·œì • ì¤€ìˆ˜ ì ê²€ì„ í†µí•©í•˜ì„¸ìš”. regulatory and organizational standardsì„ ì¤€ìˆ˜í•©ë‹ˆë‹¤.\n\n# ì¬í•´ ë³µêµ¬ ë° ë°±ì—… ğŸ‘€\n\n<div class=\"content-ad\"></div>\n\n```js\nprovider \"azurerm\" {\n  features {}\n}\n\nresource \"azurerm_resource_group\" \"rg\" {\n  name     = var.resource_group_name\n  location = var.location\n}\n\nresource \"azurerm_recovery_services_vault\" \"recovery_vault\" {\n  name                = \"myRecoveryServicesVault\"\n  resource_group_name = azurerm_resource_group.rg.name\n  location            = azurerm_resource_group.rg.location\n  sku                 = \"Standard\"\n}\n\nresource \"azurerm_backup_policy_vm\" \"backup_policy\" {\n  name                = \"myBackupPolicy\"\n  resource_group_name = azurerm_resource_group.rg.name\n  recovery_vault_name = azurerm_recovery_services_vault.recovery_vault.name\n\n  backup {\n    frequency = \"Daily\"\n    time      = \"23:00\"\n  }\n\n  retention_daily {\n    count = 7\n  }\n}\n\nresource \"azurerm_kubernetes_cluster\" \"aks\" {\n  name                = var.aks_name\n  location            = azurerm_resource_group.rg.location\n  resource_group_name = azurerm_resource_group.rg.name\n  dns_prefix          = var.dns_prefix\n\n  default_node_pool {\n    name       = \"default\"\n    node_count = var.node_count\n    vm_size    = var.vm_size\n  }\n\n  identity {\n    type = \"SystemAssigned\"\n  }\n\n  tags = {\n    environment = \"Production\"\n  }\n}\n\nresource \"azurerm_log_analytics_workspace\" \"log_analytics\" {\n  name                = var.log_analytics_workspace_name\n  location            = azurerm_resource_group.rg.location\n  resource_group_name = azurerm_resource_group.rg.name\n  sku                 = \"PerGB2018\"\n  retention_in_days   = 30\n}\n\nresource \"azurerm_kubernetes_cluster_node_pool\" \"node_pool\" {\n  name                  = \"additionalpool\"\n  kubernetes_cluster_id = azurerm_kubernetes_cluster.aks.id\n  vm_size               = \"Standard_DS2_v2\"\n  node_count            = 1\n}\n\nresource \"azurerm_backup_protected_vm\" \"protected_vm\" {\n  resource_group_name = azurerm_resource_group.rg.name\n  recovery_vault_name = azurerm_recovery_services_vault.recovery_vault.name\n  source_vm_id        = azurerm_kubernetes_cluster.aks.id\n  backup_policy_id    = azurerm_backup_policy_vm.backup_policy.id\n}\n```\n\n- ë°±ì—… ìƒíƒœ íŒŒì¼: ìš°ì—°í•œ ì‚­ì œë‚˜ ì†ìƒìœ¼ë¡œë¶€í„° íšŒë³µí•  ìˆ˜ ìˆë„ë¡ Terraform ìƒíƒœ íŒŒì¼ì„ ì •ê¸°ì ìœ¼ë¡œ ë°±ì—…í•©ë‹ˆë‹¤.\n- ì¬í•´ ë³µêµ¬ ê³„íš: ì¬í•´ ë³µêµ¬ ê³„íšì„ ê°œë°œí•˜ê³  í…ŒìŠ¤íŠ¸í•˜ì—¬ ì¹˜ëª…ì ì¸ ì¥ì•  ë°œìƒ ì‹œ Terraformì„ ì‚¬ìš©í•˜ì—¬ ì¸í”„ë¼ë¥¼ ë³µì›í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n\nì´ëŸ° ëª¨ë²” ì‚¬ë¡€ë¥¼ ë”°ë¥´ë©´ Terraformìœ¼ë¡œ ê´€ë¦¬ë˜ëŠ” ì¸í”„ë¼ì˜ ë³´ì•ˆì„ í¬ê²Œ í–¥ìƒì‹œí‚¤ê³  ì ì¬ì ì¸ ì·¨ì•½ì ê³¼ ì˜ëª»ëœ êµ¬ì„±ì˜ ìœ„í—˜ì„ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê³ ë ¤í•´ì•¼ í•  ëª‡ ê°€ì§€ ë¶€ê°€ ì‚¬í•­ì´ ìˆìŠµë‹ˆë‹¤:\n\n<div class=\"content-ad\"></div>\n\n- ë°ì´í„°ì˜ ì¡´ì†ì¤‘ ì•”í˜¸í™” #1 â€” ì„œë²„ ì¸¡ ì•”í˜¸í™”ëŠ” ë°ì´í„°ë¥¼ ì ì ˆíˆ ë³´í˜¸í•˜ì§€ë§Œ, íŠ¹íˆ í™˜ê²½ ê°„ ì „ì†¡ ì‹œ ìƒíƒœ íŒŒì¼ì„ ì•”í˜¸í™”í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ë³´ì„¸ìš”. ğŸ‘‘\n- ì„œë¹„ìŠ¤ ê³„ì •ì— ëŒ€í•œ ìµœì†Œ ê¶Œí•œ ë¶€ì—¬ #2 â€” Terraformê³¼ ì„œë¹„ìŠ¤ ê³„ì •ì„ ì‚¬ìš©í•  ë•Œ, í•´ë‹¹ ê³„ì •ì´ íŠ¹ì • ì‘ì—…ì— í•„ìš”í•œ ìµœì†Œí•œì˜ ê¶Œí•œì„ ê°–ë„ë¡í•˜ì‹­ì‹œì˜¤.\n- ì¸í”„ë¼ ì œê±° í…ŒìŠ¤íŠ¸ #3 â€” ìë™í™”ëœ í…ŒìŠ¤íŠ¸ë¥¼ CI/CD íŒŒì´í”„ë¼ì¸ì— í¬í•¨í•˜ì—¬ Terraformì´ ì¸í”„ë¼ë¥¼ ì•ˆì „í•˜ê²Œ ì œê±°í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. ì¬í•´ ë³µêµ¬ ì‹œë‚˜ë¦¬ì˜¤ì— ì¤‘ìš”í•©ë‹ˆë‹¤. ğŸ‘‘\n- ìµœì‹  ìœ ì§€ #3 â€” ì •ê¸°ì ìœ¼ë¡œ Terraform ìì²´, ëª¨ë“ˆ ë° í”„ë¡œë°”ì´ë”ë¥¼ ì—…ë°ì´íŠ¸í•˜ì—¬ ë³´ì•ˆ íŒ¨ì¹˜ì™€ ë²„ê·¸ ìˆ˜ì •ì˜ ì´ì ì„ ëˆ„ë¦¬ì„¸ìš”.\n\n# ê²°ë¡ \n\nDevOps í™˜ê²½ì—ì„œ Terraformì„ ë³´ì•ˆí•˜ëŠ” ë° ì´ëŸ¬í•œ ëª¨ë²” ì‚¬ë¡€ë¥¼ ë”°ë¥´ë©´ ë¦¬ìŠ¤í¬ë¥¼ ìµœì†Œí™”í•˜ê³  ì¸í”„ë¼ë¥¼ ì½”ë“œë¡œ ì œì–´í•˜ëŠ” ê°•ë ¥í•œ ë°©ì–´ìˆ˜ë‹¨ì„ í™•ë³´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•ˆì „í•œ ìƒíƒœ ê´€ë¦¬, ì ì ˆí•œ ë¹„ë°€ ì²˜ë¦¬, ì—­í•  ê¸°ë°˜ ì•¡ì„¸ìŠ¤ ì œì–´, ì² ì €í•œ ì½”ë“œ ë¦¬ë·°, ìë™í™”ëœ CI/CD íŒŒì´í”„ë¼ì¸, ì£¼ì‹œì ì¸ ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§, ì—„ê²©í•œ ê°ì‚¬ ë° ê·œì • ì¤€ìˆ˜ í”„ë¡œì„¸ìŠ¤ ë“±ì˜ ì¡°ì¹˜ë¥¼ ì‹œí–‰í•˜ì—¬ ì·¨ì•½ì ì— ëŒ€ì‘í•˜ëŠ” ì¸í”„ë¼ë¥¼ ê°•í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¶ê·¹ì ìœ¼ë¡œ ë³´ì•ˆì— ëŒ€í•œ ì„ ì œì ì¸ ì ‘ê·¼ì€ ì‹œìŠ¤í…œì„ ì•ˆì „í•˜ê²Œ ì§€í‚¤ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ê²ƒë¿ë§Œ ì•„ë‹ˆë¼ ì¡°ì§ ë‚´ ì‹ ë¢°ì™€ ì‹ ë¢°ì„±ì„ ìœ¡ì„±í•  ê²ƒì…ë‹ˆë‹¤.\n\nì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ğŸ™ŒğŸ» êµ¬ë…í•˜ê³  CLAPì„ ê¼­ ëˆŒëŸ¬ì£¼ì„¸ìš” ğŸ‘ ë‹¤ìŒ ê¸°ì‚¬ì—ì„œ ë§Œë‚˜ìš”.ğŸ¤˜\n\n<div class=\"content-ad\"></div>\n\n# ë‚˜ì— ëŒ€í•´\n\nâ€œì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” ì¡°ì—˜ ì˜¤ì›œë³´ì´ë¼ê³  í•©ë‹ˆë‹¤. AWS ì¸ì¦ í´ë¼ìš°ë“œ ì•„í‚¤í…íŠ¸, ë°±ì—”ë“œ ê°œë°œì, ê·¸ë¦¬ê³  AWS ì»¤ë®¤ë‹ˆí‹° ë¹Œë”ì…ë‹ˆë‹¤. í•„ë¦¬í•€ì— ê±°ì£¼í•˜ê³  ìˆì–´ìš”. ì œê°€ ê°€ì§€ê³  ìˆëŠ” ê°•ì ì€ í´ë¼ìš°ë“œ ì•„í‚¤í…ì²˜, ë°ë¸Œì˜µìŠ¤ ì‹¤ì²œ ë°©ë²•, ê·¸ë¦¬ê³  ê³ ê°€ìš©ì„± (HA) ì›ì¹™ì— ëŒ€í•œ ê¹Šì€ ì´í•´ë¥¼ ê²°í•©í•œ ê²ƒì…ë‹ˆë‹¤. ì œ ì§€ì‹ì„ í™œìš©í•˜ì—¬ íš¨ìœ¨ì ì¸ ê¸°ì—… ë°°í¬ë¥¼ ìœ„í•´ ì˜¤í”ˆ ì†ŒìŠ¤ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ê²¬ê³ í•˜ê³  í™•ì¥ ê°€ëŠ¥í•œ í´ë¼ìš°ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ì–´ë‚´ê³  ìˆìŠµë‹ˆë‹¤.â€\n\nì €ì(Joel O. Wembo)ì— ëŒ€í•œ ë” ë§ì€ ì •ë³´ë¥¼ ì›í•˜ì‹œë©´ ì•„ë˜ ë§í¬ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”:\n\n<div class=\"content-ad\"></div>\n\n- Linkedin: [https://www.linkedin.com/in/joelotepawembo/](https://www.linkedin.com/in/joelotepawembo/)\n- Website: [https://joelwembo.com](https://joelwembo.com)\n- Twitter: [https://twitter.com/joelwembo1](https://twitter.com/joelwembo1)\n- GitHub: [https://github.com/joelwembo](https://github.com/joelwembo)\n- Portfolio: [joelwembo.github.io](joelwembo.github.io)\n- [https://www.patreon.com/joelwembo](https://www.patreon.com/joelwembo)\n\n# References","ogImage":{"url":"/assets/img/2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices_0.png"},"coverImage":"/assets/img/2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices_0.png","tag":["Tech"],"readingTime":12},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<h1>ìš”ì•½</h1>\n<p>ì „í†µì ìœ¼ë¡œ, ì¸í”„ë¼ êµ¬ì¶•ì€ ìˆ˜ë™ êµ¬ì„±ì„ í¬í•¨í•˜ëŠ” ì‹œê°„ì´ ë§ì´ ì†Œìš”ë˜ê³  ì˜¤ë¥˜ ë°œìƒ ê°€ëŠ¥ì„±ì´ ìˆëŠ” í”„ë¡œì„¸ìŠ¤ì˜€ìŠµë‹ˆë‹¤. Terraformì€ ì½”ë“œë¡œ ì¸í”„ë¼ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë„ë¡ í•¨ìœ¼ë¡œì¨ ì´ëŸ¬í•œ ê´€í–‰ì„ ë°”ê¿‰ë‹ˆë‹¤. HashiCorp Configuration Language (HCL)ë¡œ ì‘ì„±ëœ ì½”ë“œëŠ” í•„ìš”í•œ ë¦¬ì†ŒìŠ¤(ì„œë²„, ë„¤íŠ¸ì›Œí¬, ë°ì´í„°ë² ì´ìŠ¤)ì™€ ì´ë“¤ì˜ êµ¬ì„±ì„ êµ¬ì²´í™”í•©ë‹ˆë‹¤. ê²½í—˜ì´ í’ë¶€í•œ ì‹¤ë¬´ìë“  ì´ˆë³´ìë“ , ë³¸ ì•ˆë‚´ì„œëŠ” í˜„ëŒ€ì ì¸ DevOps ë°©ë²•ë¡ ì— ëŒ€í•œ Terraformì˜ íŒ¨ëŸ¬ë‹¤ì„ ì „í™˜ì ì¸ ì˜í–¥ì— ëŒ€í•œ ê·€ì¤‘í•œ í†µì°°ì„ ì œê³µí•©ë‹ˆë‹¤.</p>\n<h1>ëª©ì°¨</h1>\n<ul>\n<li>Terraform DevOps ì•ˆë‚´ì„œ: ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€</li>\n<li>ìš”ì•½</li>\n<li>ëª©ì°¨</li>\n<li>ì†Œê°œ</li>\n<li>ì „ì œ ì¡°ê±´\n<ul>\n<li>ğŸ’¡í•´ê²°ì±…ğŸ’¡</li>\n</ul>\n</li>\n<li>Terraform ìƒíƒœë¥¼ ì•ˆì „í•˜ê²Œ ìœ ì§€ ğŸ«¶</li>\n<li>ë¹„ë°€ ì •ë³´ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ê¸° ğŸ«¶</li>\n<li>ì—­í•  ê¸°ë°˜ ì•¡ì„¸ìŠ¤ ì œì–´ (RBAC) êµ¬í˜„</li>\n<li>ì½”ë“œ ë¦¬ë·°ì™€ í˜‘ì—… ğŸ«¶</li>\n<li>CI/CD íŒŒì´í”„ë¼ì¸ êµ¬í˜„ ğŸ’£</li>\n<li>Terraform ëª¨ë“ˆ ë° ì œê³µì—…ì²´ ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•˜ê¸° ğŸ’£</li>\n<li>ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§ ğŸ«¶</li>\n<li>ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ ğŸ«¶</li>\n<li>ê°ì‚¬ ë° ê·œì • ì¤€ìˆ˜ ğŸ‘€</li>\n<li>ì¬í•´ ë³µêµ¬ ë° ë°±ì—… ğŸ‘€</li>\n<li>ê²°ë¡ </li>\n<li>ë‚´ ì •ë³´</li>\n<li>ì°¸ê³  ë¬¸í—Œ</li>\n</ul>\n<h1>ì†Œê°œ</h1>\n<p>Terraformì€ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ì˜ ì½”ë“œ (IaC)ì— ëŒ€í•œ í•„ìˆ˜ ë„êµ¬ë¡œ, ì—¬ëŸ¬ í´ë¼ìš°ë“œ ì œê³µì—…ì²´ ê°„ì— ìì›ì„ í†µí•©ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ í° ê¶Œí•œì—ëŠ” í° ì±…ì„ì´ ë”°ë¦…ë‹ˆë‹¤. ì–´ë– í•œ êµ¬ì„± ì˜¤ë¥˜ë„ ì „ì²´ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë³´ì•ˆì´ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.</p>\n<p>ì „í†µì ìœ¼ë¡œ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ í”„ë¡œë¹„ì €ë‹ì€ ìˆ˜ë™ êµ¬ì„±ì„ í•„ìš”ë¡œ í•˜ë©°, ì‹œê°„ì´ ë§ì´ ê±¸ë¦¬ê³  ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê¸° ì‰¬ìš´ ê³¼ì •ì´ì—ˆìŠµë‹ˆë‹¤. Terraformì€ ì´ì— ë„ì „í•˜ì—¬ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ë¥¼ ì½”ë“œë¡œ ì •ì˜í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ì ‘ê·¼ë²•ì„ ì œê³µí•©ë‹ˆë‹¤. HashiCorp Configuration Language (HCL)ë¡œ ì‘ì„±ëœ ì½”ë“œëŠ” í•„ìš”í•œ ë¦¬ì†ŒìŠ¤ (ì„œë²„, ë„¤íŠ¸ì›Œí¬, ë°ì´í„°ë² ì´ìŠ¤)ì™€ ê·¸ êµ¬ì„±ì„ ì§€ì •í•©ë‹ˆë‹¤.</p>\n<p>ì´ ê¸°ì‚¬ëŠ” Terraformì˜ ì´ì ì— ëŒ€í•´ íƒêµ¬í•˜ê³  IaC ë°°í¬ê°€ ì•ˆì „í•˜ê³  ì‹ ë¢°í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•˜ê¸° ìœ„í•œ í•„ìˆ˜ ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì£¼ìš” ì˜ì—­ì„ íƒìƒ‰í•  ê²ƒì…ë‹ˆë‹¤:</p>\n<p>ğŸ’£ ì·¨ì•½ì  ê°ì‚¬: Terraform êµ¬ì„±ì—ì„œ ì·¨ì•½ì„±ì„ ì˜ˆë°©ì ìœ¼ë¡œ ì‹ë³„í•˜ê³  ì œê±°í•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤.</p>\n<p>ğŸ’£ ì ‘ê·¼ ì œì–´ ëª¨ë²” ì‚¬ë¡€: ì ‘ê·¼ ìê²© ì¦ëª…ì„ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ê³  ìµœì†Œ ê¶Œí•œ ì›ì¹™ì„ ì‹œí–‰í•˜ëŠ” ì „ëµì„ ë°œê²¬í•©ë‹ˆë‹¤.</p>\n<p>ğŸ’£ ì•ˆì „í•œ Terraform ëª¨ë“ˆ: ëª¨ë“ˆì„ ì•ˆì „í•˜ê²Œ í™œìš©í•˜ê³  ë³´ì•ˆì„ ì—¼ë‘ì— ë‘ê³  ìì²´ ëª¨ë“ˆì„ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì´í•´í•©ë‹ˆë‹¤.</p>\n<p>\"IBMì™€ HashiCorpì˜ ë³‘í•©ëœ í¬íŠ¸í´ë¦¬ì˜¤ëŠ” ê³ ê°ì´ ì¦ê°€í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ë° ì¸í”„ë¼ ë³µì¡ì„±ì„ ê´€ë¦¬í•˜ê³  AI ì‹œëŒ€ë¥¼ ìœ„í•´ ì„¤ê³„ëœ í¬ê´„ì ì¸ í•˜ì´ë¸Œë¦¬ë“œ í´ë¼ìš°ë“œ í”Œë«í¼ì„ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.\" - IBM íšŒì¥ì´ì ìµœê³  ê²½ì˜ìì¸ ì•„ë¹ˆë“œ í¬ë¦¬ìŠˆë‚˜ê°€ ë§í–ˆìŠµë‹ˆë‹¤.</p>\n<h1>ì¤€ë¹„ ì‚¬í•­</h1>\n<p>ìš°ë¦¬ê°€ ë³¸ê²©ì ì¸ ì‘ì—…ì— ë“¤ì–´ê°€ê¸° ì „ì—, ë¨¼ì € ë¡œì»¬ ë¨¸ì‹ ì´ë‚˜ ê°œë°œ ì„œë²„ì— í•„ìš”í•œ ì„œë¹„ìŠ¤ê°€ ìˆëŠ”ì§€ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤:</p>\n<ul>\n<li>React ë° Terraformì— ëŒ€í•œ ê¸°ë³¸ ì§€ì‹.</li>\n<li>AWS ê³„ì •</li>\n<li>GitHub ê³„ì •</li>\n<li>AWS CLI ì„¤ì¹˜ ë° êµ¬ì„± ì™„ë£Œ.</li>\n<li>ë¡œì»¬ì— Docker ì„¤ì¹˜.</li>\n<li>Terraform</li>\n</ul>\n<h2>ğŸ’¡ ì†”ë£¨ì…˜ ğŸ’¡</h2>\n<p>ë°ë¸Œì˜µìŠ¤ í™˜ê²½ì—ì„œ Terraformì„ êµ¬í˜„í•˜ë ¤ë©´ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ ì½”ë“œ(IaC) ë°©ë²•ë¡ ì´ ì·¨ì•½ì ì„ ë„ì…í•˜ì§€ ì•Šë„ë¡ ë³´ì•ˆì— ì¤‘ì ì„ ë‘ì–´ì•¼ í•©ë‹ˆë‹¤.</p>\n<p>ë‹¤ìŒì€ Terraformì„ ì‚¬ìš©í•  ë•Œ ë³´ì•ˆì„ ìœ ì§€í•˜ê¸° ìœ„í•œ ëª¨ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ì…ë‹ˆë‹¤:</p>\n<h1>í…Œë¼í¼ ìƒíƒœ ë³´ì•ˆì„ ê°•í™”í•˜ì„¸ìš” ğŸ«¶</h1>\n<ul>\n<li>ì›ê²© ìƒíƒœ ì €ì¥ì†Œ ì‚¬ìš©: ìƒíƒœ íŒŒì¼ì„ AWS S3, Azure Blob Storage ë˜ëŠ” Google Cloud Storageì™€ ê°™ì€ ì›ê²© ë°±ì—”ë“œì— ì €ì¥í•˜ì—¬ ë¬´ë‹¨ ì•¡ì„¸ìŠ¤ë¥¼ ë°©ì§€í•˜ëŠ” ì ì ˆí•œ ì•¡ì„¸ìŠ¤ ì œì–´ë¥¼ ì ìš©í•˜ì„¸ìš”.</li>\n<li>ìƒíƒœ íŒŒì¼ ì•”í˜¸í™”: ì›ê²© ë°±ì—”ë“œì— ì €ì¥ëœ ìƒíƒœ íŒŒì¼ì— ëŒ€í•´ ì„œë²„ ì¸¡ ì•”í˜¸í™”ë¥¼ í™œì„±í™”í•˜ì„¸ìš”.</li>\n<li>ì•¡ì„¸ìŠ¤ ì œí•œ: IAM ì—­í•  ë° ì •ì±…ì„ ì‚¬ìš©í•˜ì—¬ ìƒíƒœ íŒŒì¼ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ë¥¼ í•„ìš”í•œ ì‚¬ìš©ìì—ê²Œë¡œ ì œí•œí•˜ì„¸ìš”.</li>\n</ul>\n<p>ì˜ˆì‹œ:</p>\n<pre><code class=\"hljs language-js\">variable <span class=\"hljs-string\">\"db_password\"</span> {\n  type    = string\n  sensitive = <span class=\"hljs-literal\">true</span>\n}\n\ndata <span class=\"hljs-string\">\"terraform_remote_state\"</span> <span class=\"hljs-string\">\"foo\"</span> {\n  backend = <span class=\"hljs-string\">\"http\"</span>\n  config = {\n    address = <span class=\"hljs-string\">\"http://my.rest.api.com\"</span>\n  }\n}\n</code></pre>\n<p>ì—¬ê¸°ì—ì„œ ë” ë§ì€ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>\n<h1><strong>ë³´ì•ˆì ìœ¼ë¡œ ë¹„ë°€ì„ ê´€ë¦¬í•˜ê¸° ğŸ«¶</strong></h1>\n<ul>\n<li><strong>ë¹„ë°€ ì§ì ‘ ì½”ë”© í”¼í•˜ê¸°</strong>: Terraform íŒŒì¼ì— ë¹„ë°€ë²ˆí˜¸, API í‚¤ ë˜ëŠ” ê¸°ë°€ ì •ë³´ì™€ ê°™ì€ ì¤‘ìš”í•œ ì •ë³´ë¥¼ ì§ì ‘ ì½”ë”©í•˜ì§€ ë§ˆì„¸ìš”.</li>\n<li><strong>ì‹œí¬ë¦¿ ê´€ë¦¬ ë„êµ¬ ì‚¬ìš©í•˜ê¸°</strong>: HashiCorp Vault, AWS Secrets Manager ë˜ëŠ” Azure Key Vaultì™€ ê°™ì€ ì‹œí¬ë¦¿ ê´€ë¦¬ ë„êµ¬ë¥¼ í†µí•©í•˜ì—¬ Terraform êµ¬ì„±ì— ì•ˆì „í•˜ê²Œ ì‹œí¬ë¦¿ì„ ê´€ë¦¬í•˜ê³  ì£¼ì…í•˜ì„¸ìš”.</li>\n</ul>\n<p>ì˜ˆë¥¼ ë“¤ì–´ Azure Key Vaultë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ë°€ì„ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•:</p>\n<p>provider.tf</p>\n<pre><code class=\"hljs language-js\">terraform {\n  required_version = <span class=\"hljs-string\">\">=1.0\"</span>\n  required_providers {\n    azurerm = {\n      source  = <span class=\"hljs-string\">\"hashicorp/azurerm\"</span>\n      version = <span class=\"hljs-string\">\"~>3.0\"</span>\n    }\n    random = {\n      source  = <span class=\"hljs-string\">\"hashicorp/random\"</span>\n      version = <span class=\"hljs-string\">\"~>3.0\"</span>\n    }\n  }\n}\n\nprovider <span class=\"hljs-string\">\"azurerm\"</span> {\n  features {}\n}\n</code></pre>\n<p>main.tf</p>\n<pre><code class=\"hljs language-js\">resource <span class=\"hljs-string\">\"random_string\"</span> <span class=\"hljs-string\">\"secret_value\"</span> {\n  length  = <span class=\"hljs-number\">20</span>\n  special = <span class=\"hljs-literal\">true</span>\n}\n\nresource <span class=\"hljs-string\">\"azurerm_key_vault\"</span> <span class=\"hljs-string\">\"vault\"</span> {\n  name                       = <span class=\"hljs-string\">\"my-key-vault\"</span>\n  location                   = <span class=\"hljs-string\">\"East US\"</span>\n  resource_group_name        = <span class=\"hljs-string\">\"my-resource-group\"</span>\n  tenant_id                  = data.<span class=\"hljs-property\">azurerm_client_config</span>.<span class=\"hljs-property\">current</span>.<span class=\"hljs-property\">tenant_id</span>\n  sku_name                   = <span class=\"hljs-string\">\"standard\"</span>\n  soft_delete_retention_days = <span class=\"hljs-number\">7</span>\n\n  access_policy {\n    tenant_id = data.<span class=\"hljs-property\">azurerm_client_config</span>.<span class=\"hljs-property\">current</span>.<span class=\"hljs-property\">tenant_id</span>\n    object_id = local.<span class=\"hljs-property\">current_user_id</span>\n    secret_permissions = [<span class=\"hljs-string\">\"get\"</span>, <span class=\"hljs-string\">\"list\"</span>]\n  }\n}\n\nresource <span class=\"hljs-string\">\"azurerm_key_vault_secret\"</span> <span class=\"hljs-string\">\"my_secret\"</span> {\n  name         = <span class=\"hljs-string\">\"my-secret\"</span>\n  value        = random_string.<span class=\"hljs-property\">secret_value</span>.<span class=\"hljs-property\">result</span>\n  key_vault_id = azurerm_key_vault.<span class=\"hljs-property\">vault</span>.<span class=\"hljs-property\">id</span>\n}\n\ndata <span class=\"hljs-string\">\"azurerm_client_config\"</span> <span class=\"hljs-string\">\"current\"</span> {}\n</code></pre>\n<h1>Role-Based Access Control (RBAC) êµ¬í˜„</h1>\n<ul>\n<li>IAM ì •ì±… ì‚¬ìš©: ì‚¬ìš©ì ë° ì„œë¹„ìŠ¤ê°€ í•„ìš”í•œ ê¶Œí•œë§Œ ê°–ë„ë¡ IAM ì •ì±…ì„ ì •ì˜í•˜ê³  ê°•ì œí•©ë‹ˆë‹¤.</li>\n<li>ì—­í•  ë¶„ë¦¬: ê° ë‹¨ê³„ (ê°œë°œ, ìŠ¤í…Œì´ì§•, í”„ë¡œë•ì…˜)ì— ëŒ€í•´ ì„œë¡œ ë‹¤ë¥¸ ì—­í• ì„ ì‚¬ìš©í•˜ê³  ìµœì†Œ ê¶Œí•œì˜ ì›ì¹™ì„ ì ìš©í•©ë‹ˆë‹¤.</li>\n</ul>\n<p>ì˜ˆë¥¼ ë“¤ì–´ Azure ë¦¬ì†ŒìŠ¤ë¥¼ ìœ„í•œ Role-Based Access Control (RBAC) :</p>\n<pre><code class=\"hljs language-js\">terraform {\n  required_providers {\n    azurerm = {\n      source  = <span class=\"hljs-string\">\"hashicorp/azurerm\"</span>\n      version = <span class=\"hljs-string\">\"~>2.0\"</span>\n    }\n    azuread = {\n      source = <span class=\"hljs-string\">\"hashicorp/azuread\"</span>\n    }\n  }\n}\n\nprovider <span class=\"hljs-string\">\"azurerm\"</span> {\n  features {}\n}\n\n<span class=\"hljs-comment\">// main.tf</span>\ndata <span class=\"hljs-string\">\"azuread_user\"</span> <span class=\"hljs-string\">\"aad_user\"</span> {\n  for_each            = <span class=\"hljs-title function_\">toset</span>(<span class=\"hljs-keyword\">var</span>.<span class=\"hljs-property\">avd_users</span>)\n  user_principal_name = <span class=\"hljs-title function_\">format</span>(<span class=\"hljs-string\">\"%s\"</span>, each.<span class=\"hljs-property\">key</span>)\n}\n\ndata <span class=\"hljs-string\">\"azurerm_role_definition\"</span> <span class=\"hljs-string\">\"role\"</span> {\n  name = <span class=\"hljs-string\">\"Desktop Virtualization User\"</span>\n}\n\nresource <span class=\"hljs-string\">\"azuread_group\"</span> <span class=\"hljs-string\">\"aad_group\"</span> {\n  display_name     = <span class=\"hljs-keyword\">var</span>.<span class=\"hljs-property\">aad_group_name</span>\n  security_enabled = <span class=\"hljs-literal\">true</span>\n}\n\nresource <span class=\"hljs-string\">\"azuread_group_member\"</span> <span class=\"hljs-string\">\"aad_group_member\"</span> {\n  for_each         = data.<span class=\"hljs-property\">azuread_user</span>.<span class=\"hljs-property\">aad_user</span>\n  group_object_id  = azuread_group.<span class=\"hljs-property\">aad_group</span>.<span class=\"hljs-property\">id</span>\n  member_object_id = each.<span class=\"hljs-property\">value</span>[<span class=\"hljs-string\">\"id\"</span>]\n}\n\nresource <span class=\"hljs-string\">\"azurerm_role_assignment\"</span> <span class=\"hljs-string\">\"role\"</span> {\n  scope              = azurerm_virtual_desktop_application_group.<span class=\"hljs-property\">dag</span>.<span class=\"hljs-property\">id</span>\n  role_definition_id = data.<span class=\"hljs-property\">azurerm_role_definition</span>.<span class=\"hljs-property\">role</span>.<span class=\"hljs-property\">id</span>\n  principal_id       = azuread_group.<span class=\"hljs-property\">aad_group</span>.<span class=\"hljs-property\">id</span>\n}\n</code></pre>\n<h1>ì½”ë“œ ë¦¬ë·° ë° í˜‘ì—… ğŸ«¶</h1>\n<ul>\n<li>ë²„ì „ ê´€ë¦¬ ì‚¬ìš©: í…Œë¼í¼ êµ¬ì„±ì„ Gitê³¼ ê°™ì€ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ(VCS)ì— ì €ì¥í•˜ì„¸ìš”.</li>\n<li>ì½”ë“œ ë¦¬ë·°: ì ì¬ì ì¸ ë³´ì•ˆ ë¬¸ì œë¥¼ ë¯¸ë¦¬ ë°œê²¬í•˜ê¸° ìœ„í•´ í…Œë¼í¼ êµ¬ì„±ì— ëŒ€í•œ ëª¨ë“  ë³€ê²½ì— ëŒ€í•´ í•„ìˆ˜ ì½”ë“œ ë¦¬ë·°ë¥¼ ì‹¤ì‹œí•˜ì„¸ìš”.</li>\n<li>í’€ ë¦¬í€˜ìŠ¤íŠ¸: ë³€ê²½ ì‚¬í•­ì„ ë³¸ ë¸Œëœì¹˜ë¡œ ë³‘í•©í•˜ê¸° ì „ì— ë¦¬ë·° ë° í† ë¡ í•˜ê¸° ìœ„í•´ í’€ ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.</li>\n</ul>\n<h1>CI/CD íŒŒì´í”„ë¼ì¸ êµ¬í˜„ ğŸ’£</h1>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-attr\">name</span>: í…Œë¼í¼ <span class=\"hljs-variable constant_\">CI</span>/<span class=\"hljs-variable constant_\">CD</span>\n\n<span class=\"hljs-attr\">on</span>:\n  <span class=\"hljs-attr\">push</span>:\n    <span class=\"hljs-attr\">branches</span>:\n      - main\n  <span class=\"hljs-attr\">pull_request</span>:\n    <span class=\"hljs-attr\">branches</span>:\n      - main\n\n<span class=\"hljs-attr\">env</span>:\n  <span class=\"hljs-attr\">ARM_CLIENT_ID</span>: ${ secrets.<span class=\"hljs-property\">ARM_CLIENT_ID</span> }\n  <span class=\"hljs-attr\">ARM_CLIENT_SECRET</span>: ${ secrets.<span class=\"hljs-property\">ARM_CLIENT_SECRET</span> }\n  <span class=\"hljs-attr\">ARM_SUBSCRIPTION_ID</span>: ${ secrets.<span class=\"hljs-property\">ARM_SUBSCRIPTION_ID</span> }\n  <span class=\"hljs-attr\">ARM_TENANT_ID</span>: ${ secrets.<span class=\"hljs-property\">ARM_TENANT_ID</span> }\n  <span class=\"hljs-attr\">TF_VAR_client_id</span>: ${ secrets.<span class=\"hljs-property\">ARM_CLIENT_ID</span> }\n  <span class=\"hljs-attr\">TF_VAR_client_secret</span>: ${ secrets.<span class=\"hljs-property\">ARM_CLIENT_SECRET</span> }\n  <span class=\"hljs-attr\">TF_VAR_subscription_id</span>: ${ secrets.<span class=\"hljs-property\">ARM_SUBSCRIPTION_ID</span> }\n  <span class=\"hljs-attr\">TF_VAR_tenant_id</span>: ${ secrets.<span class=\"hljs-property\">ARM_TENANT_ID</span> }\n\n<span class=\"hljs-attr\">jobs</span>:\n  <span class=\"hljs-attr\">terraform</span>:\n    <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'í…Œë¼í¼'</span>\n    runs-<span class=\"hljs-attr\">on</span>: ubuntu-latest\n\n    <span class=\"hljs-attr\">steps</span>:\n      - <span class=\"hljs-attr\">name</span>: ì½”ë“œ ì²´í¬ì•„ì›ƒ\n        <span class=\"hljs-attr\">uses</span>: actions/checkout@v2\n\n      - <span class=\"hljs-attr\">name</span>: í…Œë¼í¼ ì„¤ì •\n        <span class=\"hljs-attr\">uses</span>: hashicorp/setup-terraform@v2\n        <span class=\"hljs-attr\">with</span>:\n          <span class=\"hljs-attr\">terraform_version</span>: <span class=\"hljs-number\">1.3</span><span class=\"hljs-number\">.7</span>\n\n      - <span class=\"hljs-attr\">name</span>: í…Œë¼í¼ ì´ˆê¸°í™”\n        <span class=\"hljs-attr\">run</span>: terraform init\n\n      - <span class=\"hljs-attr\">name</span>: í…Œë¼í¼ í¬ë§·\n        <span class=\"hljs-attr\">run</span>: terraform fmt -check\n\n      - <span class=\"hljs-attr\">name</span>: í…Œë¼í¼ ìœ íš¨ì„± ê²€ì‚¬\n        <span class=\"hljs-attr\">run</span>: terraform validate\n\n      - <span class=\"hljs-attr\">name</span>: í…Œë¼í¼ ê³„íš\n        <span class=\"hljs-attr\">id</span>: plan\n        <span class=\"hljs-attr\">run</span>: terraform plan -out=plan.<span class=\"hljs-property\">tfplan</span>\n        <span class=\"hljs-keyword\">continue</span>-on-<span class=\"hljs-attr\">error</span>: <span class=\"hljs-literal\">true</span>\n\n      - <span class=\"hljs-attr\">name</span>: í…Œë¼í¼ ì ìš©\n        <span class=\"hljs-attr\">if</span>: github.<span class=\"hljs-property\">ref</span> == <span class=\"hljs-string\">'refs/heads/main'</span> &#x26;&#x26; github.<span class=\"hljs-property\">event_name</span> == <span class=\"hljs-string\">'push'</span>\n        <span class=\"hljs-attr\">run</span>: terraform apply -auto-approve plan.<span class=\"hljs-property\">tfplan</span>\n\n      - <span class=\"hljs-attr\">name</span>: í…Œë¼í¼ ì‚­ì œ (ì˜µì…˜)\n        <span class=\"hljs-attr\">if</span>: github.<span class=\"hljs-property\">event_name</span> == <span class=\"hljs-string\">'pull_request'</span> &#x26;&#x26; github.<span class=\"hljs-property\">event</span>.<span class=\"hljs-property\">action</span> == <span class=\"hljs-string\">'closed'</span> &#x26;&#x26; github.<span class=\"hljs-property\">event</span>.<span class=\"hljs-property\">pull_request</span>.<span class=\"hljs-property\">merged</span> == <span class=\"hljs-literal\">false</span>\n        <span class=\"hljs-attr\">run</span>: terraform destroy -auto-approve\n</code></pre>\n<ul>\n<li>ë°°í¬ ìë™í™”: CI/CD íŒŒì´í”„ë¼ì¸ì„ ì‚¬ìš©í•˜ì—¬ Terraform ë°°í¬ë¥¼ ìë™í™”í•˜ì—¬ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ê³  ì¸ê°„ ì—ëŸ¬ì˜ ìœ„í—˜ì„ ì¤„ì…ë‹ˆë‹¤.</li>\n<li>ì·¨ì•½ì  ê²€ì‚¬: CI/CD íŒŒì´í”„ë¼ì¸ì— ë³´ì•ˆ ìŠ¤ìº” ë„êµ¬ë¥¼ í†µí•©í•˜ì—¬ ë°°í¬ ì „ì— Terraform êµ¬ì„±ì—ì„œ ì·¨ì•½ì ì„ ê°ì§€í•©ë‹ˆë‹¤.</li>\n</ul>\n<h1>Terraform ëª¨ë“ˆê³¼ í”„ë¡œë°”ì´ë” ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•˜ê¸° ğŸ’£</h1>\n<ul>\n<li>í”„ë¡œë°”ì´ë” í™•ì¸: Terraform ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë˜ëŠ” ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì†ŒìŠ¤ì—ì„œ í™•ì¸ëœ í”„ë¡œë°”ì´ë”ì™€ ëª¨ë“ˆë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤.</li>\n<li>ë²„ì „ í•€: í”„ë¡œë°”ì´ë”ì™€ ëª¨ë“ˆì˜ ë²„ì „ì„ í•€í•˜ì—¬ ìƒìœ„ ì—…ë°ì´íŠ¸ë¡œ ì¸í•œ ì˜ë„í•˜ì§€ ì•Šì€ ë³€ê²½ì„ ë°©ì§€í•©ë‹ˆë‹¤.</li>\n<li>ì½”ë“œ ê²€í† : ëª¨ë“ˆê³¼ í”„ë¡œë°”ì´ë”ì˜ ì½”ë“œë¥¼ ì •ê¸°ì ìœ¼ë¡œ ê²€í† í•˜ê³  ê°ì‚¬í•˜ì—¬ ë³´ì•ˆ ìœ„í—˜ì„ ë°©ì§€í•©ë‹ˆë‹¤.</li>\n</ul>\n<p>ì˜ˆì‹œ:</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-variable language_\">module</span> <span class=\"hljs-string\">\"network\"</span> {\n  source  = <span class=\"hljs-string\">\"terraform-azure-modules/network/azurerm\"</span>\n  version = <span class=\"hljs-string\">\"2.0.0\"</span>\n  # ê¸°íƒ€ ëª¨ë“ˆ ì…ë ¥ ê°’\n}\n</code></pre>\n<h1>ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§ ğŸ«¶</h1>\n<ul>\n<li>ë¡œê¹… í™œì„±í™”: í…Œë¼í¼ì—ì„œ ìˆ˜í–‰ë˜ëŠ” ëª¨ë“  ì‘ì—…ì´ ë¡œê¹…ë˜ê³ , ì´ëŸ¬í•œ ë¡œê·¸ê°€ ì´ìƒ í™œë™ì„ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë° ì‚¬ìš©ë  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.</li>\n<li>ìƒíƒœ ë³€ê²½ ëª¨ë‹ˆí„°ë§: í…Œë¼í¼ ìƒíƒœ ë° ì¸í”„ë¼ ë³€ê²½ì— ëŒ€í•œ ê²½ë³´ë¥¼ ì„¤ì •í•˜ì—¬ ë¬´ë‹¨ ìˆ˜ì •ì— ì‹ ì†í•˜ê²Œ ëŒ€ì‘í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.</li>\n</ul>\n<h1>ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ ğŸ«¶</h1>\n<ul>\n<li>VPC ë° ì„œë¸Œë„· ì‚¬ìš©: ê°€ìƒ ì‚¬ì„¤ í´ë¼ìš°ë“œ(VPC) ë° ì„œë¸Œë„·ì„ ì´ìš©í•˜ì—¬ ë¦¬ì†ŒìŠ¤ë¥¼ ê²©ë¦¬í•˜ë„ë¡ ë„¤íŠ¸ì›Œí¬ ì•„í‚¤í…ì²˜ë¥¼ ì„¤ê³„í•˜ì„¸ìš”.</li>\n<li>ë³´ì•ˆ ê·¸ë£¹ ë° ë°©í™”ë²½: ì—„ê²©í•œ ë³´ì•ˆ ê·¸ë£¹ ê·œì¹™ê³¼ ë„¤íŠ¸ì›Œí¬ ë°©í™”ë²½ ì •ì±…ì„ ì ìš©í•˜ì—¬ íŠ¸ë˜í”½ íë¦„ì„ ì œì–´í•˜ê³  ë…¸ì¶œì„ ì œí•œí•˜ì„¸ìš”.</li>\n</ul>\n<h1>ê°ì‚¬ ë° ê·œì • ì¤€ìˆ˜ ğŸ‘€</h1>\n<ul>\n<li>ì •ê¸° ê°ì‚¬: Terraform êµ¬ì„± ë° ë°°í¬ëœ ì¸í”„ë¼ì˜ ë³´ì•ˆ ê°ì‚¬ì™€ ê·œì • ì¤€ìˆ˜ ì ê²€ì„ ì •ê¸°ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ì„¸ìš”.</li>\n<li>ê·œì • ì¤€ìˆ˜ ì½”ë“œ: ê·œì • ì¤€ìˆ˜ë¥¼ ë³´ì¥í•˜ê¸° ìœ„í•´ Terraform êµ¬ì„±ì— ê·œì • ì¤€ìˆ˜ ì ê²€ì„ í†µí•©í•˜ì„¸ìš”. regulatory and organizational standardsì„ ì¤€ìˆ˜í•©ë‹ˆë‹¤.</li>\n</ul>\n<h1>ì¬í•´ ë³µêµ¬ ë° ë°±ì—… ğŸ‘€</h1>\n<pre><code class=\"hljs language-js\">provider <span class=\"hljs-string\">\"azurerm\"</span> {\n  features {}\n}\n\nresource <span class=\"hljs-string\">\"azurerm_resource_group\"</span> <span class=\"hljs-string\">\"rg\"</span> {\n  name     = <span class=\"hljs-keyword\">var</span>.<span class=\"hljs-property\">resource_group_name</span>\n  location = <span class=\"hljs-keyword\">var</span>.<span class=\"hljs-property\">location</span>\n}\n\nresource <span class=\"hljs-string\">\"azurerm_recovery_services_vault\"</span> <span class=\"hljs-string\">\"recovery_vault\"</span> {\n  name                = <span class=\"hljs-string\">\"myRecoveryServicesVault\"</span>\n  resource_group_name = azurerm_resource_group.<span class=\"hljs-property\">rg</span>.<span class=\"hljs-property\">name</span>\n  location            = azurerm_resource_group.<span class=\"hljs-property\">rg</span>.<span class=\"hljs-property\">location</span>\n  sku                 = <span class=\"hljs-string\">\"Standard\"</span>\n}\n\nresource <span class=\"hljs-string\">\"azurerm_backup_policy_vm\"</span> <span class=\"hljs-string\">\"backup_policy\"</span> {\n  name                = <span class=\"hljs-string\">\"myBackupPolicy\"</span>\n  resource_group_name = azurerm_resource_group.<span class=\"hljs-property\">rg</span>.<span class=\"hljs-property\">name</span>\n  recovery_vault_name = azurerm_recovery_services_vault.<span class=\"hljs-property\">recovery_vault</span>.<span class=\"hljs-property\">name</span>\n\n  backup {\n    frequency = <span class=\"hljs-string\">\"Daily\"</span>\n    time      = <span class=\"hljs-string\">\"23:00\"</span>\n  }\n\n  retention_daily {\n    count = <span class=\"hljs-number\">7</span>\n  }\n}\n\nresource <span class=\"hljs-string\">\"azurerm_kubernetes_cluster\"</span> <span class=\"hljs-string\">\"aks\"</span> {\n  name                = <span class=\"hljs-keyword\">var</span>.<span class=\"hljs-property\">aks_name</span>\n  location            = azurerm_resource_group.<span class=\"hljs-property\">rg</span>.<span class=\"hljs-property\">location</span>\n  resource_group_name = azurerm_resource_group.<span class=\"hljs-property\">rg</span>.<span class=\"hljs-property\">name</span>\n  dns_prefix          = <span class=\"hljs-keyword\">var</span>.<span class=\"hljs-property\">dns_prefix</span>\n\n  default_node_pool {\n    name       = <span class=\"hljs-string\">\"default\"</span>\n    node_count = <span class=\"hljs-keyword\">var</span>.<span class=\"hljs-property\">node_count</span>\n    vm_size    = <span class=\"hljs-keyword\">var</span>.<span class=\"hljs-property\">vm_size</span>\n  }\n\n  identity {\n    type = <span class=\"hljs-string\">\"SystemAssigned\"</span>\n  }\n\n  tags = {\n    environment = <span class=\"hljs-string\">\"Production\"</span>\n  }\n}\n\nresource <span class=\"hljs-string\">\"azurerm_log_analytics_workspace\"</span> <span class=\"hljs-string\">\"log_analytics\"</span> {\n  name                = <span class=\"hljs-keyword\">var</span>.<span class=\"hljs-property\">log_analytics_workspace_name</span>\n  location            = azurerm_resource_group.<span class=\"hljs-property\">rg</span>.<span class=\"hljs-property\">location</span>\n  resource_group_name = azurerm_resource_group.<span class=\"hljs-property\">rg</span>.<span class=\"hljs-property\">name</span>\n  sku                 = <span class=\"hljs-string\">\"PerGB2018\"</span>\n  retention_in_days   = <span class=\"hljs-number\">30</span>\n}\n\nresource <span class=\"hljs-string\">\"azurerm_kubernetes_cluster_node_pool\"</span> <span class=\"hljs-string\">\"node_pool\"</span> {\n  name                  = <span class=\"hljs-string\">\"additionalpool\"</span>\n  kubernetes_cluster_id = azurerm_kubernetes_cluster.<span class=\"hljs-property\">aks</span>.<span class=\"hljs-property\">id</span>\n  vm_size               = <span class=\"hljs-string\">\"Standard_DS2_v2\"</span>\n  node_count            = <span class=\"hljs-number\">1</span>\n}\n\nresource <span class=\"hljs-string\">\"azurerm_backup_protected_vm\"</span> <span class=\"hljs-string\">\"protected_vm\"</span> {\n  resource_group_name = azurerm_resource_group.<span class=\"hljs-property\">rg</span>.<span class=\"hljs-property\">name</span>\n  recovery_vault_name = azurerm_recovery_services_vault.<span class=\"hljs-property\">recovery_vault</span>.<span class=\"hljs-property\">name</span>\n  source_vm_id        = azurerm_kubernetes_cluster.<span class=\"hljs-property\">aks</span>.<span class=\"hljs-property\">id</span>\n  backup_policy_id    = azurerm_backup_policy_vm.<span class=\"hljs-property\">backup_policy</span>.<span class=\"hljs-property\">id</span>\n}\n</code></pre>\n<ul>\n<li>ë°±ì—… ìƒíƒœ íŒŒì¼: ìš°ì—°í•œ ì‚­ì œë‚˜ ì†ìƒìœ¼ë¡œë¶€í„° íšŒë³µí•  ìˆ˜ ìˆë„ë¡ Terraform ìƒíƒœ íŒŒì¼ì„ ì •ê¸°ì ìœ¼ë¡œ ë°±ì—…í•©ë‹ˆë‹¤.</li>\n<li>ì¬í•´ ë³µêµ¬ ê³„íš: ì¬í•´ ë³µêµ¬ ê³„íšì„ ê°œë°œí•˜ê³  í…ŒìŠ¤íŠ¸í•˜ì—¬ ì¹˜ëª…ì ì¸ ì¥ì•  ë°œìƒ ì‹œ Terraformì„ ì‚¬ìš©í•˜ì—¬ ì¸í”„ë¼ë¥¼ ë³µì›í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.</li>\n</ul>\n<p>ì´ëŸ° ëª¨ë²” ì‚¬ë¡€ë¥¼ ë”°ë¥´ë©´ Terraformìœ¼ë¡œ ê´€ë¦¬ë˜ëŠ” ì¸í”„ë¼ì˜ ë³´ì•ˆì„ í¬ê²Œ í–¥ìƒì‹œí‚¤ê³  ì ì¬ì ì¸ ì·¨ì•½ì ê³¼ ì˜ëª»ëœ êµ¬ì„±ì˜ ìœ„í—˜ì„ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ê³ ë ¤í•´ì•¼ í•  ëª‡ ê°€ì§€ ë¶€ê°€ ì‚¬í•­ì´ ìˆìŠµë‹ˆë‹¤:</p>\n<ul>\n<li>ë°ì´í„°ì˜ ì¡´ì†ì¤‘ ì•”í˜¸í™” #1 â€” ì„œë²„ ì¸¡ ì•”í˜¸í™”ëŠ” ë°ì´í„°ë¥¼ ì ì ˆíˆ ë³´í˜¸í•˜ì§€ë§Œ, íŠ¹íˆ í™˜ê²½ ê°„ ì „ì†¡ ì‹œ ìƒíƒœ íŒŒì¼ì„ ì•”í˜¸í™”í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ë³´ì„¸ìš”. ğŸ‘‘</li>\n<li>ì„œë¹„ìŠ¤ ê³„ì •ì— ëŒ€í•œ ìµœì†Œ ê¶Œí•œ ë¶€ì—¬ #2 â€” Terraformê³¼ ì„œë¹„ìŠ¤ ê³„ì •ì„ ì‚¬ìš©í•  ë•Œ, í•´ë‹¹ ê³„ì •ì´ íŠ¹ì • ì‘ì—…ì— í•„ìš”í•œ ìµœì†Œí•œì˜ ê¶Œí•œì„ ê°–ë„ë¡í•˜ì‹­ì‹œì˜¤.</li>\n<li>ì¸í”„ë¼ ì œê±° í…ŒìŠ¤íŠ¸ #3 â€” ìë™í™”ëœ í…ŒìŠ¤íŠ¸ë¥¼ CI/CD íŒŒì´í”„ë¼ì¸ì— í¬í•¨í•˜ì—¬ Terraformì´ ì¸í”„ë¼ë¥¼ ì•ˆì „í•˜ê²Œ ì œê±°í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. ì¬í•´ ë³µêµ¬ ì‹œë‚˜ë¦¬ì˜¤ì— ì¤‘ìš”í•©ë‹ˆë‹¤. ğŸ‘‘</li>\n<li>ìµœì‹  ìœ ì§€ #3 â€” ì •ê¸°ì ìœ¼ë¡œ Terraform ìì²´, ëª¨ë“ˆ ë° í”„ë¡œë°”ì´ë”ë¥¼ ì—…ë°ì´íŠ¸í•˜ì—¬ ë³´ì•ˆ íŒ¨ì¹˜ì™€ ë²„ê·¸ ìˆ˜ì •ì˜ ì´ì ì„ ëˆ„ë¦¬ì„¸ìš”.</li>\n</ul>\n<h1>ê²°ë¡ </h1>\n<p>DevOps í™˜ê²½ì—ì„œ Terraformì„ ë³´ì•ˆí•˜ëŠ” ë° ì´ëŸ¬í•œ ëª¨ë²” ì‚¬ë¡€ë¥¼ ë”°ë¥´ë©´ ë¦¬ìŠ¤í¬ë¥¼ ìµœì†Œí™”í•˜ê³  ì¸í”„ë¼ë¥¼ ì½”ë“œë¡œ ì œì–´í•˜ëŠ” ê°•ë ¥í•œ ë°©ì–´ìˆ˜ë‹¨ì„ í™•ë³´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•ˆì „í•œ ìƒíƒœ ê´€ë¦¬, ì ì ˆí•œ ë¹„ë°€ ì²˜ë¦¬, ì—­í•  ê¸°ë°˜ ì•¡ì„¸ìŠ¤ ì œì–´, ì² ì €í•œ ì½”ë“œ ë¦¬ë·°, ìë™í™”ëœ CI/CD íŒŒì´í”„ë¼ì¸, ì£¼ì‹œì ì¸ ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§, ì—„ê²©í•œ ê°ì‚¬ ë° ê·œì • ì¤€ìˆ˜ í”„ë¡œì„¸ìŠ¤ ë“±ì˜ ì¡°ì¹˜ë¥¼ ì‹œí–‰í•˜ì—¬ ì·¨ì•½ì ì— ëŒ€ì‘í•˜ëŠ” ì¸í”„ë¼ë¥¼ ê°•í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¶ê·¹ì ìœ¼ë¡œ ë³´ì•ˆì— ëŒ€í•œ ì„ ì œì ì¸ ì ‘ê·¼ì€ ì‹œìŠ¤í…œì„ ì•ˆì „í•˜ê²Œ ì§€í‚¤ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ê²ƒë¿ë§Œ ì•„ë‹ˆë¼ ì¡°ì§ ë‚´ ì‹ ë¢°ì™€ ì‹ ë¢°ì„±ì„ ìœ¡ì„±í•  ê²ƒì…ë‹ˆë‹¤.</p>\n<p>ì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ğŸ™ŒğŸ» êµ¬ë…í•˜ê³  CLAPì„ ê¼­ ëˆŒëŸ¬ì£¼ì„¸ìš” ğŸ‘ ë‹¤ìŒ ê¸°ì‚¬ì—ì„œ ë§Œë‚˜ìš”.ğŸ¤˜</p>\n<h1>ë‚˜ì— ëŒ€í•´</h1>\n<p>â€œì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” ì¡°ì—˜ ì˜¤ì›œë³´ì´ë¼ê³  í•©ë‹ˆë‹¤. AWS ì¸ì¦ í´ë¼ìš°ë“œ ì•„í‚¤í…íŠ¸, ë°±ì—”ë“œ ê°œë°œì, ê·¸ë¦¬ê³  AWS ì»¤ë®¤ë‹ˆí‹° ë¹Œë”ì…ë‹ˆë‹¤. í•„ë¦¬í•€ì— ê±°ì£¼í•˜ê³  ìˆì–´ìš”. ì œê°€ ê°€ì§€ê³  ìˆëŠ” ê°•ì ì€ í´ë¼ìš°ë“œ ì•„í‚¤í…ì²˜, ë°ë¸Œì˜µìŠ¤ ì‹¤ì²œ ë°©ë²•, ê·¸ë¦¬ê³  ê³ ê°€ìš©ì„± (HA) ì›ì¹™ì— ëŒ€í•œ ê¹Šì€ ì´í•´ë¥¼ ê²°í•©í•œ ê²ƒì…ë‹ˆë‹¤. ì œ ì§€ì‹ì„ í™œìš©í•˜ì—¬ íš¨ìœ¨ì ì¸ ê¸°ì—… ë°°í¬ë¥¼ ìœ„í•´ ì˜¤í”ˆ ì†ŒìŠ¤ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ê²¬ê³ í•˜ê³  í™•ì¥ ê°€ëŠ¥í•œ í´ë¼ìš°ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ì–´ë‚´ê³  ìˆìŠµë‹ˆë‹¤.â€</p>\n<p>ì €ì(Joel O. Wembo)ì— ëŒ€í•œ ë” ë§ì€ ì •ë³´ë¥¼ ì›í•˜ì‹œë©´ ì•„ë˜ ë§í¬ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”:</p>\n<ul>\n<li>Linkedin: <a href=\"https://www.linkedin.com/in/joelotepawembo/\" rel=\"nofollow\" target=\"_blank\">https://www.linkedin.com/in/joelotepawembo/</a></li>\n<li>Website: <a href=\"https://joelwembo.com\" rel=\"nofollow\" target=\"_blank\">https://joelwembo.com</a></li>\n<li>Twitter: <a href=\"https://twitter.com/joelwembo1\" rel=\"nofollow\" target=\"_blank\">https://twitter.com/joelwembo1</a></li>\n<li>GitHub: <a href=\"https://github.com/joelwembo\" rel=\"nofollow\" target=\"_blank\">https://github.com/joelwembo</a></li>\n<li>Portfolio: <a href=\"joelwembo.github.io\">joelwembo.github.io</a></li>\n<li><a href=\"https://www.patreon.com/joelwembo\" rel=\"nofollow\" target=\"_blank\">https://www.patreon.com/joelwembo</a></li>\n</ul>\n<h1>References</h1>\n</body>\n</html>\n"},"__N_SSG":true}