{"pageProps":{"post":{"title":"저장된 XSS를 통해 사용자 쿠키를 탈취한 방법","description":"","date":"2024-07-01 15:51","slug":"2024-07-01-HowIwasabletostealusercookiesviastoredXSS","content":"\n\n테이블 태그를 마크다운 형식으로 변경해주세요.\n\n<!-- ui-station 사각형 -->\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n저는 사용자 계정과 상점 계정 두 개를 만들었어요.\n\n상점 계정에서 \"Ahmeee\"라는 랜덤 카테고리 아래에 \"ahmed\"라는 상점을 만들었어요.\n\n새 제품을 추가하러 가서 새 제품을 추가했는데, 제품에 일반적인 이름 대신 XSS payload를 시도해 봤어요.\n\n<!-- ui-station 사각형 -->\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n이렇게 사용했어요:\n\n\n`img src=\"invalid-image\" onerror=\"alert(document.cookie)\"`\n\n\n![image](/assets/img/2024-07-01-HowIwasabletostealusercookiesviastoredXSS_2.png)\n\n그러고 나서 \"제품 추가\"를 클릭하고 내 사용자 계정으로 이동했어요.\n\n<!-- ui-station 사각형 -->\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n사용자 계정에서 내 가게를 방문하여 \"Ahmeee\" 카테고리를 클릭했어요.\n\n![image1](/assets/img/2024-07-01-HowIwasabletostealusercookiesviastoredXSS_3.png)\n\n그런 다음 XSS 페이로드로 주입한 제품을 발견했어요!\n\n![image2](/assets/img/2024-07-01-HowIwasabletostealusercookiesviastoredXSS_4.png)\n\n<!-- ui-station 사각형 -->\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n제가 제품을 클릭한 후 \"장바구니에 추가\"를 클릭했더니, XSS 페이로드가 실행되어 사용자 세션 쿠키가 표시되었어요!\n\n![이미지](/assets/img/2024-07-01-HowIwasabletostealusercookiesviastoredXSS_5.png)\n\n영향: 이 취약점으로 인해 공격자가 사용자 쿠키를 획득하여 사용자 계정에 무단 액세스할 수 있습니다.\n\n권장 사항: 이러한 공격을 방지하기 위해 적절한 입력 방지 및 출력 인코딩을 구현해야 합니다. 또한 콘텐츠 보안 정책(CSP)을 배포하여 이 취약점을 줄일 수 있습니다.\n\n<!-- ui-station 사각형 -->\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n# 배운 교훈!\n\n보이는 모든 입력란에 XSS 페이로드를 주입하세요; 아마도 작동할지도 몰라요!\n\n**편집**\n\n그 프로그램은 사기였고 신고에도 답변이 없어요. 발견하면 피하세요, \"dukaan.com\"이에요.\n\n<!-- ui-station 사각형 -->\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n**수정**\n\n<img src=\"/assets/img/2024-07-01-HowIwasabletostealusercookiesviastoredXSS_6.png\" />\n\n더 많은 Write-Ups을 보려면 소셜 미디어에서 팔로우해주세요\n\n# 연락처:","ogImage":{"url":"/assets/img/2024-07-01-HowIwasabletostealusercookiesviastoredXSS_0.png"},"coverImage":"/assets/img/2024-07-01-HowIwasabletostealusercookiesviastoredXSS_0.png","tag":["Tech"],"readingTime":3},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<p>테이블 태그를 마크다운 형식으로 변경해주세요.</p>\n<!-- ui-station 사각형 -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>저는 사용자 계정과 상점 계정 두 개를 만들었어요.</p>\n<p>상점 계정에서 \"Ahmeee\"라는 랜덤 카테고리 아래에 \"ahmed\"라는 상점을 만들었어요.</p>\n<p>새 제품을 추가하러 가서 새 제품을 추가했는데, 제품에 일반적인 이름 대신 XSS payload를 시도해 봤어요.</p>\n<!-- ui-station 사각형 -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>이렇게 사용했어요:</p>\n<p><code>img src=\"invalid-image\" onerror=\"alert(document.cookie)\"</code></p>\n<p><img src=\"/assets/img/2024-07-01-HowIwasabletostealusercookiesviastoredXSS_2.png\" alt=\"image\"></p>\n<p>그러고 나서 \"제품 추가\"를 클릭하고 내 사용자 계정으로 이동했어요.</p>\n<!-- ui-station 사각형 -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>사용자 계정에서 내 가게를 방문하여 \"Ahmeee\" 카테고리를 클릭했어요.</p>\n<p><img src=\"/assets/img/2024-07-01-HowIwasabletostealusercookiesviastoredXSS_3.png\" alt=\"image1\"></p>\n<p>그런 다음 XSS 페이로드로 주입한 제품을 발견했어요!</p>\n<p><img src=\"/assets/img/2024-07-01-HowIwasabletostealusercookiesviastoredXSS_4.png\" alt=\"image2\"></p>\n<!-- ui-station 사각형 -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>제가 제품을 클릭한 후 \"장바구니에 추가\"를 클릭했더니, XSS 페이로드가 실행되어 사용자 세션 쿠키가 표시되었어요!</p>\n<p><img src=\"/assets/img/2024-07-01-HowIwasabletostealusercookiesviastoredXSS_5.png\" alt=\"이미지\"></p>\n<p>영향: 이 취약점으로 인해 공격자가 사용자 쿠키를 획득하여 사용자 계정에 무단 액세스할 수 있습니다.</p>\n<p>권장 사항: 이러한 공격을 방지하기 위해 적절한 입력 방지 및 출력 인코딩을 구현해야 합니다. 또한 콘텐츠 보안 정책(CSP)을 배포하여 이 취약점을 줄일 수 있습니다.</p>\n<!-- ui-station 사각형 -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h1>배운 교훈!</h1>\n<p>보이는 모든 입력란에 XSS 페이로드를 주입하세요; 아마도 작동할지도 몰라요!</p>\n<p><strong>편집</strong></p>\n<p>그 프로그램은 사기였고 신고에도 답변이 없어요. 발견하면 피하세요, \"dukaan.com\"이에요.</p>\n<!-- ui-station 사각형 -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p><strong>수정</strong></p>\n<img src=\"/assets/img/2024-07-01-HowIwasabletostealusercookiesviastoredXSS_6.png\">\n<p>더 많은 Write-Ups을 보려면 소셜 미디어에서 팔로우해주세요</p>\n<h1>연락처:</h1>\n</body>\n</html>\n"},"__N_SSG":true}