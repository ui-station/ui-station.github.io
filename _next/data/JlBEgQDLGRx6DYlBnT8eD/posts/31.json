{"pageProps":{"posts":[{"title":"2024 ìµœì‹  Flutterì—ì„œ Bloc ì‚¬ìš©ë²• íš¨ìœ¨ì ì¸ ìƒíƒœ ê´€ë¦¬ ê°€ì´ë“œ","description":"","date":"2024-06-22 23:16","slug":"2024-06-22-Flutter-Bloc","content":"\n![Bloc](/assets/img/2024-06-22-Flutter-Bloc_0.png)\n\n## Blocì´ë€?\n\nBlocì€ 'ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬ì„± ìš”ì†Œ'ì˜ ì•½ìë¡œ, Googleì—ì„œ ê¶Œì¥í•˜ëŠ” íŒ¨í„´ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. ì´ íŒ¨í„´ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ UIë¡œë¶€í„° ë¶„ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤. ë˜í•œ ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ ì±…ì„ì„ ë¶„ë¦¬í•˜ì—¬ ì‰½ê²Œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆëŠ” íŒ¨í„´ì…ë‹ˆë‹¤. Googleì—ì„œ ê¶Œì¥í•˜ëŠ” ë‹¤ë¥¸ íŒ¨í„´ì€ ì—¬ê¸°ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nBlocì€ ì„¸ ê°€ì§€ êµ¬ì¡°ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ì´ë“¤ì€ ì´ë²¤íŠ¸ í´ë˜ìŠ¤, ìƒíƒœ í´ë˜ìŠ¤ ë° Bloc í´ë˜ìŠ¤ì…ë‹ˆë‹¤. ì´ì œ ì´ë“¤ì„ ì¢€ ë” ìì„¸íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n![img](/assets/img/2024-06-22-Flutter-Bloc_1.png)\n\n1. ì´ë²¤íŠ¸:\n   ì´ë²¤íŠ¸ëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ ìˆ˜í–‰í•˜ë ¤ëŠ” ì‘ì—…ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì—°ë½ì²˜ ì‘ìš© í”„ë¡œê·¸ë¨ì„ ê³ ë ¤í•´ë³´ì„¸ìš”. ì´ ê²½ìš°, ì´ë²¤íŠ¸ëŠ” GetUsers, UpdateUser, DeleteUser ë“±ì´ ë  ê²ƒì…ë‹ˆë‹¤. ì´ ì´ë²¤íŠ¸ì— ëŒ€í•œ ì¶”ìƒ í´ë˜ìŠ¤ê°€ ìˆìœ¼ë©°, ë‹¤ë¥¸ ì´ë²¤íŠ¸ë“¤ì€ ì´ ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\nì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ ìˆ˜í–‰í•˜ë ¤ëŠ” ì‘ì—…ì— ë”°ë¼ ì§ì ‘ ì´ë²¤íŠ¸ë¥¼ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.\n\n2. ìƒíƒœ:\n   ìƒíƒœëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ìƒí™©ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì–´ë–¤ ìƒí™©ì—ì„œ ë¬´ì—‡ì„ í•´ì•¼ í• ì§€ë¥¼ ê²°ì •í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì—°ë½ì²˜ ì•±ì˜ ê²½ìš° UsersInitial, UsersLoading, UsersLoaded ë° UsersError ë“±ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n3. ë¸”ë¡:\n   Bloc í´ë˜ìŠ¤ë¥¼ ì¤‘ê°„ í´ë˜ìŠ¤ë¡œ ìƒê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ í´ë˜ìŠ¤ëŠ” ì´ë²¤íŠ¸ì™€ ìƒíƒœë¥¼ ì—°ê²°í•©ë‹ˆë‹¤. ì´ë²¤íŠ¸ê°€ íŠ¸ë¦¬ê±°ë˜ë©´, ì–´ë–¤ í•¨ìˆ˜ê°€ í˜¸ì¶œë ì§€ì™€ ì–´ë–¤ ìƒíƒœë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì „í™˜ë ì§€ëŠ” ë¸”ë¡ í´ë˜ìŠ¤ì—ì„œ ê²°ì •ë©ë‹ˆë‹¤.\n\n## ë¸”ë¡ ì‚¬ìš©\n\nì €ëŠ” Blocì„ ì‚¬ìš©í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ê°œë°œí–ˆìŠµë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ì—ëŠ” í™”ë©´ì´ ìˆìŠµë‹ˆë‹¤. ì´ í™”ë©´ì—ì„œëŠ” The Last Airbenderì—ì„œ ìºë¦­í„°ë¥¼ ë¬´ì‘ìœ„ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì €ëŠ” Clean Architectureë¡œ í”„ë¡œì íŠ¸ë¥¼ ê°œë°œí–ˆì§€ë§Œ, ì´ ì´ì•¼ê¸°ì—ì„œëŠ” ë¸”ë¡ì˜ ì‚¬ìš©ë²•ë§Œ ì„¤ëª…í•©ë‹ˆë‹¤. Clean Architectureì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ ì—¬ê¸°ì—ì„œ ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ ê°œë°œ ì¤‘ì—ëŠ” The Last Airbender APIë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.\n\n## ì˜ˆì œ ì±„ìš°ê¸°\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\në¨¼ì € ì½”ì–´, êµ¬ì„± ë° ê¸°ëŠ¥ í´ë”ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ fetch charactersì˜ ê¸°ëŠ¥ì„ ìœ„í•´ features í´ë” ë‚´ì— characters í´ë”ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ characters í´ë” ë‚´ì— ë°ì´í„°, ë„ë©”ì¸ ë° í”„ë¦¬ì  í…Œì´ì…˜ í´ë”ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤.\nê¸°ëŠ¥ í´ë”ì— bloc í´ë”ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì´ëŠ” Blocì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\nBlocì˜ ì„¸ ë¶€ë¶„ì¸ ì´ë²¤íŠ¸, ìƒíƒœ ë° bloc íŒŒì¼ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\n\n![2024-06-22-Flutter-Bloc_2.png](/assets/img/2024-06-22-Flutter-Bloc_2.png)\n\n## ì½”ë“œ ì˜ˆì‹œ\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\në¨¼ì €, ì œê°€ CharactersInitial, CharactersLoading, CharactersError ë° CharactersLoaded ìƒíƒœë¥¼ ê²°ì •í–ˆê³  CharactersStateë¥¼ ì¶”ìƒ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ë‹¤ë¥¸ ìƒíƒœì— CharactersStateì—ì„œ ìƒì†ì„ ì œê³µí–ˆìŠµë‹ˆë‹¤.\n\n```js\npart of 'characters_bloc.dart';\n\nabstract class CharactersState {}\n\nclass CharactersInitial extends CharactersState {}\n\nclass CharactersLoading extends CharactersState {}\n\nclass CharactersLoaded extends CharactersState {\n  CharacterEntity character;\n  CharactersLoaded({required this.character});\n}\n\nclass CharactersError extends CharactersState {\n  String? errorMessage;\n  CharactersError(this.errorMessage);\n}\n```\n\në‘˜ì§¸ë¡œ, ì´ë²¤íŠ¸ë¥¼ ìœ„í•œ ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì´ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ìºë¦­í„°ë§Œ ê°€ì ¸ì˜¬ ê²ƒì´ê¸° ë•Œë¬¸ì— GetCharacter ì´ë²¤íŠ¸ë§Œ ìƒì„±í–ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  CharactersEvent í´ë˜ìŠ¤ì—ì„œ GetCharacters í´ë˜ìŠ¤ë¡œ ìƒì†ì„ ì œê³µí–ˆìŠµë‹ˆë‹¤.\n\n```js\npart of 'characters_bloc.dart';\n\nabstract class CharactersEvent {}\n\nclass GetCharacters extends CharactersEvent {}\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nBlocìœ¼ë¡œë¶€í„° CharactersBlocìœ¼ë¡œ ìƒì†ì„ ë°›ì•˜ê³ , í´ë˜ìŠ¤ì˜ ìƒì„±ì ë©”ì„œë“œì— ì´ë²¤íŠ¸ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ getCharacters í•¨ìˆ˜ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì´ í•¨ìˆ˜ì—ì„œ API ê²°ê³¼ì— ë”°ë¼ ìƒí™©ì„ íŠ¸ë¦¬ê±°í–ˆìŠµë‹ˆë‹¤.\n\n```js\npart 'characters_event.dart';\npart 'characters_state.dart';\n\nclass CharactersBloc extends Bloc<CharactersEvent,CharactersState> {\n   final GetCharacterUseCase _getCharactersUseCase;\n   CharactersBloc(this._getCharactersUseCase) : super(CharactersInitial()){\n     on<GetCharacters>(getCharacters);\n   }\n\n\n   Future<void> getCharacters(GetCharacters event, Emitter<CharactersState> emit) async {\n     emit(CharactersLoading());\n     final dataState = await _getCharactersUseCase.call(null);\n     if(dataState is DataSuccess){\n       emit(CharactersLoaded(character: dataState.data!));\n     } else if(dataState is DataFailed){\n       emit(CharactersError(dataState.exception!.message));\n     }\n   }\n}\n```\n\në§ˆì§€ë§‰ìœ¼ë¡œ CharactersPageë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ìƒíƒœë¥¼ ê°ì‹œí•˜ê¸° ìœ„í•´ BlocBuilderë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ì´ê²ƒì€ ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ê´€ë ¨ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n```js\n_buildBloc() {\n    return BlocBuilder(\n      bloc: _bloc,\n      builder: (BuildContext context, state) {\n        if(state is CharactersLoading){\n          return _showLoadingAnimation();\n        } else if(state is CharactersLoaded){\n          return _buildCharactersList(state);\n        } else if(state is CharactersError){\n          return _buildErrorView(state);\n        } else {\n          return _buildInitialView();\n        }\n      },\n    );\n  }\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\ní™”ë©´ì´ ë¡œë“œë˜ë©´ GetCharacters ì´ë²¤íŠ¸ë¥¼ íŠ¸ë¦¬ê±°í•©ë‹ˆë‹¤.\n\n```js\n@override\nvoid initState() {\n  super.initState();\n  _bloc.add(GetCharacters());\n}\n```\n\nìì„¸íˆ ì‚´í´ë³´ê³  ì‹¶ë‹¤ë©´ GitHub ë§í¬ë¥¼ ì—¬ê¸°ì—ì„œ ì°¾ì„ ìˆ˜ ìˆì–´ìš”.\n\nğŸ˜Š ì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ˜Š\n","ogImage":{"url":"/assets/img/2024-06-22-Flutter-Bloc_0.png"},"coverImage":"/assets/img/2024-06-22-Flutter-Bloc_0.png","tag":["Tech"],"readingTime":6},{"title":"iOSì—ì„œ URLCache ì‚¬ìš©í•˜ê¸° ì´ˆë³´ìë¥¼ ìœ„í•œ ê°€ì´ë“œ","description":"","date":"2024-06-22 23:15","slug":"2024-06-22-URLCacheiniOSABeginnersGuide","content":"\n![ì´ë¯¸ì§€](/assets/img/2024-06-22-URLCacheiniOSABeginnersGuide_0.png)\n\niOS ê°œë°œìë¡œì„œ, ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ë°ì´í„°ë¥¼ ìºì‹œí•˜ëŠ” ë°©ë²•ì„ ì´í•´í•˜ëŠ” ê²ƒì€ ì•±ì˜ ì„±ëŠ¥ê³¼ ì‚¬ìš©ì ê²½í—˜ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. URLCacheëŠ” ì• í”Œì´ ì œê³µí•˜ëŠ” ë‚´ì¥ í”„ë ˆì„ì›Œí¬ ì¤‘ í•˜ë‚˜ë¡œ, ì—¬ëŸ¬ë¶„ì´ ì´ìš©í•  ê°•ë ¥í•œ ë„êµ¬ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. ì´ ê°€ì´ë“œì—ì„œëŠ” ë¬´ì—‡ì¸ URLCacheì¸ì§€, í•µì‹¬ ê°œë…, ì‹¤ì œ ì‘ìš© ì‚¬ë¡€, ê·¸ë¦¬ê³  iOS í”„ë¡œì íŠ¸ì—ì„œ íš¨ê³¼ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\n\n# URLCacheë€ ë¬´ì—‡ì¸ê°€ìš”?\n\nURLCacheëŠ” iOSì˜ Foundation í”„ë ˆì„ì›Œí¬ì—ì„œ ì œê³µí•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ, URLSessionê³¼ ê°™ì€ URL ë¡œë”© ì‹œìŠ¤í…œì—ì„œ ì‘ë‹µì„ ìºì‹œí•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì˜ íš¨ìœ¨ì„±ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¯¸ì§€, JSON ë˜ëŠ” ê¸°íƒ€ ë¦¬ì†ŒìŠ¤ì™€ ê°™ì€ ë‹¤ìš´ë¡œë“œëœ ë°ì´í„°ë¥¼ ê¸°ê¸°ì˜ ë¡œì»¬ì— ì €ì¥í•˜ì—¬ ë™ì¼í•œ ë°ì´í„°ë¥¼ ë°˜ë³µì ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ì—ì„œ ë‹¤ì‹œ ê°€ì ¸ì˜¤ëŠ” í•„ìš”ì„±ì„ ì¤„ì…ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n# í•µì‹¬ ê°œë…\n\n- ìºì‹± ì •ì±…: URLCacheë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ë¥¸ ìœ í˜•ì˜ ìš”ì²­ì— ëŒ€í•œ ìºì‹± ì •ì±…ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‘ë‹µì´ ìºì‹œì— ì–¼ë§ˆë‚˜ ì˜¤ë«ë™ì•ˆ ì €ì¥ë˜ì–´ì•¼ í•˜ëŠ”ì§€ ë° ì–´ë–¤ ì¡°ê±´ì—ì„œ ì„œë²„ë¥¼ í†µí•´ ë‹¤ì‹œ ìœ íš¨ì„±ì„ ê²€ì‚¬í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.\n- ì €ì¥: ìºì‹œëœ ì‘ë‹µì€ ë””ìŠ¤í¬ ê¸°ë°˜ ìºì‹œì— ì €ì¥ë˜ë¯€ë¡œ ì•±ì´ ë‹«í˜€ë„ ë‹¤ì‹œ ì—´ë¦´ ë•Œê¹Œì§€ ìœ ì§€ë©ë‹ˆë‹¤.\n- ìœ íš¨ì„± ê²€ì‚¬: URLCacheëŠ” ìºì‹œëœ ì‘ë‹µì„ ì„œë²„ì™€ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ê¸° ìœ„í•œ ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•˜ì—¬ í•´ë‹¹ ì‘ë‹µì´ ì—¬ì „íˆ ìœ íš¨í•˜ê³  ìµœì‹ ì¸ì§€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.\n\n# ì‹¤ìš©ì ì¸ ì‘ìš©\n\nURLCacheëŠ” ë‹¤ì–‘í•œ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ìµœì í™”í•˜ê³  ì‚¬ìš©ì ê²½í—˜ì„ í–¥ìƒì‹œí‚¤ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n- ì„±ëŠ¥ í–¥ìƒ: ìì£¼ ì•¡ì„¸ìŠ¤í•˜ëŠ” ë°ì´í„°ë¥¼ ë¡œì»¬ë¡œ ìºì‹±í•˜ì—¬ ì§€ì—° ì‹œê°„ì„ ì¤„ì´ê³  ì•±ì˜ ì‘ë‹µì„±ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ì˜¤í”„ë¼ì¸ ì§€ì›: ìºì‹œëœ ë°ì´í„°ëŠ” ê¸°ê¸°ê°€ ì˜¤í”„ë¼ì¸ ìƒíƒœì¼ ë•Œë„ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆì–´ ì‚¬ìš©ìì—ê²Œ ì›í™œí•œ ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.\n- ëŒ€ì—­í­ ì‚¬ìš©ëŸ‰ ê°ì†Œ: ì‘ë‹µì„ ìºì‹±í•¨ìœ¼ë¡œì¨ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ì „ì†¡ë˜ëŠ” ë°ì´í„° ì–‘ì„ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ë°ì´í„° ìš”ê¸ˆì œê°€ ì œí•œëœ ì‚¬ìš©ìì—ê²Œ ìœ ìš©í•©ë‹ˆë‹¤.\n\n# URLCache ì‚¬ìš© ë°©ë²•\n\niOS ì•±ì—ì„œ URLCacheë¥¼ ì‚¬ìš©í•˜ëŠ” ê¸°ë³¸ì ì¸ ë‹¨ê³„ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:\n\n## ì´ˆê¸°í™”\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì§€ì •ëœ ë©”ëª¨ë¦¬ ìš©ëŸ‰ ë° ë””ìŠ¤í¬ ìš©ëŸ‰ìœ¼ë¡œ URLCache ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•  ìˆ˜ ìˆì–´ìš”:\n\n```js\nlet memoryCapacity = 4 * 1024 * 1024 // 4 MB\nlet diskCapacity = 100 * 1024 * 1024 // 100 MB\nlet urlCache = URLCache(memoryCapacity: memoryCapacity, diskCapacity: diskCapacity, diskPath: \"myCache\")\nURLCache.shared = urlCache // ê³µìœ  ìºì‹œë¡œ ì„¤ì •\n```\n\n## ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ë§Œë“¤ê¸°\n\nURLSessionì„ ì‚¬ìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ë§Œë“¤ ë•Œ URLRequestì— ì§€ì •ëœ ìºì‹± ì •ì±…ì„ ê¸°ë°˜ìœ¼ë¡œ URLCacheê°€ ìë™ìœ¼ë¡œ ìºì‹±ì„ ì²˜ë¦¬í•´ ì¤˜ìš”:\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n```js\nlet url = URL(string: \"https://api.example.com/data\")!\nvar request = URLRequest(url: url)\nrequest.cachePolicy = .returnCacheDataElseLoad // ì‚¬ìš© ê°€ëŠ¥í•œ ìºì‹œ ë°ì´í„° ì‚¬ìš©\nlet task = URLSession.shared.dataTask(with: request) { data, response, error in\n    // ì‘ë‹µ ì²˜ë¦¬\n}\ntask.resume()\n```\n\n## ìºì‹± ì •ì±… ì´í•´í•˜ê¸°\n\nURLCacheëŠ” ì‘ë‹µì„ ì €ì¥í•˜ê³  ìºì‹œì—ì„œ ê²€ìƒ‰í•˜ëŠ” ë°©ë²•ì„ ì§€ì •í•˜ëŠ” ì—¬ëŸ¬ ê°€ì§€ ìºì‹± ì •ì±…ì„ ì œê³µí•©ë‹ˆë‹¤. ì¼ë°˜ì ì¸ ìºì‹± ì •ì±…ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤:\n\n- .CachePolicy.useProtocolCachePolicy: ì´ ì •ì±…ì€ ì„œë²„ì—ì„œ ë³´ë‚¸ ìºì‹± í—¤ë”ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‘ë‹µì´ ìºì‹œë˜ì–´ì•¼ í•˜ëŠ”ì§€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤. ì„œë²„ê°€ Cache-Control ë˜ëŠ” Expiresì™€ ê°™ì€ ìºì‹± í—¤ë”ë¥¼ ì§€ì •í•˜ë©´ URLCacheëŠ” í•´ë‹¹ ì§€ì¹¨ì„ ë”°ë¦…ë‹ˆë‹¤.\n- .CachePolicy.reloadIgnoringLocalCacheData: ì´ ì •ì±…ì„ ì‚¬ìš©í•˜ë©´ URLCacheëŠ” í•­ìƒ ë¡œì»¬ë¡œ ìºì‹œëœ ì‘ë‹µì„ ë¬´ì‹œí•˜ê³  ë°ì´í„°ë¥¼ ì§ì ‘ ì„œë²„ì—ì„œ ê°€ì ¸ì˜µë‹ˆë‹¤.\n- .CachePolicy.returnCacheDataElseLoad: ì´ ì •ì±…ì€ ì‚¬ìš© ê°€ëŠ¥í•œ ìºì‹œëœ ì‘ë‹µì„ ë°˜í™˜í•˜ê±°ë‚˜ ë„¤íŠ¸ì›Œí¬ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. ì•± ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ë©´ì„œ ë°ì´í„° ì‹ ì„ ë„ë¥¼ ë³´ì¥í•˜ëŠ” ë° í”íˆ ì‚¬ìš©ë˜ëŠ” ì •ì±…ì…ë‹ˆë‹¤.\n- .CachePolicy.returnCacheDataDontLoad: ì´ ì •ì±…ì€ ìºì‹œëœ ì‘ë‹µì„ ë°˜í™˜í•˜ë˜, ìºì‹œëœ ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ë„¤íŠ¸ì›Œí¬ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ì§€ ì•ŠìŠµë‹ˆë‹¤. ì˜¤í”„ë¼ì¸ìœ¼ë¡œ ìºì‹œëœ ë°ì´í„°ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ì‹œë‚˜ë¦¬ì˜¤ì— ìœ ìš©í•©ë‹ˆë‹¤.\n- .CachePolicy.reloadIgnoringCacheData: ì´ ì •ì±…ì„ ì‚¬ìš©í•˜ë©´ URLCacheëŠ” ìºì‹œëœ ì‘ë‹µì„ ë¬´ì‹œí•˜ê³  ë°ì´í„°ë¥¼ í•­ìƒ ë„¤íŠ¸ì›Œí¬ì—ì„œ ê°€ì ¸ì˜µë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## ì‘ë‹µ ìºì‹±\n\nì´ì œ URLCacheë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ë‹µì„ ìºì‹±í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:\n\n```js\nlet url = URL(string: \"https://api.example.com/data\")!\nlet request = URLRequest(url: url)\n\nURLSession.shared.dataTask(with: request) { data, response, error in\n    guard let data = data, let httpResponse = response as? HTTPURLResponse, error == nil else {\n        // ì˜¤ë¥˜ ì²˜ë¦¬\n        return\n    }\n\n    if httpResponse.statusCode == 200 {\n        let cachedResponse = CachedURLResponse(response: httpResponse, data: data)\n        URLCache.shared.storeCachedResponse(cachedResponse, for: request)\n\n        // ë°ì´í„°ê°€ ì´ì œ ìºì‹±ë˜ì—ˆìŠµë‹ˆë‹¤\n    }\n}.resume()\n```\n\nì´ ì½”ë“œ ìƒ˜í”Œì—ì„œëŠ” ì§€ì •ëœ URLì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ ë°ì´í„° ì‘ì—…ì„ ì‹œì‘í•©ë‹ˆë‹¤. ì„±ê³µì ì¸ ì‘ë‹µ(ìƒíƒœ ì½”ë“œ 200)ì„ ë°›ì€ ê²½ìš°, ì‘ë‹µê³¼ ë°ì´í„°ë¥¼ ìº¡ìŠí™”í•˜ëŠ” CachedURLResponse ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ì´ ì‘ë‹µì„ ë¯¸ë˜ ì‚¬ìš©ì„ ìœ„í•´ ìºì‹œì— ì €ì¥í•˜ê¸° ìœ„í•´ URLCache.shared.storeCachedResponse(\\_:for:)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nìºì‹± ì •ì±…ì„ ì´í•´í•˜ê³  URLCacheë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ë‹µì„ ìºì‹œí•˜ëŠ” ë°©ë²•ì„ ì•Œë©´ iOS ê°œë°œìëŠ” ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ìµœì í™”í•˜ê³  ì•± ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ ìºì‹± ë©”ì»¤ë‹ˆì¦˜ì„ íš¨ê³¼ì ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## ì‚¬ìš©ì ì •ì˜\n\ncachedResponse(for:) ë° storeCachedResponse(\\_:for:)ì™€ ê°™ì€ ë©”ì„œë“œë¥¼ ì„œë¸Œí´ë˜ì‹±í•˜ê³  ì˜¤ë²„ë¼ì´ë”©í•˜ì—¬ URLCache ë™ì‘ì„ ì‚¬ìš©ì ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì•± ìš”êµ¬ ì‚¬í•­ì— ë§ëŠ” ì‚¬ìš©ì ì •ì˜ ìºì‹± ì „ëµì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# ê²°ë¡ \n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nURLCacheëŠ” iOS ì•±ì—ì„œ ë„¤íŠ¸ì›Œí¬ ì‘ë‹µì„ ìºì‹œí•˜ëŠ” ê°•ë ¥í•œ ë„êµ¬ë¡œ, ë‹¤ì–‘í•œ ìºì‹± ì •ì±…ì„ ì œê³µí•˜ì—¬ ë‹¤ì–‘í•œ ìš”êµ¬ ì‚¬í•­ì— ë§ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìºì‹± ì •ì±…ì„ ìˆ™ì§€í•˜ê³  ìºì‹± ì „ëµì„ íš¨ê³¼ì ìœ¼ë¡œ êµ¬í˜„í•¨ìœ¼ë¡œì¨, ê°œë°œìë“¤ì€ ë³´ë‹¤ ë¶€ë“œëŸ½ê³  ë°˜ì‘ì„± ìˆëŠ” ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•˜ëŠ” ì•±ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. iOS í”„ë¡œì íŠ¸ì—ì„œ ìºì‹±ì„ ì‹¤í—˜í•´ë³´ê³  URLCacheë¥¼ ìµœëŒ€í•œ í™œìš©í•´ë³´ì„¸ìš”. ì¦ê±°ìš´ ì½”ë”© ë˜ì„¸ìš”!\n","ogImage":{"url":"/assets/img/2024-06-22-URLCacheiniOSABeginnersGuide_0.png"},"coverImage":"/assets/img/2024-06-22-URLCacheiniOSABeginnersGuide_0.png","tag":["Tech"],"readingTime":6},{"title":"Swiftì—ì„œ weakì™€ unownedì˜ ì°¨ì´ì  ì˜ˆì œ í¬í•¨","description":"","date":"2024-06-22 23:14","slug":"2024-06-22-DifferencesbetweenweakandunownedinSwiftwithexamples","content":"\n<img src=\"/assets/img/2024-06-22-DifferencesbetweenweakandunownedinSwiftwithexamples_0.png\" />\n\n# ì†Œê°œ\n\nSwiftì—ì„œëŠ” ë©”ëª¨ë¦¬ ê´€ë¦¬ê°€ ARC(Automatic Reference Counting)ë¥¼ í†µí•´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤. weak ë° unowned ì°¸ì¡°ì˜ ì£¼ìš” ê°œë…ì„ ì´í•´í•˜ëŠ” ê²ƒì€ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ì™€ ê°•í•œ ì°¸ì¡° ìˆœí™˜ì„ ë°©ì§€í•˜ëŠ” ë° ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì°¸ì¡°ë“¤ì´ ì–´ë–»ê²Œ ë‹¤ë¥´ë©° ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\n\n# weak ì°¸ì¡°\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì•½í•œ ì°¸ì¡°ëŠ” í•œ ê°ì²´ê°€ ë‹¤ë¥¸ ê°ì²´ ì—†ì´ ì¡´ì¬í•  ìˆ˜ ìˆì„ ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ëŠ” ê°ì²´ì˜ ì°¸ì¡° ì¹´ìš´íŠ¸ë¥¼ ì¦ê°€ì‹œí‚¤ì§€ ì•Šì•„ ê°•ë ¥í•œ ì°¸ì¡° ìˆœí™˜ì„ ë°©ì§€í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.\n\nì•½í•œ ì°¸ì¡°ì˜ íŠ¹ì§•:\n\n- ê°€ë¦¬í‚¤ëŠ” ê°ì²´ê°€ í•´ì œë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í•­ìƒ ì˜µì…”ë„ ë³€ìˆ˜(var)ë¡œ ì„ ì–¸ë©ë‹ˆë‹¤. ì´ ê²½ìš°ì— ì°¸ì¡°ëŠ” nilì´ ë©ë‹ˆë‹¤.\n- ë¸ë¦¬ê²Œì´íŠ¸ì™€ í´ë¡œì €ë¥¼ ì‚¬ìš©í•  ë•Œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë°©ì§€í•˜ëŠ” ë° íŠ¹íˆ ìœ ìš©í•©ë‹ˆë‹¤.\n\nì•½í•œ ì°¸ì¡°ë¥¼ ì‚¬ìš©í•œ ì˜ˆì‹œ:\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n```swift\nclass Department {\n    var manager: Employee?\n\n    deinit {\n        print(\"Department is being deinitialized\")\n    }\n}\n\nclass Employee {\n    weak var department: Department?\n\n    deinit {\n        print(\"Employee is being deinitialized\")\n    }\n}\n\nvar department: Department? = Department()\nvar manager: Employee? = Employee()\n\ndepartment?.manager = manager\nmanager?.department = department\n\ndepartment = nil\nmanager = nil\n// Prints: \"Employee is being deinitialized\" and then \"Department is being deinitialized\"\n\n```\n\nì´ ì˜ˆì‹œì—ì„œ, Departmentì™€ Employeeê°„ì˜ ì—°ê²°ì„ ëŠìŒìœ¼ë¡œì¨ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ í”¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## í´ë¡œì €ì—ì„œ weak ì‚¬ìš©\n\ní´ë¡œì €ì—ì„œ weakë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ê°•í•œ ì°¸ì¡° ìˆœí™˜ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì¢…ì¢… í•„ìš”í•œë°, íŠ¹íˆ í´ë¡œì €ê°€ self, ì¦‰ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìº¡ì²˜í•  ë•Œì…ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nViewController í´ë˜ìŠ¤ëŠ” ë¹„ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” í´ë˜ìŠ¤ì…ë‹ˆë‹¤. ì´ ì‘ì—…ì´ ì™„ë£Œëœ í›„ì— ì½”ë“œê°€ ì‹¤í–‰ë˜ë„ë¡ í•˜ê³ , ë™ì‹œì— ê°•í•œ ì°¸ì¡° ìˆœí™˜ì— ì˜í•œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë°©ì§€í•´ì•¼ í•©ë‹ˆë‹¤.\n\nweak í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•œ ì˜ˆì‹œ:\n\n```js\nclass ViewController: UIViewController {\n    var dataLoader: DataLoader?\n\n    func fetchData() {\n        dataLoader?.loadData(completion: { [weak self] result in\n            guard let self = self else { return }\n\n            switch result {\n            case .success(let data):\n                self.updateUI(with: data)\n            case .failure(let error):\n                self.showErrorMessage(error)\n            }\n        })\n    }\n\n    private func updateUI(with data: Data) {\n        // ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ì—…ë°ì´íŠ¸\n    }\n\n    private func showErrorMessage(_ error: Error) {\n        // ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ\n    }\n}\n\nclass DataLoader {\n    func loadData(completion: @escaping (Result<Data, Error>) -> Void) {\n        // ë°ì´í„° ë¡œë“œ ì½”ë“œ\n    }\n}\n```\n\nìœ„ ì˜ˆì‹œì—ì„œ:\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n- ViewControllerì—ëŠ” DataLoaderì˜ loadData ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” fetchData ë©”ì„œë“œê°€ ìˆìŠµë‹ˆë‹¤.\n- loadDataì— ì „ë‹¬ëœ í´ë¡œì € ë‚´ì—ì„œ [weak self]ë¥¼ ì‚¬ìš©í•˜ì—¬ ViewControllerì˜ ì¸ìŠ¤í„´ìŠ¤ì¸ selfì— ê°•í•œ ì°¸ì¡°ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤. ì´ëŠ” DataLoaderê°€ í´ë¡œì €ë¥¼ ì˜¤ë«ë™ì•ˆ ìœ ì§€í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¤‘ìš”í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë¹„ë™ê¸° ì‘ì—… ì¤‘ì— ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- í´ë¡œì € ë‚´ì—ì„œ selfì— ì•ˆì „í•˜ê²Œ ì•¡ì„¸ìŠ¤í•˜ê¸° ìœ„í•´ guard let self = self else 'return'ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ë§Œì•½ ViewControllerê°€ í´ë¡œì €ê°€ ì‹¤í–‰ë˜ê¸° ì „ì— í•´ì œë˜ë©´ selfëŠ” nilì´ ë˜ì–´ í´ë¡œì € ë‚´ì˜ ì½”ë“œê°€ ì‹¤í–‰ë˜ì§€ ì•Šì•„ ì ì¬ì ì¸ ì˜¤ë¥˜ë‚˜ ì¶©ëŒì„ ë°©ì§€í•©ë‹ˆë‹¤.\n\n# unowned ì°¸ì¡°\n\nunowned ì°¸ì¡°ëŠ” weakì™€ ìœ ì‚¬í•˜ì§€ë§Œ ë‘ ê°€ì§€ ì£¼ìš” ì°¨ì´ì ì´ ìˆìŠµë‹ˆë‹¤: ì˜µì…”ë„ì´ ì•„ë‹ˆë©°, ê°€ë¦¬í‚¤ëŠ” ê°ì²´ê°€ í•´ì œë  ë•Œ nilì´ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n## unowned ì°¸ì¡°ì˜ íŠ¹ì§•:\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n- ë‹¤ë¥¸ ê°ì²´ê°€ í•´ì œë˜ê¸° ì „ê¹Œì§€ í•œ ê°ì²´ë¥¼ í•´ì œí•˜ì§€ ì•Šì„ ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.\n- ê°ì²´ê°€ í•´ì œëœ í›„ ë¹„ì†Œìœ  ì°¸ì¡°ì— ì ‘ê·¼í•˜ë©´ ì¶©ëŒì´ ë°œìƒí•©ë‹ˆë‹¤.\n- ìƒìˆ˜(let)ì™€ í•¨ê»˜ë§Œ ì‘ë™í•©ë‹ˆë‹¤.\n\në¹„ì†Œìœ  ì°¸ì¡°ë¥¼ ì‚¬ìš©í•œ ì˜ˆì‹œ:\n\n```js\nclass Customer {\n    let name: String\n    var card: CreditCard?\n\n    init(name: String) {\n        self.name = name\n    }\n\n    deinit {\n        print(\"\\(name) í•´ì œ ì¤‘\")\n    }\n}\n\nclass CreditCard {\n    let number: UInt64\n    unowned let customer: Customer\n\n    init(number: UInt64, customer: Customer) {\n        self.number = number\n        self.customer = customer\n    }\n\n    deinit {\n        print(\"ì¹´ë“œ #\\(number) í•´ì œ ì¤‘\")\n    }\n}\n\nvar john: Customer? = Customer(name: \"John\")\njohn!.card = CreditCard(number: 1234_5678_9012_3456, customer: john!)\n\njohn = nil\n// ì¶œë ¥: \"John í•´ì œ ì¤‘\" ê·¸ë¦¬ê³  \"ì¹´ë“œ #1234567890123456 í•´ì œ ì¤‘\"\n```\n\nì—¬ê¸°ì„œ Customerê°€ í•´ì œëœ í›„ ê´€ë ¨ëœ CreditCard ê°ì²´ë„ í•´ì œë˜ì–´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## ì•½í•œ ì°¸ì¡°ì™€ ë¯¸ì†Œìœ  ì°¸ì¡° ë¹„êµ\n\n- ì„ ì–¸: ì•½í•œ ì°¸ì¡°ëŠ” í•­ìƒ ì˜µì…”ë„ì´ì§€ë§Œ, ë¯¸ì†Œìœ  ì°¸ì¡°ëŠ” ìƒìˆ˜ë¡œ ê°’ì´ ì˜µì…”ë„ì´ ì•„ë‹™ë‹ˆë‹¤.\n- ê°•í•œ ì°¸ì¡° ìˆœí™˜: ë‘˜ ë‹¤ ê°•í•œ ì°¸ì¡° ìˆœí™˜ì„ ë°©ì§€í•˜ì§€ë§Œ, ê°ê° ë‹¤ë¥¸ ìƒí™©ì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤.\n- ì•ˆì „ì„±: ì•½í•œ ì°¸ì¡°ëŠ” ê°ì²´ê°€ í•´ì œë  ë•Œ ìë™ìœ¼ë¡œ nilì´ ë˜ì–´ ì•ˆì „í•©ë‹ˆë‹¤. ë¯¸ì†Œìœ  ì°¸ì¡°ëŠ” ê°ì²´ê°€ íŒŒê´´ë˜ë©´ í¬ë˜ì‹œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¬´ì—‡ì„ í•˜ëŠ”ì§€ ì˜ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤.\n\n# ê²°ë¡ \n\nSwiftì—ì„œ ì•½í•œ ì°¸ì¡°ì™€ ë¯¸ì†Œìœ  ì°¸ì¡°ì˜ ì°¨ì´ë¥¼ ì´í•´í•˜ëŠ” ê²ƒì€ ì•ˆì „í•˜ê³  íš¨ìœ¨ì ì¸ ë©”ëª¨ë¦¬ ê´€ë¦¬ë¥¼ ìœ„í•´ ì¤‘ìš”í•©ë‹ˆë‹¤. ë‘ ì°¸ì¡° ì‚¬ì´ì˜ ì„ íƒì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ êµ¬ì¡°ì™€ ê°ì²´ ê°„ ê´€ê³„ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤. í•­ìƒ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ í™•ì¸í•˜ì—¬ ì‹ ë¢°ì„±ê³¼ ì„±ëŠ¥ì„ ë³´ì¦í•  ìˆ˜ ìˆë„ë¡ ì½”ë“œë¥¼ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.\n","ogImage":{"url":"/assets/img/2024-06-22-DifferencesbetweenweakandunownedinSwiftwithexamples_0.png"},"coverImage":"/assets/img/2024-06-22-DifferencesbetweenweakandunownedinSwiftwithexamples_0.png","tag":["Tech"],"readingTime":6},{"title":"4ë‹¨ê³„ë¡œ iOS ì•±ì— ì‹¤ì‹œê°„ í™œë™ ì¶”ê°€í•˜ëŠ” ë°©ë²•","description":"","date":"2024-06-22 23:13","slug":"2024-06-22-AddLiveActivitiestoyouriOSappin4steps","content":"\n## iOSì—ì„œ ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ë¡œ ì‚¬ìš©ì ê²½í—˜ê³¼ ì‹¤ì‹œê°„ ìƒí˜¸ì‘ìš© í–¥ìƒ\n\nì´ë¯¸ ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ë¥¼ ì•±ì— í†µí•©í•˜ì§€ ì•Šì•˜ë‹¤ë©´, ì´ì œ ê°•ë ¥í•œ ì ì¬ë ¥ì„ ê³ ë ¤í•´ë³´ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\n\në¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ëŠ” í˜¸í™˜ë˜ëŠ” ì•„ì´í°ì˜ ì ê¸ˆ í™”ë©´ê³¼ ë‹¤ì´ë‚˜ë¯¹ ì•„ì¼ëœë“œì— ìì—°ìŠ¤ëŸ½ê²Œ ë‚˜íƒ€ë‚˜ëŠ” ì „ìš© UIë¡œ, ì´ ê¸°ëŠ¥ì„ í™œìš©í•˜ë©´ ì‚¬ìš©ìê°€ ì•±ì˜ ì£¼ìš” ë¶€ë¶„ì„ ë²—ì–´ë‚˜ë„ ì‚¬ìš©ìì™€ ìƒí˜¸ì‘ìš©ì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\ní‘¸ì‹œ ì•Œë¦¼ì„ ë³´ë‚´ì§€ ì•Šê³  ì—…ë°ì´íŠ¸ë¥¼ ë³´ë‚´ê±°ë‚˜ ì‹¤ì‹œê°„ ì •ë³´ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ê°€ì¥ ì¢‹ì€ ì ì€? ì´ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ë†€ëë„ë¡ ì‰½ìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì—¬ê¸°ì— ê·¸ê²ƒì„ í•˜ëŠ” ë°©ë²•ì´ ìˆì–´ìš”.\n\n![image1](/assets/img/2024-06-22-AddLiveActivitiestoyouriOSappin4steps_0.png)\n\n![image2](https://miro.medium.com/v2/resize:fit:460/1*RqsG45Gbo625UNKcIUElTQ.gif)\n\n## ë‹¨ê³„1 â€” ë¼ì´ë¸Œ í™œë™ ì½˜í…ì¸  ì •ì˜\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nê°€ì¥ ì²˜ìŒìœ¼ë¡œ í•  ì¼ì€ ë¼ì´ë¸Œ í™œë™ì—ì„œ ë³´ì—¬ì¤„ ì •ë³´ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì œí•œëœ ê³µê°„ ë•Œë¬¸ì— ì‚¬ìš©ìê°€ ì¤‘ìš”í•˜ê²Œ ìƒê°í•  ë°ì´í„°ì— ì§‘ì¤‘í•´ì•¼ í•©ë‹ˆë‹¤.\n\nê·¸ ìƒê°ì„ ê¸°ì–µí•˜ê³  ë‹¤ìŒìœ¼ë¡œ í•  ì¼ì€ ActivityAttributes í”„ë¡œí† ì½œì„ êµ¬í˜„í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n```js\npublic protocol ActivityAttributes : Decodable, Encodable {\n\n    /// ë¼ì´ë¸Œ í™œë™ì˜ ë™ì  ì½˜í…ì¸ ë¥¼ ì„¤ëª…í•˜ëŠ” ì—°ê´€ íƒ€ì….\n    ///\n    /// `ContentState`ë¡œ ì¸ì½”ë”©ëœ ë¼ì´ë¸Œ í™œë™ì˜ ë™ì  ë°ì´í„°ëŠ” 4KBë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n    associatedtype ContentState : Decodable, Encodable, Hashable\n}\n```\n\nì•Œ ìˆ˜ ìˆë“¯ì´, ìš°ë¦¬ëŠ” ì •ë³´ë¥¼ ë‘ ê°€ì§€ ë²”ì£¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n- ì •ì  â†’ ActivityAttributesë¥¼ êµ¬í˜„í•˜ëŠ” ëª¨ë¸ì˜ ì†ì„±ì…ë‹ˆë‹¤.\n- ë™ì  â†’ ContentState íƒ€ì…ì— ì €ì¥ë©ë‹ˆë‹¤.\n\nìš°ë¦¬ ê²½ìš°ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì •ë³´ë¥¼ ì •ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n- ì •ì  â†’ ì£¼ë¬¸ ë²ˆí˜¸ì…ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì£¼ë¬¸ì„ í•˜ë©´ ë²ˆí˜¸ê°€ ë°”ë€Œì§€ ì•ŠìŠµë‹ˆë‹¤.\n- ë™ì  â†’ ì£¼ë¬¸ ìƒíƒœë¡œ, ì£¼ë¬¸ì˜ í˜„ì¬ ë‹¨ê³„ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\n\n```js\nstruct OrderAttributes: ActivityAttributes {\n\n    struct ContentState: Codable, Hashable {\n        enum OrderStatus: Float, Codable, Hashable {\n            case inQueue = 0\n            case aboutToTake\n            case making\n            case ready\n\n            var description: String {\n                switch self {\n                case .inQueue:\n                    return \"ì£¼ë¬¸ì´ ëŒ€ê¸° ì¤‘ì…ë‹ˆë‹¤\"\n                case .aboutToTake:\n                    return \"ì£¼ë¬¸ì„ ë°›ì„ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤\"\n                case .making:\n                    return \"ì£¼ë¬¸ì„ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤\"\n                case .ready:\n                    return \"ì£¼ë¬¸ì´ ìˆ˜ë ¹ ê°€ëŠ¥í•©ë‹ˆë‹¤!\"\n                }\n            }\n        }\n\n        let status: OrderStatus\n    }\n\n    let orderNumber: Int\n}\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## ë‹¨ê³„ 2 â€” UI ìƒì„±í•˜ê¸°\n\në¼ì´ë¸Œ í™œë™ UIëŠ” ì•±ì˜ ìœ„ì ¯ ë²”ìœ„ì— ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì•±ì— ìœ„ì ¯ í™•ì¥ ê¸°ëŠ¥ì´ ì—†ëŠ” ê²½ìš°, ë¨¼ì € í•˜ë‚˜ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.\n\nìƒˆë¡œìš´ ìœ„ì ¯ ë·°ë¥¼ ìƒì„±í•˜ê³  ìœ„ì ¯ êµ¬í˜„ì—ì„œ ActivityConfigurationì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì´ì „ ë‹¨ê³„ì—ì„œ ë§Œë“  ActivityAttributes ëª¨ë¸ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\n\n```js\nstruct CoffeeShopWidgetLiveActivity: Widget {\n\n    var body: some WidgetConfiguration {\n        ActivityConfiguration(for: OrderAttributes.self) { context in\n            // ì—¬ê¸°ì— ì ê¸ˆ í™”ë©´/ë°°ë„ˆ UIê°€ ë“¤ì–´ê°‘ë‹ˆë‹¤\n            LiveActivityView(state: context.state)\n        } dynamicIsland: { context in\n            // ë™ì  ì•„ì¼ëœë“œ êµ¬í˜„ì´ ì´ê³³ì— ë“¤ì–´ê°‘ë‹ˆë‹¤\n            // ì´ ê¸°ì‚¬ì˜ ë²”ìœ„ë¥¼ ë²—ì–´ë‚œ ë‚´ìš©ì…ë‹ˆë‹¤\n             ...\n        }\n    }\n}\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nLiveActivityView ë‚´ì—ì„œëŠ” Live Activity UIë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.\n\n```js\nstruct LiveActivityView: View {\n    let state: OrderAttributes.ContentState\n\n    var body: some View {\n        VStack {\n            HStack {\n                Image(systemName: \"cup.and.saucer\")\n                ProgressView(value: state.status.rawValue, total: 3)\n                    .tint(.black)\n                    .background(Color.brown)\n                Image(systemName: \"cup.and.saucer.fill\")\n            }\n            .padding(16)\n\n            Text(\"\\(state.status.description)\")\n                .font(.system(size: 18, weight: .semibold))\n                .padding(.bottom)\n            Spacer()\n        }\n        .background(Color.brown.opacity(0.6))\n    }\n}\n```\n\në§ˆì§€ë§‰ìœ¼ë¡œ, Live Activity ìœ„ì ¯ì„ ìœ„í•œ ìœ„ì ¯ ë²ˆë“¤ì— ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ê²½ìš°, ìœ„ì ¯ì„ ì œê³µí•˜ì§€ ì•Šì„ ê²ƒì´ë¯€ë¡œ Live Activityë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\n```js\n@main\nstruct CoffeeShopWidgetBundle: WidgetBundle {\n    var body: some Widget {\n        CoffeeShopWidgetLiveActivity()\n    }\n}\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## ë‹¨ê³„ 3 â€” ë¼ì´ë¸Œ í™œë™ ì´ˆê¸°í™”\n\në¼ì´ë¸Œ í™œë™ê³¼ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë°ëŠ” ActivityKit APIë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\n\në¨¼ì €, ActivityContentì˜ ìƒì„±ìì¸ init(state:staleDate:relevanceScore:)ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¼ì´ë¸Œ í™œë™ì˜ ì´ˆê¸° ë‚´ìš©ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.\n\n- state: ë¼ì´ë¸Œ í™œë™ì— ëŒ€í•œ ì´ˆê¸° ActivityAttributes.ContentStateì…ë‹ˆë‹¤.\n- staleDate: ë¼ì´ë¸Œ í™œë™ì´ ì˜¤ë˜ë˜ì—ˆìŒì„ OSì— ì•Œë¦¬ê¸° ìœ„í•œ ë‚ ì§œì…ë‹ˆë‹¤. staleDateê°€ ì§€ì •ë˜ì§€ ì•Šìœ¼ë©´, 8ì‹œê°„ í›„ OSê°€ ë¼ì´ë¸Œ í™œë™ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.\n- relevanceScore: ì—¬ëŸ¬ ê°œì˜ ë¼ì´ë¸Œ í™œë™ì´ ìˆëŠ” ê²½ìš°, relevanceScoreëŠ” ë‹¤ì´ë‚˜ë¯¹ ì•„ì¼ëœë“œì— í‘œì‹œí•  ìš°ì„ ìˆœìœ„ì™€ ì ê¸ˆ í™”ë©´ì˜ ìˆœì„œë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nê·¸ëŸ¼ Activity ë©”ì„œë“œ request(attributes: content: pushType:)ë¥¼ í˜¸ì¶œí•˜ì—¬ ìƒˆë¡œìš´ ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆì–´ìš”.\n\n- attributes: Step 1ì—ì„œ ìƒì„±í•œ ActivityAttributesì˜ ì¸ìŠ¤í„´ìŠ¤ì…ë‹ˆë‹¤.\n- content: ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ì˜ ì´ˆê¸° ì½˜í…ì¸ ì…ë‹ˆë‹¤.\n- pushType: ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ì˜ ì—…ë°ì´íŠ¸ê°€ ActivityKit í‘¸ì‹œ ì•Œë¦¼ì—ì„œ ì˜¬ ê²ƒì¸ì§€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì—…ë°ì´íŠ¸ ê¸°ëŠ¥ë§Œ ì‚¬ìš©í•  ê²½ìš°ì—ëŠ” nilì„ ì „ë‹¬í•  ìˆ˜ ìˆì–´ìš”.\n\nğŸ“£ ì¤‘ìš”í•œ ì•Œë¦¼: ìƒˆë¡œìš´ Activityë¥¼ ìš”ì²­í•  ë•Œ ì•±ì€ í™œì„±í™” ìƒíƒœì—¬ì•¼ í•´ìš”.\n\n```js\nlet orderAttributes = OrderAttributes(orderNumber: 1)\nlet initialState = OrderAttributes.ContentState(status: .inQueue)\nlet content = ActivityContent(state: initialState, staleDate: nil, relevanceScore: 1.0)\n\ndo {\n    let orderActivity = try Activity.request(\n        attributes: orderAttributes,\n        content: content,\n        pushType: nil\n    )\n} catch {\n    print(error.localizedDescription)\n}\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## ë‹¨ê³„ 4 â€” ë¼ì´ë¸Œ í™œë™ ì—…ë°ì´íŠ¸\n\në¼ì´ë¸Œ í™œë™ì„ ì—…ë°ì´íŠ¸í•˜ë ¤ë©´ update(\\_:) í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ˆê¸° ìƒíƒœë¥¼ ìƒì„±í•œ ê²ƒê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì—…ë°ì´íŠ¸ë¡œ ActivityContentë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\nawait orderActivity?.update(\n    ActivityContent<OrderAttributes.ContentState>(\n        state: state,\n        staleDate: nil\n    )\n)\n```\n\në¼ì´ë¸Œ í™œë™ì„ ì¢…ë£Œí•˜ë ¤ë©´ end(\\_:dismissalPolicy:) í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì‚¬ìš©í•˜ëŠ” ì¢…ë£Œ ì •ì±…ì— ë”°ë¼ ë¼ì´ë¸Œ í™œë™ì€ ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ ì œê±°í•  ë•Œê¹Œì§€ ì ê¸ˆ í™”ë©´ì— ë‚¨ê²Œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì´ ë§ˆì§€ë§‰ ë¼ì´ë¸Œ í™œë™ ìƒíƒœë¥¼ ì „ë‹¬í•˜ì—¬ UIë¥¼ í•­ìƒ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€í•´ì•¼í•˜ëŠ” ì´ìœ ì…ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì‚¬ìš© ê°€ëŠ¥í•œ í•´ì œ ì •ì±… ì˜µì…˜ì€ ì„¸ ê°€ì§€ì…ë‹ˆë‹¤.\n\n- default: ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ëŠ” ìµœëŒ€ 4ì‹œê°„ ë™ì•ˆ ì ê¸ˆ í™”ë©´ì— ìœ ì§€ë©ë‹ˆë‹¤. (ì‚¬ìš©ìê°€ ì œê±°í•  ë•Œê¹Œì§€)\n- immediate: ìš´ì˜ ì²´ì œê°€ ì¦‰ì‹œ ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ë¥¼ ì œê±°í•©ë‹ˆë‹¤.\n- after(\\_ date:): ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ë¥¼ í•´ì œí•  ë‚ ì§œë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹° ì¢…ë£Œ ì‹œê°„ìœ¼ë¡œë¶€í„° 4ì‹œê°„ ì´ë‚´ì—¬ì•¼ í•¨)\n\n# ë‹¤ìŒ ë‹¨ê³„ëŠ” ë¬´ì—‡ì¸ê°€ìš”?\n\nì•±ì˜ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ì‹ ì¤‘í•˜ê²Œ ê³ ë ¤í•´ë³´ì„¸ìš”. ë¼ì´ë¸Œ ì•¡í‹°ë¹„í‹°ëŠ” ë°°ì†¡ ì•±ì´ë‚˜ ìŠ¤í¬ì¸  ì´ë²¤íŠ¸ì™€ ê°™ì€ ì‹¤ì‹œê°„ ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹íˆ ì í•©í•˜ì§€ë§Œ, í‘¸ì‹œ ì•Œë¦¼ì— ëŒ€í•œ ë§¤ë ¥ì ì¸ ëŒ€ì•ˆìœ¼ë¡œë„ ì‚¬ìš©ë  ìˆ˜ ìˆì–´ ì‚¬ìš©ìì—ê²Œ ë” ë§¤ë ¥ì ì¸ ê²½í—˜ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\në” í’ë¶€í•œ ì‚¬ìš©ì ê²½í—˜ì„ ìœ„í•´ ë¼ì´ë¸Œ í™œë™ì— ë”¥ ë§í¬ë¥¼ í†µí•©í•˜ì—¬ ì‚¬ìš©ìê°€ ë¼ì´ë¸Œ í™œë™ì„ íƒ­í•  ë•Œ ì—°ê²°ì´ ì›í™œí•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ë©”ì‹œì§€ ë‚¨ê²¨ì£¼ì„¸ìš”! ğŸ™‚\n\n- ğŸ¤“ iOS ê°œë°œ íŒê³¼ í†µì°°ì„ ì •ê¸°ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” ì œ íŠ¸ìœ„í„°ì— ì°¸ì—¬í•´ë³´ì„¸ìš”.\n- ğŸš€ ë‚˜ì˜ ì˜ˆì œ í”„ë¡œì íŠ¸ë¥¼ ëª¨ë‘ ê³µìœ í•˜ëŠ” GitHubë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.\n","ogImage":{"url":"/assets/img/2024-06-22-AddLiveActivitiestoyouriOSappin4steps_0.png"},"coverImage":"/assets/img/2024-06-22-AddLiveActivitiestoyouriOSappin4steps_0.png","tag":["Tech"],"readingTime":9},{"title":"Swift ë¹„ë™ê¸° ì²˜ë¦¬ì—ì„œ ê²½í•© ìƒíƒœ ë²„ê·¸ í•´ê²° ë°©ë²• ","description":"","date":"2024-06-22 23:11","slug":"2024-06-22-ResolvingaRaceConditionBuginSwiftConcurrency","content":"\n<img src=\"/assets/img/2024-06-22-ResolvingaRaceConditionBuginSwiftConcurrency_0.png\" />\n\niOS ìº˜ë¦°ë” ìŠ¤ì¼€ì¤„ëŸ¬ì—ëŠ” 'ê¸°ë³¸ ìº˜ë¦°ë”' ê¸°ëŠ¥ì´ ìˆì–´ìš”. Apple ìº˜ë¦°ë”ì™€ ê°™ì€ ì™¸ë¶€ ìº˜ë¦°ë”ì™€ í†µí•©í•œ í›„ì—, ì´ ì„¤ì •ì€ ì´ë²¤íŠ¸ë¥¼ ì¶”ê°€í•  ë•Œ ê°€ì¥ ìì£¼ ì‚¬ìš©í•˜ëŠ” ìº˜ë¦°ë”ê°€ ê¸°ë³¸ì ìœ¼ë¡œ ì„ íƒë˜ë„ë¡ í•©ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ ì‚¬ìš©ìê°€ ì •ì˜í•œ 'ê¸°ë³¸ ìº˜ë¦°ë”'ë¥¼ ì—°ê²°ëœ ìº˜ë¦°ë”ì—ì„œ ì´ë²¤íŠ¸ ìŠ¤ì¼€ì¤„ë§ ì‹œì— ì—ë””í„°ì˜ 'ìº˜ë¦°ë” ì„ íƒ' ì„¹ì…˜ì—ì„œ ìë™ìœ¼ë¡œ ì„ íƒë˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.\n\n<img src=\"/assets/img/2024-06-22-ResolvingaRaceConditionBuginSwiftConcurrency_1.png\" />\n\n# ğŸ’¡ ê²½í•© ì¡°ê±´ìœ¼ë¡œ ì¸í•œ ë¬¸ì œ í•´ê²°í•˜ê¸°\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nê·¸ëŸ¬ë‚˜ ë•Œë¡œëŠ” ë‹¤ë¥¸ ë‹ ë¦°ë”ê°€ ì„ íƒëœ ê²½ìš°ë„ ìˆì—ˆìŠµë‹ˆë‹¤. í•­ìƒ ê·¸ëŸ° ê²ƒì€ ì•„ë‹ˆì—ˆê³ , ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ì •ìƒì ìœ¼ë¡œ ì‘ë™í–ˆìŠµë‹ˆë‹¤. ì œê°€ ì´ ë¬¸ì œë¥¼ ë””ë²„ê·¸í•˜ëŠ” ë°©ë²•ì„ ì˜ ëª¨ë¥´ê² ì—ˆëŠ”ë°, ê°€ë” ë°œìƒí•˜ëŠ” ë¬¸ì œë¼ì„œ ë”ìš± ë” ì–´ë ¤ì› ìŠµë‹ˆë‹¤. ê°€ë”ì”© ë°œìƒí•˜ë”ë¼ë„, ì´ ê¸°ëŠ¥ì´ ì œëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•Šìœ¼ë©´ ì‚¬ìš©ìê°€ ì˜ëª»ëœ ë§í¬ëœ ë‹¬ë ¥ì— ì´ë²¤íŠ¸ë¥¼ ì•Œì§€ ëª»í•˜ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆì–´ ë‚˜ì¤‘ì— ë¶ˆí•„ìš”í•œ ìˆ˜ì •ì„ ìœ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nìµœê·¼ì— ì´ ë¬¸ì œë¥¼ í•´ê²°í•  ì‹¤ë§ˆë¦¬ë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤. Xcode 16 ë² íƒ€ ë²„ì „ì˜ ìƒˆ ê¸°ëŠ¥ì— ëŒ€í•œ í˜¸ê¸°ì‹¬ìœ¼ë¡œ ì„¤ì¹˜í•œ í›„ ë³´ê²Œ ëœ ê²½ê³  ë©”ì‹œì§€ ë•ë¶„ì´ì—ˆìŠµë‹ˆë‹¤. ì´ ê²½ê³ ëŠ” ì´ì „ ë²„ì „ì˜ Xcodeì—ì„œëŠ” ë‚˜íƒ€ë‚˜ì§€ ì•Šì•˜ê³ , ìŠ¤ìœ„í”„íŠ¸ 6ì˜ ë³´ë‹¤ ì—„ê²©í•œ Actor Isolation ê·œì¹™ìœ¼ë¡œ ì¸í•´ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì´ ê·œì¹™ì€ ë™ì‹œì„± ëª¨ë¸ì„ ë” ì•ˆì „í•˜ê²Œ ë§Œë“¤ê¸° ìœ„í•œ ê²ƒì…ë‹ˆë‹¤.\n\n![Image](/assets/img/2024-06-22-ResolvingaRaceConditionBuginSwiftConcurrency_2.png)\n\nìŠ¤ìœ„í”„íŠ¸ì—ì„œ ActorëŠ” ë™ì‹œì„± ëª¨ë¸ë¡œ, ë‚´ë¶€ í•¨ìˆ˜ì™€ ì†ì„±ì„ ë™ì‹œ ì•¡ì„¸ìŠ¤ë¡œë¶€í„° ë³´í˜¸í•©ë‹ˆë‹¤. ActorsëŠ” ìˆ˜í–‰í•˜ëŠ” ì‘ì—…ì„ ì§ë ¬í™”í•˜ì—¬ ê° ì‘ì—…ì´ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ë„ë¡ í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê²½í•© ì¡°ê±´ ë° ë°ì´í„° ê²½ì£¼ì™€ ê°™ì€ ë™ì‹œì„± ë¬¸ì œë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nê²½ì£¼ ì¡°ê±´ì€ ì‹œìŠ¤í…œì˜ ë™ì‘ì´ ì‹¤í–‰ ìˆœì„œì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆëŠ” ë‹¤ì¤‘ ìŠ¤ë ˆë“œ í”„ë¡œê·¸ë˜ë°ì—ì„œ ì¤‘ìš”í•œ ê°œë…ì…ë‹ˆë‹¤. ë‹¤ì‹œ ë§í•´, ê²½ì£¼ ì¡°ê±´ì€ ë‘ ê°œ ì´ìƒì˜ ì‘ì—…ì´ ë³‘ë ¬ë¡œ ì‹¤í–‰ë˜ê³  ê²°ê³¼ê°€ ì‹¤í–‰ ìˆœì„œë‚˜ ì‹œê°„ì— ë”°ë¼ ë³€ê²½ë  ìˆ˜ ìˆëŠ” ê²½ìš° ë°œìƒí•©ë‹ˆë‹¤. ê²½ì£¼ ì¡°ê±´ì´ ë°œìƒí•˜ë©´ í”„ë¡œê·¸ë¨ì´ ì˜ˆì¸¡í•  ìˆ˜ ì—†ì´ ë™ì‘í•˜ê±°ë‚˜ ì˜ˆìƒì¹˜ ëª»í•œ ê²°ê³¼ë¥¼ ë‚´ë†“ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në°ì´í„° ê²½ì£¼ëŠ” ë‘ ê°œ ì´ìƒì˜ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ë™ì¼í•œ ë©”ëª¨ë¦¬ ìœ„ì¹˜ì— ì•¡ì„¸ìŠ¤í•˜ê³ , ê·¸ ì¤‘ ì ì–´ë„ í•˜ë‚˜ê°€ ì“°ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ê²½ìš° ë°œìƒí•©ë‹ˆë‹¤. ì´ëŠ” ë©”ëª¨ë¦¬ ì¼ê´€ì„±ì„ íŒŒê´´í•˜ê³  ì˜ˆì¸¡í•  ìˆ˜ ì—†ëŠ” í”„ë¡œê·¸ë¨ ë™ì‘ìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Swiftì˜ ActorëŠ” ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ìƒíƒœë¥¼ ì•ˆì „í•˜ê²Œ ê²©ë¦¬í•©ë‹ˆë‹¤.\n\nì œ ì½”ë“œì—ì„œëŠ” ë©”ì¸ Actor ì½˜í…ìŠ¤íŠ¸ì—ì„œ Actorë¡œ ê²©ë¦¬ëœ ekRepositoryì˜ eventStore ì†ì„±ì— ì•¡ì„¸ìŠ¤í•˜ë ¤ê³  ì‹œë„í–ˆìœ¼ë©°, ì´ë¡œ ì¸í•´ Swift 6ì—ì„œ ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì½”ë“œì˜ ë¬¸ì œê°€ ìš”ì•½ëœ ë¶€ë¶„ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n```swift\nimport EventKit\n\nactor EKRepository {\n    let eventStore: EKEventStore\n\n    init() {\n        self.eventStore = EKEventStore()\n    }\n}\n\n@MainActor\nfinal class EKInteractor: ObservableObject {\n    private let ekRepository: EKRepository\n\n    var eventStore: EKEventStore {\n        /// ğŸ”¥ Actor-isolated property 'eventStore' can not be referenced from the main actor;\n        /// ğŸ”¥ this is an error in the Swift 6 language mode.\n        ekRepository.eventStore\n    }\n\n    init(ekRepository: EKRepository) {\n        self.ekRepository = ekRepository\n    }\n}\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì €ëŠ” ì´ ì½”ë“œë¥¼ ì²˜ìŒ ì‘ì„±í•  ë•Œ 'eventStore'ê°€ 'EKRepository' ë‚´ì—ì„œë§Œ ì•¡ì„¸ìŠ¤ë˜ë„ë¡ ë³´ì¥í•˜ëŠ” ê²ƒì´ ëª©í‘œì˜€ìŠµë‹ˆë‹¤. ì²˜ìŒì—ëŠ” EKInteractorê°€ ì†ì„±ìœ¼ë¡œ eventStoreë¥¼ ì •ì˜í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ EKEventEditViewControllerì™€ ê°™ì€ Appleì—ì„œ ì œê³µí•˜ëŠ” UIì— EKEventStoreë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•´ì•¼ í•˜ëŠ” ìƒí™©ì´ ë§ì•˜ìŠµë‹ˆë‹¤. ê·¸ ê²°ê³¼, EKInteractorëŠ” eventStoreì„ ë…¸ì¶œí•˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ, EKInteractorê°€ Actor Isolationì„ ë¬´ì‹œí•˜ê³  ekRepositoryì˜ eventStoreì— ì•¡ì„¸ìŠ¤í•˜ê³  ìˆë‹¤ë©´, ì´ëŠ” ê²½í•© ì¡°ê±´ê³¼ ì˜ˆê¸°ì¹˜ ì•Šì€ ë¬¸ì œë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§í•˜ì—¬ Actor Isolationì„ ì¤€ìˆ˜í•˜ë„ë¡ ë§Œë“¤ì–´ ê²½í•© ì¡°ê±´ì„ í”¼í–ˆìŠµë‹ˆë‹¤. ë¦¬íŒ©í† ë§ëœ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n```swift\nactor EKRepository {\n    /// ğŸ’¡ 'getEventStore()' ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ eventStoreì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ ìº¡ìŠí™”\n    private let eventStore: EKEventStore\n\n    init() {\n        self.eventStore = EKEventStore()\n    }\n}\n\nextension EKRepository {\n    func getEventStore() -> EKEventStore {\n        return eventStore\n    }\n}\n\n@MainActor\nfinal class EKInteractor: ObservableObject {\n    private let ekRepository: EKRepository\n\n    private var cachedEventStore: EKEventStore? = nil\n\n    /// ğŸ’¡ Actor Isolationì„ ì¤€ìˆ˜í•˜ë©´ì„œ eventStoreì— ë¹„ë™ê¸°ì ìœ¼ë¡œ ì•¡ì„¸ìŠ¤í•˜ê³  ìºì‹œí•©ë‹ˆë‹¤.\n    /// ìš°ì„  ìºì‹œëœ eventStoreì´ ìˆëŠ”ì§€ í™•ì¸í•˜ê³ ,\n    /// ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ EKRepositoryì˜ getEventStore ë©”ì„œë“œë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ í˜¸ì¶œí•˜ì—¬ eventStoreì„ ê°€ì ¸ì™€ ìºì‹œí•©ë‹ˆë‹¤.\n    var eventStore: EKEventStore {\n        get async {\n            if let eventStore = cachedEventStore {\n                return eventStore\n            }\n\n            let store = await ekRepository.getEventStore()\n            cachedEventStore = store\n            return store\n        }\n    }\n\n    init(ekRepository: EKRepository) {\n        self.ekRepository = ekRepository\n\n        /// ğŸ’¡ ì‹œì‘í•  ë•Œ eventStoreì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ê°€ì ¸ì™€ ìºì‹±í•˜ì—¬ ì´í›„ ì•¡ì„¸ìŠ¤ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.\n        initEventStore(ekRepository: ekRepository)\n    }\n}\n\nextension EKInteractor {\n    private func initEventStore(ekRepository: EKRepository) {\n        /// ğŸ’¡ [Task] ì´ ë©”ì„œë“œëŠ” eventStoreì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ê°€ì ¸ì™€ ìºì‹œí•˜ì§€ë§Œ,\n        /// ì´ í”„ë¡œì„¸ìŠ¤ê°€ ì™„ë£Œë˜ê¸° ì „ì— í›„ì† ì‘ì—…ì´ ì§„í–‰ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n        Task {\n            self.cachedEventStore = await ekRepository.getEventStore()\n        }\n    }\n}\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\në˜í•œ, 'Default Calendar'ë¥¼ ì„¤ì •í•˜ëŠ” ë¶€ë¶„ì—ì„œ ë ˆì´ìŠ¤ ì»¨ë””ì…˜ì— ë¯¼ê°í•œ ì½”ë“œë¥¼ ë°œê²¬í–ˆì–´ìš”. ì•„ë˜ ì½”ë“œì—ì„œëŠ” newEKEventì˜ ìº˜ë¦°ë”(íƒ€ì…ì€ EKCalendar)ê°€ Task ë¸”ë¡ ë‚´ì—ì„œ ë¹„ë™ê¸°ë¡œ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ ë¹„ë™ê¸° ì‘ì—…ì€ getNewEKEvent í•¨ìˆ˜ê°€ newEKEvent ê°ì²´ë¥¼ ë°˜í™˜í•œ ë’¤ì— ì‹¤í–‰ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ë°˜í™˜ëœ newEKEvent ê°ì²´ë¥¼ ë‹¤ë¥¸ ê³³ì—ì„œ ì‚¬ìš©í•˜ë ¤ê³  í•  ë•Œ ìº˜ë¦°ë” ì†ì„±ì´ ì•„ì§ ì„¤ì •ë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ìƒí™©ì€ 'ì‹¤í–‰ ìˆœì„œ(execution order)'ì— ë”°ë¼ ì˜ˆì¸¡í•  ìˆ˜ ì—†ëŠ” ë™ì‘ì„ ìœ ë°œí•  ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” í•´ê²°í•˜ê³ ì í–ˆë˜ ê°„í—ì  ë²„ê·¸ì™€ ì¼ì¹˜í•©ë‹ˆë‹¤.\n\n```js\nprivate func getNewEKEvent(ekInteractor: EKInteractor, selectedDate: Date) -> EKEvent {\n    let newEKEvent = EKEvent(eventStore: ekInteractor.eventStore)\n\n    // ğŸ”¥ ë¬¸ì œ: ì´ Task ë¸”ë¡ì€ ë¹„ë™ê¸°ë¡œ ì‹¤í–‰ë˜ë¯€ë¡œ, í•¨ìˆ˜ê°€ newEKEventë¥¼ ë°˜í™˜í•œ í›„ì— ì‹¤í–‰ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n    Task {\n        // ğŸ”¥ ë¬¸ì œ: ë¹„ë™ê¸° ì‘ì—…ì´ newEKEvent ë°˜í™˜ í›„ì— ì™„ë£Œëœ ê²½ìš°, ìº˜ë¦°ë” ì†ì„±ì´ ì•„ì§ ì„¤ì •ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n        if let defaultEKCalendarToAdd = await ekInteractor.getDefaultEKCalendarToAdd() {\n            newEKEvent.calendar = defaultEKCalendarToAdd\n        }\n    }\n\n    // ğŸ”¥ ë¬¸ì œ: í•¨ìˆ˜ê°€ ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œë˜ê¸° ì „ì— newEKEventë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ, ë°ì´í„° ë ˆì´ìŠ¤ì™€ ë ˆì´ìŠ¤ ì»¨ë””ì…˜ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n    return newEKEvent\n}\n```\n\nìš”ì•½í•˜ë©´, ìœ„ì˜ ì½”ë“œëŠ” 'ë ˆì´ìŠ¤ ì»¨ë””ì…˜'ì˜ ëŒ€ìƒì´ ë  ìˆ˜ ìˆìœ¼ë©°, ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œë˜ê¸° ì „ì— ê°ì²´ê°€ ë°˜í™˜ë©ë‹ˆë‹¤. ì´ ë¬¸ì œëŠ” ì•„ë˜ì— í‘œì‹œëœ ëŒ€ë¡œ ì½”ë“œë¥¼ ì¬êµ¬ì„±í•˜ì—¬ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\n/// ğŸ’¡ ë¹„ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ getNewEKEvent í•¨ìˆ˜ë¥¼ asyncë¡œ ì„ ì–¸í•˜ì—¬,\n/// ëª¨ë“  ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œëœ í›„ì—ë§Œ newEKEventê°€ ë°˜í™˜ë˜ë„ë¡ í•¨.\n/// ---> ë ˆì´ìŠ¤ ì»¨ë””ì…˜ê³¼ ë°ì´í„° ë ˆì´ìŠ¤ ë°©ì§€\nprivate func getNewEKEvent(ekInteractor: EKInteractor, selectedDate: Date) async -> EKEvent {\n    /// ğŸ’¡ eventStoreë¥¼ ë¹„ë™ê¸°ë¡œ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ await ì‚¬ìš©\n    let newEKEvent = EKEvent(eventStore: await ekInteractor.eventStore)\n\n    /// ğŸ’¡ defaultEKCalendarToAddë¥¼ ë¹„ë™ê¸°ë¡œ ê°€ì ¸ì™€ newEKEventì˜ ìº˜ë¦°ë” ì†ì„±ì— ì„¤ì •\n    if let defaultEKCalendarToAdd = await ekInteractor.getDefaultEKCalendarToAdd() {\n        newEKEvent.calendar = defaultEKCalendarToAdd\n    }\n\n    /// ğŸ’¡ ëª¨ë“  ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œëœ í›„ì— newEKEvent ë°˜í™˜\n    return newEKEvent\n}\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n# ê²°ë¡ \n\nì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ë©´ì„œ Swift ë™ì‹œì„±ì— ëŒ€í•œ ì´í•´ê°€ ê¹Šì–´ì¡ŒìŠµë‹ˆë‹¤. ì•ˆì „í•œ ë™ì‹œ ì½”ë“œ ì‘ì„±ì˜ ê¸°ì´ˆë¥¼ í™•ë¦½í•  ìˆ˜ ìˆì–´ ê¸°ì©ë‹ˆë‹¤. ë¬´ì—‡ë³´ë‹¤ë„, Scheduler ì•±ì˜ ë‹¤ìŒ ì—…ë°ì´íŠ¸ì—ì„œ ì‚¬ìš©ìì—ê²Œ í ì¡ì„ ë° ì—†ëŠ” 'ê¸°ë³¸ ìº˜ë¦°ë”' ê¸°ëŠ¥ì„ ì œê³µí•  ìˆ˜ ìˆì–´ ê¸°ì©ë‹ˆë‹¤.\n\n'Reminders'ë¶€í„° 'ê¸°ë³¸ ìº˜ë¦°ë”'ê¹Œì§€ ëª¨ë“  ê²ƒì„ ì‹ ì†í•˜ê²Œ í†µí•©í•˜ì„¸ìš”.\në‹¤ì–‘í•œ ìœ„ì ¯.\nScheduler: iPhone, iPad ë° Macìš© ìº˜ë¦°ë” ì•±.\n\n# ì°¸ê³ ë¬¸í—Œ\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n- Swift í”„ë¡œê·¸ë˜ë° ì–¸ì–´ â€” ë™ì‹œì„±:\n  https://docs.swift.org/swift-book/documentation/the-swift-programming-language/concurrency/\n- Apple ê°œë°œì ë¬¸ì„œ â€” Swift ë™ì‹œì„±:\n  https://developer.apple.com/documentation/swift/concurrency\n- Apple ê°œë°œì ë¬¸ì„œ â€” EKEventStore:\n  https://developer.apple.com/documentation/eventkit/ekeventstore\n- ê²½í•© ì¡°ê±´ ì´í•´ì™€ í•´ê²°:\n  https://en.wikipedia.org/wiki/Race_condition\n- Apple ê°œë°œì ë¬¸ì„œ â€” Task:\n  https://developer.apple.com/documentation/swift/task\n\nì´ëŸ¬í•œ ìë£Œë“¤ì€ Swift ë™ì‹œì„±, ì•¡í„° ë° ê´€ë ¨ ì£¼ì œì— ëŒ€í•´ ìì„¸í•œ ì •ë³´ë¥¼ ì œê³µí•˜ì—¬ ê²½í•© ì¡°ê±´ê³¼ ê°™ì€ ë¬¸ì œë¥¼ ì´í•´í•˜ê³  í•´ê²°í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.\n","ogImage":{"url":"/assets/img/2024-06-22-ResolvingaRaceConditionBuginSwiftConcurrency_0.png"},"coverImage":"/assets/img/2024-06-22-ResolvingaRaceConditionBuginSwiftConcurrency_0.png","tag":["Tech"],"readingTime":9},{"title":"SwiftDataë¡œ ì›ê²© APIì—ì„œ ë°ì´í„° ì €ì¥í•˜ëŠ” ë°©ë²•","description":"","date":"2024-06-22 23:10","slug":"2024-06-22-UsingSwiftDatatoStoreDatafromaRemoteAPI","content":"\nì•± ì‚¬ìš©ìì—ê²Œ ì˜¤í”„ë¼ì¸ ê¸°ëŠ¥ì„ ì œê³µí•˜ê³  ì•± ìš´ì˜ ë¹„ìš©ì„ ì¤„ì´ëŠ” ë° ì¤‘ìš”í•œ ë¡œì»¬ ë°ì´í„° ì €ì¥ì€ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.\n\n[![Image](/assets/img/2024-06-22-UsingSwiftDatatoStoreDatafromaRemoteAPI_0.png)](//)\n\nì‹œì‘í•˜ê¸° ì „ì— ëª‡ ì´ˆ ë™ì•ˆ ì œ ê²Œì‹œë¬¼ì„ íŒ”ë¡œìš°í•˜ê³  ğŸ‘ í´ë©(clap)í•˜ì—¬ ë” ë§ì€ ì‚¬ëŒë“¤ì´ ì´ ìœ ìš©í•œ ë‚´ìš©ì„ ë°°ìš¸ ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ì„¸ìš”.\n\n# API í˜¸ì¶œë¡œë¶€í„° SwiftDataë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œì»¬ë¡œ ë°ì´í„° ì €ì¥í•˜ê¸°\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì½”ë“œë¡œ ë„˜ì–´ê°€ê¸°ë¡œ í•˜ê² ìŠµë‹ˆë‹¤. SwiftDataì— ìµìˆ™í•˜ì§€ ì•Šìœ¼ì‹  ê²½ìš°, ìƒˆë¡œìš´ ë‚´ìš©ì„ ìµíˆì‹œë ¤ë©´ ì´ ê¸°ì‚¬ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.\n\nìš°ë¦¬ëŠ” êµ¬ì¡°ì²´ì˜ ì´ë¦„ ë’¤ì— ì•½ì–´ DTO(Data Transfer Object)ë¥¼ ì¶”ê°€í•˜ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤. DTOëŠ” í•œ ì‹œìŠ¤í…œì—ì„œ ë‹¤ë¥¸ ì‹œìŠ¤í…œìœ¼ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ìš°ë¦¬ì˜ ì˜ˆì œì—ì„œëŠ” API ì‘ë‹µì˜ ë°ì´í„°ë¥¼ JSONì—ì„œ SwiftData entityë¡œ ì „ì†¡í•˜ë ¤ê³  í•©ë‹ˆë‹¤. DTOëŠ” JSON ì‘ë‹µì„ ì¼ì‹œì ìœ¼ë¡œ ë³´ìœ í•˜ì—¬ í•´ë‹¹ ë°ì´í„°ë¥¼ íŒŒì‹±í•˜ê³  Swift ê°ì²´ë¡œ ë³€í™˜í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. ì•ìœ¼ë¡œ ëª‡ ê°œì˜ ì½”ë“œ ë¸”ë¡ì—ì„œëŠ” í•´ë‹¹ Swift ê°ì²´ë¥¼ SwiftData entityë¡œ ë³€í™˜í•  ê²ƒì…ë‹ˆë‹¤.\n\n```swift\n// PhotoDTO.swift\nimport Foundation\n\nstruct PhotoDTO: Identifiable, Codable {\n    let albumId: Int\n    let id: Int\n    let title: String\n    let url: String\n    let thumbnailUrl: String\n}\n```\n\nSwiftDataë¡œ ì‹œì‘í•˜ëŠ” ê¸°ì‚¬ë¥¼ ì½ìœ¼ì‹  ê²½ìš°, ì´ ë‚´ìš©ì€ ìµìˆ™í•˜ê²Œ ëŠê»´ì§ˆ ê²ƒì…ë‹ˆë‹¤. í´ë˜ìŠ¤ì— ìƒˆë¡œìš´ ì½”ë“œ ì¡°ê°ì„ ì¶”ê°€í–ˆëŠ”ë°, ê·¸ê²ƒì€ í¸ì˜ ì´ë‹ˆì…œë¼ì´ì €ì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ DTOë¥¼ ì§ì ‘ ì „ë‹¬í•˜ì—¬ SwiftData entityë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n```swift\n//  PhotoObject.swift\nimport Foundation\nimport SwiftData\n\n@Model\nclass PhotoObject {\n    var albumId: Int\n    @Attribute(.unique) var id: Int\n    var title: String\n    var url: String\n    var thumbnailUrl: String\n\n    init(albumId: Int, id: Int, title: String, url: String, thumbnailUrl: String) {\n        self.albumId = albumId\n        self.id = id\n        self.title = title\n        self.url = url\n        self.thumbnailUrl = thumbnailUrl\n    }\n\n    convenience init(item: PhotoDTO) {\n        self.init(\n            albumId: item.albumId,\n            id: item.id,\n            title: item.title,\n            url: item.url,\n            thumbnailUrl: item.thumbnailUrl\n        )\n    }\n}\n```\n\nì›¹ ì„œë¹„ìŠ¤ë„ ë§Œì•½ SwiftUIì—ì„œ API í˜¸ì¶œì„ ë§Œë“¤ê³  íŒŒì‹±í•œ ì ì´ ìˆë‹¤ë©´ ìµìˆ™í•  ê²ƒì…ë‹ˆë‹¤. ì›¹ ì„œë¹„ìŠ¤ë¥¼ ì‚´í´ë³´ë©´, ê·¸ ê¸°ì‚¬ì—ì„œ ì‚´ì§ ìˆ˜ì •í•˜ì—¬ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ë³´ìœ í•œ ì›¹ ì„œë¹„ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. updateDataInDatabaseë¥¼ ì´ìš©í•´ API í˜¸ì¶œì—ì„œ ë°ì´í„°ë¥¼ íŒŒì‹±í•  ë•Œë§ˆë‹¤ ë°ì´í„°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•  ìˆ˜ ìˆë„ë¡ ìƒˆ ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. updateDataInDatabase í•¨ìˆ˜ëŠ” PhotoDTOë¥¼ SwiftData ì—”í‹°í‹°ë¡œ ë³€í™˜í•˜ê³  ê° ë ˆì½”ë“œë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤. ë˜í•œ, IDë¡œ ì°¾ì„ ìˆ˜ ì—†ëŠ” ê²½ìš° ìƒˆ ë ˆì½”ë“œë¥¼ ìƒì„±í• ì§€ ë˜ëŠ” ê¸°ì¡´ ë ˆì½”ë“œë¥¼ ì—…ë°ì´íŠ¸í• ì§€ ê²°ì •í•˜ê¸° ìœ„í•´ insert ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```swift\n//  WebService.swift\nimport Foundation\nimport SwiftData\n\nenum NetworkError: Error {\n    case badUrl\n    case invalidRequest\n    case badResponse\n    case badStatus\n    case failedToDecodeResponse\n}\n\nclass WebService {\n    @MainActor\n    func updateDataInDatabase(modelContext: ModelContext) async {\n        do {\n            let itemData: [PhotoDTO] = try await fetchData(fromUrl: \"https://jsonplaceholder.typicode.com/albums/1/photos\")\n            for eachItem in itemData {\n                let itemToStore = PhotoObject(item: eachItem)\n                modelContext.insert(itemToStore)\n            }\n        } catch {\n            print(\"Error fetching data\")\n            print(error.localizedDescription)\n        }\n    }\n\n    private func fetchData<T: Codable>(fromUrl: String) async throws -> [T] {\n        guard let downloadedData: [T] = await WebService().downloadData(fromURL: fromUrl) else { return [] }\n\n        return downloadedData\n    }\n\n    private func downloadData<T: Codable>(fromURL: String) async -> T? {\n        do {\n            guard let url = URL(string: fromURL) else { throw NetworkError.badUrl }\n            let (data, response) = try await URLSession.shared.data(from: url)\n            guard let response = response as? HTTPURLResponse else { throw NetworkError.badResponse }\n            guard response.statusCode >= 200 && response.statusCode < 300 else { throw NetworkError.badStatus }\n            guard let decodedResponse = try? JSONDecoder().decode(T.self, from: data) else { throw NetworkError.failedToDecodeResponse }\n\n            return decodedResponse\n        } catch NetworkError.badUrl {\n            print(\"There was an error creating the URL\")\n        } catch NetworkError.badResponse {\n            print(\"Did not get a valid response\")\n        } catch NetworkError.badStatus {\n            print(\"Did not get a 2xx status code from the response\")\n        } catch NetworkError.failedToDecodeResponse {\n            print(\"Failed to decode response into the given type\")\n        } catch {\n            print(\"An error occured downloading the data\")\n        }\n\n        return nil\n    }\n}\n```\n\në·° ë ˆì´ì–´ì—ì„œëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ PhotoObjectsë¥¼ ì½ì–´ì™€ ëª©ë¡ìœ¼ë¡œ í‘œì‹œí•©ë‹ˆë‹¤. ëª©ë¡ ë‚´ì—ì„œëŠ” AsyncImage êµ¬ì„± ìš”ì†Œë¥¼ ì‚¬ìš©í•´ APIì—ì„œ ì´ë¯¸ì§€ë¥¼ í‘œì‹œí•˜ê³  í•´ë‹¹ í•­ëª©ì˜ IDë¥¼ ì´ë¯¸ì§€ ì˜†ì— í‘œì‹œí•©ë‹ˆë‹¤. ëª©ë¡ì˜ í•˜ë‹¨ì—ëŠ” ëª‡ ê°€ì§€ ë‹¤ë¥¸ ë³€í˜•ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. overlay ë³€í˜•ì€ ëª©ë¡ì´ ë¹„ì–´ ìˆì„ ë•Œ ì§„í–‰ ìŠ¤í”¼ë„ˆë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. task ë³€í˜•ì€ ëª©ë¡ì´ ë¹„ì–´ ìˆìœ¼ë©´ APIì—ì„œ ë°ì´í„°ë¥¼ ìë™ìœ¼ë¡œ ê°€ì ¸ì˜¤ë„ë¡ í•©ë‹ˆë‹¤. ë˜í•œ, refreshable ë³€í˜•ì„ ì‚¬ìš©í•´ ëª©ë¡ êµ¬ì„± ìš”ì†Œì— pull to refreshë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n\"task\" ë° \"refreshable\" ìˆ˜ì •ìë¥¼ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ìê°€ ì—…ë°ì´íŠ¸ëœ ë°ì´í„°ë¥¼ í™•ì¸í•˜ë ¤ê³  í•  ë•Œë§Œ APIê°€ í˜¸ì¶œë˜ë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤(APIë¥¼ ì‹¤í–‰í•˜ëŠ” ë¹„ìš©ì„ ì¤„ì„). ì´ëŠ” ì•±ì„ ëŸ°ì¹­í•  ë•Œë§ˆë‹¤ APIì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ëŒ€ì‹  ë‘ ë²ˆì§¸ë¡œ ë°ì´í„°ê°€ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê°€ì ¸ì™€ì§€ê²Œ í•¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\në˜í•œ ë¯¸ë¦¬ë³´ê¸°ê°€ ì¼ë°˜ì ì¸ ê²½ìš°ë³´ë‹¤ ì½”ë“œê°€ ë” ë§ì´ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. SwiftDataì—ì„œ ë°ì´í„°ë¥¼ ë¯¸ë¦¬ë³´ëŠ” ê²ƒì€ ì¼ë°˜ì ì¸ ë·°ì—ì„œ ë°ì´í„°ë¥¼ í‘œì‹œí•˜ëŠ” ê²ƒë³´ë‹¤ ì¡°ê¸ˆ ë” ë³µì¡í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë¯¸ë¦¬ë³´ê¸°ì—ì„œëŠ” ë°ì´í„°ê°€ ì„ì‹œë¡œ ì €ì¥ë˜ëŠ” ìƒˆ ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“¤ê³ (ë¯¸ë¦¬ë³´ê¸° ì¥ì¹˜ì— ë°ì´í„°ë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ì €ì¥í•˜ì§€ ì•Šê¸° ìœ„í•¨), ê·¸ëŸ° ë‹¤ìŒ ê°ì²´ë¥¼ ë§Œë“¤ì–´ ê·¸ ì»¨í…Œì´ë„ˆì— ì €ì¥í•©ë‹ˆë‹¤. ë¯¸ë¦¬ë³´ê¸° ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë³„ë„ì˜ íŒŒì¼ì„ ìƒì„±í•˜ëŠ” ë‹¤ë¥¸ ììŠµì„œë„ ë³¼ ìˆ˜ ìˆì§€ë§Œ ì´ëŠ” ì‘ë™í•˜ë©° ì „í˜€ ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤. ì €ëŠ” ë¯¸ë¦¬ë³´ê¸°ì— ëŒ€í•œ ì½”ë“œë¥¼ ë¯¸ë¦¬ë³´ê¸° ìì²´ì— ê°€ê¹Œì´ ìœ ì§€í•˜ê³  ì‹¶ì–´í•˜ì—¬ ë³„ë„ì˜ íŒŒì¼ì„ ìƒì„±í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\n```js\n//  ContentView.swift\nimport SwiftData\nimport SwiftUI\n\nstruct ContentView: View {\n    @Environment(\\.modelContext) var modelContext\n    @Query(sort: \\PhotoObject.id) var photos: [PhotoObject]\n\n    var body: some View {\n        List(photos) { item in\n            HStack {\n                Text(item.id, format: .number)\n                Spacer()\n\n                AsyncImage(url: URL(string: item.url)!) { imagePhase in\n                    switch imagePhase {\n                    case .empty:\n                        Image(systemName: \"ellipsis\")\n                    case .success(let returnedImage):\n                        returnedImage\n                            .resizable()\n                            .scaledToFit()\n                    case .failure:\n                        Image(systemName: \"xmark.circle\")\n                            .font(.headline)\n                            .foregroundColor(.red)\n                    @unknown default:\n                        Image(systemName: \"ellipsis\")\n                    }\n                }\n            }\n        }\n        .overlay {\n            if photos.isEmpty {\n                ProgressView()\n            }\n        }\n        .task {\n            if photos.isEmpty {\n                await WebService().updateDataInDatabase(modelContext: modelContext)\n            }\n        }\n        .refreshable {\n            await WebService().updateDataInDatabase(modelContext: modelContext)\n        }\n    }\n}\n\n#Preview {\n    do {\n        let config = ModelConfiguration(isStoredInMemoryOnly: true)\n        let container = try ModelContainer(for: PhotoObject.self, configurations: config)\n        let sampleObject = PhotoObject(\n            albumId: 1,\n            id: 1,\n            title: \"accusamus beatae ad facilis cum similique qui sunt\",\n            url: \"https://via.placeholder.com/600/92c952\",\n            thumbnailUrl: \"https://via.placeholder.com/150/92c952\"\n        )\n        container.mainContext.insert(sampleObject)\n\n        return ContentView().modelContainer(container)\n    } catch {\n        fatalError(\"Failed to create model container\")\n    }\n}\n```\n\nì´ ê¸€ì´ ìœ ìµí•˜ë‹¤ê³  ëŠë¼ì‹ ë‹¤ë©´, ì œë¥¼ íŒ”ë¡œìš°í•˜ëŠ” ê²ƒ, ì´ ê¸€ì— ğŸ‘ ë°˜ì‘ì„ ë³´ë‚´ëŠ” ê²ƒ, ë˜ëŠ” ê³µìœ í•˜ì—¬ ë‹¤ë¥¸ ì‚¬ëŒì´ ë” ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆë„ë¡ ë•ëŠ” ê²ƒë„ ê³ ë ¤í•´ì£¼ì„¸ìš”.\"\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\ní•´ë‹¹ ì£¼ì œì— ëŒ€í•´ ê¶ê¸ˆí•œ ì ì´ ìˆê±°ë‚˜ ë™ì¼í•œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•ì„ ì•Œê³  ê³„ì‹ ë‹¤ë©´, ì´ ê²Œì‹œë¬¼ì— ë‹µê¸€ì„ ë‹¬ê±°ë‚˜ ì¹œêµ¬ì—ê²Œ ê³µìœ í•˜ì—¬ ì˜ê²¬ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Native ëª¨ë°”ì¼ ê°œë°œì— ëŒ€í•´ ë” ë°°ìš°ê³  ì‹¶ë‹¤ë©´, ì—¬ê¸°ì—ì„œ ì‘ì„±í•œ ë‹¤ë¥¸ ê¸°ì‚¬ë“¤ì„ í™•ì¸í•´ë³´ì„¸ìš”: [https://medium.com/@jpmtech](https://medium.com/@jpmtech). Native ëª¨ë°”ì¼ ê°œë°œë¡œ ì œì‘ëœ ì•±ë“¤ì„ ë³´ê³  ì‹¶ë‹¤ë©´, ì—¬ê¸°ì—ì„œ ì œê°€ ë§Œë“  ì•±ë“¤ì„ í™•ì¸í•´ë³´ì„¸ìš”: [https://jpmtech.io/apps](https://jpmtech.io/apps). ì œ ì‘í’ˆì„ í™•ì¸í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!\n","ogImage":{"url":"/assets/img/2024-06-22-UsingSwiftDatatoStoreDatafromaRemoteAPI_0.png"},"coverImage":"/assets/img/2024-06-22-UsingSwiftDatatoStoreDatafromaRemoteAPI_0.png","tag":["Tech"],"readingTime":9},{"title":"SwiftUIì—ì„œ ì œìŠ¤ì²˜ ì™„ë²½í•˜ê²Œ í™œìš©í•˜ëŠ” ë°©ë²• ì¢…í•© ê°€ì´ë“œ","description":"","date":"2024-06-22 23:09","slug":"2024-06-22-MasteringGesturesinSwiftUIAComprehensiveGuide","content":"\nì•±ì´ë¼ëŠ” í˜ì„ ìƒìƒí•´ë³´ì„¸ìš”. ê° íƒ­, ìŠ¤ì™€ì´í”„ ë° í•€ì¹˜ë¡œ UIë¥¼ ìƒë™ê° ìˆê²Œ ë§Œë“¤ì–´ë³´ì„¸ìš”.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-22-MasteringGesturesinSwiftUIAComprehensiveGuide_0.png)\n\nì§ê´€ì ì¸ ì œìŠ¤ì²˜ì˜ ë§ˆë²•ì€ ì •ì ì¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë™ì ì´ê³  ë§¤ë ¥ì ì¸ ê²½í—˜ìœ¼ë¡œ ë³€í™”ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìë“¤ì´ ì‚¬ë‘í•˜ëŠ” ê²½í—˜ìœ¼ë¡œ ë§Œë“¤ì–´ ì£¼ì£ . ì‚¬ìš©ìê°€ ì‰½ê²Œ ì¤Œ ì¸/ì•„ì›ƒ ë° íŒ¨ë‹ì„ í•  ìˆ˜ ìˆëŠ” ì‚¬ì§„ í¸ì§‘ê¸°, ì°½ì˜ì„±ì´ ëª¨ë“  ë“œë˜ê·¸ë¡œë¶€í„° í˜ëŸ¬ë‚˜ì˜¤ëŠ” ê·¸ë¦¼ ì•±, ë°˜ì‘í˜• ìŠ¤ì™€ì´í”„ ì œì–´ê°€ ìˆëŠ” ê²Œì„ì„ ë§Œë“œëŠ” ì¤‘ì´ë¼ë©´ SwiftUIì—ì„œ ì œìŠ¤ì²˜ë¥¼ ë§ˆìŠ¤í„°í•˜ëŠ” ê²ƒì´ ì´ëŸ° ê°€ëŠ¥ì„±ì„ í•´ì œí•˜ëŠ” ì—´ì‡ ì…ë‹ˆë‹¤.\n\nì´ í¬ê´„ì ì¸ ê°€ì´ë“œì—ì„œ ê¸°ì´ˆë¶€í„° ê³ ê¸‰ ê¸°ìˆ ê¹Œì§€ ì•ˆë‚´í•´ ë“œë¦´ ê²ƒì´ë©°, SwiftUIì˜ ì œìŠ¤ì²˜ ì¸ì‹ê¸°ë¥¼ í™œìš©í•˜ì—¬ ë§¤ë„ëŸ½ê³  ìƒí˜¸ì‘ìš©ì ì¸ ì‚¬ìš©ì ê²½í—˜ì„ ë§Œë“œëŠ” ë°©ë²•ì„ ê³µê°œí•  ê²ƒì…ë‹ˆë‹¤. ì‹¤ìš©ì ì¸ ì˜ˆì œì— ëŒ€í•´ ê¹Šì´ íŒŒí—¤ì¹˜ê³ , í˜„ì‹¤ ì„¸ê³„ì˜ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ì†Œê°œí•˜ë©°, ì œìŠ¤ì²˜ ì¶©ëŒì„ ì²˜ë¦¬í•˜ê³  ì ‘ê·¼ì„±ì„ ë³´ì¥í•˜ëŠ” ì „ë¬¸ íŒì„ ì œê³µí•  ê²ƒì…ë‹ˆë‹¤. ì´ ì—¬ì •ì„ ë§ˆì¹˜ë©´ SwiftUI í”„ë¡œì íŠ¸ì—ì„œ ì œìŠ¤ì²˜ì˜ ëª¨ë“  ì ì¬ë ¥ì„ í™œìš©í•  ìˆ˜ ìˆëŠ” ì¤€ë¹„ê°€ ë˜ì–´ ìˆì„ ê²ƒì…ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nSwiftUIì˜ ì œìŠ¤ì²˜ì— ëŒ€í•œ ì†Œê°œ\n\nSwiftUIì—ì„œ ì œìŠ¤ì²˜ëŠ” íƒ­, ìŠ¤ì™€ì´í”„ ë° ë“œë˜ê·¸ì™€ ê°™ì€ ì‚¬ìš©ì ìƒí˜¸ ì‘ìš©ì„ ê°ì§€í•˜ê³  ì‘ë‹µí•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. SwiftUIì—ëŠ” ê¸°ë³¸ ì œìŠ¤ì²˜ ì¸ì‹ê¸°ê°€ ì œê³µë˜ì–´ ì•±ì— ì´ëŸ¬í•œ ìƒí˜¸ ì‘ìš©ì„ ì†ì‰½ê²Œ í†µí•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê¸°ë³¸ ì œìŠ¤ì²˜ ì¸ì‹ê¸°\n\nSwiftUIì—ëŠ” ì—¬ëŸ¬ ë‚´ì¥ ì œìŠ¤ì²˜ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤:\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n- íƒ­ ì œìŠ¤ì²˜: íƒ­ ìƒí˜¸ì‘ìš©ì„ ê°ì§€í•©ë‹ˆë‹¤.\n- ë¡± í”„ë ˆìŠ¤ ì œìŠ¤ì²˜: ë¡± í”„ë ˆìŠ¤ ìƒí˜¸ì‘ìš©ì„ ê°ì§€í•©ë‹ˆë‹¤.\n- ë“œë˜ê·¸ ì œìŠ¤ì²˜: ë“œë˜ê¹… ìƒí˜¸ì‘ìš©ì„ ê°ì§€í•©ë‹ˆë‹¤.\n\níƒ­ ì œìŠ¤ì²˜ ì˜ˆì œ\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n```swift\nimport SwiftUI\n\nstruct TapGestureView: View {\n    @State private var message = \"ì–´ë””ì„œë‚˜ íƒ­í•˜ì„¸ìš”\"\n\n    var body: some View {\n        Text(message)\n            .padding()\n            .background(Color.yellow)\n            .onTapGesture {\n                message = \"íƒ­ë˜ì—ˆìŠµë‹ˆë‹¤!\"\n            }\n    }\n}\n```\n\nì´ ì˜ˆì œì—ì„œ í…ìŠ¤íŠ¸ë¥¼ íƒ­í•˜ë©´ ë©”ì‹œì§€ê°€ \"íƒ­ë˜ì—ˆìŠµë‹ˆë‹¤!\"ë¡œ ë³€ê²½ë©ë‹ˆë‹¤.\n\nLongPressGesture ì˜ˆì œ\n\n```swift\nimport SwiftUI\n\nstruct LongPressGestureView: View {\n    @State private var message = \"ê¸¸ê²Œ ëˆŒëŸ¬ ë³€ê²½í•˜ì„¸ìš”\"\n\n    var body: some View {\n        Text(message)\n            .padding()\n            .background(Color.green)\n            .onLongPressGesture {\n                message = \"ê¸¸ê²Œ ëˆŒë €ìŠµë‹ˆë‹¤!\"\n            }\n    }\n}\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì—¬ê¸°ì„œ ë©”ì‹œì§€ë¥¼ \"ê¸¸ê²Œ ëˆŒë €ìŠµë‹ˆë‹¤!\"ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.\n\në“œë˜ê·¸ ì œìŠ¤ì²˜ ì˜ˆì œ\n\n```swift\nimport SwiftUI\n\nstruct DragGestureView: View {\n    @State private var offset = CGSize.zero\n\n    var body: some View {\n        Text(\"ë“œë˜ê·¸í•´ ë³´ì„¸ìš”\")\n            .padding()\n            .background(Color.blue)\n            .offset(offset)\n            .gesture(\n                DragGesture()\n                    .onChanged { gesture in\n                        offset = gesture.translation\n                    }\n                    .onEnded { _ in\n                        offset = .zero\n                    }\n            )\n    }\n}\n```\n\ní…ìŠ¤íŠ¸ë¥¼ ë“œë˜ê·¸í•˜ì—¬ í™”ë©´ ìƒì—ì„œ ì´ë™í•˜ê³  ë†“ì„ ë•Œ ìœ„ì¹˜ê°€ ì¬ì„¤ì •ë©ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n2. ê³ ê¸‰ ì œìŠ¤ì²˜ ê¸°ìˆ \n\në™ì‹œ ì œìŠ¤ì²˜ ì¸ì‹\n\në™ì‹œì— ì—¬ëŸ¬ ì œìŠ¤ì²˜ë¥¼ ì²˜ë¦¬í•˜ë©´ ë” ë‹¤ì´ë‚´ë¯¹í•œ ìƒí˜¸ì‘ìš©ì„ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”.\n\ní™•ëŒ€/ì¶•ì†Œ(Pinch-to-Zoom) ë° ì´ë™(Pan) ì˜ˆì œ\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n```swift\nimport SwiftUI\n\nstruct PinchAndPanView: View {\n    @State private var scale: CGFloat = 1.0\n    @State private var offset = CGSize.zero\n\n    var body: some View {\n        Image(systemName: \"photo\")\n            .resizable()\n            .scaledToFit()\n            .scaleEffect(scale)\n            .offset(offset)\n            .gesture(\n                SimultaneousGesture(\n                    MagnificationGesture()\n                        .onChanged { value in\n                            scale = value\n                        },\n                    DragGesture()\n                        .onChanged { value in\n                            offset = value.translation\n                        }\n                )\n            )\n    }\n}\n```\n\nì´ ì˜ˆì œëŠ” ì‚¬ìš©ìê°€ ì´ë¯¸ì§€ë¥¼ í™•ëŒ€ ë° ì¶•ì†Œí•˜ê³  ë™ì‹œì— ì´ë™í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n\nì‚¬ìš©ì ì •ì˜ ì œìŠ¤ì²˜ ì¸ì‹ê¸°\n\nì‚¬ìš©ì ì§€ì • ì œìŠ¤ì²˜ë¥¼ ë§Œë“¤ë©´ ì•±ì— íŠ¹ì •í•œ ë…íŠ¹í•œ ìƒí˜¸ì‘ìš©ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n```swift\nimport SwiftUI\n\nstruct CustomGestureView: View {\n    @State private var message = \"ì˜¤ë¥¸ìª½ìœ¼ë¡œ ìŠ¤ì™€ì´í”„í•˜ì—¬ ë‚˜íƒ€ë‚©ë‹ˆë‹¤\"\n\n    var body: some View {\n        Text(message)\n            .padding()\n            .background(Color.orange)\n            .gesture(\n                DragGesture(minimumDistance: 50)\n                    .onEnded { value in\n                        if value.translation.width > 50 {\n                            message = \"ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤!\"\n                        }\n                    }\n            )\n    }\n}\n```\n\nì´ ì‚¬ìš©ì ì •ì˜ ì œìŠ¤ì²˜ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ìŠ¤ì™€ì´í•‘í•˜ë©´ ë©”ì‹œì§€ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.\n\nì œìŠ¤ì²˜ ìˆ˜ì •ì\n\nì—¬ëŸ¬ ì œìŠ¤ì²˜ ì¸ì‹ê¸°ë¥¼ ì—°ê²°í•˜ë©´ ë³µì¡í•œ ìƒí˜¸ ì‘ìš©ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nê¸¸ê²Œ ëˆ„ë¥¸ í›„ ìŠ¤ì™€ì´í”„\n\n```js\nimport SwiftUI\n\nstruct LongPressAndSwipeView: View {\n    @State private var message = \"ê¸¸ê²Œ ëˆ„ë¥´ê³  ìŠ¤ì™€ì´í”„í•˜ì„¸ìš”\"\n\n    var body: some View {\n        Text(message)\n            .padding()\n            .background(Color.purple)\n            .gesture(\n                LongPressGesture(minimumDuration: 1)\n                    .onEnded { _ in\n                        message = \"ì´ì œ ìŠ¤ì™€ì´í”„í•˜ì„¸ìš”\"\n                    }\n                    .simultaneously(\n                        with: DragGesture(minimumDistance: 50)\n                            .onEnded { value in\n                                if value.translation.width > 50 {\n                                    message = \"ìŠ¤ì™€ì´í”„í–ˆì–´ìš”!\"\n                                }\n                            }\n                    )\n            )\n    }\n}\n```\n\nì´ ì˜ˆì œëŠ” ë©”ì‹œì§€ë¥¼ ë³€ê²½í•˜ë ¤ë©´ ê¸¸ê²Œ ëˆ„ë¥¸ í›„ì— ìŠ¤ì™€ì´í”„í•´ì•¼ í•©ë‹ˆë‹¤.\n\n3. ì‹¤ìš©ì ì¸ ì˜ˆì œ ë° ì‚¬ìš© ì‚¬ë¡€\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì‚¬ì§„ í¸ì§‘ ì•±: ë“œë˜ê·¸ ì œìŠ¤ì²˜ë¡œ ì¡°ì •í•˜ê¸°\n\n```js\nimport SwiftUI\n\nstruct PhotoEditingView: View {\n    @State private var brightness: Double = 0.0\n\n    var body: some View {\n        VStack {\n            Image(systemName: \"photo\")\n                .resizable()\n                .scaledToFit()\n                .brightness(brightness)\n                .gesture(\n                    DragGesture()\n                        .onChanged { value in\n                            brightness = Double(value.translation.height / 100)\n                        }\n                )\n            Text(\"ë“œë˜ê·¸í•˜ì—¬ ë°ê¸° ì¡°ì •\")\n        }\n    }\n}\n```\n\nìœ„ì•„ë˜ë¡œ ë“œë˜ê·¸í•˜ì—¬ ì´ë¯¸ì§€ì˜ ë°ê¸°ë¥¼ ì¡°ì •í•  ìˆ˜ ìˆì–´ìš”.\n\nê·¸ë¦¼ ê·¸ë¦¬ê¸° ì•±: ë“œë˜ê·¸ ì œìŠ¤ì²˜ë¡œ ì„  ê·¸ë¦¬ê¸°\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n```js\nimport SwiftUI\n\nstruct DrawingView: View {\n    @State private var points: [CGPoint] = []\n\n    var body: some View {\n        Canvas { context, size in\n            for point in points {\n                context.fill(Path(ellipseIn: CGRect(origin: point, size: CGSize(width: 5, height: 5))), with: .color(.black))\n            }\n        }\n        .gesture(\n            DragGesture()\n                .onChanged { value in\n                    points.append(value.location)\n                }\n                .onEnded { _ in\n                    // ì„ íƒì ìœ¼ë¡œ ì œìŠ¤ì²˜ ì¢…ë£Œ ì²˜ë¦¬\n                }\n        )\n    }\n}\n```\n\nì´ ì˜ˆì œëŠ” ì‚¬ìš©ìê°€ í™”ë©´ì„ ë“œë˜ê·¸í•˜ì—¬ ì„ ì„ ê·¸ë¦´ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n\nê²Œì„ ì•±: ìŠ¤ì™€ì´í”„ë¡œ ì´ë™\n\n```js\nimport SwiftUI\n\nstruct GamingView: View {\n    @State private var position = CGSize.zero\n\n    var body: some View {\n        Circle()\n            .frame(width: 50, height: 50)\n            .offset(position)\n            .gesture(\n                DragGesture(minimumDistance: 50)\n                    .onEnded { value in\n                        if abs(value.translation.width) > abs(value.translation.height) {\n                            if value.translation.width > 0 {\n                                position.width += 50\n                            } else {\n                                position.width -= 50\n                            }\n                        } else {\n                            if value.translation.height > 0 {\n                                position.height += 50\n                            } else {\n                                position.height -= 50\n                            }\n                        }\n                    }\n            )\n    }\n}\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nìŠ¤ì™€ì´í•‘ì€ ìŠ¤ì™€ì´í”„ ë°©í–¥ìœ¼ë¡œ ì›ì„ ì´ë™ì‹œí‚µë‹ˆë‹¤.\n\n4. í”„ë¡œ íŒ ë° ê³ ë ¤ ì‚¬í•­\n\nì œìŠ¤ì²˜ ì¶©ëŒ ì²˜ë¦¬\n\nì—¬ëŸ¬ ì œìŠ¤ì²˜ê°€ ë™ì‹œì— ì¸ì‹ë  ìˆ˜ ìˆëŠ” ê²½ìš°, ì œìŠ¤ì²˜ë¥¼ ìš°ì„ ìˆœìœ„ë¥¼ ì •í•˜ê±°ë‚˜ ë°°íƒ€ì  ì œìŠ¤ì²˜ ì¸ì‹ì„ ì‚¬ìš©í•˜ì„¸ìš”.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n```swift\nimport SwiftUI\n\nstruct GestureConflictView: View {\n    @State private var message = \"íƒ­ ë˜ëŠ” ê¸¸ê²Œ ëˆ„ë¥´ê¸°\"\n\n    var body: some View {\n        Text(message)\n            .padding()\n            .background(Color.gray)\n            .gesture(\n                TapGesture()\n                    .onEnded {\n                        message = \"íƒ­!\"\n                    }\n                    .exclusively(\n                        before: LongPressGesture()\n                            .onEnded { _ in\n                                message = \"ê¸¸ê²Œ ëˆŒë €ì–´ìš”!\"\n                            }\n                    )\n            )\n    }\n}\n```\n\nì´ ì˜ˆì œì—ì„œëŠ” íƒ­ ì œìŠ¤ì²˜ê°€ ê¸¸ê²Œ ëˆ„ë¥´ê¸° ì œìŠ¤ì²˜ë³´ë‹¤ ìš°ì„ í•©ë‹ˆë‹¤.\n\nì ‘ê·¼ì„± ê³ ë ¤ì‚¬í•­\n\në³´ì´ìŠ¤ì˜¤ë²„ì™€ ê°™ì€ ë³´ì¡° ê¸°ìˆ ì„ ì‚¬ìš©í•˜ëŠ” ë° ì œìŠ¤ì²˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•˜ì„¸ìš”. ì˜ˆë¥¼ ë“¤ì–´, ë²„íŠ¼ì´ë‚˜ ë‹¤ë¥¸ UI ìš”ì†Œë¥¼ í†µí•´ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ëŒ€ì•ˆ ë°©ë²•ì„ ì œê³µí•˜ì„¸ìš”.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nSwiftUIì—ì„œ ì œìŠ¤ì²˜ë¥¼ ë§ˆìŠ¤í„°í•˜ëŠ” ê²ƒì€ ìƒí˜¸ì‘ìš©ì ì´ê³  ë§¤ë ¥ì ì¸ ì•±ì„ ë§Œë“¤ê¸° ìœ„í•´ ê¼­ í•„ìš”í•©ë‹ˆë‹¤. ë‹¤ì–‘í•œ ì œìŠ¤ì²˜ ì¸ì‹ê¸°ë¥¼ ì´í•´í•˜ê³  êµ¬í˜„í•¨ìœ¼ë¡œì¨ ì‚¬ìš©ì ê²½í—˜ì„ í–¥ìƒì‹œí‚¤ê³  ë™ì  ìƒí˜¸ì‘ìš©ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì˜ˆì œë“¤ì„ ì‹¤í—˜í•´ë³´ê³  ì¶”ê°€ ì œìŠ¤ì²˜ ì¸ì‹ê¸°ì™€ ì„œë“œíŒŒí‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ íƒêµ¬í•˜ì—¬ SwiftUI í”„ë¡œì íŠ¸ë¥¼ ë”ìš± ë°œì „ì‹œì¼œ ë³´ì„¸ìš”.\n","ogImage":{"url":"/assets/img/2024-06-22-MasteringGesturesinSwiftUIAComprehensiveGuide_0.png"},"coverImage":"/assets/img/2024-06-22-MasteringGesturesinSwiftUIAComprehensiveGuide_0.png","tag":["Tech"],"readingTime":12},{"title":"SwiftUI ì•±ì„ ìœ„í•œ ë””ìì¸ íŒ¨í„´ ì„ íƒí•˜ê¸°","description":"","date":"2024-06-22 23:06","slug":"2024-06-22-ChoosingaDesignPatternforyourSwiftUIApp","content":"\në””ìì¸ íŒ¨í„´ì€ ë¬¸ì œë¥¼ í•´ê²°í•´ì•¼ í•©ë‹ˆë‹¤\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-22-ChoosingaDesignPatternforyourSwiftUIApp_0.png)\n\n2022ë…„ ì´ˆ, ì €ëŠ” ë¼ì»¤ìš°ë“œì— ì†Œì¬í•œ ì†Œí”„íŠ¸ì›¨ì–´ ì»¨ì„¤íŒ… íšŒì‚¬ì¸ ìš°ë“œë¦¬ì§€ ì†Œí”„íŠ¸ì›¨ì–´ì—ì„œ ê·¼ë¬´í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ë•Œ í•œ ê³ ê°ì´ ì €í¬ì—ê²Œ ìˆ˜ë…„ê°„ ì§€ì†ë  ëŒ€ê·œëª¨ ê¸°ì—…ìš© ì•±ì„ ê°œë°œí•´ ë‹¬ë¼ëŠ” ìš”ì²­ì„ í–ˆìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ì˜ ë²”ìœ„ê°€ í¬ê¸° ë•Œë¬¸ì—, ì €í¬ëŠ” SwiftUIë¡œ ì™„ì „íˆ ì•±ì„ êµ¬ì¶•í•˜ëŠ” ë„ì „ì„ ìˆ˜ìš©í•˜ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤.\n\nìš°ë“œë¦¬ì§€ì˜ iOS íŒ€ ì•„í‚¤í…íŠ¸ë¡œì„œ, ì €ëŠ” ì•±ì˜ ì•„í‚¤í…ì²˜ë¥¼ ê¸°íší•˜ëŠ” ì—…ë¬´ë¥¼ ë§¡ì•˜ìŠµë‹ˆë‹¤. ì´ëŸ° ë°©ëŒ€í•œ í”„ë¡œì íŠ¸ì— SwiftUIë¥¼ ë„ì…í•˜ëŠ” ê²ƒì€ ì˜ ì •ë¦½ëœ ì•„í‚¤í…ì²˜ì ì¸ ëª¨ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ì˜ ë¶€ì¬ë¡œ ë…íŠ¹í•œ ë„ì „ì´ì—ˆìŠµë‹ˆë‹¤. ì œê°€ ë””ìì¸ íŒ¨í„´ì„ ì„ íƒí•˜ê³  ë‚˜ì¤‘ì— ë°œëª…í•˜ê²Œ ëœ ì—¬ì •ì€ ì„¸ ë‹¨ê³„ë¡œ ë‚˜ë‰˜ì—ˆìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n# ì²« ë²ˆì§¸ ë‹¨ê³„: UIKit ì¹œí™”ì ì¸ ë””ìì¸ íŒ¨í„´ ì„ íƒí•˜ê¸°\n\nUIKit ê°œë°œìë¡œì„œ, ì €ëŠ” ì²˜ìŒì—ëŠ” UIKit ì„¸ê³„ì—ì„œ ì˜ ì‘ë™í•˜ëŠ” ì•„í‚¤í…ì²˜ íŒ¨í„´ì„ ì„ íƒí•˜ëŠ” ê²ƒì´ ìµœì„ ì¼ ê²ƒì´ë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ëŠ” ë¬¸ì œê°€ ìˆì—ˆê³ , ê·¸ ì´ìœ ëŠ” ê°„ë‹¨í•œ ì—­ì‚¬ ìˆ˜ì—… ì´í›„ì— ê°€ì¥ ì˜ ì„¤ëª…ë©ë‹ˆë‹¤.\n\n## iOS ì•„í‚¤í…ì²˜ ê°„ë‹¨ ì—­ì‚¬\n\nì• í”Œì´ 2008ë…„ì— iPhone SDKë¥¼ ì¶œì‹œí–ˆì„ ë•Œ, UIKit ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•˜ê¸° ìœ„í•œ ê¶Œì¥ ë””ìì¸ íŒ¨í„´ì€ MVC(Model-View-Controller)ì˜€ìŠµë‹ˆë‹¤. ì´ íŒ¨í„´ì€ ë°ì´í„° ëª¨ë¸, ë·° ë° ì´ë“¤ì„ ì—°ê²°í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬(UIKitì—ì„œëŠ” ë·°ì™€ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë‹¨ì¼ \"ë·° ì»¨íŠ¸ë¡¤ëŸ¬\"ë¡œ ê²°í•©ë©ë‹ˆë‹¤)ë¥¼ í¬í•¨í•©ë‹ˆë‹¤. ê¸°ë³¸ì ì¸ ê²ƒì„ ë„˜ì–´ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë³µì¡ë„ê°€ ì¦ê°€í• ìˆ˜ë¡, ì´ íŒ¨í„´ì€ ì¢…ì¢… ìµìˆ™í•œ ë¬¸ì œì¸ ê±°ëŒ€í•œ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nëŒ€í˜• ë·° ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ìƒê¸´ ì´ìœ ëŠ” ì—¬ëŸ¬ ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ UIKit ë‚´ì—ì„œ ë·° êµ¬ì„±(í° ë·°ë¥¼ ì‘ì€ í•˜ìœ„ ë·°ë¡œ ë¶„í•´í•˜ëŠ” ê²ƒ)ì„ ì‚¬ìš©í•˜ê¸°ê°€ ë§¤ìš° ì–´ë µê¸° ë•Œë¬¸ì— ëŒ€ë¶€ë¶„ì˜ ê°œë°œìë“¤ì´ í¬ê¸°í•˜ê³  ì•±ì˜ ì „ì²´ í™”ë©´ ë‹¹ í•˜ë‚˜ì˜ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“¤ì–´ ê° ë·° ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë¶ˆí•©ë¦¬í•˜ê²Œ ëŠ˜ë¦¬ê³  ìˆìŠµë‹ˆë‹¤. ê²Œë‹¤ê°€ ëŒ€ë¶€ë¶„ì˜ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë„¤íŠ¸ì›Œí‚¹ê³¼ ê°™ì€ ê³µí†µ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì—¬ ë¶€í’€ê²Œë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ëª¨ë°”ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ì¸¡ë©´ ì¤‘ í•˜ë‚˜ì¸ ìƒíƒœ ê´€ë¦¬ë„ ì‰½ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœì˜ ì €ì¥ ë° ê´€ë¦¬ëŠ” ëŒ€ë¶€ë¶„ ê°œë°œìì—ê²Œ ë§¡ê²¨ì ¸ ìˆì–´ ê²°ê³¼ì ìœ¼ë¡œ ëª¨ë“  ê²ƒì´ ê¸°ë³¸ì ìœ¼ë¡œ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\n\nì´ë¡ ì ìœ¼ë¡œ ë¬¸ì œëŠ” ë·° ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë§¡ì€ ì±…ì„ì´ ë„ˆë¬´ ë§ì•˜ë˜ ê²ƒì…ë‹ˆë‹¤. ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ê°œë°œìë“¤ì€ ì¼ë°˜ì ìœ¼ë¡œ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë³´ìœ í•˜ë˜ ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•˜ì—¬ í•´ê²°í•˜ë ¤ëŠ” ì˜ë„ë¡œ ë§ì€ ì¶”ê°€ ë””ìì¸ íŒ¨í„´ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤:\n\n- MVP (Model-View-Presenter): ê° ë·° ì»¨íŠ¸ë¡¤ëŸ¬ì™€ ë°ì´í„° ëª¨ë¸ ê°„ì˜ í†µì‹ ì„ ì²˜ë¦¬í•˜ëŠ” \"í”„ë ˆì  í„°\" êµ¬ì„± ìš”ì†Œë¥¼ ì†Œê°œí•©ë‹ˆë‹¤.\n- MVVM (Model-View-ViewModel): MVPì™€ ìœ ì‚¬í•˜ê²Œ, ê° ë·° ì»¨íŠ¸ë¡¤ëŸ¬ì— ë°ì´í„° ëª¨ë¸ê³¼ í†µì‹ ì„ ì›í™œí•˜ê²Œ í•˜ëŠ” \"ë·° ëª¨ë¸\"ì´ë¼ê³  ë¶ˆë¦¬ëŠ” êµ¬ì„± ìš”ì†Œê°€ í¬í•¨ë©ë‹ˆë‹¤. ë·° ëª¨ë¸ì€ í”„ë ˆì  í„°ì™€ ì°¨ì´ì ì´ ìˆìœ¼ë©° ë·° ìƒíƒœë¥¼ ì €ì¥í•˜ê³  ê·¸ ìƒíƒœë¥¼ ì§ì ‘ ê´€ë ¨ëœ ë·°ì— ë°”ì¸ë”©í•©ë‹ˆë‹¤.\n- Coordinator: ì½”ë””ë„¤ì´í„° êµ¬ì„± ìš”ì†ŒëŠ” ë„¤ë¹„ê²Œì´ì…˜ ê´€ì‹¬ì‚¬ë¥¼ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ë¡œë¶€í„° ë¶„ë¦¬í•©ë‹ˆë‹¤.\n- VIPER (View-Interactor-Presenter-Entity-Router): ì•„ë§ˆë„ ê·¸ì¤‘ì—ì„œ ê°€ì¥ ë³µì¡í•œ VIPERëŠ” ë·° ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì¼ë°˜ì ìœ¼ë¡œ ë§¡ì€ ê° ê´€ì‹¬ì‚¬ë¥¼ ê°œë³„ êµ¬ì„± ìš”ì†Œë¡œ ë¶„ë¦¬í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ë·°(ë·° ì»¨íŠ¸ë¡¤ëŸ¬)ëŠ” UI í‘œì‹œë§Œ ë‹¤ë£¨ë©°, í”„ë ˆì  í„°ëŠ” ë·°ìš© ë°ì´í„°ë¥¼ ì¡°ì‘í•˜ë©°, ì¸í„°ë™í„°ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ë©°, ì—”í‹°í‹°ëŠ” ê¸°ë³¸ ë°ì´í„° ëª¨ë¸ì„ í‘œí˜„í•˜ë©°, ë¼ìš°í„°ëŠ” ë„¤ë¹„ê²Œì´ì…˜ì„ ë‹¤ë£¹ë‹ˆë‹¤.\n\n## SwiftUI ë„ì…\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n2019ë…„ì— Appleì€ ìƒˆë¡œìš´ UI í”„ë ˆì„ì›Œí¬ì¸ SwiftUIë¥¼ ì†Œê°œí–ˆìŠµë‹ˆë‹¤. SwiftUIëŠ” UIKitê³¼ ë§¤ìš° ë‹¤ë¦…ë‹ˆë‹¤. UIKitì€ ëª…ë ¹í˜•ì¸ ë°˜ë©´, SwiftUIëŠ” ì„ ì–¸ì ì…ë‹ˆë‹¤. ê°œë°œìê°€ ë·°ë¥¼ ì§ì ‘ ì²˜ë¦¬í•˜ëŠ” ëŒ€ì‹ , UIê°€ ì–´ë–»ê²Œ ë³´ì—¬ì•¼ í•˜ëŠ”ì§€ë¥¼ ì§€ì •í•˜ê³  í”„ë ˆì„ì›Œí¬ê°€ ë‚˜ë¨¸ì§€ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤. ê°œë°œìê°€ ìƒíƒœ ê´€ë¦¬ë¥¼ ì§ì ‘ ì²˜ë¦¬í•˜ëŠ” ëŒ€ì‹  SwiftUIì—ëŠ” ë‚´ì¥ëœ ìƒíƒœ ê´€ë¦¬ê°€ ìˆìœ¼ë©° ìƒíƒœ ë³€ê²½ ì‹œ ë·° ì—…ë°ì´íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤. UIKitì—ì„œ ë·° êµ¬ì„±ì´ ì–´ë ¤ìš´ ë°˜ë©´, SwiftUIì—ì„œëŠ” ê¸°ë³¸ì ì¸ ê²ƒì…ë‹ˆë‹¤.\n\në³´ì‹œë‹¤ì‹œí”¼, SwiftUIëŠ” ë‹¨ìˆœíˆ ìƒˆë¡œìš´ UI í”„ë ˆì„ì›Œí¬ê°€ ì•„ë‹™ë‹ˆë‹¤. UIKitê³¼ ë„ˆë¬´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ìš°ë¦¬ê°€ í•˜ëŠ” ê²Œì„ì„ ì™„ì „íˆ ë°”ê¿‰ë‹ˆë‹¤. UIKitì—ì„œ ë°œìƒí–ˆë˜ ëŒ€ê·œëª¨ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ ë¬¸ì œê°€ SwiftUI ì„¸ê³„ì— ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ íŠ¹ë³„íˆ ê³ ì•ˆëœ ë””ìì¸ íŒ¨í„´ì„ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\në”°ë¼ì„œ UIKit ì¹œí™”ì ì¸ ë””ìì¸ íŒ¨í„´ì„ ì„ íƒí•˜ëŠ” ê²ƒì´ ì²˜ìŒì—ëŠ” í•©ë¦¬ì ìœ¼ë¡œ ë³´ì¼ì§€ë¼ë„, ì´ëŸ¬í•œ íŒ¨í„´ì´ SwiftUI ì„¸ê³„ì—ì„œëŠ” ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ëŠ” ê²ƒì„ì„ ë¹¨ë¦¬ ê¹¨ë‹«ê²Œ ë©ë‹ˆë‹¤. ë”êµ¬ë‚˜ VIPERì™€ ê°™ì€ ëª‡ ê°€ì§€ íŒ¨í„´ì€ ê°œë°œìê°€ ì¢‹ì€ SwiftUI ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì„ ë°©í•´í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. VIPERì™€ ê°™ì€ íŒ¨í„´ì€ ë·°ë‹¹ ì¤‘ìš”í•œ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ë¥¼ ìƒì„±í•˜ì—¬ ê° ë·°ê°€ ë§ì€ ì½”ë“œì™€ ë³µì¡ì„±ì„ ì¶”ê°€í•˜ê¸° ë•Œë¬¸ì—, ê°œë°œìë“¤ì´ ë·°ë¥¼ ë” ì‘ì€ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ëŠ” ê²ƒì„ ì—´ì‹¬íˆ í•˜ì§€ ì•Šê²Œ ë©ë‹ˆë‹¤. Michael Longì´ ì´ì— ëŒ€í•´ ìƒì„¸íˆ ì“´ ë°” ìˆìŠµë‹ˆë‹¤.\n\nê²°êµ­, ë””ìì¸ íŒ¨í„´ì€ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì¡´ì¬í•´ì•¼ í•˜ë©°, ê°€ëŠ¥í•œ ë¬¸ì œë¥¼ ë§Œë“¤ì–´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤. UIKit ì¹œí™”ì  ì•„í‚¤í…ì²˜ëŠ” ëŒ€ê·œëª¨ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ê³ ì•ˆëœ ê²ƒì¸ ë°˜ë©´, ì´ ë¬¸ì œê°€ SwiftUIì—ì„œëŠ” ë” ì´ìƒ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n# ë‘ ë²ˆì§¸ ë‹¨ê³„: ê°€ì¥ ì¶”ì²œë˜ëŠ” SwiftUI ë””ìì¸ íŒ¨í„´ ì„ íƒ: MVVM\n\nì•Œê² ì–´ìš”, ì§€ê¸ˆ UIKit ì§€ì‹ì„ ì ìš©í•´ë„ ì´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ì—†ì„ ê±°ì—ìš”. ê·¸ë˜ì„œ ì›¹ì„ ì² ì €íˆ ì¡°ì‚¬í•´ë³¸ ê²°ê³¼, ëŒ€ë¶€ë¶„ì˜ ì‚¬ëŒë“¤ì´ MVVMì„ í‘œì¤€ SwiftUI ë””ìì¸ íŒ¨í„´ìœ¼ë¡œ ì¶”ì²œí•˜ê³  ìˆì–´ìš”.\n\nì´ì „ì— ì–¸ê¸‰í•œ ë°”ì™€ ê°™ì´, MVVMì€ ê° ë·°ê°€ ìì²´ ViewModel êµ¬ì„± ìš”ì†Œë¥¼ ê°–ê³ , í•´ë‹¹ ìƒíƒœì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í¬í•¨í•˜ë©°, ViewModelì€ ìƒíƒœë¥¼ ì§ì ‘ ë·°ì— ë°”ì¸ë”©í•  ê²ƒì„ ê·œì •í•˜ê³  ìˆì–´ìš”. ì´ëŠ” SwiftUIì˜ ìƒíƒœ ì¤‘ì‹¬ ë° ë°”ì¸ë”© ê¸°ë°˜ êµ¬ì¡°ì— ë§¤ìš° ì í•©í•œ í›„ë³´ë¡œ ë³´ì´ë©°, ObservableObject(ê·¸ë¦¬ê³  ìƒˆ @Observed ë§¤í¬ë¡œ)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆì–´ìš”.\n\nì´ ì ‘ê·¼ ë°©ì‹ì—ëŠ” ì¥ë‹¨ì ì´ ìˆì–´ìš”. ì¥ì ì€ MVVMì´ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë·°ì—ì„œ ë¶„ë¦¬í•˜ì—¬ ì´ì‹ ê°€ëŠ¥í•˜ê³  í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰½ê²Œ ë§Œë“ ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ SwiftUIì—ì„œ MVVMì„ ì‚¬ìš©í•˜ëŠ” ë‹¨ì ì€ ë§ìœ¼ë©°, ë‚´ ì˜ê²¬ìœ¼ë¡œëŠ” ì¥ì ì„ ìƒíšŒí•œë‹¤ê³  ìƒê°í•´ìš”:\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n- ê°œë°œìë“¤ì€ ViewModels ë‚´ì—ì„œ withAnimation, @FocusState, @FetchRequest ë“±ê³¼ ê°™ì€ SwiftUI ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ê²ˆ view modelsëŠ” ê·¸ëƒ¥ ë³´í†µì˜ í´ë˜ìŠ¤ì´ê¸° ë•Œë¬¸ì— ê·¸ë“¤ì€ ë·°ê°€ ì•„ë‹ˆë©°, ë”°ë¼ì„œ ë·°ì˜ ê¸°ëŠ¥ ì„¸íŠ¸ë¥¼ í™œìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì œí•œì„ í”¼í•˜ê¸° ìœ„í•´ ìš°íšŒ ë°©ë²•ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë²ˆê±°ë¡œìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- SwiftUI ë·° ê°„ì˜ ë°ì´í„° ì „ë‹¬ì€ ë„ì „ì ì¸ ê³¼ì œê°€ ë©ë‹ˆë‹¤. ì™œëƒí•˜ë©´ ì´ì œëŠ” ë°”ì¸ë”©ì„ ì‰½ê²Œ ì‚¬ìš©í•˜ê±°ë‚˜ ë·° ëª¨ë¸ ë‚´ì—ì„œ í™˜ê²½ì—ì„œ ì •ë³´ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤(@Environment ë˜ëŠ” @EnvironmentObjectë¥¼ í†µí•´).\n- ViewModelì—ì„œ í•˜ë‚˜ì˜ ì†ì„±ì„ ë³€ê²½í•˜ë©´ í•´ë‹¹ ì†ì„±ì´ ì—°ê´€ëœ ì „ì²´ ë·°ê°€ ì•„ë‹Œ ì´ ë·°ë¥¼ ë¬´íš¨í™”ì‹œí‚¤ëŠ” ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤(ì´ëŠ” iOS 17ì˜ ìƒˆë¡œìš´ ê´€ì°° ì‹œìŠ¤í…œìœ¼ë¡œ í•´ê²°ë˜ì—ˆì§€ë§Œ, iOS 17 ì´ì „ì˜ SwiftUI ë²„ì „ì—ëŠ” ì—¬ì „íˆ ì–¸ê¸‰í•  ê°€ì¹˜ê°€ ìˆìŠµë‹ˆë‹¤).\n- MVVMì€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ë·°ë¥¼ ê°•í•˜ê²Œ ê²°í•©í•˜ê¸° ë•Œë¬¸ì— ë·° êµ¬ì„±ì„ ì–µì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¨ì¼ ë·°ë¥¼ ì—¬ëŸ¬ ê°œì˜ ë·°ë¡œ ë¶„í•´í•˜ë©´ ì—¬ëŸ¬ ê°œì˜ ìƒˆë¡œìš´ ë·° ëª¨ë¸ì„ ìƒì„±í•˜ê³  ê·¸ë“¤ ì‚¬ì´ì˜ ë³µì¡í•œ ë°ì´í„° íë¦„ì„ ì¡°ìœ¨í•´ì•¼ í•©ë‹ˆë‹¤.\n\nì´ëŸ¬í•œ ë‹¨ì ì„ ê³ ë ¤í•˜ë©´ SwiftUIì— ì ìš©í•  ë•Œ MVVMì€ ì í•©í•œ ë„êµ¬ê°€ ì•„ë‹Œ ê²ƒìœ¼ë¡œ íŒë‹¨ë©ë‹ˆë‹¤. ì´ íŒ¨í„´ì€ íš¨ê³¼ì ìœ¼ë¡œ ë·°ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬í•˜ì§€ë§Œ ì´ ê³¼ì •ì—ì„œ ê°œë°œìì™€ í•µì‹¬ SwiftUI ê¸°ëŠ¥ ì‚¬ì´ì— ìˆ˜ë§ì€ ì¥ì• ë¬¼ì´ ë†“ì—¬ ìˆìŠµë‹ˆë‹¤. SwiftUIì˜ ì„¸ê³„ì— ë” ì í•©í•œ ê²ƒì„ ì°¾ì•„ì•¼ í•œë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. ì´ê²ƒì´ ì €ë§Œì˜ ì˜ê²¬ì´ ì•„ë‹Œ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\n\n# ì„¸ ë²ˆì§¸ ë‹¨ê³„: ìƒˆë¡œìš´ ì‹œë„\n\nê·¸ë ‡ë‹¤ë©´ ì´ì œ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”? SwiftUIì™€ ê°™ì´ ìƒëŒ€ì ìœ¼ë¡œ ìƒˆë¡œìš´ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ìµœìƒì˜ ë°©ë²•ì´ ì•„ì§ í™•ë¦½ë˜ì§€ ì•Šì•˜ë‹¤ëŠ” ê²ƒì´ ë©‹ì§„ ì ì´ì ë¬´ì„œìš´ ì ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ë‹¹ì‹ ì„ ìœ„í•´ ê¸¸ì„ ë°Ÿì€ ì‚¬ë¡€ë¥¼ ë” ì°¾ì•„ë³´ë©´, ë‹¹ì‹ ì´ í•˜ë‚˜ì˜ ê¸¸ì„ ë°ŸëŠ”ì´ë¼ëŠ” ê²ƒì„ ë” ë§ì´ ê¹¨ë‹«ê²Œ ë©ë‹ˆë‹¤. ì´ë¥¼ ì—¼ë‘ì— ë‘ê³ , ìš°ë¦¬ê°€ ë‚˜ë¦„ëŒ€ë¡œì˜ ë°©ë²•ì„ ì œì‹œí•´ì•¼ í•˜ê³ , ìš°ë¦¬ë§Œì˜ ì•„í‚¤í…ì²˜ íŒ¨í„´ì„ ì²˜ìŒë¶€í„° ê°œë°œí•´ì•¼ í•  ê²ƒì´ë¼ëŠ” ê²ƒì„ ê¹¨ë‹¬ì•˜ìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\ní•œ ë°œ ë¬¼ëŸ¬ì„œì„œ ìƒê°ì„ í•´ë³´ë©´, ê²°êµ­ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ì˜ ëª©ì ì€ ë¬´ì—‡ì¸ê°€ìš”? ì•„ë¬´íŠ¼ ê·¸ëƒ¥ í•´ì•¼ í•˜ëŠ” ê±´ê°€ìš”? ì•„í‚¤í…ì²˜ ì‹ ì—ê²Œ ê¸°ì˜ê¸° ìœ„í•´ì„œìš”?\n\nì „ ë°˜ëŒ€ì˜ ì˜ê²¬ì„ ê°€ì§€ê³  ìˆì–´ìš”. ì œê°€ ìƒê°í•˜ëŠ” ì•„í‚¤í…ì²˜ ì² í•™ì€ ê·¸ê²ƒì´ ëª©ì ì„ ê°€ì ¸ì•¼ í•œë‹¤ëŠ” ê²ƒì´ì—ìš”: ë¬¸ì œë¥¼ í•´ê²°í•´ì•¼ í•´ìš”. SwiftUIì˜ ë³¸ì§ˆì€ ë°©ëŒ€í•œ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“¤ì–´ë‚¸ ë¬¸ì œë“¤ì„ í•´ê²°í–ˆê³ , ì´ëŠ” ë” ì¼ë°˜ì ì¸ ì•„í‚¤í…ì²˜ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë° ë…¸ë ¥ì„ ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ê·¸ ê²°ê³¼ë¡œ ë‚˜íƒ€ë‚˜ëŠ” ì•„í‚¤í…ì²˜ëŠ” UIKit ì¤‘ì‹¬ì˜ ì•„í‚¤í…ì²˜ë³´ë‹¤ ë” ê°„ë‹¨í•˜ê³  ìš°ì•„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê·¸ë ‡ë‹¤ë©´, ë” ì¼ë°˜ì ì¸ ì•„í‚¤í…ì²˜ë¡œ ì–´ë–¤ ë¬¸ì œë“¤ì„ í•´ê²°í•˜ë ¤ê³  í•˜ëŠ” ê²ƒì¸ê°€ìš”? ì£¼ë¡œ ìš°ë¦¬ëŠ” ìŠ¤íŒŒê²Œí‹° ì½”ë“œë¥¼ ë°©ì§€í•˜ë ¤ê³  í•˜ë©°, ì½”ë“œ êµ¬ì¡°ê°€ ì´í•´í•˜ê¸° ì‰½ê³  í™•ì¥í•˜ê¸° ì‰¬ìš´ êµ¬ì¡°ë¡œ ëë‚˜ê¸¸ ì›í•©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ìœ ì§€ë³´ìˆ˜ ê°€ëŠ¥í•œ ì½”ë“œë¥¼ ì§€í–¥í•©ë‹ˆë‹¤. ì´ ìƒˆë¡œìš´ ì•„í‚¤í…ì²˜ íŒ¨í„´ì„ ìœ„í•´ ì„ íƒí•œ ì¼ë°˜ì ì¸ ì›ì¹™ë“¤ì€ ë‹¤ìŒê³¼ ê°™ì•„ìš”:\n\n- ê´€ì‹¬ì‚¬ ë¶„ë¦¬ (ì˜ˆ: ë·°ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë¶„ë¦¬)\n- DRY ì›ì¹™ ì¤€ìˆ˜ â€” ì¼ë°˜ì ì¸ ì‘ì—…ë“¤ì€ ìì²´ ìœ í‹¸ë¦¬í‹°ë¡œ ì •ë¦¬ë˜ì–´ì•¼ í•©ë‹ˆë‹¤\n- ì´ íŒ¨í„´ì€ SwiftUIë¥¼ ë³´ì™„í•˜ê³  í”„ë ˆì„ì›Œí¬ì™€ ëŒ€ë¦½í•˜ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## MVSU (Model-View-Service-Utility)\n\nìœ„ ìš”êµ¬ ì‚¬í•­ì„ ê³ ë ¤í•˜ì—¬, ì €ëŠ” MVSUë¼ëŠ” ë””ìì¸ íŒ¨í„´ì„ ê³ ì•ˆí–ˆìŠµë‹ˆë‹¤. ì´ íŒ¨í„´ì€ MVC, ë„ë©”ì¸ ì£¼ë„ ë””ìì¸, ê·¸ë¦¬ê³  Clean architectureì— ê¹Šì€ ë¿Œë¦¬ë¥¼ ë‘ê³  ìˆì§€ë§Œ, SwiftUIì— íŠ¹íˆ ì˜ ì–´ìš¸ë¦´ ê²ƒìœ¼ë¡œ ìƒê°ë˜ëŠ” ê³ ìœ í•œ íŠ¹ì„±ì„ ê°–ê³  ìˆìŠµë‹ˆë‹¤. ì´ íŒ¨í„´ì€ 4ê°œ ê·¸ë£¹ì˜ êµ¬ì„± ìš”ì†Œë¡œ ì´ë£¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤:\n\n- **ìœ í‹¸ë¦¬í‹°**ëŠ” íŠ¹ì • ì‘ì—… í•˜ë‚˜ë¥¼ ìˆ˜í–‰í•˜ê±°ë‚˜ ëª‡ ê°€ì§€ ë°€ì ‘í•˜ê²Œ ê´€ë ¨ëœ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì¢ê²Œ ì¤‘ì ì„ ë‘” ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬ë“¤ì…ë‹ˆë‹¤. ì„œë¹„ìŠ¤ëŠ” í•˜ìœ„ ìˆ˜ì¤€ì˜ ì„¸ë¶€ ì‚¬í•­ì„ ê±±ì •í•˜ì§€ ì•Šê³  ê¸°ëŠ¥ ìˆ˜í–‰ì„ ê°€ëŠ¥ì¼€ í•©ë‹ˆë‹¤.\n- **ì„œë¹„ìŠ¤**ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê³„ì¸µì…ë‹ˆë‹¤. ì„œë¹„ìŠ¤ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ íŠ¹ì • ë„ë©”ì¸ì— ê´€ë ¨ëœ ê¸°ëŠ¥ì˜ ìƒíƒœë¥¼ ê°€ì§€ì§€ ì•Šì€ ê·¸ë£¹ì…ë‹ˆë‹¤. ì´ë¥¼ ë³´ë©´ ë·°ê°€ ì‚¬ìš©í•˜ëŠ” APIë¡œ ìƒê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- **ëª¨ë¸**ì€ ê°€ì¥ ì¼ë°˜ì ì¸ ë¶€ë¶„ì´ë©°, ì•± ë°ì´í„°ë¥¼ ìº¡ìŠí™”í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. ì„œë¹„ìŠ¤ëŠ” ëª¨ë¸ê³¼ í†µì‹ í•˜ì—¬ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.\n- **ë·°**ëŠ” ëŒ€ì²´ë¡œ ìëª…í•˜ì§€ë§Œ ì•Œì•„ë‘¬ì•¼ í•  ëª‡ ê°€ì§€ ê·œì¹™ì´ ìˆìŠµë‹ˆë‹¤. ë·°ëŠ” ì£¼ë¡œ ìì‹ ì˜ ìƒíƒœë¥¼ ì²˜ë¦¬í•˜ë©°, ì£¼ë¡œ ìœ í‹¸ë¦¬í‹°ê°€ ì•„ë‹Œ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. ë·° êµ¬ì„±ì„ ì ê·¹ì ìœ¼ë¡œ í™œìš©í•˜ì—¬ ê° ë·°ë¥¼ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆëŠ” êµ¬ì„± ìš”ì†Œë¡œ ë¶„í•´í•˜ì—¬ ìœ ì§€í•˜ê³ , ê·¸ë¡œ ì¸í•´ ê° ë·°ê°€ ì‘ê³  ì¤‘ì ì ìœ¼ë¡œ ìœ ì§€ë©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-22-ChoosingaDesignPatternforyourSwiftUIApp_1.png)\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nê° êµ¬ì„± ìš”ì†Œ ìœ í˜•ì— ëŒ€í•´ ìì„¸íˆ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤:\n\n## ìœ í‹¸ë¦¬í‹°\n\nì¼ë¶€ ì•±ì—ì„œ ë„¤íŠ¸ì›Œí‚¹, ì•Œë¦¼ í‘œì‹œ, ì˜¤ë¥˜ ì²˜ë¦¬ ë“±ê³¼ ê°™ì€ ì¼ë°˜ ì‘ì—…ì€ ì½”ë“œë² ì´ìŠ¤ ì „ì²´ì— í©ì–´ì§€ê±°ë‚˜ ë°˜ë³µë  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ë˜ëŠ” ë·°ëª¨ë¸ê³¼ ê°™ì€ ì¤‘ì¬ ë ˆì´ì–´ì— ìœ„ì¹˜í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤). MVSUëŠ” íŠ¹íˆ ì´ëŸ¬í•œ ìœ í˜•ì˜ ë°˜ë³µ ì‘ì—…ì„ â€œìœ í‹¸ë¦¬í‹°â€ ì ‘ë¯¸ì‚¬ë¥¼ ê°€ì§„ í´ë˜ìŠ¤ë¡œ ì´ë™í•´ì•¼ í•œë‹¤ê³  ê·œì •í•©ë‹ˆë‹¤ (ì˜ˆ: NetworkUtility, SessionUtility, LoggingUtility ë“±).\n\në‹¨ì¼ ì±…ì„ ì›ì¹™ì„ ì¤€ìˆ˜í•˜ëŠ” í•œ, ì´ëŸ¬í•œ ìœ í‹¸ë¦¬í‹°ëŠ” ë§¤ìš° ì§‘ì¤‘ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. í•œ ê°€ì§€ ìœ í˜•ì˜ ì‘ì—…ì´ë‚˜ ëª‡ ê°€ì§€ ë°€ì ‘í•œ ê´€ë ¨ ì‘ì—…ë§Œ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤. ì„œë¹„ìŠ¤ëŠ” ê·¸ë“¤ì˜ ìƒìœ„ ìˆ˜ì¤€ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ìœ í‹¸ë¦¬í‹°ë¥¼ í™œìš©í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì‘ì—…ì„ ìœ í‹¸ë¦¬í‹°ë¡œ ì´ë™í•¨ìœ¼ë¡œì¨ ì½”ë“œë² ì´ìŠ¤ë¥¼ DRY(ë°˜ë³µí•˜ì§€ ë§ˆì„¸ìš”) ìƒíƒœë¡œ ìœ ì§€í•˜ê³  ì„œë¹„ìŠ¤ê°€ ë…ìì  ë„ë©”ì¸ì—ë§Œ ì§‘ì¤‘í•˜ë„ë¡ í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œì˜ ê·œì¹™ì€ ì—¬ëŸ¬ ì„œë¹„ìŠ¤ê°€ ë™ì¼í•œ ë…¼ë¦¬ë¥¼ ìˆ˜í–‰í•œë‹¤ë©´, ì•„ë§ˆë„ ìœ í‹¸ë¦¬í‹°ë¡œ ì´ë™í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n```swift\nclass NetworkUtility {\n    func perform<ResultType: Decodable>(request: Request<ResultType>) async throws -> ResultType {\n        // ...\n    }\n}\n\nclass LogUtility {\n    func log(type: LogType, description: String) {\n        // ...\n    }\n}\nclass FileUtility {\n    func save(data: Data, toFileUrl fileUrl: URL) throws {\n        // ...\n    }\n    func retrieveData(fromFileUrl fileUrl: URL) throws -> Data {\n        // ...\n    }\n}\n```\n\n## ì„œë¹„ìŠ¤\n\nMVC, MVP, MVVM, VIPERê³¼ ê°™ì€ ë§ì€ íŒ¨í„´ì€ ë·°ë³„ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬í•©ë‹ˆë‹¤ (ì¦‰, ê° ë·°ëŠ” ë³„ë„ì˜ ì»¨íŠ¸ë¡¤ëŸ¬, ë·°ëª¨ë¸ ë“±ì„ ê°–ìŠµë‹ˆë‹¤). MVSUì—ì„œëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë„ë©”ì¸ë³„ë¡œ ë¶„ë¦¬í•©ë‹ˆë‹¤. ì´ëŠ” ì•±ì´ ì‚¬ìš©í•˜ëŠ” ê° ë°ì´í„° ìœ í˜•ë§ˆë‹¤ í•´ë‹¹í•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ê°–ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤ (ì˜ˆ: ë„ë„› ê°€ê²Œì˜ ê²½ìš° ë„ë„› ì„œë¹„ìŠ¤, ì£¼ë¬¸ ì„œë¹„ìŠ¤, ì‚¬ìš©ì ì„œë¹„ìŠ¤ ë“±).\n\në„ë©”ì¸ë³„ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬í•˜ëŠ” ê²ƒì—ëŠ” ëª‡ ê°€ì§€ ì¥ì ì´ ìˆìŠµë‹ˆë‹¤:\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n- ê´€ì‹¬ì‚¬ ë¶„ë¦¬ê°€ ë” ì˜ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤: ë·° ëª¨ë¸ê³¼ ê°™ì€ ì¤‘ì¬ìëŠ” íŠ¹ì • ë·°ì— ì—°ê²°ë˜ë„ë¡ ì„¤ê³„ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— í•´ë‹¹ ë·°ì— ëŒ€í•´ ë§ì€ ì •ë³´ë¥¼ ì•Œê²Œ ë©ë‹ˆë‹¤. ë„ë©”ì¸ë³„ë¡œ ë¶„ë¦¬í•˜ë©´ ì„œë¹„ìŠ¤ê°€ ìì‹ ì˜ ë„ë©”ì¸ì— ëŒ€í•´ ë§ì€ ì§€ì‹ì„ ê°–ì§€ë§Œ, ë·°ì— ëŒ€í•´ì„œëŠ” ê±°ì˜ ë˜ëŠ” ì „í˜€ ì•Œì§€ ëª»í•©ë‹ˆë‹¤. ì´ê²ƒì€ ë‹¤ë¥¸ ë·° ëª¨ë¸ê³¼ ë‹¬ë¦¬ íŠ¹ì • ë·°ë¥¼ ê³ ë ¤í•˜ì—¬ ì„¤ê³„ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ë” ì´ë™ì„±ì´ ìˆìŠµë‹ˆë‹¤.\n- ë…¼ë¦¬ì ìœ¼ë¡œ ê´€ë ¨ëœ ì½”ë“œëŠ” ë…¼ë¦¬ì ìœ¼ë¡œ ê·¸ë£¹í™”ë©ë‹ˆë‹¤. Donutì„ ìƒì„±í•˜ê³  ì‚­ì œí•˜ëŠ” ë·° ê°ê°ì„ ê°€ì§€ëŠ” MVVM ì•±ì˜ ê²½ìš°, ê´€ë ¨ì„±ì´ ë†’ì€ ì´ ì½”ë“œë„ 2ê°œì˜ ë‹¤ë¥¸ ë·°ëª¨ë¸ì— ë“¤ì–´ê°€ê²Œ ë˜ì§€ë§Œ, MVSUì—ì„œëŠ” í•´ë‹¹ ì½”ë“œê°€ ë‹¨ì¼ DonutServiceì— ëª¨ë‘ ë“¤ì–´ê°€ ê´€ë ¨ëœ ì½”ë“œë¥¼ ìœ ì§€í•˜ê¸° ì‰½ê²Œ ë§Œë“­ë‹ˆë‹¤.\n- ê¸°ëŠ¥ì€ ë·° ê°„ì— ì‰½ê²Œ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„œë¹„ìŠ¤ ê¸°ëŠ¥ì€ í•œ ë·° ì´ìƒì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ëŠ” MVVMê³¼ëŠ” ë‹¬ë¦¬ ë·° ë‹¹ í•˜ë‚˜ì˜ ë·°ëª¨ë¸ì„ ê°€ì§€ê³  ìˆëŠ” ê²ƒê³¼ ëŒ€ë¦½ì ì…ë‹ˆë‹¤.\n- ë„ë©”ì¸ë³„ë¡œ ë¶„ë¦¬í•˜ë©´ SwiftUIì˜ ë·° êµ¬ì„± ì„¸ê³„ì—ì„œ boilerplateê°€ ì¤„ì–´ë“­ë‹ˆë‹¤. MVVMì´ë‚˜ VIPERì™€ ê°™ì€ íŒ¨í„´ì—ì„œ ê°œë°œìë“¤ì€ boilerplateë¡œ ì¸í•´ í•˜ìœ„ ë·°ë¥¼ ë§Œë“¤ê¸°ê°€ êº¼ë ¤ì§„ë‹¤. MVSUì—ì„œëŠ” ë·° ë‹¹ boilerplateê°€ ì•„ë‹Œ ë„ë©”ì¸ ë‹¹ boilerplateê°€ ìƒê¸°ê¸° ë•Œë¬¸ì— í•˜ìœ„ ë·°ë¡œ ì„¸ë¶„í™”í•˜ëŠ” ë‹¨ì ì´ ì—†ì–´ì§‘ë‹ˆë‹¤. ì´ê²ƒì€ SwiftUIê°€ ê±°ëŒ€í•œ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ ë¬¸ì œë¥¼ í•´ê²°í•œ ì£¼ìš” ì´ìœ ì´ë¯€ë¡œ ì•„í‚¤í…ì²˜ì—ì„œ í•˜ìœ„ ë·°ë¥¼ ê¶Œì¥í•´ì•¼ í•©ë‹ˆë‹¤.\n\në˜í•œ ì„œë¹„ìŠ¤ì— ëŒ€í•´ ë” ì•Œì•„ì•¼ í•  ì ì€ ìƒíƒœê°€ ì—†ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤ - ìƒíƒœëŠ” ì„œë¹„ìŠ¤ê°€ ì•„ë‹Œ ë·°ì— ì €ì¥ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ì´ì— ëŒ€í•œ ë” ìì„¸í•œ ë‚´ìš©ì€ Views ì„¹ì…˜ì—ì„œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.\n\n```js\n// ì£¼ì… ì „ëµì€ ë³¸ì¸ì—ê²Œ ë‹¬ë ¤ ìˆì§€ë§Œ, Factory (https://github.com/hmlongco/Factory)ì™€ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.\n\nimport Factory\n\nclass OrderService {\n    @Injected(\\.networkUtility) private var networkUtility\n    @Injected(\\.logUtility) private var logUtility\n\n    func createOrder(items: [ItemModel]) async throws -> OrderModel {\n        do {\n            let response = try networkUtility.perform(request: .createOrder(items: items))\n            return OrderModel(record: response.order)\n        } catch {\n            logUtility.log(type: .error, description: \"Order error occurred: \\(error.localizedDescription)\")\n            throw RuntimeError(\"ì£¼ë¬¸ ìƒì„±ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.\")\n        }\n    }\n}\n```\n\n## Views\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì–¸ê¸‰í•œ ëŒ€ë¡œ, MVSUëŠ” ë·° êµ¬ì„±ì„ ê¶Œì¥í•˜ì—¬ í° ë·°ë¥¼ ì‘ì€ ë·°ë¡œ ë‚˜ëˆ„ê³ , ê° ë·°ë¥¼ ê°€ëŠ ìˆê³  ì¢ê²Œ ì¤‘ì ì„ ë‘ì–´ ê³¼ê±°ì˜ ë°©ëŒ€í•œ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ ë¬¸ì œë¥¼ í”¼í•©ë‹ˆë‹¤.\n\nMVSUì—ì„œ ì„œë¹„ìŠ¤ëŠ” ìƒíƒœë¥¼ ìœ ì§€í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëŒ€ì‹  ë·°ê°€ ëª¨ë“  í•„ìš”í•œ ìƒíƒœë¥¼ ìœ ì§€í•©ë‹ˆë‹¤. ì´ëŠ” ëª‡ ê°€ì§€ ì´ìœ ë¡œ ì¸í•´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤:\n\n- ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬: ì–´ë–¤ ë©´ì—ì„œëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ ìƒíƒœëŠ” ë„ë©”ì¸ ë¬¸ì œê°€ ì•„ë‹ˆë¼ ë·° ë¬¸ì œì…ë‹ˆë‹¤. ë·°ì˜ ê´€ì‹¬ì‚¬ë¥¼ ë·° ë‚´ë¶€ì— ìœ ì§€í•¨ìœ¼ë¡œì¨ ë” ìœ ì§€ë³´ìˆ˜ ìš©ì´í•œ ì½”ë“œë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- í–¥ìƒëœ ê°€ìš©ì„±ê³¼ ë‹¨ìˆœì„±: ë°ì´í„°ë¥¼ ë·° ê³„ì¸µ êµ¬ì¡°ë¥¼ ìœ„ì•„ë˜ë¡œ ì „ë‹¬í•˜ëŠ” ê²ƒì€ ë·° ëª¨ë¸ê³¼ ê°™ì€ ì¤‘ê°„ ê³„ì¸µì„ ì²˜ë¦¬í•  ë•Œ í˜¼ë€ìŠ¤ëŸ¬ìš´ ë„ì „ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëŒ€ì¡°ì ìœ¼ë¡œ @Binding ë° @Environmentë¥¼ ì‚¬ìš©í•˜ë©´ ë§¤ìš° ê°„ë‹¨í•˜ê³ , ì´ì— ë”°ë¼ ê°€ìš©ì„±ì„ ì´‰ì§„í•©ë‹ˆë‹¤.\n- SwiftUI ê¸°ëŠ¥ì˜ ì‰¬ìš´ í™œìš©: ë·° ë‚´ë¶€ì— ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ê²ƒì€ ì• ë‹ˆë©”ì´ì…˜ê³¼ ê°™ì€ ê¸°ëŠ¥ì„ ì‰½ê²Œ í™œìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.\n\n```swift\nstruct OrderView: View {\n    @Injected(\\.orderService) private var orderService\n    @Injected(\\.paymentService) private var paymentService\n\n    let availableItems: [ItemModel]\n    @State private var itemsInCart: [ItemModel]\n    @State private var orderAwaitingPayment: OrderModel?\n    @State private var error: Error?\n\n    var body: some View {\n        VStack {\n            ForEach(availableItems) { availableItem in\n                AddItemToCartButton(availableItem) { item in\n                    itemsInCart.append(item)\n                }\n            }\n\n            Divider()\n\n            // \"AsyncButton\" ë·°ë¥¼ ë§Œë“œëŠ” ê²ƒì„ ê°•ë ¥íˆ ê¶Œì¥í•©ë‹ˆë‹¤: https://www.swiftbysundell.com/articles/building-an-async-swiftui-button/\n            AsyncButton(\"Create Order\") {\n                do {\n                    orderAwaitingPayment = await orderService.createOrder(items: itemsInCart)\n                } catch let orderError {\n                    error = orderError\n                }\n            }\n        }\n        .sheet(item: $orderAwaitingPayment) { order in\n            PaymentInfoView(order: order)\n            PaymentButton() {\n                await paymentService.createPayment(forOrder: order)\n                orderAwaitingPayment = nil\n            }\n        }\n        .errorAlert(error)\n    }\n}\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## ëª¨ë¸\n\nì´ ë¶€ë¶„ì€ íŒ¨í„´ ì¤‘ ê°€ì¥ ë…íŠ¹í•˜ì§€ ì•Šì€ ë¶€ë¶„ì…ë‹ˆë‹¤. ëª¨ë¸ì€ ë°ì´í„° ìœ í˜•ê³¼ í•„ìš”í•œ ëª¨ë“  ì§€ì†ì„± ë ˆì´ì–´(ì˜ˆ: Core Data, SwiftData, Realm ë“±)ë¥¼ í¬í•¨í•©ë‹ˆë‹¤. MVSUì—ì„œ SwiftUIì˜ ê¸°ëŠ¥ ì„¸íŠ¸ë¥¼ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë¯€ë¡œ ë·°ëŠ” SwiftUIì˜ í”„ë¡œí¼í‹° ë˜í¼(ì˜ˆ: @FetchRequest ë˜ëŠ” @Query)ë¥¼ í†µí•´ ëª¨ë¸ê³¼ ì§ì ‘ í†µì‹ í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\n\n# ê²°ë¡ \n\në‚´ ì˜ê²¬ìœ¼ë¡œëŠ” SwiftUIì˜ ë„ì…ì€ iOS ê°œë°œ ì˜ì—­ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ë³€í™” ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. SwiftUIëŠ” ê·¸ëƒ¥ ìƒˆë¡œìš´ UI í”„ë ˆì„ì›Œí¬ê°€ ì•„ë‹™ë‹ˆë‹¤. UIKitê³¼ëŠ” ë§¤ìš° ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ì•±ì„ êµ¬ì¶•í•˜ëŠ” ì „ì²´ ë°©ì‹ì— ëŒ€í•´ ë‹¤ì‹œ ìƒê°í•˜ë„ë¡ ìš”êµ¬í•œë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. ì•„ë§ˆë„ iOS ì»¤ë®¤ë‹ˆí‹°ê°€ ì²˜ìŒë¶€í„° ì•„í‚¤í…ì²˜ì  ê²°ì •ì„ ì™œ ë‚´ë¦¬ëŠ”ì§€ì— ëŒ€í•´ ë‹¤ì‹œ í•œë²ˆ ê³ ë¯¼í•  ë•Œê°€ ë˜ì—ˆì„ì§€ë„ ëª¨ë¦…ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\në””ìì¸ íŒ¨í„´ì„ ì„ íƒí•˜ê³  ê²°êµ­ ë§Œë“œëŠ” ê³¼ì •ì„ ê±°ì¹˜ë©° ì™œ ì²˜ìŒë¶€í„° ì¼ë°˜ì ì¸ UIKit ë””ìì¸ íŒ¨í„´ì„ ì‚¬ìš©í–ˆëŠ”ì§€ ê¹¨ë‹¬ì•˜ì–´ìš”. ì œ ì˜ê²¬ìœ¼ë¡œëŠ” ëŒ€ë¶€ë¶„ì˜ ì•±ì—ì„œ ë‹¬ì„±í•œ ë³µì¡ì„± ìˆ˜ì¤€ì— UIKitì´ ì˜ ë§ì§€ ì•Šì•„ì„œ, ì´ë¡œ ì¸í•´ ìš°ë¦¬ëŠ” íŠ¹ë³„íˆ ì„¤ê³„ëœ ì•„í‚¤í…ì²˜ íŒ¨í„´ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•´ì•¼ í–ˆì–´ìš”. SwiftUIëŠ” ê°™ì€ ë¬¸ì œê°€ ì—†ì–´ì„œ ê·¸ëŸ° í•´ê²°ì±…ì´ í•„ìš”í•˜ì§€ ì•Šì•„ìš”.\n\nì´ ìƒˆë¡œìš´ í™˜ê²½ì€ ë‘ë µê³  í¥ë¯¸ë¡œìš´ ë§Œí¼ ìƒˆë¡œìš´ ë„ì „ì´ì—ìš”. ì´ëŠ” ë¶ˆê°€í”¼í•˜ê²Œ UIKit ì„¸ê³„ì—ì„œ ì—°ë§ˆí•´ì˜¨ ì§€ì‹ê³¼ ê¸°ìˆ  ì¼ë¶€ê°€ ì ìš©ë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ì˜ˆìš”. ë˜í•œ, ìš°ë¦¬ê°€ ë‚˜ë§Œì˜ ë°©í–¥ì„ ê°œì²™í•˜ê³ , ì•„ë§ˆë„ ë” ì´ìƒ UIKit ê°œë°œì˜ ìµœì•… ë¶€ë¶„ë“¤ê³¼ ë‹¤ì‹œëŠ” ì‹¸ìš¸ í•„ìš”ê°€ ì—†ì„ì§€ë„ ëª¨ë¥¸ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•´ìš”. ì €ëŠ” ì´ ê¸¸ì„ ê³„ì† ë‚˜ì•„ê°€ë©° ì•Œë ¤ì§€ì§€ ì•Šì€ ì„¸ê³„ë¥¼ íƒí—˜í•˜ëŠ” ê²ƒì— í¥ë¯¸ë¥¼ ëŠë¼ê³  ìˆì–´ìš”.\n","ogImage":{"url":"/assets/img/2024-06-22-ChoosingaDesignPatternforyourSwiftUIApp_0.png"},"coverImage":"/assets/img/2024-06-22-ChoosingaDesignPatternforyourSwiftUIApp_0.png","tag":["Tech"],"readingTime":15},{"title":"iOS ì•±ì—ì„œ ì½”ë””ë„¤ì´í„° íŒ¨í„´ ì‚¬ìš©í•˜ëŠ” ë°©ë²•","description":"","date":"2024-06-22 23:06","slug":"2024-06-22-CoordinatorPatterniniOSApp","content":"\n# ì½”ë””ë„¤ì´í„°ë€ ë¬´ì—‡ì¸ê°€ìš”?\n\niOS ê°œë°œì—ì„œ ì½”ë””ë„¤ì´í„°ëŠ” ì•±ì˜ íƒìƒ‰ íë¦„ì„ ì²˜ë¦¬í•˜ëŠ” ê°ì²´ì…ë‹ˆë‹¤. ë•Œë¡œëŠ” \"í”Œë¡œìš° ì»¨íŠ¸ë¡¤ëŸ¬\" ë˜ëŠ” \"ë¼ìš°í„°\"ë¼ê³ ë„ í•©ë‹ˆë‹¤.\n\nì½”ë””ë„¤ì´í„°ëŠ” ë·° ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì–´ë–»ê²Œ í‘œì‹œë˜ê³ , í‘¸ì‹œë˜ë©° í•´ì œë˜ëŠ”ì§€, ì•±ì˜ ë‹¤ë¥¸ ì„¹ì…˜ ë° ë·°ê°€ ì–´ë–»ê²Œ ì—°ê²°ë˜ëŠ”ì§€ì— ëŒ€í•œ ë¡œì§ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\n\nì½”ë””ë„¤ì´í„°ëŠ” ë³´í†µ ì •ì˜í•˜ëŠ” í´ë˜ìŠ¤ì´ë©°, ë·° ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ìƒì„±, í‘œì‹œ, í•´ì œí•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œì™€ í•¨ê»˜ ì •ì˜ë©ë‹ˆë‹¤. ì•±ì˜ íë¦„ì´ ë³µì¡í•œ ê²½ìš°ì—ëŠ” ë‹¤ë¥¸ ì½”ë””ë„¤ì´í„°ì™€ í•„ìš”í•œ ê²½ìš° í†µì‹ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n# MVVM+C íŒ¨í„´ì´ë€ ë¬´ì—‡ì¸ê°€ìš”?\n\nì¼ë°˜ì ì¸ iOS ê°œë°œ(ì˜ˆ: MVC íŒ¨í„´)ì—ì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë„¤ë¹„ê²Œì´ì…˜ì˜ ì±…ì„ì´ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ì£¼ì–´ì§‘ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë” ë³µì¡í•œ í”Œë¡œìš°(ì˜ˆ: ë·° ì»¨íŠ¸ë¡¤ëŸ¬ ê°„ì˜ ê°•í•œ ê²°í•©, ì½”ë“œ ì¬ì‚¬ìš©ì„±ì˜ ë¶€ì¡± ë° í…ŒìŠ¤íŠ¸ ë¬¸ì œ ë“±)ì—ì„œ ë§ì€ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nMVVM+C(ê°€ë” \"Coordinator íŒ¨í„´\"ì´ë¼ê³ ë„ ë¶€ë¦…ë‹ˆë‹¤)ì€ ì•± ë‚´ì—ì„œ ì±…ì„ì„ ë¶„ë¦¬í•˜ëŠ” ê²ƒì„ ì´‰ì§„í•˜ëŠ” ë””ìì¸ íŒ¨í„´ì…ë‹ˆë‹¤. íŠ¹íˆ ë„¤ë¹„ê²Œì´ì…˜ ë° í”Œë¡œìš° ì œì–´ì— ìˆì–´ì„œ ì±…ì„ì„ ë¶„ë¦¬í•˜ë„ë¡ ê¶Œì¥í•©ë‹ˆë‹¤.\n\nê°„ë‹¨íˆ ì„¤ëª…í•˜ë©´, ì´ íŒ¨í„´ì—ì„œ ViewModelì€ ë°ì´í„°ë¥¼ UI ìš”ì†Œì— ë°”ì¸ë”©í•˜ê³  ë°ì´í„°ê°€ ë³€ê²½ë˜ëŠ” ì¦‰ì‹œ UIë¥¼ ë³€ê²½í•©ë‹ˆë‹¤. ViewControllerì˜ ì±…ì„ì€ UIì—ì„œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ViewModelì— ì•Œë¦¬ëŠ” ê²ƒì´ë¯€ë¡œ ViewModelì´ í•´ë‹¹ ì´ë²¤íŠ¸ì— ì ì ˆíˆ ë°˜ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  Coordinatorê°€ ë„¤ë¹„ê²Œì´ì…˜ ë¡œì§ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì´ íŒ¨í„´ì— ëŒ€í•œ í›Œë¥­í•œ ê¸°ì‚¬ê°€ ìˆì–´ìš”. ê¼­ ì½ì–´ë³´ì‹œê¸¸ ì¶”ì²œí•©ë‹ˆë‹¤!\n\n## ì½”ë””ë„¤ì´í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¥ì ì€ ë¬´ì—‡ì¸ê°€ìš”?\n\n- ê´€ì‹¬ì‚¬ ë¶„ë¦¬ (ê° ëª¨ë“ˆì´ ë‹¨ì¼ ì±…ì„ì„ ê°–ìŠµë‹ˆë‹¤)\n- ê±°ëŒ€í•œ ViewControllersì™€ ViewModels í”¼í•˜ê¸°\n- UIë¥¼ ê°€ëŠ¥í•œ ê°€ì¥ ë¤í•˜ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ ìœ ì§€\n- RX-Swift, Combineê³¼ ê°™ì€ ë°˜ì‘ì ì¸ í”„ë ˆì„ì›Œí¬ì™€ ë›°ì–´ë‚œ í˜¸í™˜ì„±ì„ ë³´ì—¬ì¤ë‹ˆë‹¤!\n\n## ì½”ë“œ ì˜ˆì‹œ\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì—¬ê¸°ì—ëŠ” â€œMainCoordinatorâ€ê°€ ë„¤ë¹„ê²Œì´ì…˜ ìŠ¤íƒì— â€œViewControllerâ€ë¥¼ í‘¸ì‹œí•˜ëŠ” ê°„ë‹¨í•œ ì˜ˆì œê°€ ìˆìŠµë‹ˆë‹¤.\n\nâ€œSecondViewControllerâ€ë¡œ ì´ë™í•˜ë ¤ë©´ í•´ë‹¹í•˜ëŠ” ì½”ë””ë„¤ì´í„°ì—ì„œ ë„¤ë¹„ê²Œì´ì…˜ì„ ì²˜ë¦¬í•˜ëŠ” â€œgoToSecondVCâ€ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ë©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ìì²´ì ìœ¼ë¡œ ë„¤ë¹„ê²Œì´ì…˜ì„ ì²˜ë¦¬í•  í•„ìš”ê°€ ì—†ì–´ì§‘ë‹ˆë‹¤.\n\n```js\n// ë¨¼ì €, ì½”ë””ë„¤ì´í„°ë¥¼ ìœ„í•œ í”„ë¡œí† ì½œì„ ì •ì˜í•´ë´…ì‹œë‹¤\n\nprotocol Coordinator {\n    var childCoordinators: [Coordinator] { get set }\n    var navigationController: UINavigationController { get set }\n\n    func start()\n}\n\n\n// ê·¸ ë‹¤ìŒ, ì½”ë””ë„¤ì´í„°(MainCoordinator)ë¥¼ ìƒì„±í•´ë´…ì‹œë‹¤\n\nclass MainCoordinator: Coordinator {\n    var childCoordinators = [Coordinator]()\n    var navigationController: UINavigationController\n\n    init(navigationController: UINavigationController) {\n        self.navigationController = navigationController\n    }\n\n    func start() {\n        let vc = ViewController.instantiate()\n        vc.coordinator = self\n        navigationController.pushViewController(vc, animated: false)\n    }\n\n    func goToSecondVC() {\n        let secondVC = SecondViewController.instantiate()\n        secondVC.coordinator = self\n        navigationController.pushViewController(secondVC, animated: true)\n    }\n}\n\n// ë§ˆì§€ë§‰ìœ¼ë¡œ, \"AppDelegate\"ë‚˜ \"SceneDelegate\"ì—ì„œ\n// ë©”ì¸ ì½”ë””ë„¤ì´í„°ë¥¼ ì¸ìŠ¤í„´ìŠ¤í™”í•˜ê³  ì‹œì‘í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤\n\nvar mainCoordinator: MainCoordinator?\n\nfunc application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {\n    let navController = UINavigationController()\n    mainCoordinator = MainCoordinator(navigationController: navController)\n    mainCoordinator?.start()\n\n    window = UIWindow(frame: UIScreen.main.bounds)\n    window?.rootViewController = navController\n    window?.makeKeyAndVisible()\n    return true\n}\n```\n\nì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n![Coordinator Pattern in iOS App](/assets/img/2024-06-22-CoordinatorPatterniniOSApp_0.png)\n","ogImage":{"url":"/assets/img/2024-06-22-CoordinatorPatterniniOSApp_0.png"},"coverImage":"/assets/img/2024-06-22-CoordinatorPatterniniOSApp_0.png","tag":["Tech"],"readingTime":4},{"title":"SwiftUIì—ì„œ MainActorë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•","description":"","date":"2024-06-22 23:05","slug":"2024-06-22-MainActorSwiftUI","content":"\nì•ˆë…•í•˜ì„¸ìš” ì—¬ëŸ¬ë¶„, ì´ ê¸°ì‚¬ì—ì„œëŠ” @MainActorë¥¼ ì‚¬ìš©í•˜ì—¬ Swift ë° SwiftUIì—ì„œ ì£¼ ìŠ¤ë ˆë“œì—ì„œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ë…¼ì˜í•  ê²ƒì…ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-22-MainActorSwiftUI_0.png)\n\nSwiftì—ì„œ @MainActorë¥¼ ì†Œê°œí•˜ë©´ ë™ì‹œì„± ê´€ë¦¬ì—ì„œ ì¤‘ìš”í•œ ë‹¨ê³„ê°€ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤. ì´ëŠ” ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ì‘ì—…ì„ ì•ˆì „í•˜ê³  ì›í™œí•˜ë©° ì´í•´í•˜ê¸° ì‰½ê²Œ ë³´ì¥í•˜ëŠ” ê°•ë ¥í•˜ê³  ì§ê´€ì ì¸ ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•©ë‹ˆë‹¤.\n\nSwift 5.5 ì´ìƒì—ì„œ @MainActor ì†ì„±ì€ async/await ë™ì‹œì„± ëª¨ë¸ì—ì„œ ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ ì½”ë“œì˜ íŠ¹ì • ë¶€ë¶„ì„ ì£¼ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰í•˜ë„ë¡ ìë™ìœ¼ë¡œ ì¡°ì •í•˜ì—¬ ë™ì‹œì„± í”„ë¡œê·¸ë˜ë°ì„ ë” ì ‘ê·¼ ê°€ëŠ¥í•˜ê³  ì•ˆì „í•˜ë©° ì˜¤ë¥˜ ë°œìƒ ê°€ëŠ¥ì„±ì´ ì ë„ë¡ ë§Œë“­ë‹ˆë‹¤. UIKit ë° SwiftUIëŠ” ë°ì´í„° ë¬¸ì œë¥¼ ì˜ˆë°©í•˜ê³  ì¢‹ì€ ì‚¬ìš©ì ê²½í—˜ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ì´ëŸ¬í•œ ì‘ì—…ì´ ì£¼ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. UI ê´€ë ¨ ì‘ì—…ì— ëŒ€í•´ ë§¤ìš° ì¤‘ìš”í•˜ë¯€ë¡œ ì£¼ìš”í•˜ê²Œ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nê¸€ë¡œë²Œ ì•¡í„°ì˜ ì£¼ìš” ëª©í‘œëŠ” ì£¼ ìŠ¤ë ˆë“œì— ì´ˆì ì„ ë§ì¶”ê³  ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ì‘ì—…ì„ ê´€ë¦¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. MainActorë¼ëŠ” ê¸€ë¡œë²Œ ì•¡í„°ëŠ” ì£¼ ìŠ¤ë ˆë“œë¥¼ ë‚˜íƒ€ë‚´ë©° ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì— ë¹ ë¥¸ ë³€ê²½ì´ í•„ìš”í•œ ìƒí™©ì—ì„œ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤.\n\nì£¼ ì•¡í„°ëŠ” Dispatch ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ëŠ” ì‹œìŠ¤í…œì—ì„œ ê¸°ë³¸ ë™ì‹œì„± ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ ì‘ë™í•˜ë©° ì£¼ ë””ìŠ¤íŒ¨ì¹˜ ëŒ€ê¸°ì—´(DispatchQueue.main)ì„ íŠ¹ìˆ˜ executorë¡œ ë˜í•‘í•©ë‹ˆë‹¤.\n\n## ì£¼ ìŠ¤ë ˆë“œì—ì„œ ì‘ì—…í•˜ê¸°\n\nì£¼ ìŠ¤ë ˆë“œëŠ” UI ê´€ë ¨ ë³€ê²½ì´ ë°˜ë“œì‹œ ë°œìƒí•´ì•¼ í•˜ëŠ” íŠ¹ë³„í•œ ìŠ¤ë ˆë“œë¡œ ê°„ì£¼ë©ë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ API ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ê±°ë‚˜ íŒŒì¼ì„ ì••ì¶•í•˜ê±°ë‚˜ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•˜ëŠ” ê²ƒê³¼ ê°™ì€ ì‹œê°„ì´ ë§ì´ ì†Œìš”ë˜ëŠ” ì‘ì—…ì´ ìˆëŠ” ê²½ìš° ì´ ì‘ì—…ì„ ë³„ë„ì˜ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰í•œ ë‹¤ìŒ ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ ì—…ë°ì´íŠ¸í•˜ê¸° ìœ„í•´ ë‹¤ì‹œ ì£¼ ìŠ¤ë ˆë“œë¡œ ëŒì•„ê°€ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nXcodeì—ì„œ UIë¥¼ ì—…ë°ì´íŠ¸í•  ë•Œ ë³€ìˆ˜ì˜ ê°’ì„ ë³€ê²½í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ì—†ëŠ” ê²½ìš° ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤. ë”°ë¼ì„œ ì£¼ ìŠ¤ë ˆë“œì—ì„œ ì‘ì—…ì„ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.\n\n![Main Actor in SwiftUI](/assets/img/2024-06-22-MainActorSwiftUI_1.png)\n\nì£¼ ìŠ¤ë ˆë“œì—ì„œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ì „í†µì ì¸ ë°©ë²•ì€ DispatchQueue.main.asyncë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n```js\nDispatchQueue.main.async {\n  // ì—¬ê¸°ì„œ UI ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n}\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nê·¸ëŸ¬ë‚˜ Swift ë™ì‹œì„±ì„ ì‚¬ìš©í•  ê²½ìš°, ë‹¤ë¥¸ @MainActor í´ë¡œì €ë¥¼ ë™ê¸°í™”í•˜ê±°ë‚˜ MainActor.run() ë©”ì„œë“œ ëŒ€ì‹  ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ì„ í˜¸í•˜ëŠ” ì„¸ ê°€ì§€ ë‹¤ë¥¸ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.\n\n```js\n// (1)\nTask.detached { @MainActor in\n  // ì—¬ê¸°ì„œ UI ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n}\n\n// (2)\nTask { @MainActor [weak self] in\n  // ì—¬ê¸°ì„œ UI ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n}\n\n// (3)\nTask {\n  await MainActor.run { [weak self] in\n    // ì—¬ê¸°ì„œ UI ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n  }\n}\n```\n\nìë™ìœ¼ë¡œ ì£¼ ìŠ¤ë ˆë“œì—ì„œ ì‘ì—…í•˜ê¸°\n\n@MainActorì˜ ê°€ì¥ ì¸ìƒì ì¸ ê¸°ëŠ¥ì€ ì£¼ë¡œ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ì¼ë°˜ì ìœ¼ë¡œ ìš°ë¦¬ê°€ ì¶”ê°€ì ì¸ ì‘ì—…ì„ ìˆ˜í–‰í•  í•„ìš” ì—†ì´ í•¨ìˆ˜ë‚˜ ëª¨ë“  ë³€ìˆ˜ë¥¼ ì£¼ ìŠ¤ë ˆë“œì—ì„œ ìë™ìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì…ë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ì»´íŒŒì¼ëŸ¬ê°€ ìë™ìœ¼ë¡œ ì‘ì—…ì„ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ìˆ˜ë™ìœ¼ë¡œ ì£¼ ìŠ¤ë ˆë“œì— ì…ë ¥í•˜ê³  ì‘ì—…ì„ ìˆ˜í–‰í•  í•„ìš”ê°€ ì—†ì–´ì¡ŒìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì‚¬ì‹¤ í´ë˜ìŠ¤, êµ¬ì¡°ì²´, í•¨ìˆ˜ ë˜ëŠ” ë³€ìˆ˜ì— @MainActor ì„ ì–¸ì„ ì¶”ê°€í•˜ë©´ Swift ì»´íŒŒì¼ëŸ¬ì—ê²Œ \"ì´ ì½”ë“œê°€ ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰ë˜ë„ë¡ í•´ì£¼ì„¸ìš”!\" ë¼ê³  ë§í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ íŠ¹íˆ UI ì—…ë°ì´íŠ¸, ì´ë²¤íŠ¸ ì²˜ë¦¬ ë° ë©”ì¸ ìŠ¤ë ˆë“œì— ì˜ì¡´í•˜ëŠ” APIì™€ ìƒí˜¸ ì‘ìš©í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.\n\nMainActorëŠ” íŠ¹ë³„í•œ ì†ì„±ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆìœ¼ë©° í”„ë¡œí¼í‹° ë˜í¼ ìœ í˜•ì´ë‚˜ ê²°ê³¼ ë¹Œë” ìœ í˜•ê³¼ ìœ ì‚¬í•©ë‹ˆë‹¤. @MainActorë¥¼ ì‚¬ìš©í•˜ì—¬ ì„ ì–¸ì´ ë©”ì¸ ì•¡í„°ì—ì„œ ê²©ë¦¬ë˜ë„ë¡ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê²½ìš° ì¼ë°˜ì ì¸ ì•¡í„° ê²©ë¦¬ ì œì•½ì´ ì ìš©ë©ë‹ˆë‹¤: ë©”ì¸ ì•¡í„°ë¡œ ì •ì˜ëœ êµ¬ì¡°ì²´ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ëŠ” ë‹¤ë¥¸ ë©”ì¸ ì•¡í„°ì—ì„œ ë™ê¸°í™”ë  ìˆ˜ ìˆìœ¼ë©° ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì•¡ì„¸ìŠ¤í•´ì•¼ í•©ë‹ˆë‹¤.\n\n```js\n@Observable\nclass LoginViewModel {\n    @MainActor var showButton = false\n\n    @MainActor func showLoginButton() {\n        showButton = true\n    }\n\n    func hideLoginButton() {\n        Task {\n            await MainActor.run {\n                showButton = false\n            }\n        }\n    }\n\n    func printButtonValue() async {\n        print(showButton) // ì—ëŸ¬ ì—†ìŒ, 'await'ìœ¼ë¡œ í‘œì‹œë˜ì§€ ì•ŠìŒ\n        print(await showButton) // ì—ëŸ¬ ì—†ìŒ\n    }\n}\n```\n\në˜ëŠ” í´ë˜ìŠ¤ë¥¼ ì§ì ‘ í‘œì‹œí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n```js\n@MainActor\nclass NewWeatherViewModel: ObservableObject {\n    @Published var currentTemperature: Double = -5.2\n    @Published var city: String = \"ì‹œë°”ìŠ¤\"\n    @Published var isSnowing: Bool = false\n    @Published var isRaining = false\n}\n```\n\n`@MainActor`ìœ¼ë¡œ ì„ ì–¸ì„ í‘œì‹œí•˜ë©´ ì»´íŒŒì¼ëŸ¬ì—ê²Œ ì´ ì‘ì—…ì´ ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ í˜¸ì¶œë˜ì–´ì•¼ í•˜ë©°, ë‹¤ë¥¸ ì½”ë“œì—ì„œ ë™ì‹œì„±ì„ ì¸ì‹í•˜ë„ë¡ ì´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë¼ê³  ì§€ì‹œí•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë§ì€ ì½”ë“œê°€ ë™ì‹œì„±ì— ëŒ€í•œ ì¸ì‹ì´ ë¶€ì¡±í•˜ë©°, @MainActorëŠ” í˜„ì¬ ì´ëŸ¬í•œ ê²½ìš°ì— ì•„ë¬´ê²ƒë„ ìˆ˜í–‰í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì™œëƒí•˜ë©´ ê·¸ë ‡ê²Œ í•œë‹¤ë©´ ê³¼ë„í•œ ê²½ê³ ê°€ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì‹¤ì œë¡œ ì•ˆì „í•œ ê²½ìš°ì—ë„ ì‹¬ì§€ì–´ ìƒí™©ì ìœ¼ë¡œ ì•ˆì „í•˜ë”ë¼ë„.\n\nì˜¤ë˜ëœ ìŠ¤íƒ€ì¼ì˜ ì™„ë£Œ ì²˜ë¦¬ê¸° ë‚´ì—ì„œ @MainActor ì½”ë“œë¥¼ í˜¸ì¶œí•˜ê³  ìˆë‹¤ë©´, í˜„ì¬ ë©”ì¸ ìŠ¤ë ˆë“œë¡œ ëª…ì‹œì ìœ¼ë¡œ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ê°€ëŠ¥í•˜ë©´ ì™„ë£Œ ì²˜ë¦¬ê¸°ë¥¼ ë¹„ë™ê¸° í•¨ìˆ˜ë¡œ ë³€í™˜í•˜ê±°ë‚˜ ì™„ë£Œ ì²˜ë¦¬ê¸°ì— @Sendable ë˜ëŠ” @MainActor ì£¼ì„ì„ ì¶”ê°€í•˜ì‹­ì‹œì˜¤.\n\n## ì´ ëª¨ë“  ê²ƒì„ ìš”ì•½í•˜ë©´\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì£¼ë¡œ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ì‘ì—…ê³¼ ê´€ë ¨ì´ ìˆì§€ë§Œ, @MainActorì˜ ì˜í–¥ì€ iOS ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê¸°ë³¸ ì•„í‚¤í…ì²˜ì—ë„ ë¯¸ì¹˜ëŠ” ê²ƒì´ì£ . ì´ ê¸°ëŠ¥ì€ ë” ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  ì•ˆì „í•œ ë™ì‹œì„± ëª¨ë¸ì„ ì œê³µí•˜ì—¬ ë³´ë‹¤ ê²¬ê³ í•˜ê³  ì§€ì† ê°€ëŠ¥í•œ ì½”ë“œ ì‘ì„±ì„ ì´‰ì§„í•©ë‹ˆë‹¤. MainActorë¥¼ ì‚¬ìš©í•  ë•Œ ë‹¤ìŒ ì‚¬í•­ì— ì£¼ì˜í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤:\n\n- ì„ íƒì  ì‚¬ìš©: ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ë˜ëŠ” ì£¼ ìŠ¤ë ˆë“œë¥¼ í™œìš©í•˜ëŠ” ë‹¤ë¥¸ APIì™€ ìƒí˜¸ ì‘ìš©ì´ í•„ìš”í•œ ì‘ì—…ì— MainActorë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.\n- ì„±ëŠ¥: ì£¼ ìŠ¤ë ˆë“œ ê´€ë¦¬ë¥¼ ê°„ì†Œí™”í•˜ê³  ë¶ˆí•„ìš”í•œ ì£¼ ìŠ¤ë ˆë“œ ì‘ì—…ì„ í”¼í•˜ë©´ì„œ ì‘ìš© í”„ë¡œê·¸ë¨ ì„±ëŠ¥ì„ ê³ ë ¤í•˜ì„¸ìš”.\n- ë‹¤ë¥¸ ë™ì‹œì„± ë„êµ¬ì™€ í†µí•©: @MainActorë¥¼ Swiftì˜ ë‹¤ì–‘í•œ ë™ì‹œì„± ê¸°ëŠ¥ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ í¬ê´„ì ì´ê³  ì•ˆì „í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•˜ì„¸ìš”. MainActorê°€ iOS ê°œë°œ í”„ë¡œì„¸ìŠ¤ì— ê°€ì ¸ë‹¤ì£¼ëŠ” í˜ì‹ ì€ ê°œë°œìë“¤ì—ê²Œ ë” ì•ˆì „í•˜ê³  ê¹¨ë—í•˜ë©° íš¨ìœ¨ì ì¸ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆëŠ” ê¸°íšŒë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ ë™ì‹œì„±ì´ ê´€ë¦¬ ê°€ëŠ¥í•˜ê³  ê²¬ê³ í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì•„í‚¤í…ì²˜ì— ê¸°ë³¸ì ì¸ Swift ê°œë°œì˜ ìƒˆ ì‹œëŒ€ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.\n\nì´ìƒìœ¼ë¡œ Main actorì— ëŒ€í•´ ë§ì”€ë“œë ¸ìŠµë‹ˆë‹¤. ë‹¤ìŒ ê¸°ì‚¬ê°€ ë‚˜ì˜¬ ë•Œê¹Œì§€ ì¦ê±°ìš´ ì½”ë”© ë˜ì„¸ìš”!\n","ogImage":{"url":"/assets/img/2024-06-22-MainActorSwiftUI_0.png"},"coverImage":"/assets/img/2024-06-22-MainActorSwiftUI_0.png","tag":["Tech"],"readingTime":6}],"page":"31","totalPageCount":120,"totalPageGroupCount":6,"lastPageGroup":20,"currentPageGroup":1},"__N_SSG":true}