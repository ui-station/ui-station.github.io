{"pageProps":{"post":{"title":"윈도우 서버 2022에 KB5034439을 설치하려고 할 때 발생하는 0x80070643 오류 해결 방법","description":"","date":"2024-05-23 15:25","slug":"2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022","content":"\n안녕하세요, 지난주 발생한 문제에 대해 이야기하려고 해요.\n\nWindows Server 2022에서 Windows 업데이트를 확인했을 때 다음과 같은 오류가 있었어요:\n\n![에러 이미지](/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_0.png)\n\n그리고 KB5034439를 설치하는 동안 오류가 발생했음을 확인했는데, 해결해야 할 여러 제안이 있었지만 문제를 해결하지 못했어요.\n\n<!-- ui-station 사각형 -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n그리고 마침내 그 문제를 해결할 수 있는 올바른 참조를 찾았어요. 이제 아래 단계를 따라주세요.\n\n# 복구 파티션을 수동으로 크기 조정하기\n\n- 관리자 권한으로 명령 프롬프트 창(cmd)을 엽니다.\n\n![이미지](/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_1.png)\n\n<!-- ui-station 사각형 -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n2. WinRE가 설치된 경우, WinRE 디렉토리 경로가 있는 \"Windows RE 위치\"가 있어야 합니다. WinRE 상태를 확인하려면 reagentc /info를 실행하세요. 예시: \"Windows RE 위치:\n\n\\\\?\\GLOBALROOT\\device\\harddisk0\\partition4\\Recovery\\WindowsRE\n\n![이미지](/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_2.png)\n\n3. WinRE 비활성화를 위해 reagentc /disable를 실행하세요\"\n\n<!-- ui-station 사각형 -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n![Error Screenshot](/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_3.png)\n\n4. Shrink the OS partition and prepare the disk for a new recovery partition.\n   a. To shrink the OS, run diskpart\n\n![Error Screenshot](/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_4.png)\n\nb. Run list disk\n\n<!-- ui-station 사각형 -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n![Error message](/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_5.png)\n\nc. To select the OS disk, run `sel disk OS disk index`. This should be the same disk index as WinRE.\n\n![Error message](/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_6.png)\n\nd. To check the partition under the OS disk and find the OS partition, run `list part`\n\n<!-- ui-station 사각형 -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n![Error Image 1](/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_7.png)\n\ne. To select the OS partition, run `sel part OS partition index`\n\n![Error Image 2](/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_8.png)\n\nf. Run `shrink desired=250 minimum=250`\n\n<!-- ui-station 사각형 -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n![Error Screenshot 9](/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_9.png)\n\ng. To select the WinRE partition, run `sel part WinRE partition index`\n\n![Error Screenshot 10](/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_10.png)\n\nh. To delete the WinRE partition, run `delete partition override`\n\n<!-- ui-station 사각형 -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n![이미지](/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_11.png)\n\n5. 새 복구 파티션을 생성합니다.\n\na. 먼저, 디스크 파티션 스타일이 GUID Partition Table (GPT) 또는 Master Boot Record (MBR)인지 확인합니다. 이를 확인하려면 list disk를 실행합니다. \"Gpt\" 열에 별표(_)가 있는지 확인합니다. 별표(_)가 있는 경우 드라이브가 GPT이고, 그렇지 않으면 MBR입니다.\n\n![이미지](/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_12.png)\n\n<!-- ui-station 사각형 -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n1. GPT 디스크인 경우, create partition primary id=de94bba4-06d1-4d40-a16a-bfd50179d6ac 명령을 실행한 다음 gpt attributes =0x8000000000000001 명령을 실행하세요.\n\n![image](/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_13.png)\n\n2. MBR 디스크인 경우, create partition primary id=27 명령을 실행하세요.\n\n3. 파티션을 포맷하려면, format quick fs=ntfs label=\"Windows RE tools\" 명령을 실행하세요.\n\n<!-- ui-station 사각형 -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n<img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_14.png\" />\n\n6. To confirm that the WinRE partition is created, run `list vol`\n\n<img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_15.png\" />\n\n7. To exit from diskpart, run `exit`\n\n<!-- ui-station 사각형 -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n![Error Image 1](/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_16.png)\n\n8. To re-enable WinRE, run `reagentc /enable`\n\n![Error Image 2](/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_17.png)\n\n9. To confirm where WinRE is installed, run `reagentc /info`\n\n<!-- ui-station 사각형 -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n<img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_18.png\" />\n\n알겠어요, 프로세스가 완료되었습니다. 이제 Windows 업데이트를 다시 실행하고 성공했는지 확인해보세요.\n\n<img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_19.png\" />\n\n이게 도움이 되기를 바라며, 행운을 빕니다.\n\n<!-- ui-station 사각형 -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n참고문헌:\n","ogImage":{"url":"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_0.png"},"coverImage":"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_0.png","tag":["Tech"],"readingTime":8},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<p>안녕하세요, 지난주 발생한 문제에 대해 이야기하려고 해요.</p>\n<p>Windows Server 2022에서 Windows 업데이트를 확인했을 때 다음과 같은 오류가 있었어요:</p>\n<p><img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_0.png\" alt=\"에러 이미지\"></p>\n<p>그리고 KB5034439를 설치하는 동안 오류가 발생했음을 확인했는데, 해결해야 할 여러 제안이 있었지만 문제를 해결하지 못했어요.</p>\n<p></p>\n<p>그리고 마침내 그 문제를 해결할 수 있는 올바른 참조를 찾았어요. 이제 아래 단계를 따라주세요.</p>\n<h1>복구 파티션을 수동으로 크기 조정하기</h1>\n<ul>\n<li>관리자 권한으로 명령 프롬프트 창(cmd)을 엽니다.</li>\n</ul>\n<p><img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_1.png\" alt=\"이미지\"></p>\n<p></p>\n<ol start=\"2\">\n<li>WinRE가 설치된 경우, WinRE 디렉토리 경로가 있는 \"Windows RE 위치\"가 있어야 합니다. WinRE 상태를 확인하려면 reagentc /info를 실행하세요. 예시: \"Windows RE 위치:</li>\n</ol>\n<p>\\?\\GLOBALROOT\\device\\harddisk0\\partition4\\Recovery\\WindowsRE</p>\n<p><img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_2.png\" alt=\"이미지\"></p>\n<ol start=\"3\">\n<li>WinRE 비활성화를 위해 reagentc /disable를 실행하세요\"</li>\n</ol>\n<p></p>\n<p><img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_3.png\" alt=\"Error Screenshot\"></p>\n<ol start=\"4\">\n<li>Shrink the OS partition and prepare the disk for a new recovery partition.\na. To shrink the OS, run diskpart</li>\n</ol>\n<p><img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_4.png\" alt=\"Error Screenshot\"></p>\n<p>b. Run list disk</p>\n<p></p>\n<p><img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_5.png\" alt=\"Error message\"></p>\n<p>c. To select the OS disk, run <code>sel disk OS disk index</code>. This should be the same disk index as WinRE.</p>\n<p><img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_6.png\" alt=\"Error message\"></p>\n<p>d. To check the partition under the OS disk and find the OS partition, run <code>list part</code></p>\n<p></p>\n<p><img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_7.png\" alt=\"Error Image 1\"></p>\n<p>e. To select the OS partition, run <code>sel part OS partition index</code></p>\n<p><img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_8.png\" alt=\"Error Image 2\"></p>\n<p>f. Run <code>shrink desired=250 minimum=250</code></p>\n<p></p>\n<p><img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_9.png\" alt=\"Error Screenshot 9\"></p>\n<p>g. To select the WinRE partition, run <code>sel part WinRE partition index</code></p>\n<p><img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_10.png\" alt=\"Error Screenshot 10\"></p>\n<p>h. To delete the WinRE partition, run <code>delete partition override</code></p>\n<p></p>\n<p><img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_11.png\" alt=\"이미지\"></p>\n<ol start=\"5\">\n<li>새 복구 파티션을 생성합니다.</li>\n</ol>\n<p>a. 먼저, 디스크 파티션 스타일이 GUID Partition Table (GPT) 또는 Master Boot Record (MBR)인지 확인합니다. 이를 확인하려면 list disk를 실행합니다. \"Gpt\" 열에 별표(<em>)가 있는지 확인합니다. 별표(</em>)가 있는 경우 드라이브가 GPT이고, 그렇지 않으면 MBR입니다.</p>\n<p><img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_12.png\" alt=\"이미지\"></p>\n<p></p>\n<ol>\n<li>GPT 디스크인 경우, create partition primary id=de94bba4-06d1-4d40-a16a-bfd50179d6ac 명령을 실행한 다음 gpt attributes =0x8000000000000001 명령을 실행하세요.</li>\n</ol>\n<p><img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_13.png\" alt=\"image\"></p>\n<ol start=\"2\">\n<li>\n<p>MBR 디스크인 경우, create partition primary id=27 명령을 실행하세요.</p>\n</li>\n<li>\n<p>파티션을 포맷하려면, format quick fs=ntfs label=\"Windows RE tools\" 명령을 실행하세요.</p>\n</li>\n</ol>\n<p></p>\n<ol start=\"6\">\n<li>To confirm that the WinRE partition is created, run <code>list vol</code></li>\n</ol>\n<ol start=\"7\">\n<li>To exit from diskpart, run <code>exit</code></li>\n</ol>\n<p></p>\n<p><img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_16.png\" alt=\"Error Image 1\"></p>\n<ol start=\"8\">\n<li>To re-enable WinRE, run <code>reagentc /enable</code></li>\n</ol>\n<p><img src=\"/assets/img/2024-05-23-Error0x80070643wheninstallingKB5034439onWindowsServer2022_17.png\" alt=\"Error Image 2\"></p>\n<ol start=\"9\">\n<li>To confirm where WinRE is installed, run <code>reagentc /info</code></li>\n</ol>\n<p></p>\n<p>알겠어요, 프로세스가 완료되었습니다. 이제 Windows 업데이트를 다시 실행하고 성공했는지 확인해보세요.</p>\n<p>이게 도움이 되기를 바라며, 행운을 빕니다.</p>\n<p></p>\n<p>참고문헌:</p>\n</body>\n</html>\n"},"__N_SSG":true}