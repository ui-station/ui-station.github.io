{"pageProps":{"post":{"title":"ìœ„ì¹˜ ê¸°ë°˜ì˜ ìœ„ì„± ì´ë¯¸ì§€ì˜ ì‹œê³„ì—´ì„ í‘œì‹œí•˜ëŠ” ëŒ€í™”í˜• ì§€ë„ ë§Œë“¤ê¸°","description":"","date":"2024-05-18 17:58","slug":"2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery","content":"\n![image](/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_0.png)\n\n# Table of Contents\n\n- ğŸŒŸ Introduction\n- ğŸ“Œ Area of Interest (AOI)\n- ğŸ’¾ Loading Sentinel-2 Imagery\n- â³ Extracting Time Series from Satellite Imagery\n- ğŸŒ Developing an Interactive Map with Time Series\n- ğŸ“„ Conclusion\n- ğŸ“š References\n\n## ğŸŒŸ Introduction\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\ní•œë™ì•ˆ ì‚¬ìš©ìê°€ íŠ¹ì • ìœ„ì¹˜ë¥¼ í´ë¦­í•  ë•Œ ìƒí˜¸ì‘ìš© ë§µì— ì‹œê³„ì—´ ë°ì´í„°ê°€ í‘œì‹œë˜ëŠ” ì‰½ê³  ì§ê´€ì ì¸ ë°©ë²•ì„ ì°¾ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ì €ëŠ” folium ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ íƒìƒ‰í•˜ê³  ìœ„ì„± ì´ë¯¸ì§€ì—ì„œ ì¶”ì¶œí•œ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ foliumê³¼ ì—°ê²°í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ëƒˆìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ì€ ë‚´ ë°©ë²•ì„ ê³µìœ í•˜ê² ìŠµë‹ˆë‹¤.\n\nì´ ê²Œì‹œë¬¼ì—ì„œëŠ” ë‘ ê°€ì§€ í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ í•¨ìˆ˜ëŠ” ìœ„ì„± ë°ì´í„°ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì§€ ì•Šê³  ë¡œë“œí•˜ê³ , ë‘ ë²ˆì§¸ í•¨ìˆ˜ëŠ” ë°ì´í„°ì™€ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ì¶”ì¶œí•˜ì—¬ ë°ì´í„° í˜•ì‹ì˜ ì‹œê³„ì—´ì„ ìƒì„±í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ AOIs(ê´€ì‹¬ ì§€ì—­)ë¥¼ ìˆœí™˜í•˜ì—¬ ë‘ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³  AOIì— ëŒ€í•œ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ì¶”ì¶œí•  ê²ƒì…ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ ìƒì„±ëœ ì‹œê³„ì—´ ë°ì´í„°ì™€ folium ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¥¼ ìƒí˜¸ì‘ìš©ì ì¸ ì§€ë„ì— ì§€ë¦¬ì ìœ¼ë¡œ í‘œì‹œí•  ê²ƒì…ë‹ˆë‹¤.\n\nì´ ê²Œì‹œë¬¼ì„ ë§ˆì¹˜ë©´ ì–´ë–¤ ë³€ìˆ˜ë‚˜ ë§¤ê°œë³€ìˆ˜ì— ëŒ€í•´ ì¶”ì¶œëœ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ìƒí˜¸ì‘ìš©ì ì¸ ë§µê³¼ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œí•  ìˆ˜ ìˆê²Œ ë  ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ìº˜ë¦¬í¬ë‹ˆì•„ í˜¸ìˆ˜ ë©´ì ì˜ ì‹œê³„ì—´ì„ ì¶”ì¶œí•˜ê³  ìƒí˜¸ì‘ìš©ì  ì§€ë„ì— í‘œì‹œí•˜ê² ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ í¥ë¯¸ë¥¼ ê°–ê±°ë‚˜ ì´ëŸ¬í•œ ì¡°ì–¸ê³¼ ê¿€íŒì„ ì°¾ê³  ìˆì—ˆë‹¤ë©´ ê³„ì† ì½ì–´ë³´ì„¸ìš”!\n\n## ğŸ“Œ ê´€ì‹¬ ì§€ì—­ (AOI)\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì†Œê°œì—ì„œ ì–¸ê¸‰í•œ ëŒ€ë¡œ ìƒí˜¸ì‘ìš©ì  ì§€ë„ì—ì„œ ì–´ë–¤ ìœ„ì¹˜ì˜ ë³€ìˆ˜ì— ëŒ€í•œ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ í‘œì‹œí•˜ë ¤ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì˜ˆì‹œì—ì„œëŠ” ìº˜ë¦¬í¬ë‹ˆì•„ì˜ ëª‡ ê°œ í˜¸ìˆ˜ì˜ ë¬¼ í”½ì…€ì„ ê³„ìˆ˜í•˜ê³  2024ë…„ì— ì´¬ì˜ëœ ëª¨ë“  Sentinel-2 ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ í‘œë©´ì ì„ ê³„ì‚°í•  ê²ƒì…ë‹ˆë‹¤. QGISì—ì„œ ê·¸ í˜¸ìˆ˜ ì£¼ë³€ì— í´ë¦¬ê³¤ì„ ê·¸ë¦¬ê³  ê·¸ê²ƒë“¤ì„ shapefileë¡œ ì €ì¥í–ˆìŠµë‹ˆë‹¤. ê´€ì‹¬ ì˜ì—­ (AOI)ì— ëŒ€í•œ shapefileì„ ë§Œë“œëŠ” ë°©ë²•ì„ ë°°ìš°ê³  ì‹¶ë‹¤ë©´, Mediumì˜ ì²« ë²ˆì§¸ ìŠ¤í† ë¦¬ì—ì„œ \"ğŸ› ï¸ QGISì—ì„œ Shapefile ìƒì„±\"ì´ë¼ëŠ” ì„¹ì…˜ì„ ì°¸ì¡°í•´ì£¼ì„¸ìš”.\n\në‹¤ìŒì€ QGISì—ì„œ í˜¸ìˆ˜ ì£¼ë³€ì— ê·¸ë¦° í´ë¦¬ê³¤ì˜ ìŠ¤ëƒ…ìƒ·ì…ë‹ˆë‹¤:\n\n![lakes](/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_1.png)\n\n## ğŸ’¾ Sentinel-2 ì˜ìƒ ë¶ˆëŸ¬ì˜¤ê¸°\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì´ ì„¹ì…˜ì˜ ëª©í‘œëŠ” ë‹¤ìš´ë¡œë“œ ì—†ì´ ì•„ì¹´ì´ë¸Œëœ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ë©”ëª¨ë¦¬ì— ë¡œë“œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. íŠ¹ì • ì§€ì—­ì— ëŒ€í•œ ì˜¤ëœ ê¸°ê°„ì— ê±¸ì¹œ ìœ„ì„± ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œëŠ” ì‹œê°„ì´ ë§ì´ ì†Œìš”ë˜ë©° ê³„ì‚° ë¹„ìš©ì´ ë§ì´ ë“¤ë©° ë¹„íš¨ìœ¨ì ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì „ì²´ ì¥ë©´ì—ì„œ ì‘ì€ ì˜ì—­ì˜ ë³€í™”ë¥¼ íƒìƒ‰í•˜ë ¤ë©´ ë¬¸ì œê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ 12ì¤„ì˜ ì½”ë“œë§Œ ì‚¬ìš©í•˜ì—¬ ë‹¤ìš´ë¡œë“œ ì—†ì´ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ëŠ” í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. í•´ë‹¹ í¬ìŠ¤íŠ¸ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ ì„¹ì…˜ì—ì„œëŠ” í•´ë‹¹ í¬ìŠ¤íŠ¸ì—ì„œ ì œì‹œëœ í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ì—¬ í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¹ì • ê¸°ê°„ì— ëŒ€í•œ AOI ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ì‰½ê²Œ ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ê¸°ê°„ì´ ê¸¸ë“  ì§§ë“  ìƒê´€ì—†ì´:\n\n```python\nfrom pystac_client import Client\nfrom odc.stac import load\n\ndef search_satellite_images(collection=\"sentinel-2-l2a\",\n                            bbox=[-120.15,38.93,-119.88,39.25],\n                            date=\"2023-01-01/2023-03-12\",\n                            cloud_cover=(0, 10)):\n    \"\"\"\n    Collection, ë²”ìœ„, ë‚ ì§œ ë²”ìœ„ ë° êµ¬ë¦„ ë®ê°œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.\n\n    :param collection: Collection ì´ë¦„ (ê¸°ë³¸ê°’: \"sentinel-2-l2a\").\n    :param bbox: ê²½ê³„ ìƒì [min_lon, min_lat, max_lon, max_lat] (ê¸°ë³¸ê°’: Lake Tahoe ì§€ì—­).\n    :param date: ë‚ ì§œ ë²”ìœ„ \"YYYY-MM-DD/YYYY-MM-DD\" (ê¸°ë³¸ê°’: \"2023-01-01/2023-12-30\").\n    :param cloud_cover: êµ¬ë¦„ ë®ê°œ ë²”ìœ„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” Tuple (ìµœì†Œ, ìµœëŒ€) (ê¸°ë³¸ê°’: (0, 10)).\n    :return: ê²€ìƒ‰ ê¸°ì¤€ì— ë”°ë¼ ë¡œë“œëœ ë°ì´í„°.\n    \"\"\"\n    # ê²€ìƒ‰ í´ë¼ì´ì–¸íŠ¸ ì •ì˜\n    client=Client.open(\"https://earth-search.aws.element84.com/v1\")\n    search = client.search(collections=[collection],\n                            bbox=bbox,\n                            datetime=date,\n                            query=[f\"eo:cloud_cover<{cloud_cover[1]}\", f\"eo:cloud_cover>{cloud_cover[0]}\"])\n\n    # ì¼ì¹˜í•˜ëŠ” í•­ëª© ìˆ˜ ì¶œë ¥\n    print(f\"ë°œê²¬ëœ ì´ë¯¸ì§€ ìˆ˜: {search.matched()}\")\n\n    data = load(search.items(), bbox=bbox, groupby=\"solar_day\", chunks={})\n\n    print(f\"ë°ì´í„°ì—ì„œì˜ ë‚ ì§œ ìˆ˜: {len(data.time)}\")\n\n    return data\n```\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ìœ„ì„± ì´ë¯¸ì§€ ê²€ìƒ‰ì„ ìœ„í•œ ë§¤ê°œë³€ìˆ˜ë¥¼ ì§€ì •í•  ìˆ˜ ìˆì–´ì„œ ë‹¤ì–‘í•œ ê´€ì‹¬ ì˜ì—­ ë° ì‹œê°„ëŒ€ì— ìœ ì—°í•˜ê³  ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìˆ˜ì§‘, ê²½ê³„ ìƒì, ë‚ ì§œ ë²”ìœ„ ë° êµ¬ë¦„ ì–‘ ë“±ê³¼ ê°™ì€ ê¸°ì¤€ì— ë”°ë¼ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤. ì´ëŠ” ì´ë¯¸ì§€ë¥¼ ì°¾ê¸° ìœ„í•´ Earth Search APIë¥¼ ì‚¬ìš©í•˜ê³  ì¼ì¹˜í•˜ëŠ” ìˆ˜ë¥¼ ì¶œë ¥í•˜ë©° íë¸Œ í˜•ì‹ìœ¼ë¡œ í´ë¦½ ëœ ì´ë¯¸ì§€ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\n\n## â³ ìœ„ì„± ì˜ìƒì—ì„œ ì‹œê³„ì—´ ì¶”ì¶œ\n\nì´ì œ AOIë¥¼ ìœ„í•´ í´ë¦½ ëœ ì´ë¯¸ì§€ë¥¼ë¡œë“œí•˜ëŠ” í•¨ìˆ˜ê°€ ìˆìœ¼ë¯€ë¡œ ì°¾ê³ ìˆëŠ” ì •ë³´ë¥¼ ì¶”ì¶œí•˜ëŠ” ë‘ ë²ˆì§¸ í•¨ìˆ˜ë¥¼ ì •ì˜í•´ì•¼í•©ë‹ˆë‹¤. ì´ë¯¸ì§€ì™€ í•¨ê»˜ í•„ìš”í•œ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ê³  ë§µì— í‘œì‹œí•˜ëŠ” ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ DataFrameì— ë„£ì–´ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ í•œ ë²ˆ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì¶”ì¶œ í•  ìˆ˜ ìˆì§€ë§Œ, ì „ì²´ ìº˜ë¦¬í¬ë‹ˆì•„ í˜¸ìˆ˜ì˜ í‘œë©´ì ì„ ë³¼ ìˆ˜ìˆëŠ” ê²ƒì´ í¥ë¯¸ë¡œìš¸ ê²ƒìœ¼ë¡œ ìƒê°ë˜ì–´ 2024 ë…„ì— Sentinel-2ë¡œ ì´¬ì˜ ëœ ëª¨ë“  ì´ë¯¸ì§€ì—ì„œ ìµœê·¼ ì´ë¯¸ì§€ë¥¼ í¬í•¨í•˜ì—¬ ì£¼ìš” ìº˜ë¦¬í¬ë‹ˆì•„ í˜¸ìˆ˜ì˜ í‘œë©´ì ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ë¥¼ ìœ„í•´ Sentinel-2 ì´ë¯¸ì§€ì˜ ì”¬ ë¶„ë¥˜ ë ˆì´ì–´ì— ìˆëŠ” ë¬¼ í”½ì…€ë¡œ ë¶„ë¥˜ ëœ í”½ì…€ì„ ì¶”ì¶œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë§í•´, ê° ì”¬ì—ì„œ ë¬¼ í”½ì…€ ìˆ˜ë¥¼ ì„¸ì–´ì•¼í•©ë‹ˆë‹¤. í”½ì…€ í•´ìƒë„ê°€ 10m x 10mì„ì„ ê°ì•ˆí•˜ë©´ ìˆ˜ë¥¼ 100 ì œê³± ë¯¸í„° (10m x 10m)ë¡œ ê³±í•˜ë©´ ê° í˜¸ìˆ˜ì˜ í‘œë©´ì ì´ ë‚˜ì˜¬ ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì—¬ê¸°ì„œëŠ” ìœ„ì„±ì— ì˜í•´ ì´¬ì˜ ëœ ì´ë¯¸ì§€ê°€ ê° ì”¬ì—ì„œ ì „ì²´ í˜¸ìˆ˜ë¥¼ ì»¤ë²„í•˜ë„ë¡í•´ì•¼í•©ë‹ˆë‹¤. ì´ë¥¼ ì„¤ëª…í•˜ê¸° ìœ„í•´ 1 ì›” 7 ì¼ê³¼ 1 ì›” 4 ì¼ì— ì´¬ì˜ ëœ ì´ ë‘ ì¥ì˜ ì´ë¯¸ì§€ ì¤‘ í•˜ë‚˜ì— ìº¡ì²˜ëœ í˜¸ìˆ˜ ì¤‘ í•˜ë‚˜ë¥¼ ì‚´í´ ë³´ê² ìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n```python\nimport pandas as pd\nimport numpy as np\n\ndef count_water_pixels(data,lake_id):\n    \"\"\"\n    ê° ì‹œì ì˜ Sentinel-2 SCL ë°ì´í„°ì—ì„œ ë¬¼ í”½ì…€ ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.\n\n    :param data: Sentinel-2 SCL ë°ì´í„°ê°€ í¬í•¨ëœ xarray Datasetì…ë‹ˆë‹¤.\n    :return: ë‚ ì§œ, ë¬¼ íšŸìˆ˜ ë° ëˆˆ íšŸìˆ˜ê°€ í¬í•¨ëœ DataFrameì…ë‹ˆë‹¤.\n    \"\"\"\n\n    water_counts = []\n    date_labels = []\n    water_area = []\n    coverage_ratio = []\n\n    # ì‹œê°„ ë‹¨ê³„ ìˆ˜ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.\n    numb_days = len(data.time)\n\n    # ê° ì‹œê°„ ë‹¨ê³„ë¥¼ ë°˜ë³µí•©ë‹ˆë‹¤.\n    for t in range(numb_days):\n        scl_image = data[[\"scl\"]].isel(time=t).to_array()\n        dt = pd.to_datetime(scl_image.time.values)\n        year = dt.year\n        month = dt.month\n        day = dt.day\n\n        date_string = f\"{year}-{month:02d}-{day:02d}\"\n        print(date_string)\n\n        # ë¬¼ì— í•´ë‹¹í•˜ëŠ” í”½ì…€ ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.\n        count_water = np.count_nonzero(scl_image == 6)  # ë¬¼\n\n        surface_area = count_water * 10 * 10 / (10 ** 6)\n\n        count_pixels = np.count_nonzero((scl_image == 1) | (scl_image == 2) | (scl_image == 3) | (scl_image == 4) | (\n                    scl_image == 5) | (scl_image == 6) | (scl_image == 7) | (scl_image == 8) | (scl_image == 9) | (\n                                               scl_image == 10) | (scl_image == 11))\n        total_pixels = data.dims['y'] * data.dims['x']\n\n        coverage = count_pixels * 10 * 10 / 1e6\n        lake_area = total_pixels * 10 * 10 / 1e6\n\n        ratio = coverage / lake_area\n\n        print(coverage)\n        print(lake_area)\n        print(ratio)\n\n        if ratio < 0.8:\n            continue\n\n        # ì¶”ê°€\n        water_counts.append(count_water)\n        date_labels.append(date_string)\n        water_area.append(surface_area)\n        coverage_ratio.append(ratio)\n\n    # ë‚ ì§œ ë ˆì´ë¸”ì„ pandas datetime í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.\n    datetime_index = pd.to_datetime(date_labels)\n\n    # DataFrameì„ êµ¬ì„±í•˜ê¸° ìœ„í•œ ë”•ì…”ë„ˆë¦¬ ìƒì„±\n    data_dict = {\n        'Date': datetime_index,\n        'ID': lake_id,\n        'Water Counts': water_counts,\n        'Pixel Counts': count_pixels,\n        'Total Pixels': total_pixels,\n        'Coverage Ratio': coverage_ratio,\n        'Water Surface Area': water_area\n    }\n\n    # DataFrame ìƒì„±\n    df = pd.DataFrame(data_dict)\n\n    return df\n```\n\nì´ í•¨ìˆ˜ëŠ” ë°ì´í„°ì…‹ì˜ ê° ì‹œê°„ ë‹¨ê³„ë¥¼ ë°˜ë³µí•˜ì—¬ ë¬¼ í”½ì…€ ìˆ˜ë¥¼ ê³„ì‚°í•˜ê³  í‘œë©´ì ì„ ê³„ì‚°í•˜ë©° ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì„ ê³„ì‚°í•©ë‹ˆë‹¤. ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì´ 80% ë¯¸ë§Œì´ë©´ ì‹œê°„ ë‹¨ê³„ê°€ ê±´ë„ˆëœë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ íšŸìˆ˜, ë‚ ì§œ, í‘œë©´ì  ë° ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì„ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•˜ê³  í•´ë‹¹ ê°’ê³¼ ë¬¼ ID ë° ì´ í”½ì…€ ìˆ˜ê°€ í¬í•¨ëœ DataFrameì„ ë°˜í™˜í•©ë‹ˆë‹¤.\n\nì»¤ë²„ë¦¬ì§€ ë¬¸ì œì™€ í•´ê²°í•˜ëŠ” ì†ì„ìˆ˜ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ë ¤ë©´ ì´ í¬ìŠ¤íŠ¸ì˜ ì„¹ì…˜ (ğŸ“ˆ í†µê³„ íŒŒì¼ì—ì„œ ëŒ€ì—¼í•´ ì§€ì—­ì˜ ì‹œê³„ì—´)ì„ ì°¸ì¡°í•´ì£¼ì„¸ìš”:\n\n## ğŸŒ ì‹œê³„ì—´ê³¼ í•¨ê»˜ ìƒí˜¸ì‘ìš©í•˜ëŠ” ì§€ë„ ê°œë°œí•˜ê¸°\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì´ ì„¹ì…˜ì—ì„œëŠ” ì„¸ ê°œì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¤ê°í˜•(AOI)ì˜ ë°”ìš´ë”© ë°•ìŠ¤ì™€ ì¤‘ì‹¬ ì¢Œí‘œë¥¼ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ í•¨ìˆ˜(search_satellite_images)ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ ë°”ìš´ë”© ë°•ìŠ¤ê°€ í•„ìš”í•˜ë©°, ë§µì— í˜¸ìˆ˜ë¥¼ í‘œì‹œí•˜ëŠ” ë° ì¤‘ì‹¬ ì¢Œí‘œê°€ í•„ìš”í•©ë‹ˆë‹¤. ë‹¤ìŒ ì½”ë“œë¡œ ì´ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\nimport geopandas as gpd\nimport pandas as pd\n\ndef get_centroids_and_bboxes(shapefile_path):\n    \"\"\"\n    shapefileì„ ì²˜ë¦¬í•˜ì—¬ ê° ë‹¤ê°í˜•ì˜ ID, ì¤‘ì‹¬ì , ë°”ìš´ë”© ë°•ìŠ¤(bbox)ë¥¼ í¬í•¨í•˜ëŠ” DataFrameì„ ë°˜í™˜í•©ë‹ˆë‹¤.\n    :param shapefile_path: shapefileì˜ ê²½ë¡œ.\n    :return: ê° ë‹¤ê°í˜•ì˜ ID, ì¤‘ì‹¬ì , ë° bboxê°€ ìˆëŠ” pandas DataFrame.\n    \"\"\"\n\n    # shapefile ë¶ˆëŸ¬ì˜¤ê¸°\n    gdf = gpd.read_file(shapefile_path)\n\n    # EPSG:4326ìœ¼ë¡œ ì¬íˆ¬ì˜\n    gdf_proj = gdf.to_crs(\"EPSG:4326\")\n\n    centroids = []\n    bboxes = []\n\n    # ê° ë‹¤ê°í˜•ì„ ì²˜ë¦¬í•˜ì—¬ ì¤‘ì‹¬ì ê³¼ bbox ì–»ê¸°\n    for index, row in gdf_proj.iterrows():\n        # ì¤‘ì‹¬ì \n        centroid_lat = row.geometry.centroid.y\n        centroid_lon = row.geometry.centroid.x\n        centroids.append((centroid_lat, centroid_lon))\n\n        # ë°”ìš´ë”© ë°•ìŠ¤\n        minx, miny, maxx, maxy = row.geometry.bounds\n        bbox = (minx, miny, maxx, maxy)\n        bboxes.append(bbox)\n\n    # DataFrame ìƒì„±\n    df = pd.DataFrame({\n        'ID': gdf_proj.index,\n        'Centroid_Lat': [lat for lat, lon in centroids],\n        'Centroid_Lon': [lon for lat, lon in centroids],\n        'BBox_Min_Lon': [bbox[0] for bbox in bboxes],\n        'BBox_Min_Lat': [bbox[1] for bbox in bboxes],\n        'BBox_Max_Lon': [bbox[2] for bbox in bboxes],\n        'BBox_Max_Lat': [bbox[3] for bbox in bboxes]\n    })\n\n    return df\n\nshapefile_path = \"lakes_boundry.shp\"\nlakes_df = get_centroids_and_bboxes(shapefile_path)\nprint(lakes_df)\n```\n\nìœ„ ë‹¨ê³„ë¥¼ ë”°ë¥´ê³  ì½”ë“œë¥¼ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰í•˜ë©´, ë‹¤ìŒ í˜•ì‹ì˜ ë‹¤ê°í˜•ì— ëŒ€í•œ ìœ ì‚¬í•œ DataFrameì´ í‘œì‹œë  ê²ƒì…ë‹ˆë‹¤:\n\n<img src=\"/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_4.png\" />\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\në‹¤ìŒ ìŠ¤í¬ë¦½íŠ¸ëŠ” 2024ë…„ ì„¼í‹°ë„¬-2ì— ì˜í•´ ì´¬ì˜ëœ ëª¨ë“  ì´ë¯¸ì§€ë¥¼ í˜¸ìˆ˜ ìœ„ì—ì„œ ë£¨í•‘í•˜ê³  ë‘ ë²ˆì§¸ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ì—¬ ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì´ 80%ë³´ë‹¤ ë†’ì€ ê²½ìš° ê° ì´ë¯¸ì§€ì—ì„œ í‘œë©´ì ì„ ê³„ì‚°í•˜ë©° ê° í˜¸ìˆ˜ì˜ í‘œë©´ì ì„ ì‹œê³„ì—´ë¡œ ë³´ì—¬ì£¼ëŠ” DataFrameì„ ë³´ê³ í•˜ëŠ” ê²ƒì„ í¬í•¨í•©ë‹ˆë‹¤:\n\n```python\nimport matplotlib.pyplot as plt\nimport pandas as pd\nfrom datetime import datetime\nimport numpy as np\n\nall_water_pixels_dfs = []\n\nfor lake_id in lakes_df.ID:\n    print(lake_id)\n    lake_df = lakes_df[lakes_df['ID'] == lake_id]\n\n    if not lake_df.empty:\n        bbox = [lake_df.iloc[0].BBox_Min_Lon, lake_df.iloc[0].BBox_Min_Lat,\n                lake_df.iloc[0].BBox_Max_Lon, lake_df.iloc[0].BBox_Max_Lat]\n\n        data = search_satellite_images(collection=\"sentinel-2-l2a\",\n                                       date=\"2024-01-01/2024-05-14\",\n                                       cloud_cover=(0, 5),\n                                       bbox=bbox)\n        # Pass the lake_id\n        water_pixels_df = count_water_pixels(data, lake_id)\n\n        # Append\n        all_water_pixels_dfs.append(water_pixels_df)\n\n# Concatenate all DataFrames into a single DataFrame\nfinal_df = pd.concat(all_water_pixels_dfs, ignore_index=True)\n```\n\nìµœì¢… DataFrameì€ ì´ë¯¸ì§€ ë‚ ì§œ, ë¬¼ í”½ì…€ ìˆ˜, ì´ í”½ì…€ ìˆ˜, ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ ë° í‘œë©´ì ì„ ìš”ì•½í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ ë³´ì—¬ì§‘ë‹ˆë‹¤:\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_5.png)\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nê±°ì˜ ë‹¤ ì™”ì–´ìš”!\n\nì§€ë„ ìƒì—ì„œ ì‹œê³„ì—´ì„ ë³´ê¸° ìœ„í•´ ë§ˆì§€ë§‰ í•œ ë‹¨ê³„ê°€ ë‚¨ì•˜ìŠµë‹ˆë‹¤. ì´ì œ í‘œë©´ì ì˜ ì‹œê³„ì—´ ë°ì´í„°ê°€ ìˆìœ¼ë¯€ë¡œ Folium ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‘ ê°€ì§€ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: (1) ì§€ë„ìƒì˜ í˜¸ìˆ˜ ì¤‘ì‹¬ì„ ì§€ì ìœ¼ë¡œ í‘œì‹œí•˜ê³  (2) ê° í˜¸ìˆ˜ë¥¼ í´ë¦­í•˜ë©´ íŒì—…ìœ¼ë¡œ í‘œë©´ì ì˜ ì‹œê³„ì—´ì„ ë³´ì—¬ì£¼ëŠ” ê·¸ë˜í”„ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. ë‹¤ìŒ ì½”ë“œë¡œ ì´ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\nimport folium\nimport plotly.express as px\nimport os\n\n# ì‹œê³„ì—´ í”Œë¡¯ì„ ê·¸ë ¤ HTMLë¡œ ì €ì¥í•˜ëŠ” í•¨ìˆ˜\ndef plot_timeseries_for_spot(spot_id, ts_df):\n    df_spot = ts_df[ts_df['ID'] == spot_id]\n    print(df_spot)\n    fig = px.line(df_spot, x='Date', y='Water Surface Area', title=f'Time Series for Lake {spot_id}')\n\n     # X ë° Y ì¶• ë ˆì´ë¸” ì¶”ê°€\n    fig.update_layout(\n        xaxis_title=\"Date\",\n        yaxis_title=\"Water Surface Area (sq km)\"\n    )\n\n    filepath = f'tmp_{int(spot_id)}.html'\n    fig.write_html(filepath, include_plotlyjs='cdn')\n    return filepath\n\n# ì§€ë„ ìƒì„±\nm = folium.Map(location=[35.5, -119.5], zoom_start=7)\n\n# Plotly ì‹œê³„ì—´ íŒì—…ì´ ìˆëŠ” ë§ˆì»¤ ì¶”ê°€\nfor index, row in lakes_df.iterrows():\n    html_path = plot_timeseries_for_spot(row['ID'], final_df)\n    iframe = folium.IFrame(html=open(html_path).read(), width=500, height=300)\n    popup = folium.Popup(iframe, max_width=2650)\n    folium.Marker([row['Centroid_Lat'], row['Centroid_Lon']], popup=popup).add_to(m)\n\nm.save('map_with_timeseries.html')\n\n# ì„ì‹œ HTML íŒŒì¼ ì •ë¦¬\nfor spot_id in lakes_df['ID']:\n    os.remove(f'tmp_{spot_id}.html')\n```\n\nì´ ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” í•¨ìˆ˜ê°€ ê° í˜¸ìˆ˜ì˜ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ í•„í„°ë§í•˜ê³ , Plotlyë¥¼ ì‚¬ìš©í•˜ì—¬ ë¼ì¸ í”Œë¡¯ì„ ìƒì„±í•˜ê³ , í”Œë¡¯ì„ HTML íŒŒì¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤. ë‹¤ìŒìœ¼ë¡œ Foliumì„ ì‚¬ìš©í•˜ì—¬ ì§€ë„ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ í˜¸ìˆ˜ DataFrameì„ ë°˜ë³µí•˜ë©´ì„œ, ê° í˜¸ìˆ˜ì˜ ì¤‘ì‹¬ ì¢Œí‘œì— ë§ˆì»¤ë¥¼ ì¶”ê°€í•˜ê³ , ê° ë§ˆì»¤ì— íŒì—…ì„ ì—°ê²°í•˜ì—¬ ì‹œê³„ì—´ í”Œë¡¯ì„ í‘œì‹œí•©ë‹ˆë‹¤. ìµœì¢… ì§€ë„ëŠ” HTML íŒŒì¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ, Plotly í”Œë¡¯ì— ìƒì„±ëœ ì„ì‹œ HTML íŒŒì¼ì„ ì‚­ì œí•˜ì—¬ ì •ë¦¬í•©ë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\n\nì½˜í…ì¸  í´ë”ì— ìƒì„±ëœ HTML íŒŒì¼ì„ ì—´ë©´ ì§€ë„ì— í‘œì‹œëœ ê° í˜¸ìˆ˜ì˜ ì¤‘ì‹¬ ì¢Œí‘œë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![ì§€ë„](/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_6.png)\n\nê° í˜¸ìˆ˜ë¥¼ í´ë¦­í•˜ì—¬ ì‹œê³„ì—´ì´ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸í•´ ë³´ê² ìŠµë‹ˆë‹¤.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì´ ëª¨ë“  ë…¸ë ¥ ëì— ì´ë ‡ê²Œ ì‹¤ìš©ì ì¸ ì§€ë„ê°€ ë§Œë“¤ì–´ì¡Œë„¤ìš”, ë§ë‚˜ìš”? :D\n\n## ğŸ“„ ê²°ë¡ \n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nê±°ì˜ ë§¤ë‹¬ ìƒˆë¡œìš´ íŒ¨í‚¤ì§€ì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ ë‚˜ì™€ì„œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ê³  ë¶„ì„í•˜ë©° í‘œì‹œí•˜ê³  ì‹œê°í™”í•˜ëŠ” ë²•ì„ ì‹¤ìš©ì ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ë¶„ì•¼ì—ì„œ ì•„ì§ ë‚¨ì•„ ìˆëŠ” ë‘ ê°€ì§€ ê³¼ì œê°€ ìˆìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ëŠ” ë°ì´í„°ë¥¼ ì •í™•í•˜ê²Œ ë¶„ì„í•˜ê¸° ìœ„í•´ì„œëŠ” í…Œë¼ë°”ì´íŠ¸ ë˜ëŠ” í˜íƒ€ë°”ì´íŠ¸ì—ì„œ ì¶”ì¶œëœ ë°ì´í„°ê°€ ì •í™•í•œì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì¶©ë¶„í•œ ê²½í—˜ì´ í•„ìš”í•©ë‹ˆë‹¤. ë‘ ë²ˆì§¸ëŠ” ì´ëŸ¬í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ ì—°ê²°í•˜ì—¬ ì˜ë¯¸ ìˆëŠ” ê²ƒì„ ë§Œë“¤ì–´ë‚´ëŠ” ì•„í‚¤í…ì²˜ë¥¼ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nì´ë¯¸ì§€ ì²˜ë¦¬ì—ì„œëŠ” ì²˜ë¦¬ëœ ë°ì´í„°ì—ì„œì˜ ê°„ë‹¨í•œ ì‹¤ìˆ˜ê°€ ì¤‘ëŒ€í•œ ì˜¤ë¥˜ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆëŠ” ì ì„ ê°•ì¡°í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ì‹œê°í™” ë¶€ë¶„ì—ì„œëŠ” Folium, Plotly, ê·¸ë¦¬ê³  ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ì¶”ì¶œí•˜ê¸° ìœ„í•œ APIë¥¼ ì—°ê²°í•˜ì—¬, ë¦¬ëª¨íŠ¸ ì„¼ì‹± ê´€ì¸¡ì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ì–‘í•œ í˜„ìƒì„ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ìœ ìš©í•œ ë„êµ¬ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŒì„ ë³´ì—¬ì£¼ì—ˆìŠµë‹ˆë‹¤. ì´ ê¸€ì„ ì½ëŠ” ë° ì¦ê±°ì›€ì„ ëŠë¼ì‹œê¸°ë¥¼ ë°”ë¼ë©°, ê¶ê¸ˆí•œ ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ì—°ë½ ì£¼ì„¸ìš”.\n\n## ğŸ“š ì°¸ê³  ìë£Œ\n\nhttps://github.com/stac-utils/pystac-client/blob/main/docs/quickstart.rst\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nhttps://www.element84.com/earth-search/examples/\n\nSentinel ë°ì´í„°ìš© Copernicus Sentinel ë°ì´í„° [2024]\n\nCopernicus ì„œë¹„ìŠ¤ ì •ë³´ìš© Copernicus ì„œë¹„ìŠ¤ ì •ë³´ [2024]\n\nğŸ“± ë” ë§ì€ í¥ë¯¸ë¡œìš´ ì½˜í…ì¸ ë¥¼ ì œê³µí•˜ëŠ” ë‹¤ë¥¸ í”Œë«í¼ì—ì„œ ì €ì™€ ì†Œí†µí•˜ì„¸ìš”! LinkedIn, ResearchGate, Github ë° Twitter.\n\n<!-- ui-station ì‚¬ê°í˜• -->\n\n<ins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nì´ ë§í¬ë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆëŠ” ê´€ë ¨ ê²Œì‹œë¬¼ì´ ìˆìŠµë‹ˆë‹¤:\n","ogImage":{"url":"/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_0.png"},"coverImage":"/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_0.png","tag":["Tech"],"readingTime":16},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<p><img src=\"/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_0.png\" alt=\"image\"></p>\n<h1>Table of Contents</h1>\n<ul>\n<li>ğŸŒŸ Introduction</li>\n<li>ğŸ“Œ Area of Interest (AOI)</li>\n<li>ğŸ’¾ Loading Sentinel-2 Imagery</li>\n<li>â³ Extracting Time Series from Satellite Imagery</li>\n<li>ğŸŒ Developing an Interactive Map with Time Series</li>\n<li>ğŸ“„ Conclusion</li>\n<li>ğŸ“š References</li>\n</ul>\n<h2>ğŸŒŸ Introduction</h2>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>í•œë™ì•ˆ ì‚¬ìš©ìê°€ íŠ¹ì • ìœ„ì¹˜ë¥¼ í´ë¦­í•  ë•Œ ìƒí˜¸ì‘ìš© ë§µì— ì‹œê³„ì—´ ë°ì´í„°ê°€ í‘œì‹œë˜ëŠ” ì‰½ê³  ì§ê´€ì ì¸ ë°©ë²•ì„ ì°¾ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ì €ëŠ” folium ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ íƒìƒ‰í•˜ê³  ìœ„ì„± ì´ë¯¸ì§€ì—ì„œ ì¶”ì¶œí•œ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ foliumê³¼ ì—°ê²°í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ëƒˆìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ì€ ë‚´ ë°©ë²•ì„ ê³µìœ í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<p>ì´ ê²Œì‹œë¬¼ì—ì„œëŠ” ë‘ ê°€ì§€ í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ í•¨ìˆ˜ëŠ” ìœ„ì„± ë°ì´í„°ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì§€ ì•Šê³  ë¡œë“œí•˜ê³ , ë‘ ë²ˆì§¸ í•¨ìˆ˜ëŠ” ë°ì´í„°ì™€ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ì¶”ì¶œí•˜ì—¬ ë°ì´í„° í˜•ì‹ì˜ ì‹œê³„ì—´ì„ ìƒì„±í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ AOIs(ê´€ì‹¬ ì§€ì—­)ë¥¼ ìˆœí™˜í•˜ì—¬ ë‘ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³  AOIì— ëŒ€í•œ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ì¶”ì¶œí•  ê²ƒì…ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ ìƒì„±ëœ ì‹œê³„ì—´ ë°ì´í„°ì™€ folium ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¥¼ ìƒí˜¸ì‘ìš©ì ì¸ ì§€ë„ì— ì§€ë¦¬ì ìœ¼ë¡œ í‘œì‹œí•  ê²ƒì…ë‹ˆë‹¤.</p>\n<p>ì´ ê²Œì‹œë¬¼ì„ ë§ˆì¹˜ë©´ ì–´ë–¤ ë³€ìˆ˜ë‚˜ ë§¤ê°œë³€ìˆ˜ì— ëŒ€í•´ ì¶”ì¶œëœ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ìƒí˜¸ì‘ìš©ì ì¸ ë§µê³¼ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œí•  ìˆ˜ ìˆê²Œ ë  ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ìº˜ë¦¬í¬ë‹ˆì•„ í˜¸ìˆ˜ ë©´ì ì˜ ì‹œê³„ì—´ì„ ì¶”ì¶œí•˜ê³  ìƒí˜¸ì‘ìš©ì  ì§€ë„ì— í‘œì‹œí•˜ê² ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ í¥ë¯¸ë¥¼ ê°–ê±°ë‚˜ ì´ëŸ¬í•œ ì¡°ì–¸ê³¼ ê¿€íŒì„ ì°¾ê³  ìˆì—ˆë‹¤ë©´ ê³„ì† ì½ì–´ë³´ì„¸ìš”!</p>\n<h2>ğŸ“Œ ê´€ì‹¬ ì§€ì—­ (AOI)</h2>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ì†Œê°œì—ì„œ ì–¸ê¸‰í•œ ëŒ€ë¡œ ìƒí˜¸ì‘ìš©ì  ì§€ë„ì—ì„œ ì–´ë–¤ ìœ„ì¹˜ì˜ ë³€ìˆ˜ì— ëŒ€í•œ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ í‘œì‹œí•˜ë ¤ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì˜ˆì‹œì—ì„œëŠ” ìº˜ë¦¬í¬ë‹ˆì•„ì˜ ëª‡ ê°œ í˜¸ìˆ˜ì˜ ë¬¼ í”½ì…€ì„ ê³„ìˆ˜í•˜ê³  2024ë…„ì— ì´¬ì˜ëœ ëª¨ë“  Sentinel-2 ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ í‘œë©´ì ì„ ê³„ì‚°í•  ê²ƒì…ë‹ˆë‹¤. QGISì—ì„œ ê·¸ í˜¸ìˆ˜ ì£¼ë³€ì— í´ë¦¬ê³¤ì„ ê·¸ë¦¬ê³  ê·¸ê²ƒë“¤ì„ shapefileë¡œ ì €ì¥í–ˆìŠµë‹ˆë‹¤. ê´€ì‹¬ ì˜ì—­ (AOI)ì— ëŒ€í•œ shapefileì„ ë§Œë“œëŠ” ë°©ë²•ì„ ë°°ìš°ê³  ì‹¶ë‹¤ë©´, Mediumì˜ ì²« ë²ˆì§¸ ìŠ¤í† ë¦¬ì—ì„œ \"ğŸ› ï¸ QGISì—ì„œ Shapefile ìƒì„±\"ì´ë¼ëŠ” ì„¹ì…˜ì„ ì°¸ì¡°í•´ì£¼ì„¸ìš”.</p>\n<p>ë‹¤ìŒì€ QGISì—ì„œ í˜¸ìˆ˜ ì£¼ë³€ì— ê·¸ë¦° í´ë¦¬ê³¤ì˜ ìŠ¤ëƒ…ìƒ·ì…ë‹ˆë‹¤:</p>\n<p><img src=\"/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_1.png\" alt=\"lakes\"></p>\n<h2>ğŸ’¾ Sentinel-2 ì˜ìƒ ë¶ˆëŸ¬ì˜¤ê¸°</h2>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ì´ ì„¹ì…˜ì˜ ëª©í‘œëŠ” ë‹¤ìš´ë¡œë“œ ì—†ì´ ì•„ì¹´ì´ë¸Œëœ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ë©”ëª¨ë¦¬ì— ë¡œë“œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. íŠ¹ì • ì§€ì—­ì— ëŒ€í•œ ì˜¤ëœ ê¸°ê°„ì— ê±¸ì¹œ ìœ„ì„± ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œëŠ” ì‹œê°„ì´ ë§ì´ ì†Œìš”ë˜ë©° ê³„ì‚° ë¹„ìš©ì´ ë§ì´ ë“¤ë©° ë¹„íš¨ìœ¨ì ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì „ì²´ ì¥ë©´ì—ì„œ ì‘ì€ ì˜ì—­ì˜ ë³€í™”ë¥¼ íƒìƒ‰í•˜ë ¤ë©´ ë¬¸ì œê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ 12ì¤„ì˜ ì½”ë“œë§Œ ì‚¬ìš©í•˜ì—¬ ë‹¤ìš´ë¡œë“œ ì—†ì´ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ëŠ” í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. í•´ë‹¹ í¬ìŠ¤íŠ¸ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ì´ ì„¹ì…˜ì—ì„œëŠ” í•´ë‹¹ í¬ìŠ¤íŠ¸ì—ì„œ ì œì‹œëœ í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ì—¬ í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¹ì • ê¸°ê°„ì— ëŒ€í•œ AOI ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ì‰½ê²Œ ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ê¸°ê°„ì´ ê¸¸ë“  ì§§ë“  ìƒê´€ì—†ì´:</p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-keyword\">from</span> pystac_client <span class=\"hljs-keyword\">import</span> Client\n<span class=\"hljs-keyword\">from</span> odc.stac <span class=\"hljs-keyword\">import</span> load\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">search_satellite_images</span>(<span class=\"hljs-params\">collection=<span class=\"hljs-string\">\"sentinel-2-l2a\"</span>,\n                            bbox=[-<span class=\"hljs-number\">120.15</span>,<span class=\"hljs-number\">38.93</span>,-<span class=\"hljs-number\">119.88</span>,<span class=\"hljs-number\">39.25</span>],\n                            date=<span class=\"hljs-string\">\"2023-01-01/2023-03-12\"</span>,\n                            cloud_cover=(<span class=\"hljs-params\"><span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">10</span></span>)</span>):\n    <span class=\"hljs-string\">\"\"\"\n    Collection, ë²”ìœ„, ë‚ ì§œ ë²”ìœ„ ë° êµ¬ë¦„ ë®ê°œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.\n\n    :param collection: Collection ì´ë¦„ (ê¸°ë³¸ê°’: \"sentinel-2-l2a\").\n    :param bbox: ê²½ê³„ ìƒì [min_lon, min_lat, max_lon, max_lat] (ê¸°ë³¸ê°’: Lake Tahoe ì§€ì—­).\n    :param date: ë‚ ì§œ ë²”ìœ„ \"YYYY-MM-DD/YYYY-MM-DD\" (ê¸°ë³¸ê°’: \"2023-01-01/2023-12-30\").\n    :param cloud_cover: êµ¬ë¦„ ë®ê°œ ë²”ìœ„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” Tuple (ìµœì†Œ, ìµœëŒ€) (ê¸°ë³¸ê°’: (0, 10)).\n    :return: ê²€ìƒ‰ ê¸°ì¤€ì— ë”°ë¼ ë¡œë“œëœ ë°ì´í„°.\n    \"\"\"</span>\n    <span class=\"hljs-comment\"># ê²€ìƒ‰ í´ë¼ì´ì–¸íŠ¸ ì •ì˜</span>\n    client=Client.<span class=\"hljs-built_in\">open</span>(<span class=\"hljs-string\">\"https://earth-search.aws.element84.com/v1\"</span>)\n    search = client.search(collections=[collection],\n                            bbox=bbox,\n                            datetime=date,\n                            query=[<span class=\"hljs-string\">f\"eo:cloud_cover&#x3C;<span class=\"hljs-subst\">{cloud_cover[<span class=\"hljs-number\">1</span>]}</span>\"</span>, <span class=\"hljs-string\">f\"eo:cloud_cover><span class=\"hljs-subst\">{cloud_cover[<span class=\"hljs-number\">0</span>]}</span>\"</span>])\n\n    <span class=\"hljs-comment\"># ì¼ì¹˜í•˜ëŠ” í•­ëª© ìˆ˜ ì¶œë ¥</span>\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f\"ë°œê²¬ëœ ì´ë¯¸ì§€ ìˆ˜: <span class=\"hljs-subst\">{search.matched()}</span>\"</span>)\n\n    data = load(search.items(), bbox=bbox, groupby=<span class=\"hljs-string\">\"solar_day\"</span>, chunks={})\n\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f\"ë°ì´í„°ì—ì„œì˜ ë‚ ì§œ ìˆ˜: <span class=\"hljs-subst\">{<span class=\"hljs-built_in\">len</span>(data.time)}</span>\"</span>)\n\n    <span class=\"hljs-keyword\">return</span> data\n</code></pre>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ìœ„ì„± ì´ë¯¸ì§€ ê²€ìƒ‰ì„ ìœ„í•œ ë§¤ê°œë³€ìˆ˜ë¥¼ ì§€ì •í•  ìˆ˜ ìˆì–´ì„œ ë‹¤ì–‘í•œ ê´€ì‹¬ ì˜ì—­ ë° ì‹œê°„ëŒ€ì— ìœ ì—°í•˜ê³  ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìˆ˜ì§‘, ê²½ê³„ ìƒì, ë‚ ì§œ ë²”ìœ„ ë° êµ¬ë¦„ ì–‘ ë“±ê³¼ ê°™ì€ ê¸°ì¤€ì— ë”°ë¼ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤. ì´ëŠ” ì´ë¯¸ì§€ë¥¼ ì°¾ê¸° ìœ„í•´ Earth Search APIë¥¼ ì‚¬ìš©í•˜ê³  ì¼ì¹˜í•˜ëŠ” ìˆ˜ë¥¼ ì¶œë ¥í•˜ë©° íë¸Œ í˜•ì‹ìœ¼ë¡œ í´ë¦½ ëœ ì´ë¯¸ì§€ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.</p>\n<h2>â³ ìœ„ì„± ì˜ìƒì—ì„œ ì‹œê³„ì—´ ì¶”ì¶œ</h2>\n<p>ì´ì œ AOIë¥¼ ìœ„í•´ í´ë¦½ ëœ ì´ë¯¸ì§€ë¥¼ë¡œë“œí•˜ëŠ” í•¨ìˆ˜ê°€ ìˆìœ¼ë¯€ë¡œ ì°¾ê³ ìˆëŠ” ì •ë³´ë¥¼ ì¶”ì¶œí•˜ëŠ” ë‘ ë²ˆì§¸ í•¨ìˆ˜ë¥¼ ì •ì˜í•´ì•¼í•©ë‹ˆë‹¤. ì´ë¯¸ì§€ì™€ í•¨ê»˜ í•„ìš”í•œ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ê³  ë§µì— í‘œì‹œí•˜ëŠ” ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ DataFrameì— ë„£ì–´ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ í•œ ë²ˆ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì¶”ì¶œ í•  ìˆ˜ ìˆì§€ë§Œ, ì „ì²´ ìº˜ë¦¬í¬ë‹ˆì•„ í˜¸ìˆ˜ì˜ í‘œë©´ì ì„ ë³¼ ìˆ˜ìˆëŠ” ê²ƒì´ í¥ë¯¸ë¡œìš¸ ê²ƒìœ¼ë¡œ ìƒê°ë˜ì–´ 2024 ë…„ì— Sentinel-2ë¡œ ì´¬ì˜ ëœ ëª¨ë“  ì´ë¯¸ì§€ì—ì„œ ìµœê·¼ ì´ë¯¸ì§€ë¥¼ í¬í•¨í•˜ì—¬ ì£¼ìš” ìº˜ë¦¬í¬ë‹ˆì•„ í˜¸ìˆ˜ì˜ í‘œë©´ì ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ì´ë¥¼ ìœ„í•´ Sentinel-2 ì´ë¯¸ì§€ì˜ ì”¬ ë¶„ë¥˜ ë ˆì´ì–´ì— ìˆëŠ” ë¬¼ í”½ì…€ë¡œ ë¶„ë¥˜ ëœ í”½ì…€ì„ ì¶”ì¶œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë§í•´, ê° ì”¬ì—ì„œ ë¬¼ í”½ì…€ ìˆ˜ë¥¼ ì„¸ì–´ì•¼í•©ë‹ˆë‹¤. í”½ì…€ í•´ìƒë„ê°€ 10m x 10mì„ì„ ê°ì•ˆí•˜ë©´ ìˆ˜ë¥¼ 100 ì œê³± ë¯¸í„° (10m x 10m)ë¡œ ê³±í•˜ë©´ ê° í˜¸ìˆ˜ì˜ í‘œë©´ì ì´ ë‚˜ì˜¬ ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì—¬ê¸°ì„œëŠ” ìœ„ì„±ì— ì˜í•´ ì´¬ì˜ ëœ ì´ë¯¸ì§€ê°€ ê° ì”¬ì—ì„œ ì „ì²´ í˜¸ìˆ˜ë¥¼ ì»¤ë²„í•˜ë„ë¡í•´ì•¼í•©ë‹ˆë‹¤. ì´ë¥¼ ì„¤ëª…í•˜ê¸° ìœ„í•´ 1 ì›” 7 ì¼ê³¼ 1 ì›” 4 ì¼ì— ì´¬ì˜ ëœ ì´ ë‘ ì¥ì˜ ì´ë¯¸ì§€ ì¤‘ í•˜ë‚˜ì— ìº¡ì²˜ëœ í˜¸ìˆ˜ ì¤‘ í•˜ë‚˜ë¥¼ ì‚´í´ ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-keyword\">import</span> pandas <span class=\"hljs-keyword\">as</span> pd\n<span class=\"hljs-keyword\">import</span> numpy <span class=\"hljs-keyword\">as</span> np\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">count_water_pixels</span>(<span class=\"hljs-params\">data,lake_id</span>):\n    <span class=\"hljs-string\">\"\"\"\n    ê° ì‹œì ì˜ Sentinel-2 SCL ë°ì´í„°ì—ì„œ ë¬¼ í”½ì…€ ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.\n\n    :param data: Sentinel-2 SCL ë°ì´í„°ê°€ í¬í•¨ëœ xarray Datasetì…ë‹ˆë‹¤.\n    :return: ë‚ ì§œ, ë¬¼ íšŸìˆ˜ ë° ëˆˆ íšŸìˆ˜ê°€ í¬í•¨ëœ DataFrameì…ë‹ˆë‹¤.\n    \"\"\"</span>\n\n    water_counts = []\n    date_labels = []\n    water_area = []\n    coverage_ratio = []\n\n    <span class=\"hljs-comment\"># ì‹œê°„ ë‹¨ê³„ ìˆ˜ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</span>\n    numb_days = <span class=\"hljs-built_in\">len</span>(data.time)\n\n    <span class=\"hljs-comment\"># ê° ì‹œê°„ ë‹¨ê³„ë¥¼ ë°˜ë³µí•©ë‹ˆë‹¤.</span>\n    <span class=\"hljs-keyword\">for</span> t <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(numb_days):\n        scl_image = data[[<span class=\"hljs-string\">\"scl\"</span>]].isel(time=t).to_array()\n        dt = pd.to_datetime(scl_image.time.values)\n        year = dt.year\n        month = dt.month\n        day = dt.day\n\n        date_string = <span class=\"hljs-string\">f\"<span class=\"hljs-subst\">{year}</span>-<span class=\"hljs-subst\">{month:02d}</span>-<span class=\"hljs-subst\">{day:02d}</span>\"</span>\n        <span class=\"hljs-built_in\">print</span>(date_string)\n\n        <span class=\"hljs-comment\"># ë¬¼ì— í•´ë‹¹í•˜ëŠ” í”½ì…€ ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.</span>\n        count_water = np.count_nonzero(scl_image == <span class=\"hljs-number\">6</span>)  <span class=\"hljs-comment\"># ë¬¼</span>\n\n        surface_area = count_water * <span class=\"hljs-number\">10</span> * <span class=\"hljs-number\">10</span> / (<span class=\"hljs-number\">10</span> ** <span class=\"hljs-number\">6</span>)\n\n        count_pixels = np.count_nonzero((scl_image == <span class=\"hljs-number\">1</span>) | (scl_image == <span class=\"hljs-number\">2</span>) | (scl_image == <span class=\"hljs-number\">3</span>) | (scl_image == <span class=\"hljs-number\">4</span>) | (\n                    scl_image == <span class=\"hljs-number\">5</span>) | (scl_image == <span class=\"hljs-number\">6</span>) | (scl_image == <span class=\"hljs-number\">7</span>) | (scl_image == <span class=\"hljs-number\">8</span>) | (scl_image == <span class=\"hljs-number\">9</span>) | (\n                                               scl_image == <span class=\"hljs-number\">10</span>) | (scl_image == <span class=\"hljs-number\">11</span>))\n        total_pixels = data.dims[<span class=\"hljs-string\">'y'</span>] * data.dims[<span class=\"hljs-string\">'x'</span>]\n\n        coverage = count_pixels * <span class=\"hljs-number\">10</span> * <span class=\"hljs-number\">10</span> / <span class=\"hljs-number\">1e6</span>\n        lake_area = total_pixels * <span class=\"hljs-number\">10</span> * <span class=\"hljs-number\">10</span> / <span class=\"hljs-number\">1e6</span>\n\n        ratio = coverage / lake_area\n\n        <span class=\"hljs-built_in\">print</span>(coverage)\n        <span class=\"hljs-built_in\">print</span>(lake_area)\n        <span class=\"hljs-built_in\">print</span>(ratio)\n\n        <span class=\"hljs-keyword\">if</span> ratio &#x3C; <span class=\"hljs-number\">0.8</span>:\n            <span class=\"hljs-keyword\">continue</span>\n\n        <span class=\"hljs-comment\"># ì¶”ê°€</span>\n        water_counts.append(count_water)\n        date_labels.append(date_string)\n        water_area.append(surface_area)\n        coverage_ratio.append(ratio)\n\n    <span class=\"hljs-comment\"># ë‚ ì§œ ë ˆì´ë¸”ì„ pandas datetime í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.</span>\n    datetime_index = pd.to_datetime(date_labels)\n\n    <span class=\"hljs-comment\"># DataFrameì„ êµ¬ì„±í•˜ê¸° ìœ„í•œ ë”•ì…”ë„ˆë¦¬ ìƒì„±</span>\n    data_dict = {\n        <span class=\"hljs-string\">'Date'</span>: datetime_index,\n        <span class=\"hljs-string\">'ID'</span>: lake_id,\n        <span class=\"hljs-string\">'Water Counts'</span>: water_counts,\n        <span class=\"hljs-string\">'Pixel Counts'</span>: count_pixels,\n        <span class=\"hljs-string\">'Total Pixels'</span>: total_pixels,\n        <span class=\"hljs-string\">'Coverage Ratio'</span>: coverage_ratio,\n        <span class=\"hljs-string\">'Water Surface Area'</span>: water_area\n    }\n\n    <span class=\"hljs-comment\"># DataFrame ìƒì„±</span>\n    df = pd.DataFrame(data_dict)\n\n    <span class=\"hljs-keyword\">return</span> df\n</code></pre>\n<p>ì´ í•¨ìˆ˜ëŠ” ë°ì´í„°ì…‹ì˜ ê° ì‹œê°„ ë‹¨ê³„ë¥¼ ë°˜ë³µí•˜ì—¬ ë¬¼ í”½ì…€ ìˆ˜ë¥¼ ê³„ì‚°í•˜ê³  í‘œë©´ì ì„ ê³„ì‚°í•˜ë©° ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì„ ê³„ì‚°í•©ë‹ˆë‹¤. ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì´ 80% ë¯¸ë§Œì´ë©´ ì‹œê°„ ë‹¨ê³„ê°€ ê±´ë„ˆëœë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ íšŸìˆ˜, ë‚ ì§œ, í‘œë©´ì  ë° ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì„ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•˜ê³  í•´ë‹¹ ê°’ê³¼ ë¬¼ ID ë° ì´ í”½ì…€ ìˆ˜ê°€ í¬í•¨ëœ DataFrameì„ ë°˜í™˜í•©ë‹ˆë‹¤.</p>\n<p>ì»¤ë²„ë¦¬ì§€ ë¬¸ì œì™€ í•´ê²°í•˜ëŠ” ì†ì„ìˆ˜ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ë ¤ë©´ ì´ í¬ìŠ¤íŠ¸ì˜ ì„¹ì…˜ (ğŸ“ˆ í†µê³„ íŒŒì¼ì—ì„œ ëŒ€ì—¼í•´ ì§€ì—­ì˜ ì‹œê³„ì—´)ì„ ì°¸ì¡°í•´ì£¼ì„¸ìš”:</p>\n<h2>ğŸŒ ì‹œê³„ì—´ê³¼ í•¨ê»˜ ìƒí˜¸ì‘ìš©í•˜ëŠ” ì§€ë„ ê°œë°œí•˜ê¸°</h2>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ì´ ì„¹ì…˜ì—ì„œëŠ” ì„¸ ê°œì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¤ê°í˜•(AOI)ì˜ ë°”ìš´ë”© ë°•ìŠ¤ì™€ ì¤‘ì‹¬ ì¢Œí‘œë¥¼ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ í•¨ìˆ˜(search_satellite_images)ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ ë°”ìš´ë”© ë°•ìŠ¤ê°€ í•„ìš”í•˜ë©°, ë§µì— í˜¸ìˆ˜ë¥¼ í‘œì‹œí•˜ëŠ” ë° ì¤‘ì‹¬ ì¢Œí‘œê°€ í•„ìš”í•©ë‹ˆë‹¤. ë‹¤ìŒ ì½”ë“œë¡œ ì´ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">import</span> geopandas <span class=\"hljs-keyword\">as</span> gpd\n<span class=\"hljs-keyword\">import</span> pandas <span class=\"hljs-keyword\">as</span> pd\n\ndef <span class=\"hljs-title function_\">get_centroids_and_bboxes</span>(shapefile_path):\n    <span class=\"hljs-string\">\"\"</span><span class=\"hljs-string\">\"\n    shapefileì„ ì²˜ë¦¬í•˜ì—¬ ê° ë‹¤ê°í˜•ì˜ ID, ì¤‘ì‹¬ì , ë°”ìš´ë”© ë°•ìŠ¤(bbox)ë¥¼ í¬í•¨í•˜ëŠ” DataFrameì„ ë°˜í™˜í•©ë‹ˆë‹¤.\n    :param shapefile_path: shapefileì˜ ê²½ë¡œ.\n    :return: ê° ë‹¤ê°í˜•ì˜ ID, ì¤‘ì‹¬ì , ë° bboxê°€ ìˆëŠ” pandas DataFrame.\n    \"</span><span class=\"hljs-string\">\"\"</span>\n\n    # shapefile ë¶ˆëŸ¬ì˜¤ê¸°\n    gdf = gpd.<span class=\"hljs-title function_\">read_file</span>(shapefile_path)\n\n    # <span class=\"hljs-attr\">EPSG</span>:<span class=\"hljs-number\">4326</span>ìœ¼ë¡œ ì¬íˆ¬ì˜\n    gdf_proj = gdf.<span class=\"hljs-title function_\">to_crs</span>(<span class=\"hljs-string\">\"EPSG:4326\"</span>)\n\n    centroids = []\n    bboxes = []\n\n    # ê° ë‹¤ê°í˜•ì„ ì²˜ë¦¬í•˜ì—¬ ì¤‘ì‹¬ì ê³¼ bbox ì–»ê¸°\n    <span class=\"hljs-keyword\">for</span> index, row <span class=\"hljs-keyword\">in</span> gdf_proj.<span class=\"hljs-title function_\">iterrows</span>():\n        # ì¤‘ì‹¬ì \n        centroid_lat = row.<span class=\"hljs-property\">geometry</span>.<span class=\"hljs-property\">centroid</span>.<span class=\"hljs-property\">y</span>\n        centroid_lon = row.<span class=\"hljs-property\">geometry</span>.<span class=\"hljs-property\">centroid</span>.<span class=\"hljs-property\">x</span>\n        centroids.<span class=\"hljs-title function_\">append</span>((centroid_lat, centroid_lon))\n\n        # ë°”ìš´ë”© ë°•ìŠ¤\n        minx, miny, maxx, maxy = row.<span class=\"hljs-property\">geometry</span>.<span class=\"hljs-property\">bounds</span>\n        bbox = (minx, miny, maxx, maxy)\n        bboxes.<span class=\"hljs-title function_\">append</span>(bbox)\n\n    # <span class=\"hljs-title class_\">DataFrame</span> ìƒì„±\n    df = pd.<span class=\"hljs-title class_\">DataFrame</span>({\n        <span class=\"hljs-string\">'ID'</span>: gdf_proj.<span class=\"hljs-property\">index</span>,\n        <span class=\"hljs-string\">'Centroid_Lat'</span>: [lat <span class=\"hljs-keyword\">for</span> lat, lon <span class=\"hljs-keyword\">in</span> centroids],\n        <span class=\"hljs-string\">'Centroid_Lon'</span>: [lon <span class=\"hljs-keyword\">for</span> lat, lon <span class=\"hljs-keyword\">in</span> centroids],\n        <span class=\"hljs-string\">'BBox_Min_Lon'</span>: [bbox[<span class=\"hljs-number\">0</span>] <span class=\"hljs-keyword\">for</span> bbox <span class=\"hljs-keyword\">in</span> bboxes],\n        <span class=\"hljs-string\">'BBox_Min_Lat'</span>: [bbox[<span class=\"hljs-number\">1</span>] <span class=\"hljs-keyword\">for</span> bbox <span class=\"hljs-keyword\">in</span> bboxes],\n        <span class=\"hljs-string\">'BBox_Max_Lon'</span>: [bbox[<span class=\"hljs-number\">2</span>] <span class=\"hljs-keyword\">for</span> bbox <span class=\"hljs-keyword\">in</span> bboxes],\n        <span class=\"hljs-string\">'BBox_Max_Lat'</span>: [bbox[<span class=\"hljs-number\">3</span>] <span class=\"hljs-keyword\">for</span> bbox <span class=\"hljs-keyword\">in</span> bboxes]\n    })\n\n    <span class=\"hljs-keyword\">return</span> df\n\nshapefile_path = <span class=\"hljs-string\">\"lakes_boundry.shp\"</span>\nlakes_df = <span class=\"hljs-title function_\">get_centroids_and_bboxes</span>(shapefile_path)\n<span class=\"hljs-title function_\">print</span>(lakes_df)\n</code></pre>\n<p>ìœ„ ë‹¨ê³„ë¥¼ ë”°ë¥´ê³  ì½”ë“œë¥¼ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰í•˜ë©´, ë‹¤ìŒ í˜•ì‹ì˜ ë‹¤ê°í˜•ì— ëŒ€í•œ ìœ ì‚¬í•œ DataFrameì´ í‘œì‹œë  ê²ƒì…ë‹ˆë‹¤:</p>\n<img src=\"/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_4.png\">\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ë‹¤ìŒ ìŠ¤í¬ë¦½íŠ¸ëŠ” 2024ë…„ ì„¼í‹°ë„¬-2ì— ì˜í•´ ì´¬ì˜ëœ ëª¨ë“  ì´ë¯¸ì§€ë¥¼ í˜¸ìˆ˜ ìœ„ì—ì„œ ë£¨í•‘í•˜ê³  ë‘ ë²ˆì§¸ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ì—¬ ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì´ 80%ë³´ë‹¤ ë†’ì€ ê²½ìš° ê° ì´ë¯¸ì§€ì—ì„œ í‘œë©´ì ì„ ê³„ì‚°í•˜ë©° ê° í˜¸ìˆ˜ì˜ í‘œë©´ì ì„ ì‹œê³„ì—´ë¡œ ë³´ì—¬ì£¼ëŠ” DataFrameì„ ë³´ê³ í•˜ëŠ” ê²ƒì„ í¬í•¨í•©ë‹ˆë‹¤:</p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-keyword\">import</span> matplotlib.pyplot <span class=\"hljs-keyword\">as</span> plt\n<span class=\"hljs-keyword\">import</span> pandas <span class=\"hljs-keyword\">as</span> pd\n<span class=\"hljs-keyword\">from</span> datetime <span class=\"hljs-keyword\">import</span> datetime\n<span class=\"hljs-keyword\">import</span> numpy <span class=\"hljs-keyword\">as</span> np\n\nall_water_pixels_dfs = []\n\n<span class=\"hljs-keyword\">for</span> lake_id <span class=\"hljs-keyword\">in</span> lakes_df.ID:\n    <span class=\"hljs-built_in\">print</span>(lake_id)\n    lake_df = lakes_df[lakes_df[<span class=\"hljs-string\">'ID'</span>] == lake_id]\n\n    <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> lake_df.empty:\n        bbox = [lake_df.iloc[<span class=\"hljs-number\">0</span>].BBox_Min_Lon, lake_df.iloc[<span class=\"hljs-number\">0</span>].BBox_Min_Lat,\n                lake_df.iloc[<span class=\"hljs-number\">0</span>].BBox_Max_Lon, lake_df.iloc[<span class=\"hljs-number\">0</span>].BBox_Max_Lat]\n\n        data = search_satellite_images(collection=<span class=\"hljs-string\">\"sentinel-2-l2a\"</span>,\n                                       date=<span class=\"hljs-string\">\"2024-01-01/2024-05-14\"</span>,\n                                       cloud_cover=(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">5</span>),\n                                       bbox=bbox)\n        <span class=\"hljs-comment\"># Pass the lake_id</span>\n        water_pixels_df = count_water_pixels(data, lake_id)\n\n        <span class=\"hljs-comment\"># Append</span>\n        all_water_pixels_dfs.append(water_pixels_df)\n\n<span class=\"hljs-comment\"># Concatenate all DataFrames into a single DataFrame</span>\nfinal_df = pd.concat(all_water_pixels_dfs, ignore_index=<span class=\"hljs-literal\">True</span>)\n</code></pre>\n<p>ìµœì¢… DataFrameì€ ì´ë¯¸ì§€ ë‚ ì§œ, ë¬¼ í”½ì…€ ìˆ˜, ì´ í”½ì…€ ìˆ˜, ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ ë° í‘œë©´ì ì„ ìš”ì•½í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ ë³´ì—¬ì§‘ë‹ˆë‹¤:</p>\n<p><img src=\"/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_5.png\" alt=\"ì´ë¯¸ì§€\"></p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ê±°ì˜ ë‹¤ ì™”ì–´ìš”!</p>\n<p>ì§€ë„ ìƒì—ì„œ ì‹œê³„ì—´ì„ ë³´ê¸° ìœ„í•´ ë§ˆì§€ë§‰ í•œ ë‹¨ê³„ê°€ ë‚¨ì•˜ìŠµë‹ˆë‹¤. ì´ì œ í‘œë©´ì ì˜ ì‹œê³„ì—´ ë°ì´í„°ê°€ ìˆìœ¼ë¯€ë¡œ Folium ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‘ ê°€ì§€ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: (1) ì§€ë„ìƒì˜ í˜¸ìˆ˜ ì¤‘ì‹¬ì„ ì§€ì ìœ¼ë¡œ í‘œì‹œí•˜ê³  (2) ê° í˜¸ìˆ˜ë¥¼ í´ë¦­í•˜ë©´ íŒì—…ìœ¼ë¡œ í‘œë©´ì ì˜ ì‹œê³„ì—´ì„ ë³´ì—¬ì£¼ëŠ” ê·¸ë˜í”„ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. ë‹¤ìŒ ì½”ë“œë¡œ ì´ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">import</span> folium\n<span class=\"hljs-keyword\">import</span> plotly.<span class=\"hljs-property\">express</span> <span class=\"hljs-keyword\">as</span> px\n<span class=\"hljs-keyword\">import</span> os\n\n# ì‹œê³„ì—´ í”Œë¡¯ì„ ê·¸ë ¤ <span class=\"hljs-variable constant_\">HTML</span>ë¡œ ì €ì¥í•˜ëŠ” í•¨ìˆ˜\ndef <span class=\"hljs-title function_\">plot_timeseries_for_spot</span>(spot_id, ts_df):\n    df_spot = ts_df[ts_df[<span class=\"hljs-string\">'ID'</span>] == spot_id]\n    <span class=\"hljs-title function_\">print</span>(df_spot)\n    fig = px.<span class=\"hljs-title function_\">line</span>(df_spot, x=<span class=\"hljs-string\">'Date'</span>, y=<span class=\"hljs-string\">'Water Surface Area'</span>, title=f<span class=\"hljs-string\">'Time Series for Lake {spot_id}'</span>)\n\n     # X ë° Y ì¶• ë ˆì´ë¸” ì¶”ê°€\n    fig.<span class=\"hljs-title function_\">update_layout</span>(\n        xaxis_title=<span class=\"hljs-string\">\"Date\"</span>,\n        yaxis_title=<span class=\"hljs-string\">\"Water Surface Area (sq km)\"</span>\n    )\n\n    filepath = f<span class=\"hljs-string\">'tmp_{int(spot_id)}.html'</span>\n    fig.<span class=\"hljs-title function_\">write_html</span>(filepath, include_plotlyjs=<span class=\"hljs-string\">'cdn'</span>)\n    <span class=\"hljs-keyword\">return</span> filepath\n\n# ì§€ë„ ìƒì„±\nm = folium.<span class=\"hljs-title class_\">Map</span>(location=[<span class=\"hljs-number\">35.5</span>, -<span class=\"hljs-number\">119.5</span>], zoom_start=<span class=\"hljs-number\">7</span>)\n\n# <span class=\"hljs-title class_\">Plotly</span> ì‹œê³„ì—´ íŒì—…ì´ ìˆëŠ” ë§ˆì»¤ ì¶”ê°€\n<span class=\"hljs-keyword\">for</span> index, row <span class=\"hljs-keyword\">in</span> lakes_df.<span class=\"hljs-title function_\">iterrows</span>():\n    html_path = <span class=\"hljs-title function_\">plot_timeseries_for_spot</span>(row[<span class=\"hljs-string\">'ID'</span>], final_df)\n    iframe = folium.<span class=\"hljs-title class_\">IFrame</span>(html=<span class=\"hljs-title function_\">open</span>(html_path).<span class=\"hljs-title function_\">read</span>(), width=<span class=\"hljs-number\">500</span>, height=<span class=\"hljs-number\">300</span>)\n    popup = folium.<span class=\"hljs-title class_\">Popup</span>(iframe, max_width=<span class=\"hljs-number\">2650</span>)\n    folium.<span class=\"hljs-title class_\">Marker</span>([row[<span class=\"hljs-string\">'Centroid_Lat'</span>], row[<span class=\"hljs-string\">'Centroid_Lon'</span>]], popup=popup).<span class=\"hljs-title function_\">add_to</span>(m)\n\nm.<span class=\"hljs-title function_\">save</span>(<span class=\"hljs-string\">'map_with_timeseries.html'</span>)\n\n# ì„ì‹œ <span class=\"hljs-variable constant_\">HTML</span> íŒŒì¼ ì •ë¦¬\n<span class=\"hljs-keyword\">for</span> spot_id <span class=\"hljs-keyword\">in</span> lakes_df[<span class=\"hljs-string\">'ID'</span>]:\n    os.<span class=\"hljs-title function_\">remove</span>(f<span class=\"hljs-string\">'tmp_{spot_id}.html'</span>)\n</code></pre>\n<p>ì´ ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” í•¨ìˆ˜ê°€ ê° í˜¸ìˆ˜ì˜ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ í•„í„°ë§í•˜ê³ , Plotlyë¥¼ ì‚¬ìš©í•˜ì—¬ ë¼ì¸ í”Œë¡¯ì„ ìƒì„±í•˜ê³ , í”Œë¡¯ì„ HTML íŒŒì¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤. ë‹¤ìŒìœ¼ë¡œ Foliumì„ ì‚¬ìš©í•˜ì—¬ ì§€ë„ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ í˜¸ìˆ˜ DataFrameì„ ë°˜ë³µí•˜ë©´ì„œ, ê° í˜¸ìˆ˜ì˜ ì¤‘ì‹¬ ì¢Œí‘œì— ë§ˆì»¤ë¥¼ ì¶”ê°€í•˜ê³ , ê° ë§ˆì»¤ì— íŒì—…ì„ ì—°ê²°í•˜ì—¬ ì‹œê³„ì—´ í”Œë¡¯ì„ í‘œì‹œí•©ë‹ˆë‹¤. ìµœì¢… ì§€ë„ëŠ” HTML íŒŒì¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ, Plotly í”Œë¡¯ì— ìƒì„±ëœ ì„ì‹œ HTML íŒŒì¼ì„ ì‚­ì œí•˜ì—¬ ì •ë¦¬í•©ë‹ˆë‹¤.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</p>\n<p>ì½˜í…ì¸  í´ë”ì— ìƒì„±ëœ HTML íŒŒì¼ì„ ì—´ë©´ ì§€ë„ì— í‘œì‹œëœ ê° í˜¸ìˆ˜ì˜ ì¤‘ì‹¬ ì¢Œí‘œë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><img src=\"/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_6.png\" alt=\"ì§€ë„\"></p>\n<p>ê° í˜¸ìˆ˜ë¥¼ í´ë¦­í•˜ì—¬ ì‹œê³„ì—´ì´ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ì´ ëª¨ë“  ë…¸ë ¥ ëì— ì´ë ‡ê²Œ ì‹¤ìš©ì ì¸ ì§€ë„ê°€ ë§Œë“¤ì–´ì¡Œë„¤ìš”, ë§ë‚˜ìš”? :D</p>\n<h2>ğŸ“„ ê²°ë¡ </h2>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ê±°ì˜ ë§¤ë‹¬ ìƒˆë¡œìš´ íŒ¨í‚¤ì§€ì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ ë‚˜ì™€ì„œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ê³  ë¶„ì„í•˜ë©° í‘œì‹œí•˜ê³  ì‹œê°í™”í•˜ëŠ” ë²•ì„ ì‹¤ìš©ì ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ë¶„ì•¼ì—ì„œ ì•„ì§ ë‚¨ì•„ ìˆëŠ” ë‘ ê°€ì§€ ê³¼ì œê°€ ìˆìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ëŠ” ë°ì´í„°ë¥¼ ì •í™•í•˜ê²Œ ë¶„ì„í•˜ê¸° ìœ„í•´ì„œëŠ” í…Œë¼ë°”ì´íŠ¸ ë˜ëŠ” í˜íƒ€ë°”ì´íŠ¸ì—ì„œ ì¶”ì¶œëœ ë°ì´í„°ê°€ ì •í™•í•œì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì¶©ë¶„í•œ ê²½í—˜ì´ í•„ìš”í•©ë‹ˆë‹¤. ë‘ ë²ˆì§¸ëŠ” ì´ëŸ¬í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ ì—°ê²°í•˜ì—¬ ì˜ë¯¸ ìˆëŠ” ê²ƒì„ ë§Œë“¤ì–´ë‚´ëŠ” ì•„í‚¤í…ì²˜ë¥¼ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤.</p>\n<p>ì´ë¯¸ì§€ ì²˜ë¦¬ì—ì„œëŠ” ì²˜ë¦¬ëœ ë°ì´í„°ì—ì„œì˜ ê°„ë‹¨í•œ ì‹¤ìˆ˜ê°€ ì¤‘ëŒ€í•œ ì˜¤ë¥˜ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆëŠ” ì ì„ ê°•ì¡°í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ì‹œê°í™” ë¶€ë¶„ì—ì„œëŠ” Folium, Plotly, ê·¸ë¦¬ê³  ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ì¶”ì¶œí•˜ê¸° ìœ„í•œ APIë¥¼ ì—°ê²°í•˜ì—¬, ë¦¬ëª¨íŠ¸ ì„¼ì‹± ê´€ì¸¡ì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ì–‘í•œ í˜„ìƒì„ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ìœ ìš©í•œ ë„êµ¬ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŒì„ ë³´ì—¬ì£¼ì—ˆìŠµë‹ˆë‹¤. ì´ ê¸€ì„ ì½ëŠ” ë° ì¦ê±°ì›€ì„ ëŠë¼ì‹œê¸°ë¥¼ ë°”ë¼ë©°, ê¶ê¸ˆí•œ ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ì—°ë½ ì£¼ì„¸ìš”.</p>\n<h2>ğŸ“š ì°¸ê³  ìë£Œ</h2>\n<p><a href=\"https://github.com/stac-utils/pystac-client/blob/main/docs/quickstart.rst\" rel=\"nofollow\" target=\"_blank\">https://github.com/stac-utils/pystac-client/blob/main/docs/quickstart.rst</a></p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p><a href=\"https://www.element84.com/earth-search/examples/\" rel=\"nofollow\" target=\"_blank\">https://www.element84.com/earth-search/examples/</a></p>\n<p>Sentinel ë°ì´í„°ìš© Copernicus Sentinel ë°ì´í„° [2024]</p>\n<p>Copernicus ì„œë¹„ìŠ¤ ì •ë³´ìš© Copernicus ì„œë¹„ìŠ¤ ì •ë³´ [2024]</p>\n<p>ğŸ“± ë” ë§ì€ í¥ë¯¸ë¡œìš´ ì½˜í…ì¸ ë¥¼ ì œê³µí•˜ëŠ” ë‹¤ë¥¸ í”Œë«í¼ì—ì„œ ì €ì™€ ì†Œí†µí•˜ì„¸ìš”! LinkedIn, ResearchGate, Github ë° Twitter.</p>\n<!-- ui-station ì‚¬ê°í˜• -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>ì´ ë§í¬ë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆëŠ” ê´€ë ¨ ê²Œì‹œë¬¼ì´ ìˆìŠµë‹ˆë‹¤:</p>\n</body>\n</html>\n"},"__N_SSG":true}