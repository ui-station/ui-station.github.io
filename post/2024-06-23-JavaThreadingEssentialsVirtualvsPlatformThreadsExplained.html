<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>ìë°” ìŠ¤ë ˆë”© í•„ìˆ˜ ë²„ì¶”ì–¼ ìŠ¤ë ˆë“œì™€ í”Œë«í¼ ìŠ¤ë ˆë“œ ë¹„êµ ë¶„ì„ | ui-station</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://ui-station.github.io///post/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="ìë°” ìŠ¤ë ˆë”© í•„ìˆ˜ ë²„ì¶”ì–¼ ìŠ¤ë ˆë“œì™€ í”Œë«í¼ ìŠ¤ë ˆë“œ ë¹„êµ ë¶„ì„ | ui-station" data-gatsby-head="true"/><meta property="og:title" content="ìë°” ìŠ¤ë ˆë”© í•„ìˆ˜ ë²„ì¶”ì–¼ ìŠ¤ë ˆë“œì™€ í”Œë«í¼ ìŠ¤ë ˆë“œ ë¹„êµ ë¶„ì„ | ui-station" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://ui-station.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://ui-station.github.io///post/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained" data-gatsby-head="true"/><meta name="twitter:title" content="ìë°” ìŠ¤ë ˆë”© í•„ìˆ˜ ë²„ì¶”ì–¼ ìŠ¤ë ˆë“œì™€ í”Œë«í¼ ìŠ¤ë ˆë“œ ë¹„êµ ë¶„ì„ | ui-station" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | ui-station" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-23 20:34" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BHFR6GTH9P"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-BHFR6GTH9P');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/_next/static/chunks/348-d11c34b645b13f5b.js" defer=""></script><script src="/_next/static/chunks/162-4172e84c8e2aa747.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-4f7b40c1114f0d09.js" defer=""></script><script src="/_next/static/bb_yO9GbCvdfc_n71SfUf/_buildManifest.js" defer=""></script><script src="/_next/static/bb_yO9GbCvdfc_n71SfUf/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">UI STATION</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">ìë°” ìŠ¤ë ˆë”© í•„ìˆ˜ ë²„ì¶”ì–¼ ìŠ¤ë ˆë“œì™€ í”Œë«í¼ ìŠ¤ë ˆë“œ ë¹„êµ ë¶„ì„</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="ìë°” ìŠ¤ë ˆë”© í•„ìˆ˜ ë²„ì¶”ì–¼ ìŠ¤ë ˆë“œì™€ í”Œë«í¼ ìŠ¤ë ˆë“œ ë¹„êµ ë¶„ì„" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">UI STATION</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 23, 2024</span><span class="posts_reading_time__f7YPP">14<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>ì´ ê¸°ì‚¬ì—ì„œëŠ” ì“°ë ˆë“œì™€ "ê°€ìƒ ì“°ë ˆë“œ"ë¼ê³  ë¶ˆë¦¬ëŠ” ìµœê·¼ ê¸°ëŠ¥ì— ëŒ€í•´ ì•Œì•„ë³¼ ê²ƒì…ë‹ˆë‹¤. ì´ í”Œë«í¼ ì“°ë ˆë“œì™€ ê°€ìƒ ì“°ë ˆë“œê°€ ì–´ë–»ê²Œ ì„±ê²©ì´ ë‹¤ë¥´ë©° ì–´ë–»ê²Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ í–¥ìƒì— ê¸°ì—¬í•˜ëŠ”ì§€ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.</p>
<p><img src="/assets/img/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained_0.png" alt="ì´ë¯¸ì§€"></p>
<h2>í´ë˜ì‹ ì“°ë ˆë“œ ë°°ê²½:</h2>
<p>ì™¸ë¶€ APIë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ ìƒí˜¸ì‘ìš©ê³¼ ê°™ì€ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì‚´í´ë³´ê³  ì‹¤í–‰ ì¤‘ì¸ ì“°ë ˆë“œ ìˆ˜ëª…ì£¼ê¸°ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.</p>
<p></p>
<ul>
<li>ë©”ëª¨ë¦¬ì— ìƒì„±ë˜ê³  ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•  ìˆ˜ ìˆëŠ” ìŠ¤ë ˆë“œì…ë‹ˆë‹¤.</li>
<li>ìš”ì²­ì´ ì ‘ê·¼í•˜ë©´ ìŠ¤ë ˆë“œ ì¤‘ í•˜ë‚˜ì— ë§¤í•‘ë˜ì–´ ì™¸ë¶€ APIë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</li>
<li>ìŠ¤ë ˆë“œëŠ” ì„œë¹„ìŠ¤ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ë¡œë¶€í„° ì‘ë‹µì„ ë°›ì„ ë•Œê¹Œì§€ ëŒ€ê¸°í•©ë‹ˆë‹¤.</li>
<li>ì‘ë‹µì„ ë°›ìë§ˆì í›„ì† í™œë™ì„ ì‹¤í–‰í•œ í›„ í’€ë¡œ ë‹¤ì‹œ ë°˜í™˜í•©ë‹ˆë‹¤.</li>
</ul>
<p><img src="/assets/img/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained_1.png" alt="ì´ë¯¸ì§€"></p>
<p>ìœ„ ìƒëª…ì£¼ê¸°ì—ì„œ ìŠ¤ë ˆë“œê°€ ì•„ë¬´ê²ƒë„ í•˜ëŠ” ëŒ€ê¸° ë‹¨ê³„ì¸ ë‹¨ê³„ 3ì„ ê´€ì°°í•˜ì‹­ì‹œì˜¤. ì´ê²ƒì€ ì£¼ë¡œ ëŒ€ê¸°í•˜ì—¬ ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ë¥¼ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ë¯€ë¡œ ë‹¨ì ì´ë©° ìˆ˜ëª… ì£¼ê¸° ì¤‘ ëŒ€ë¶€ë¶„ì˜ ìŠ¤ë ˆë“œê°€ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ë©° ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
<p>Java 19 ì´ì „ì—ëŠ” ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ëŠ” í‘œì¤€ ë°©ë²• ë˜ëŠ” ì¡´ì¬í•˜ëŠ” ìŠ¤ë ˆë“œê°€ Native Threads ë˜ëŠ” Platform Threadsë¡œ ë¶ˆë¦½ë‹ˆë‹¤. ì´ ì•„í‚¤í…ì³ ìŠ¤íƒ€ì¼ì—ì„œ Platform ìŠ¤ë ˆë“œì™€ OS ìŠ¤ë ˆë“œ ì‚¬ì´ì— 1:1 ë§¤í•‘ì´ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ìš´ì˜ ì²´ì œ ìŠ¤ë ˆë“œê°€ ì™„ë£Œë ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ê¸°ë§Œ í•˜ê³  ì•„ë¬´ ê²ƒë„í•˜ì§€ ì•Šì•„ì„œ ë¯¸ì‚¬ìš© ìƒíƒœì´ë©° ì´ë¥¼ ë¬´ê²ê³  ë¹„ì‹¸ê²Œ ë§Œë“­ë‹ˆë‹¤.</p>
<p></p>
<h2>ê°€ìƒ ìŠ¤ë ˆë“œ:</h2>
<p>ìë°”ì˜ ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ìë°”ê°€ ë™ì‹œì„± ë° ë©€í‹°ìŠ¤ë ˆë”©ì„ ë‹¤ë£¨ëŠ” ë°©ì‹ì—ì„œ ì¤‘ëŒ€í•œ ë°œì „ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì˜¤ë¼í´ì˜ í”„ë¡œì íŠ¸ ë£¸(Projext Loom)ì˜ ì¼í™˜ìœ¼ë¡œ ì†Œê°œëœ ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ê³ ì„±ëŠ¥ì˜ ë™ì‹œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‘ì„±, ìœ ì§€ ë° ê´€ì°°í•˜ê¸° ìœ„í•œ ë„ì „ì— ëŒ€ì‘í•˜ê¸° ìœ„í•œ ì´ë‹ˆì…”í‹°ë¸Œë¡œ, ê°œë°œìê°€ ë™ì‹œì„±ì„ ë” ì‰½ê²Œ ë‹¤ë£° ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<p>ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ìš´ì˜ ì²´ì œê°€ ì•„ë‹Œ Java ê°€ìƒ ë¨¸ì‹ (JVM)ì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” ê°€ë³ê³  ìì›ì†Œëª¨ê°€ ì ì€ ìŠ¤ë ˆë“œì…ë‹ˆë‹¤. í”Œë«í¼ ìŠ¤ë ˆë“œì™€ëŠ” ë‹¬ë¦¬ ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ì‰½ê²Œ ìƒì„± ë° í•´ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë“¤ì€ ì ì€ ìˆ˜ì˜ í”Œë«í¼ ìŠ¤ë ˆë“œì— ë§¤í•‘ë˜ì–´ ìˆ˜ì²œ ê°œ ë˜ëŠ” ìˆ˜ë°±ë§Œ ê°œì˜ ì‘ì—…ì„ ë” ì ì€ ìì›ìœ¼ë¡œ ë™ì‹œì— ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.</p>
<p><img src="/assets/img/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained_2.png" alt="ê°€ìƒ vs í”Œë«í¼ ìŠ¤ë ˆë“œ"></p>
<p></p>
<h2>ê°€ìƒ ìŠ¤ë ˆë“œì˜ ì¥ì  Platform ìŠ¤ë ˆë“œ ëŒ€ë¹„</h2>
<p>ìë°”ì—ì„œ ê°€ìƒ ìŠ¤ë ˆë“œì˜ ì¥ì ì€ ë§ìŠµë‹ˆë‹¤. ë¨¼ì €, ê°€ìƒ ìŠ¤ë ˆë“œë¥¼ í†µí•´ ì‹œìŠ¤í…œ ìì›ì„ ë” íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ê°€ë²¼ì›Œì„œ í”Œë«í¼ ìŠ¤ë ˆë“œë³´ë‹¤ ì ì€ ë©”ëª¨ë¦¬ì™€ CPU ìì›ì„ ì†Œë¹„í•©ë‹ˆë‹¤. ì´ íš¨ìœ¨ì„±ìœ¼ë¡œ ì¸í•´ ë™ì‹œì„±ì˜ ì •ë„ë¥¼ ë†’ì¼ ìˆ˜ ìˆì–´ í•˜ë‚˜ì˜ JVMì—ì„œ ë§ì€ ìˆ˜ì˜ ë™ì‹œ ì‘ì—…ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ë‘˜ì§¸, ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ìë°”ì—ì„œ ë™ì‹œ í”„ë¡œê·¸ë˜ë°ì„ ê°„ë‹¨í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤. ê°œë°œìë“¤ì€ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì˜ ë³µì¡ì„±ì„ ë‹¤ë£¨ì§€ ì•Šê³  ë™ê¸°ì‹ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒê³¼ ìœ ì‚¬í•œ ê°„ë‹¨í•˜ê³  ëª…ë ¹í˜• ìŠ¤íƒ€ì¼ë¡œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê°„ì†Œí™”ë¥¼ í†µí•´ êµì°©ìƒíƒœë‚˜ ê²½ìŸ ì¡°ê±´ê³¼ ê°™ì€ ì¼ë°˜ì ì¸ ë™ì‹œì„± ê´€ë ¨ ë²„ê·¸ì˜ ë°œìƒ ê°€ëŠ¥ì„±ì„ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ê²Œë‹¤ê°€, ê°€ìƒ ìŠ¤ë ˆë“œëŠ” CPU ì´ìš©ë¥ ì„ í–¥ìƒì‹œì¼œì¤ë‹ˆë‹¤. ê¸°ì¡´ì˜ ìŠ¤ë ˆë“œ ëª¨ë¸ì—ì„œëŠ” ë§ì€ ìˆ˜ì˜ ìŠ¤ë ˆë“œ ì‚¬ì´ì˜ ê´€ë¦¬ì™€ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ìœ¼ë¡œ ë§ì€ CPU ì‹œê°„ì´ ì†Œë¹„ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ê³¼ ê´€ë ¨ëœ ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ì—¬ ë™ì‹œ ì‘ì—…ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.</p>
<p></p>
<h2>ì‹¤ìš©ì ì¸ ë°©ë²•:</h2>
<p>ë§Œì•½ ìš°ë¦¬ê°€ ì¼ì„ ì™„ë£Œí•˜ê¸° ìœ„í•´ í´ë˜ì‹ í”Œë«í¼ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ê³  ì‹¶ë‹¤ë©´, ì•„ë˜ì™€ ê°™ì´ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. PlatformThreadDemo.java íŒŒì¼ì„ ë§Œë“¤ê³  ì•„ë˜ ë‚´ìš©ì„ ë³µì‚¬í•˜ì„¸ìš”.</p>
<pre><code class="hljs language-js">package org.<span class="hljs-property">vaslabs</span>;

<span class="hljs-keyword">import</span> org.<span class="hljs-property">slf4j</span>.<span class="hljs-property">Logger</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">slf4j</span>.<span class="hljs-property">LoggerFactory</span>;

public <span class="hljs-keyword">class</span> <span class="hljs-title class_">PlatformThreadDemo</span> {
    private <span class="hljs-keyword">static</span> final <span class="hljs-title class_">Logger</span> logger = <span class="hljs-title class_">LoggerFactory</span>.<span class="hljs-title function_">getLogger</span>(<span class="hljs-title class_">PlatformThreadDemo</span>.<span class="hljs-property">class</span>);

    public <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] args</span>) {
        <span class="hljs-title function_">attendMeeting</span>().<span class="hljs-title function_">start</span>();
        <span class="hljs-title function_">completeLunch</span>().<span class="hljs-title function_">start</span>();
    }

    private <span class="hljs-keyword">static</span> <span class="hljs-title class_">Thread</span> <span class="hljs-title function_">attendMeeting</span>(<span class="hljs-params"></span>){
        <span class="hljs-keyword">var</span> message = <span class="hljs-string">"Platform Thread [Attend Meeting]"</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -> {
            logger.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">STR</span>.<span class="hljs-string">"{} | \{message}"</span>, <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">currentThread</span>());
        });
    }

    private <span class="hljs-keyword">static</span> <span class="hljs-title class_">Thread</span> <span class="hljs-title function_">completeLunch</span>(<span class="hljs-params"></span>){
        <span class="hljs-keyword">var</span> message = <span class="hljs-string">"Platform Thread [Complete Lunch]"</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -> {
            logger.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">STR</span>.<span class="hljs-string">"{} | \{message}"</span>, <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">currentThread</span>());
        });
    }

    <span class="hljs-comment">// using builder pattern to create platform threads</span>
    private <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">attendMeeting1</span>(<span class="hljs-params"></span>){
        <span class="hljs-keyword">var</span> message = <span class="hljs-string">"Platform Thread [Attend Meeting]"</span>;
        <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">ofPlatform</span>().<span class="hljs-title function_">start</span>(() -> {
            logger.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">STR</span>.<span class="hljs-string">"{} | \{message}"</span>, <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">currentThread</span>());
        });
    }

    private <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">completeLunch1</span>(<span class="hljs-params"></span>){
        <span class="hljs-keyword">var</span> message = <span class="hljs-string">"Platform Thread [Complete Lunch]"</span>;
        <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">ofPlatform</span>().<span class="hljs-title function_">start</span>(() -> {
            logger.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">STR</span>.<span class="hljs-string">"{} | \{message}"</span>, <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">currentThread</span>());
        });
    }
}
</code></pre>
<p>ìœ„ ì˜ˆì œëŠ” í”Œë«í¼ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ëŠ” ë‘ ê°€ì§€ ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.</p>
<ol>
<li>Thread ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒë‹¤ ëŸ°ë„ˆë¸”ì„ ì „ë‹¬í•˜ëŠ” ë°©ë²•</li>
<li>Threadì˜ ë¹Œë” ë©”ì„œë“œ ofPlatform()ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•</li>
</ol>
<p></p>
<p>ë” ë³µì¡í•œ ì½”ë”©ì„ ë³´ê³  ê°€ìƒ ìŠ¤ë ˆë“œë¥¼ ë™ì‹œì— ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. DailyRoutineWorkflow.java íŒŒì¼ì„ ìƒì„±í•˜ê³  ì•„ë˜ ì½”ë“œë¥¼ ë³µì‚¬í•˜ì„¸ìš”.</p>
<pre><code class="hljs language-js">package org.<span class="hljs-property">vaslabs</span>;

<span class="hljs-keyword">import</span> org.<span class="hljs-property">slf4j</span>.<span class="hljs-property">Logger</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">slf4j</span>.<span class="hljs-property">LoggerFactory</span>;

<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">concurrent</span>.<span class="hljs-property">TimeUnit</span>;

public <span class="hljs-keyword">class</span> <span class="hljs-title class_">DailyRoutineWorkflow</span> {
    <span class="hljs-keyword">static</span> final <span class="hljs-title class_">Logger</span> logger = <span class="hljs-title class_">LoggerFactory</span>.<span class="hljs-title function_">getLogger</span>(<span class="hljs-title class_">DailyRoutineWorkflow</span>.<span class="hljs-property">class</span>);

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">log</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> message</span>) {
        logger.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">STR</span>.<span class="hljs-string">"{} | \{message}"</span>, <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">currentThread</span>());
    }


    private <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sleep</span>(<span class="hljs-title class_">Long</span> duration) throws <span class="hljs-title class_">InterruptedException</span> {
        <span class="hljs-title class_">TimeUnit</span>.<span class="hljs-property">MILLISECONDS</span>.<span class="hljs-title function_">sleep</span>(duration);
    }

    private <span class="hljs-keyword">static</span> <span class="hljs-title class_">Thread</span> <span class="hljs-title function_">virtualThread</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> name, Runnable runnable</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">ofVirtual</span>().<span class="hljs-title function_">name</span>(name).<span class="hljs-title function_">start</span>(runnable);
    }

    <span class="hljs-keyword">static</span> <span class="hljs-title class_">Thread</span> <span class="hljs-title function_">attendMorningStatusMeeting</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">virtualThread</span>(
                <span class="hljs-string">"Morning Status Meeting"</span>,
                () -> {
                    <span class="hljs-title function_">log</span>(<span class="hljs-string">"ì•„ì¹¨ ìƒíƒœ íšŒì˜ì— ì°¸ì„í•˜ê² ìŠµë‹ˆë‹¤."</span>);
                    <span class="hljs-keyword">try</span> {
                        <span class="hljs-title function_">sleep</span>(1000L);
                    } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">InterruptedException</span> e) {
                        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
                    }
                    <span class="hljs-title function_">log</span>(<span class="hljs-string">"ì•„ì¹¨ ìƒíƒœ íšŒì˜ë¥¼ ë§ˆì³¤ìŠµë‹ˆë‹¤."</span>);
                });
    }

    <span class="hljs-keyword">static</span> <span class="hljs-title class_">Thread</span> <span class="hljs-title function_">workOnTasksAssigned</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">virtualThread</span>(
                <span class="hljs-string">"Work on the actual Tasks"</span>,
                () -> {
                    <span class="hljs-title function_">log</span>(<span class="hljs-string">"í• ë‹¹ëœ ì‘ì—…ì— ëŒ€í•´ ì‹¤ì œ ì‘ì—…ì„ ì‹œì‘í•©ë‹ˆë‹¤."</span>);
                    <span class="hljs-keyword">try</span> {
                        <span class="hljs-title function_">sleep</span>(1000L);
                    } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">InterruptedException</span> e) {
                        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
                    }
                    <span class="hljs-title function_">log</span>(<span class="hljs-string">"í• ë‹¹ëœ ì‘ì—…ì— ëŒ€í•œ ì‹¤ì œ ì‘ì—…ì„ ë§ˆì³¤ìŠµë‹ˆë‹¤."</span>);
                });
    }

    <span class="hljs-keyword">static</span> <span class="hljs-title class_">Thread</span> <span class="hljs-title function_">attendEveningStatusMeeting</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">virtualThread</span>(
                <span class="hljs-string">"Evening Status Meeting"</span>,
                () -> {
                    <span class="hljs-title function_">log</span>(<span class="hljs-string">"ì €ë… ìƒíƒœ íšŒì˜ì— ì°¸ì„í•˜ê² ìŠµë‹ˆë‹¤."</span>);
                    <span class="hljs-keyword">try</span> {
                        <span class="hljs-title function_">sleep</span>(1000L);
                    } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">InterruptedException</span> e) {
                        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
                    }
                    <span class="hljs-title function_">log</span>(<span class="hljs-string">"ì €ë… ìƒíƒœ íšŒì˜ë¥¼ ë§ˆì³¤ìŠµë‹ˆë‹¤."</span>);
                });
    }

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">concurrentRoutineExecutor</span>() throws <span class="hljs-title class_">InterruptedException</span> {
        <span class="hljs-keyword">var</span> morningMeeting = <span class="hljs-title function_">attendMorningStatusMeeting</span>();
        <span class="hljs-keyword">var</span> actualWork = <span class="hljs-title function_">workOnTasksAssigned</span>();
        <span class="hljs-keyword">var</span> eveningMeeting = <span class="hljs-title function_">attendEveningStatusMeeting</span>();
        morningMeeting.<span class="hljs-title function_">join</span>();
        actualWork.<span class="hljs-title function_">join</span>();
        eveningMeeting.<span class="hljs-title function_">join</span>();
    }
}
</code></pre>
<p>ìœ„ì˜ ì½”ë“œëŠ” íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œ ê°€ìƒ ìŠ¤ë ˆë“œ ìƒì„±ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. íŒ©í† ë¦¬ ë©”ì„œë“œ ì™¸ì—ë„ java.util.concurrent.ExecutorServiceë¥¼ ì‚¬ìš©í•˜ì—¬ ê°€ìƒ ìŠ¤ë ˆë“œë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ExecutorServiceë¥¼ ì‚¬ìš©í•´ ë™ì¼í•œ ê¸°ëŠ¥ì„ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">package org.<span class="hljs-property">vaslabs</span>;

<span class="hljs-keyword">import</span> org.<span class="hljs-property">slf4j</span>.<span class="hljs-property">Logger</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">slf4j</span>.<span class="hljs-property">LoggerFactory</span>;

<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">concurrent</span>.<span class="hljs-property">ExecutionException</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">concurrent</span>.<span class="hljs-property">Executors</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">concurrent</span>.<span class="hljs-property">TimeUnit</span>;

public <span class="hljs-keyword">class</span> <span class="hljs-title class_">DailyRoutineWorkflowUsingExecutors</span> {
    <span class="hljs-keyword">static</span> final <span class="hljs-title class_">Logger</span> logger = <span class="hljs-title class_">LoggerFactory</span>.<span class="hljs-title function_">getLogger</span>(<span class="hljs-title class_">DailyRoutineWorkflowUsingExecutors</span>.<span class="hljs-property">class</span>);

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">log</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> message</span>) {
        logger.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">STR</span>.<span class="hljs-string">"{} | \{message}"</span>, <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">currentThread</span>());
    }

    private <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sleep</span>(<span class="hljs-title class_">Long</span> duration) throws <span class="hljs-title class_">InterruptedException</span> {
        <span class="hljs-title class_">TimeUnit</span>.<span class="hljs-property">MILLISECONDS</span>.<span class="hljs-title function_">sleep</span>(duration);
    }

    public <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeJobRoute</span>() throws <span class="hljs-title class_">ExecutionException</span>, <span class="hljs-title class_">InterruptedException</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-keyword">var</span> executor = <span class="hljs-title class_">Executors</span>.<span class="hljs-title function_">newVirtualThreadPerTaskExecutor</span>()) {
            <span class="hljs-keyword">var</span> morningMeeting = executor.<span class="hljs-title function_">submit</span>(() -> {
                <span class="hljs-title function_">log</span>(<span class="hljs-string">"ì•„ì¹¨ ìƒíƒœ íšŒì˜ì— ì°¸ì„í•˜ê² ìŠµë‹ˆë‹¤."</span>);
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-title function_">sleep</span>(1000L);
                } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">InterruptedException</span> e) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
                }
                <span class="hljs-title function_">log</span>(<span class="hljs-string">"ì•„ì¹¨ ìƒíƒœ íšŒì˜ë¥¼ ë§ˆì³¤ìŠµë‹ˆë‹¤."</span>);
            });

            <span class="hljs-keyword">var</span> actualWork = executor.<span class="hljs-title function_">submit</span>(() -> {
                <span class="hljs-title function_">log</span>(<span class="hljs-string">"í• ë‹¹ëœ ì‘ì—…ì— ëŒ€í•´ ì‹¤ì œ ì‘ì—…ì„ ì‹œì‘í•©ë‹ˆë‹¤."</span>);
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-title function_">sleep</span>(1000L);
                } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">InterruptedException</span> e) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
                }
                <span class="hljs-title function_">log</span>(<span class="hljs-string">"í• ë‹¹ëœ ì‘ì—…ì— ëŒ€í•œ ì‹¤ì œ ì‘ì—…ì„ ë§ˆì³¤ìŠµë‹ˆë‹¤."</span>);
            });

            <span class="hljs-keyword">var</span> eveningMeeting = executor.<span class="hljs-title function_">submit</span>(() -> {
                <span class="hljs-title function_">log</span>(<span class="hljs-string">"ì €ë… ìƒíƒœ íšŒì˜ì— ì°¸ì„í•˜ê² ìŠµë‹ˆë‹¤."</span>);
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-title function_">sleep</span>(1000L);
                } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">InterruptedException</span> e) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
                }
                <span class="hljs-title function_">log</span>(<span class="hljs-string">"ì €ë… ìƒíƒœ íšŒì˜ë¥¼ ë§ˆì³¤ìŠµë‹ˆë‹¤."</span>);
            });

            morningMeeting.<span class="hljs-title function_">get</span>();
            actualWork.<span class="hljs-title function_">get</span>();
            eveningMeeting.<span class="hljs-title function_">get</span>();
        }
    }
}
</code></pre>
<p></p>
<h2>ê²°ê³¼ì— ëŒ€í•œ ì‹¬ì¸µ ë¶„ì„</h2>
<p>ìœ„ì˜ ì½”ë“œë¥¼ íŒ©í† ë¦¬ ë©”ì„œë“œë‚˜ ExecutorServicesë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤í–‰í•˜ë©´ ì•„ë˜ì™€ ë¹„ìŠ·í•œ ê²°ê³¼ê°€ ë‚˜ì˜¬ ê²ƒì…ë‹ˆë‹¤.</p>
<p><img src="/assets/img/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained_3.png" alt="ì´ë¯¸ì§€"></p>
<p>ì •ë³´ ë¡œê·¸ë¥¼ ì£¼ì˜ ê¹Šê²Œ ì‚´í´ë³´ë©´ "|" (íŒŒì´í”„ ê¸°í˜¸)ì˜ ì–‘ìª½ì— ë‘ ì„¹ì…˜ì´ í‘œì‹œë©ë‹ˆë‹¤. ì²« ë²ˆì§¸ ì„¹ì…˜ì€ VirtualThread[#26]/runnable@ForkJoinPool-1-worker-3ì™€ ê°™ì´ ê°€ìƒ ìŠ¤ë ˆë“œì— ëŒ€í•œ ì •ë³´ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤. ì´ ì„¹ì…˜ì€ ê°€ìƒ ìŠ¤ë ˆë“œ[#26]ê°€ platform ìŠ¤ë ˆë“œì¸ runnable@ForkJoinPool-1-worker-3ì— ë§¤í•‘ë¨ì„ ë‚˜íƒ€ë‚´ë©°, ë‹¤ë¥¸ ì„¹ì…˜ì€ ë¡œê·¸ì˜ ì •ë³´ ë¶€ë¶„ì…ë‹ˆë‹¤.</p>
<p></p>
<h2>ìŠ¤ë ˆë“œ ë¡œì»¬ ë° ê°€ìƒ ìŠ¤ë ˆë“œ:</h2>
<p>ìë°”ì˜ ThreadLocalì€ ë³€ìˆ˜ë¥¼ ìŠ¤ë ˆë“œë³„ë¡œ ì €ì¥í•  ìˆ˜ ìˆëŠ” ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. ThreadLocal ë³€ìˆ˜ì— ì ‘ê·¼í•˜ëŠ” ê° ìŠ¤ë ˆë“œëŠ” ë³€ìˆ˜ì˜ ë…ë¦½ì ìœ¼ë¡œ ì´ˆê¸°í™”ëœ ë³µì‚¬ë³¸ì„ ì–»ê²Œ ë˜ë©°, ì´ë¥¼ í†µí•´ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì˜ ë™ì¼í•œ ë³€ìˆ˜ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  ì ‘ê·¼í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì‚¬ìš©ì ì„¸ì…˜ ë˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ê³¼ ê°™ì´ ìŠ¤ë ˆë“œë³„ ìƒíƒœë¥¼ ìœ ì§€í•˜ê³ ì í•˜ëŠ” ê²½ìš°ì— íŠ¹íˆ ìœ ìš©í•©ë‹ˆë‹¤.</p>
<p>ê·¸ëŸ¬ë‚˜ Project Loomì˜ ì¼í™˜ìœ¼ë¡œ ì†Œê°œëœ ê°€ìƒ ìŠ¤ë ˆë“œì™€ í•¨ê»˜ ThreadLocalì„ ì‚¬ìš©í•  ë•Œ ë™ì‘ì´ í¬ê²Œ ë³€ê²½ë©ë‹ˆë‹¤. ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ìë°” ê°€ìƒ ë¨¸ì‹ (JVM)ì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” ê°€ë²¼ìš´ ìŠ¤ë ˆë“œë¡œ, ìš´ì˜ ì²´ì œì˜ ìŠ¤ë ˆë“œ ê´€ë¦¬ì— ë¬¶ì—¬ ìˆëŠ” ì „í†µì ì¸ í”Œë«í¼ ìŠ¤ë ˆë“œì™€ ë‹¬ë¦¬ ëŒ€ëŸ‰ìœ¼ë¡œ ìŠ¤ì¼€ì¤„ë˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<p>ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ìˆ˜ë°±ë§Œ ê°œë¡œ ìƒì„±ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ThreadLocalì˜ ì‚¬ìš©ì€ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p></p>
<pre><code class="hljs language-java"><span class="hljs-keyword">package</span> org.vaslabs;

<span class="hljs-keyword">import</span> org.slf4j.Logger;
<span class="hljs-keyword">import</span> org.slf4j.LoggerFactory;

<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadLocalDemo</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> ThreadLocal&#x3C;String> stringThreadLocal = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&#x3C;>();

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">logger</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(DailyRoutineWorkflow.class);

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">log</span><span class="hljs-params">(String message)</span> {
        logger.info(STR.<span class="hljs-string">"{} | \{message}"</span>, Thread.currentThread());
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sleep</span><span class="hljs-params">(Long duration)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        TimeUnit.MILLISECONDS.sleep(duration);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">virtualThreadContext</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException {
        <span class="hljs-type">var</span> <span class="hljs-variable">virtualThread1</span> <span class="hljs-operator">=</span> Thread.ofVirtual().name(<span class="hljs-string">"thread-1"</span>).start(() -> {
            stringThreadLocal.set(<span class="hljs-string">"thread-1"</span>);
            <span class="hljs-keyword">try</span> {
                sleep(<span class="hljs-number">1000L</span>);
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
            }
            log(STR.<span class="hljs-string">"thread name is \{stringThreadLocal.get()}"</span>);
        });
        <span class="hljs-type">var</span> <span class="hljs-variable">virtualThread2</span> <span class="hljs-operator">=</span> Thread.ofVirtual().name(<span class="hljs-string">"thread-2"</span>).start(() -> {
            stringThreadLocal.set(<span class="hljs-string">"thread-2"</span>);
            <span class="hljs-keyword">try</span> {
                sleep(<span class="hljs-number">1000L</span>);
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
            }
            log(STR.<span class="hljs-string">"thread name is \{stringThreadLocal.get()}"</span>);
        });
        virtualThread1.join();
        virtualThread2.join();
    }
}
</code></pre>
<h2>ê²°ë¡ :</h2>
<p>ìš”ì•½í•˜ë©´, ì´ Java ìŠ¤ë ˆë”© ëª¨ë¸ì— ê´€í•œ ê¸°ì‚¬ëŠ” Virtual Threads, Platform Threads ë° ThreadLocalì˜ ì„¸ë¶€ ì‚¬í•­ì„ ì‚´í´ë´„ìœ¼ë¡œì¨ Javaì—ì„œ ë™ì‹œì„± í”„ë¡œê·¸ë˜ë°ì˜ ì§„í™”í•˜ëŠ” í’ê²½ì„ ë°í˜€ì¤ë‹ˆë‹¤. Virtual Threadsì€ ê°€ë²¼ìš°ë©´ì„œ íš¨ìœ¨ì ì¸ ë™ì‹œì„±ì„ ì œê³µí•˜ë©° ë¦¬ì†ŒìŠ¤ ì§‘ì•½ì ì¸ Platform Threadsì˜ ë³¸ì§ˆê³¼ëŠ” ëŒ€ì¡°ì ì¸ ì ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ë“¤ì€ ëŒ€ê·œëª¨ì˜ ë™ì‹œ ì‘ì—…ì„ ìµœì†Œí•œì˜ ë¦¬ì†ŒìŠ¤ ì˜¤ë²„í—¤ë“œë¡œ ì‹¤í–‰í•˜ì—¬ í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì„ ê°„ì†Œí™”í•˜ê³  ì‘ìš©í”„ë¡œê·¸ë¨ í™•ì¥ì„±ì„ í–¥ìƒì‹œí‚¤ëŠ” ë°©ì‹ìœ¼ë¡œ Javaì˜ ìŠ¤ë ˆë“œ ì²˜ë¦¬ ë°©ë²•ì„ í˜ì‹ í•©ë‹ˆë‹¤.</p>
<p>ê·¸ëŸ¬ë‚˜ ì´ ìƒˆë¡œìš´ ë§¥ë½ì—ì„œ ThreadLocal ì‚¬ìš©ì˜ ë³µì¡ì„±ì€ ì‹ ì¤‘í•œ ê³ ë ¤ê°€ í•„ìš”í•¨ì„ ê°•ì¡°í•©ë‹ˆë‹¤. ThreadLocalì€ ê¸°ì¡´ ìŠ¤ë ˆë”©ì—ì„œ ìŠ¤ë ˆë“œë³„ ë°ì´í„°ë¥¼ ìœ ì§€í•˜ëŠ” ê°•ë ¥í•œ ë„êµ¬ë¡œ ë‚¨ì•„ ìˆì§€ë§Œ, ê°€ìƒ ìŠ¤ë ˆë“œì—ì„œëŠ” ë” ë³µì¡í•´ì§€ë¯€ë¡œ ìƒíƒœ ë° ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ë¥¼ ìœ„í•œ ëŒ€ì²´ ì „ëµì´ í•„ìš”í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ê°œë…ë“¤ì€ Javaì˜ ë™ì‹œì„± íŒ¨ëŸ¬ë‹¤ì„ì—ì„œ ì¤‘ëŒ€í•œ ë³€í™”ë¥¼ ë‚˜íƒ€ë‚´ë©°, ê°œë°œìë“¤ì´ ë³´ë‹¤ ë°˜ì‘ì„±ì´ ë›°ì–´ë‚˜ê³  í™•ì¥ ê°€ëŠ¥í•˜ë©° íš¨ìœ¨ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ ê¸°íšŒë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
<p></p>
<h1>ìŠ¤íƒì•„ë°ë¯¹</h1>
<p>ëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ:</p>
<ul>
<li>ì‘ê°€ë¥¼ ì‘ì›í•˜ê³  íŒ”ë¡œìš°í•´ì£¼ì‹œê¸¸ ë°”ëë‹ˆë‹¤! ğŸ‘</li>
<li>íŠ¸ìœ„í„°(X), ë§í¬ë“œì¸, YouTubeì—ì„œ íŒ”ë¡œìš°í•´ì£¼ì„¸ìš”.</li>
<li>ì „ ì„¸ê³„ì ìœ¼ë¡œ í”„ë¡œê·¸ë˜ë° êµìœ¡ì„ ë¬´ë£Œë¡œ ì œê³µí•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ë ¤ë©´ Stackademic.comì„ ë°©ë¬¸í•´ì£¼ì„¸ìš”.</li>
</ul>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"ìë°” ìŠ¤ë ˆë”© í•„ìˆ˜ ë²„ì¶”ì–¼ ìŠ¤ë ˆë“œì™€ í”Œë«í¼ ìŠ¤ë ˆë“œ ë¹„êµ ë¶„ì„","description":"","date":"2024-06-23 20:34","slug":"2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained","content":"\nì´ ê¸°ì‚¬ì—ì„œëŠ” ì“°ë ˆë“œì™€ \"ê°€ìƒ ì“°ë ˆë“œ\"ë¼ê³  ë¶ˆë¦¬ëŠ” ìµœê·¼ ê¸°ëŠ¥ì— ëŒ€í•´ ì•Œì•„ë³¼ ê²ƒì…ë‹ˆë‹¤. ì´ í”Œë«í¼ ì“°ë ˆë“œì™€ ê°€ìƒ ì“°ë ˆë“œê°€ ì–´ë–»ê²Œ ì„±ê²©ì´ ë‹¤ë¥´ë©° ì–´ë–»ê²Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ í–¥ìƒì— ê¸°ì—¬í•˜ëŠ”ì§€ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained_0.png)\n\n## í´ë˜ì‹ ì“°ë ˆë“œ ë°°ê²½:\n\nì™¸ë¶€ APIë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ ìƒí˜¸ì‘ìš©ê³¼ ê°™ì€ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì‚´í´ë³´ê³  ì‹¤í–‰ ì¤‘ì¸ ì“°ë ˆë“œ ìˆ˜ëª…ì£¼ê¸°ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ë©”ëª¨ë¦¬ì— ìƒì„±ë˜ê³  ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•  ìˆ˜ ìˆëŠ” ìŠ¤ë ˆë“œì…ë‹ˆë‹¤.\n- ìš”ì²­ì´ ì ‘ê·¼í•˜ë©´ ìŠ¤ë ˆë“œ ì¤‘ í•˜ë‚˜ì— ë§¤í•‘ë˜ì–´ ì™¸ë¶€ APIë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.\n- ìŠ¤ë ˆë“œëŠ” ì„œë¹„ìŠ¤ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ë¡œë¶€í„° ì‘ë‹µì„ ë°›ì„ ë•Œê¹Œì§€ ëŒ€ê¸°í•©ë‹ˆë‹¤.\n- ì‘ë‹µì„ ë°›ìë§ˆì í›„ì† í™œë™ì„ ì‹¤í–‰í•œ í›„ í’€ë¡œ ë‹¤ì‹œ ë°˜í™˜í•©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained_1.png)\n\nìœ„ ìƒëª…ì£¼ê¸°ì—ì„œ ìŠ¤ë ˆë“œê°€ ì•„ë¬´ê²ƒë„ í•˜ëŠ” ëŒ€ê¸° ë‹¨ê³„ì¸ ë‹¨ê³„ 3ì„ ê´€ì°°í•˜ì‹­ì‹œì˜¤. ì´ê²ƒì€ ì£¼ë¡œ ëŒ€ê¸°í•˜ì—¬ ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ë¥¼ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ë¯€ë¡œ ë‹¨ì ì´ë©° ìˆ˜ëª… ì£¼ê¸° ì¤‘ ëŒ€ë¶€ë¶„ì˜ ìŠ¤ë ˆë“œê°€ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ë©° ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\nJava 19 ì´ì „ì—ëŠ” ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ëŠ” í‘œì¤€ ë°©ë²• ë˜ëŠ” ì¡´ì¬í•˜ëŠ” ìŠ¤ë ˆë“œê°€ Native Threads ë˜ëŠ” Platform Threadsë¡œ ë¶ˆë¦½ë‹ˆë‹¤. ì´ ì•„í‚¤í…ì³ ìŠ¤íƒ€ì¼ì—ì„œ Platform ìŠ¤ë ˆë“œì™€ OS ìŠ¤ë ˆë“œ ì‚¬ì´ì— 1:1 ë§¤í•‘ì´ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ìš´ì˜ ì²´ì œ ìŠ¤ë ˆë“œê°€ ì™„ë£Œë ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ê¸°ë§Œ í•˜ê³  ì•„ë¬´ ê²ƒë„í•˜ì§€ ì•Šì•„ì„œ ë¯¸ì‚¬ìš© ìƒíƒœì´ë©° ì´ë¥¼ ë¬´ê²ê³  ë¹„ì‹¸ê²Œ ë§Œë“­ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ê°€ìƒ ìŠ¤ë ˆë“œ:\n\nìë°”ì˜ ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ìë°”ê°€ ë™ì‹œì„± ë° ë©€í‹°ìŠ¤ë ˆë”©ì„ ë‹¤ë£¨ëŠ” ë°©ì‹ì—ì„œ ì¤‘ëŒ€í•œ ë°œì „ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì˜¤ë¼í´ì˜ í”„ë¡œì íŠ¸ ë£¸(Projext Loom)ì˜ ì¼í™˜ìœ¼ë¡œ ì†Œê°œëœ ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ê³ ì„±ëŠ¥ì˜ ë™ì‹œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‘ì„±, ìœ ì§€ ë° ê´€ì°°í•˜ê¸° ìœ„í•œ ë„ì „ì— ëŒ€ì‘í•˜ê¸° ìœ„í•œ ì´ë‹ˆì…”í‹°ë¸Œë¡œ, ê°œë°œìê°€ ë™ì‹œì„±ì„ ë” ì‰½ê²Œ ë‹¤ë£° ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.\n\nê°€ìƒ ìŠ¤ë ˆë“œëŠ” ìš´ì˜ ì²´ì œê°€ ì•„ë‹Œ Java ê°€ìƒ ë¨¸ì‹ (JVM)ì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” ê°€ë³ê³  ìì›ì†Œëª¨ê°€ ì ì€ ìŠ¤ë ˆë“œì…ë‹ˆë‹¤. í”Œë«í¼ ìŠ¤ë ˆë“œì™€ëŠ” ë‹¬ë¦¬ ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ì‰½ê²Œ ìƒì„± ë° í•´ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë“¤ì€ ì ì€ ìˆ˜ì˜ í”Œë«í¼ ìŠ¤ë ˆë“œì— ë§¤í•‘ë˜ì–´ ìˆ˜ì²œ ê°œ ë˜ëŠ” ìˆ˜ë°±ë§Œ ê°œì˜ ì‘ì—…ì„ ë” ì ì€ ìì›ìœ¼ë¡œ ë™ì‹œì— ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.\n\n![ê°€ìƒ vs í”Œë«í¼ ìŠ¤ë ˆë“œ](/assets/img/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained_2.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ê°€ìƒ ìŠ¤ë ˆë“œì˜ ì¥ì  Platform ìŠ¤ë ˆë“œ ëŒ€ë¹„\n\nìë°”ì—ì„œ ê°€ìƒ ìŠ¤ë ˆë“œì˜ ì¥ì ì€ ë§ìŠµë‹ˆë‹¤. ë¨¼ì €, ê°€ìƒ ìŠ¤ë ˆë“œë¥¼ í†µí•´ ì‹œìŠ¤í…œ ìì›ì„ ë” íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ê°€ë²¼ì›Œì„œ í”Œë«í¼ ìŠ¤ë ˆë“œë³´ë‹¤ ì ì€ ë©”ëª¨ë¦¬ì™€ CPU ìì›ì„ ì†Œë¹„í•©ë‹ˆë‹¤. ì´ íš¨ìœ¨ì„±ìœ¼ë¡œ ì¸í•´ ë™ì‹œì„±ì˜ ì •ë„ë¥¼ ë†’ì¼ ìˆ˜ ìˆì–´ í•˜ë‚˜ì˜ JVMì—ì„œ ë§ì€ ìˆ˜ì˜ ë™ì‹œ ì‘ì—…ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në‘˜ì§¸, ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ìë°”ì—ì„œ ë™ì‹œ í”„ë¡œê·¸ë˜ë°ì„ ê°„ë‹¨í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤. ê°œë°œìë“¤ì€ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì˜ ë³µì¡ì„±ì„ ë‹¤ë£¨ì§€ ì•Šê³  ë™ê¸°ì‹ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒê³¼ ìœ ì‚¬í•œ ê°„ë‹¨í•˜ê³  ëª…ë ¹í˜• ìŠ¤íƒ€ì¼ë¡œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê°„ì†Œí™”ë¥¼ í†µí•´ êµì°©ìƒíƒœë‚˜ ê²½ìŸ ì¡°ê±´ê³¼ ê°™ì€ ì¼ë°˜ì ì¸ ë™ì‹œì„± ê´€ë ¨ ë²„ê·¸ì˜ ë°œìƒ ê°€ëŠ¥ì„±ì„ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê²Œë‹¤ê°€, ê°€ìƒ ìŠ¤ë ˆë“œëŠ” CPU ì´ìš©ë¥ ì„ í–¥ìƒì‹œì¼œì¤ë‹ˆë‹¤. ê¸°ì¡´ì˜ ìŠ¤ë ˆë“œ ëª¨ë¸ì—ì„œëŠ” ë§ì€ ìˆ˜ì˜ ìŠ¤ë ˆë“œ ì‚¬ì´ì˜ ê´€ë¦¬ì™€ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ìœ¼ë¡œ ë§ì€ CPU ì‹œê°„ì´ ì†Œë¹„ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ê³¼ ê´€ë ¨ëœ ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ì—¬ ë™ì‹œ ì‘ì—…ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ì‹¤ìš©ì ì¸ ë°©ë²•:\n\në§Œì•½ ìš°ë¦¬ê°€ ì¼ì„ ì™„ë£Œí•˜ê¸° ìœ„í•´ í´ë˜ì‹ í”Œë«í¼ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ê³  ì‹¶ë‹¤ë©´, ì•„ë˜ì™€ ê°™ì´ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. PlatformThreadDemo.java íŒŒì¼ì„ ë§Œë“¤ê³  ì•„ë˜ ë‚´ìš©ì„ ë³µì‚¬í•˜ì„¸ìš”.\n\n```js\npackage org.vaslabs;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class PlatformThreadDemo {\n    private static final Logger logger = LoggerFactory.getLogger(PlatformThreadDemo.class);\n\n    public static void main(String[] args) {\n        attendMeeting().start();\n        completeLunch().start();\n    }\n\n    private static Thread attendMeeting(){\n        var message = \"Platform Thread [Attend Meeting]\";\n        return new Thread(() -\u003e {\n            logger.info(STR.\"{} | \\{message}\", Thread.currentThread());\n        });\n    }\n\n    private static Thread completeLunch(){\n        var message = \"Platform Thread [Complete Lunch]\";\n        return new Thread(() -\u003e {\n            logger.info(STR.\"{} | \\{message}\", Thread.currentThread());\n        });\n    }\n\n    // using builder pattern to create platform threads\n    private static void attendMeeting1(){\n        var message = \"Platform Thread [Attend Meeting]\";\n        Thread.ofPlatform().start(() -\u003e {\n            logger.info(STR.\"{} | \\{message}\", Thread.currentThread());\n        });\n    }\n\n    private static void completeLunch1(){\n        var message = \"Platform Thread [Complete Lunch]\";\n        Thread.ofPlatform().start(() -\u003e {\n            logger.info(STR.\"{} | \\{message}\", Thread.currentThread());\n        });\n    }\n}\n```\n\nìœ„ ì˜ˆì œëŠ” í”Œë«í¼ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ëŠ” ë‘ ê°€ì§€ ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.\n\n1. Thread ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒë‹¤ ëŸ°ë„ˆë¸”ì„ ì „ë‹¬í•˜ëŠ” ë°©ë²•\n2. Threadì˜ ë¹Œë” ë©”ì„œë“œ ofPlatform()ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në” ë³µì¡í•œ ì½”ë”©ì„ ë³´ê³  ê°€ìƒ ìŠ¤ë ˆë“œë¥¼ ë™ì‹œì— ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. DailyRoutineWorkflow.java íŒŒì¼ì„ ìƒì„±í•˜ê³  ì•„ë˜ ì½”ë“œë¥¼ ë³µì‚¬í•˜ì„¸ìš”.\n\n```js\npackage org.vaslabs;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class DailyRoutineWorkflow {\n    static final Logger logger = LoggerFactory.getLogger(DailyRoutineWorkflow.class);\n\n    static void log(String message) {\n        logger.info(STR.\"{} | \\{message}\", Thread.currentThread());\n    }\n\n\n    private static void sleep(Long duration) throws InterruptedException {\n        TimeUnit.MILLISECONDS.sleep(duration);\n    }\n\n    private static Thread virtualThread(String name, Runnable runnable) {\n        return Thread.ofVirtual().name(name).start(runnable);\n    }\n\n    static Thread attendMorningStatusMeeting() {\n        return virtualThread(\n                \"Morning Status Meeting\",\n                () -\u003e {\n                    log(\"ì•„ì¹¨ ìƒíƒœ íšŒì˜ì— ì°¸ì„í•˜ê² ìŠµë‹ˆë‹¤.\");\n                    try {\n                        sleep(1000L);\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                    log(\"ì•„ì¹¨ ìƒíƒœ íšŒì˜ë¥¼ ë§ˆì³¤ìŠµë‹ˆë‹¤.\");\n                });\n    }\n\n    static Thread workOnTasksAssigned() {\n        return virtualThread(\n                \"Work on the actual Tasks\",\n                () -\u003e {\n                    log(\"í• ë‹¹ëœ ì‘ì—…ì— ëŒ€í•´ ì‹¤ì œ ì‘ì—…ì„ ì‹œì‘í•©ë‹ˆë‹¤.\");\n                    try {\n                        sleep(1000L);\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                    log(\"í• ë‹¹ëœ ì‘ì—…ì— ëŒ€í•œ ì‹¤ì œ ì‘ì—…ì„ ë§ˆì³¤ìŠµë‹ˆë‹¤.\");\n                });\n    }\n\n    static Thread attendEveningStatusMeeting() {\n        return virtualThread(\n                \"Evening Status Meeting\",\n                () -\u003e {\n                    log(\"ì €ë… ìƒíƒœ íšŒì˜ì— ì°¸ì„í•˜ê² ìŠµë‹ˆë‹¤.\");\n                    try {\n                        sleep(1000L);\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                    log(\"ì €ë… ìƒíƒœ íšŒì˜ë¥¼ ë§ˆì³¤ìŠµë‹ˆë‹¤.\");\n                });\n    }\n\n    static void concurrentRoutineExecutor() throws InterruptedException {\n        var morningMeeting = attendMorningStatusMeeting();\n        var actualWork = workOnTasksAssigned();\n        var eveningMeeting = attendEveningStatusMeeting();\n        morningMeeting.join();\n        actualWork.join();\n        eveningMeeting.join();\n    }\n}\n```\n\nìœ„ì˜ ì½”ë“œëŠ” íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œ ê°€ìƒ ìŠ¤ë ˆë“œ ìƒì„±ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. íŒ©í† ë¦¬ ë©”ì„œë“œ ì™¸ì—ë„ java.util.concurrent.ExecutorServiceë¥¼ ì‚¬ìš©í•˜ì—¬ ê°€ìƒ ìŠ¤ë ˆë“œë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ExecutorServiceë¥¼ ì‚¬ìš©í•´ ë™ì¼í•œ ê¸°ëŠ¥ì„ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\npackage org.vaslabs;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\n\npublic class DailyRoutineWorkflowUsingExecutors {\n    static final Logger logger = LoggerFactory.getLogger(DailyRoutineWorkflowUsingExecutors.class);\n\n    static void log(String message) {\n        logger.info(STR.\"{} | \\{message}\", Thread.currentThread());\n    }\n\n    private static void sleep(Long duration) throws InterruptedException {\n        TimeUnit.MILLISECONDS.sleep(duration);\n    }\n\n    public static void executeJobRoute() throws ExecutionException, InterruptedException {\n        try (var executor = Executors.newVirtualThreadPerTaskExecutor()) {\n            var morningMeeting = executor.submit(() -\u003e {\n                log(\"ì•„ì¹¨ ìƒíƒœ íšŒì˜ì— ì°¸ì„í•˜ê² ìŠµë‹ˆë‹¤.\");\n                try {\n                    sleep(1000L);\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n                log(\"ì•„ì¹¨ ìƒíƒœ íšŒì˜ë¥¼ ë§ˆì³¤ìŠµë‹ˆë‹¤.\");\n            });\n\n            var actualWork = executor.submit(() -\u003e {\n                log(\"í• ë‹¹ëœ ì‘ì—…ì— ëŒ€í•´ ì‹¤ì œ ì‘ì—…ì„ ì‹œì‘í•©ë‹ˆë‹¤.\");\n                try {\n                    sleep(1000L);\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n                log(\"í• ë‹¹ëœ ì‘ì—…ì— ëŒ€í•œ ì‹¤ì œ ì‘ì—…ì„ ë§ˆì³¤ìŠµë‹ˆë‹¤.\");\n            });\n\n            var eveningMeeting = executor.submit(() -\u003e {\n                log(\"ì €ë… ìƒíƒœ íšŒì˜ì— ì°¸ì„í•˜ê² ìŠµë‹ˆë‹¤.\");\n                try {\n                    sleep(1000L);\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n                log(\"ì €ë… ìƒíƒœ íšŒì˜ë¥¼ ë§ˆì³¤ìŠµë‹ˆë‹¤.\");\n            });\n\n            morningMeeting.get();\n            actualWork.get();\n            eveningMeeting.get();\n        }\n    }\n}\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ê²°ê³¼ì— ëŒ€í•œ ì‹¬ì¸µ ë¶„ì„\n\nìœ„ì˜ ì½”ë“œë¥¼ íŒ©í† ë¦¬ ë©”ì„œë“œë‚˜ ExecutorServicesë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤í–‰í•˜ë©´ ì•„ë˜ì™€ ë¹„ìŠ·í•œ ê²°ê³¼ê°€ ë‚˜ì˜¬ ê²ƒì…ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained_3.png)\n\nì •ë³´ ë¡œê·¸ë¥¼ ì£¼ì˜ ê¹Šê²Œ ì‚´í´ë³´ë©´ \"|\" (íŒŒì´í”„ ê¸°í˜¸)ì˜ ì–‘ìª½ì— ë‘ ì„¹ì…˜ì´ í‘œì‹œë©ë‹ˆë‹¤. ì²« ë²ˆì§¸ ì„¹ì…˜ì€ VirtualThread[#26]/runnable@ForkJoinPool-1-worker-3ì™€ ê°™ì´ ê°€ìƒ ìŠ¤ë ˆë“œì— ëŒ€í•œ ì •ë³´ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤. ì´ ì„¹ì…˜ì€ ê°€ìƒ ìŠ¤ë ˆë“œ[#26]ê°€ platform ìŠ¤ë ˆë“œì¸ runnable@ForkJoinPool-1-worker-3ì— ë§¤í•‘ë¨ì„ ë‚˜íƒ€ë‚´ë©°, ë‹¤ë¥¸ ì„¹ì…˜ì€ ë¡œê·¸ì˜ ì •ë³´ ë¶€ë¶„ì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ìŠ¤ë ˆë“œ ë¡œì»¬ ë° ê°€ìƒ ìŠ¤ë ˆë“œ:\n\nìë°”ì˜ ThreadLocalì€ ë³€ìˆ˜ë¥¼ ìŠ¤ë ˆë“œë³„ë¡œ ì €ì¥í•  ìˆ˜ ìˆëŠ” ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. ThreadLocal ë³€ìˆ˜ì— ì ‘ê·¼í•˜ëŠ” ê° ìŠ¤ë ˆë“œëŠ” ë³€ìˆ˜ì˜ ë…ë¦½ì ìœ¼ë¡œ ì´ˆê¸°í™”ëœ ë³µì‚¬ë³¸ì„ ì–»ê²Œ ë˜ë©°, ì´ë¥¼ í†µí•´ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì˜ ë™ì¼í•œ ë³€ìˆ˜ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  ì ‘ê·¼í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì‚¬ìš©ì ì„¸ì…˜ ë˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ê³¼ ê°™ì´ ìŠ¤ë ˆë“œë³„ ìƒíƒœë¥¼ ìœ ì§€í•˜ê³ ì í•˜ëŠ” ê²½ìš°ì— íŠ¹íˆ ìœ ìš©í•©ë‹ˆë‹¤.\n\nê·¸ëŸ¬ë‚˜ Project Loomì˜ ì¼í™˜ìœ¼ë¡œ ì†Œê°œëœ ê°€ìƒ ìŠ¤ë ˆë“œì™€ í•¨ê»˜ ThreadLocalì„ ì‚¬ìš©í•  ë•Œ ë™ì‘ì´ í¬ê²Œ ë³€ê²½ë©ë‹ˆë‹¤. ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ìë°” ê°€ìƒ ë¨¸ì‹ (JVM)ì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” ê°€ë²¼ìš´ ìŠ¤ë ˆë“œë¡œ, ìš´ì˜ ì²´ì œì˜ ìŠ¤ë ˆë“œ ê´€ë¦¬ì— ë¬¶ì—¬ ìˆëŠ” ì „í†µì ì¸ í”Œë«í¼ ìŠ¤ë ˆë“œì™€ ë‹¬ë¦¬ ëŒ€ëŸ‰ìœ¼ë¡œ ìŠ¤ì¼€ì¤„ë˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.\n\nê°€ìƒ ìŠ¤ë ˆë“œëŠ” ìˆ˜ë°±ë§Œ ê°œë¡œ ìƒì„±ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ThreadLocalì˜ ì‚¬ìš©ì€ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```java\npackage org.vaslabs;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class ThreadLocalDemo {\n    private static ThreadLocal\u003cString\u003e stringThreadLocal = new ThreadLocal\u003c\u003e();\n\n    static final Logger logger = LoggerFactory.getLogger(DailyRoutineWorkflow.class);\n\n    static void log(String message) {\n        logger.info(STR.\"{} | \\{message}\", Thread.currentThread());\n    }\n\n    private static void sleep(Long duration) throws InterruptedException {\n        TimeUnit.MILLISECONDS.sleep(duration);\n    }\n\n    public static void virtualThreadContext() throws InterruptedException {\n        var virtualThread1 = Thread.ofVirtual().name(\"thread-1\").start(() -\u003e {\n            stringThreadLocal.set(\"thread-1\");\n            try {\n                sleep(1000L);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            log(STR.\"thread name is \\{stringThreadLocal.get()}\");\n        });\n        var virtualThread2 = Thread.ofVirtual().name(\"thread-2\").start(() -\u003e {\n            stringThreadLocal.set(\"thread-2\");\n            try {\n                sleep(1000L);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            log(STR.\"thread name is \\{stringThreadLocal.get()}\");\n        });\n        virtualThread1.join();\n        virtualThread2.join();\n    }\n}\n```\n\n## ê²°ë¡ :\n\nìš”ì•½í•˜ë©´, ì´ Java ìŠ¤ë ˆë”© ëª¨ë¸ì— ê´€í•œ ê¸°ì‚¬ëŠ” Virtual Threads, Platform Threads ë° ThreadLocalì˜ ì„¸ë¶€ ì‚¬í•­ì„ ì‚´í´ë´„ìœ¼ë¡œì¨ Javaì—ì„œ ë™ì‹œì„± í”„ë¡œê·¸ë˜ë°ì˜ ì§„í™”í•˜ëŠ” í’ê²½ì„ ë°í˜€ì¤ë‹ˆë‹¤. Virtual Threadsì€ ê°€ë²¼ìš°ë©´ì„œ íš¨ìœ¨ì ì¸ ë™ì‹œì„±ì„ ì œê³µí•˜ë©° ë¦¬ì†ŒìŠ¤ ì§‘ì•½ì ì¸ Platform Threadsì˜ ë³¸ì§ˆê³¼ëŠ” ëŒ€ì¡°ì ì¸ ì ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ë“¤ì€ ëŒ€ê·œëª¨ì˜ ë™ì‹œ ì‘ì—…ì„ ìµœì†Œí•œì˜ ë¦¬ì†ŒìŠ¤ ì˜¤ë²„í—¤ë“œë¡œ ì‹¤í–‰í•˜ì—¬ í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì„ ê°„ì†Œí™”í•˜ê³  ì‘ìš©í”„ë¡œê·¸ë¨ í™•ì¥ì„±ì„ í–¥ìƒì‹œí‚¤ëŠ” ë°©ì‹ìœ¼ë¡œ Javaì˜ ìŠ¤ë ˆë“œ ì²˜ë¦¬ ë°©ë²•ì„ í˜ì‹ í•©ë‹ˆë‹¤.\n\nê·¸ëŸ¬ë‚˜ ì´ ìƒˆë¡œìš´ ë§¥ë½ì—ì„œ ThreadLocal ì‚¬ìš©ì˜ ë³µì¡ì„±ì€ ì‹ ì¤‘í•œ ê³ ë ¤ê°€ í•„ìš”í•¨ì„ ê°•ì¡°í•©ë‹ˆë‹¤. ThreadLocalì€ ê¸°ì¡´ ìŠ¤ë ˆë”©ì—ì„œ ìŠ¤ë ˆë“œë³„ ë°ì´í„°ë¥¼ ìœ ì§€í•˜ëŠ” ê°•ë ¥í•œ ë„êµ¬ë¡œ ë‚¨ì•„ ìˆì§€ë§Œ, ê°€ìƒ ìŠ¤ë ˆë“œì—ì„œëŠ” ë” ë³µì¡í•´ì§€ë¯€ë¡œ ìƒíƒœ ë° ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ë¥¼ ìœ„í•œ ëŒ€ì²´ ì „ëµì´ í•„ìš”í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ê°œë…ë“¤ì€ Javaì˜ ë™ì‹œì„± íŒ¨ëŸ¬ë‹¤ì„ì—ì„œ ì¤‘ëŒ€í•œ ë³€í™”ë¥¼ ë‚˜íƒ€ë‚´ë©°, ê°œë°œìë“¤ì´ ë³´ë‹¤ ë°˜ì‘ì„±ì´ ë›°ì–´ë‚˜ê³  í™•ì¥ ê°€ëŠ¥í•˜ë©° íš¨ìœ¨ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ ê¸°íšŒë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ìŠ¤íƒì•„ë°ë¯¹\n\nëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ:\n\n- ì‘ê°€ë¥¼ ì‘ì›í•˜ê³  íŒ”ë¡œìš°í•´ì£¼ì‹œê¸¸ ë°”ëë‹ˆë‹¤! ğŸ‘\n- íŠ¸ìœ„í„°(X), ë§í¬ë“œì¸, YouTubeì—ì„œ íŒ”ë¡œìš°í•´ì£¼ì„¸ìš”.\n- ì „ ì„¸ê³„ì ìœ¼ë¡œ í”„ë¡œê·¸ë˜ë° êµìœ¡ì„ ë¬´ë£Œë¡œ ì œê³µí•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ë ¤ë©´ Stackademic.comì„ ë°©ë¬¸í•´ì£¼ì„¸ìš”.\n","ogImage":{"url":"/assets/img/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained_0.png"},"coverImage":"/assets/img/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained_0.png","tag":["Tech"],"readingTime":14},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003eì´ ê¸°ì‚¬ì—ì„œëŠ” ì“°ë ˆë“œì™€ \"ê°€ìƒ ì“°ë ˆë“œ\"ë¼ê³  ë¶ˆë¦¬ëŠ” ìµœê·¼ ê¸°ëŠ¥ì— ëŒ€í•´ ì•Œì•„ë³¼ ê²ƒì…ë‹ˆë‹¤. ì´ í”Œë«í¼ ì“°ë ˆë“œì™€ ê°€ìƒ ì“°ë ˆë“œê°€ ì–´ë–»ê²Œ ì„±ê²©ì´ ë‹¤ë¥´ë©° ì–´ë–»ê²Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ í–¥ìƒì— ê¸°ì—¬í•˜ëŠ”ì§€ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained_0.png\" alt=\"ì´ë¯¸ì§€\"\u003e\u003c/p\u003e\n\u003ch2\u003eí´ë˜ì‹ ì“°ë ˆë“œ ë°°ê²½:\u003c/h2\u003e\n\u003cp\u003eì™¸ë¶€ APIë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ ìƒí˜¸ì‘ìš©ê³¼ ê°™ì€ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì‚´í´ë³´ê³  ì‹¤í–‰ ì¤‘ì¸ ì“°ë ˆë“œ ìˆ˜ëª…ì£¼ê¸°ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eë©”ëª¨ë¦¬ì— ìƒì„±ë˜ê³  ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•  ìˆ˜ ìˆëŠ” ìŠ¤ë ˆë“œì…ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eìš”ì²­ì´ ì ‘ê·¼í•˜ë©´ ìŠ¤ë ˆë“œ ì¤‘ í•˜ë‚˜ì— ë§¤í•‘ë˜ì–´ ì™¸ë¶€ APIë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eìŠ¤ë ˆë“œëŠ” ì„œë¹„ìŠ¤ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ë¡œë¶€í„° ì‘ë‹µì„ ë°›ì„ ë•Œê¹Œì§€ ëŒ€ê¸°í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eì‘ë‹µì„ ë°›ìë§ˆì í›„ì† í™œë™ì„ ì‹¤í–‰í•œ í›„ í’€ë¡œ ë‹¤ì‹œ ë°˜í™˜í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained_1.png\" alt=\"ì´ë¯¸ì§€\"\u003e\u003c/p\u003e\n\u003cp\u003eìœ„ ìƒëª…ì£¼ê¸°ì—ì„œ ìŠ¤ë ˆë“œê°€ ì•„ë¬´ê²ƒë„ í•˜ëŠ” ëŒ€ê¸° ë‹¨ê³„ì¸ ë‹¨ê³„ 3ì„ ê´€ì°°í•˜ì‹­ì‹œì˜¤. ì´ê²ƒì€ ì£¼ë¡œ ëŒ€ê¸°í•˜ì—¬ ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ë¥¼ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ë¯€ë¡œ ë‹¨ì ì´ë©° ìˆ˜ëª… ì£¼ê¸° ì¤‘ ëŒ€ë¶€ë¶„ì˜ ìŠ¤ë ˆë“œê°€ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ë©° ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eJava 19 ì´ì „ì—ëŠ” ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ëŠ” í‘œì¤€ ë°©ë²• ë˜ëŠ” ì¡´ì¬í•˜ëŠ” ìŠ¤ë ˆë“œê°€ Native Threads ë˜ëŠ” Platform Threadsë¡œ ë¶ˆë¦½ë‹ˆë‹¤. ì´ ì•„í‚¤í…ì³ ìŠ¤íƒ€ì¼ì—ì„œ Platform ìŠ¤ë ˆë“œì™€ OS ìŠ¤ë ˆë“œ ì‚¬ì´ì— 1:1 ë§¤í•‘ì´ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ìš´ì˜ ì²´ì œ ìŠ¤ë ˆë“œê°€ ì™„ë£Œë ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ê¸°ë§Œ í•˜ê³  ì•„ë¬´ ê²ƒë„í•˜ì§€ ì•Šì•„ì„œ ë¯¸ì‚¬ìš© ìƒíƒœì´ë©° ì´ë¥¼ ë¬´ê²ê³  ë¹„ì‹¸ê²Œ ë§Œë“­ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003ch2\u003eê°€ìƒ ìŠ¤ë ˆë“œ:\u003c/h2\u003e\n\u003cp\u003eìë°”ì˜ ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ìë°”ê°€ ë™ì‹œì„± ë° ë©€í‹°ìŠ¤ë ˆë”©ì„ ë‹¤ë£¨ëŠ” ë°©ì‹ì—ì„œ ì¤‘ëŒ€í•œ ë°œì „ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì˜¤ë¼í´ì˜ í”„ë¡œì íŠ¸ ë£¸(Projext Loom)ì˜ ì¼í™˜ìœ¼ë¡œ ì†Œê°œëœ ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ê³ ì„±ëŠ¥ì˜ ë™ì‹œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‘ì„±, ìœ ì§€ ë° ê´€ì°°í•˜ê¸° ìœ„í•œ ë„ì „ì— ëŒ€ì‘í•˜ê¸° ìœ„í•œ ì´ë‹ˆì…”í‹°ë¸Œë¡œ, ê°œë°œìê°€ ë™ì‹œì„±ì„ ë” ì‰½ê²Œ ë‹¤ë£° ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eê°€ìƒ ìŠ¤ë ˆë“œëŠ” ìš´ì˜ ì²´ì œê°€ ì•„ë‹Œ Java ê°€ìƒ ë¨¸ì‹ (JVM)ì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” ê°€ë³ê³  ìì›ì†Œëª¨ê°€ ì ì€ ìŠ¤ë ˆë“œì…ë‹ˆë‹¤. í”Œë«í¼ ìŠ¤ë ˆë“œì™€ëŠ” ë‹¬ë¦¬ ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ì‰½ê²Œ ìƒì„± ë° í•´ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë“¤ì€ ì ì€ ìˆ˜ì˜ í”Œë«í¼ ìŠ¤ë ˆë“œì— ë§¤í•‘ë˜ì–´ ìˆ˜ì²œ ê°œ ë˜ëŠ” ìˆ˜ë°±ë§Œ ê°œì˜ ì‘ì—…ì„ ë” ì ì€ ìì›ìœ¼ë¡œ ë™ì‹œì— ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained_2.png\" alt=\"ê°€ìƒ vs í”Œë«í¼ ìŠ¤ë ˆë“œ\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003ch2\u003eê°€ìƒ ìŠ¤ë ˆë“œì˜ ì¥ì  Platform ìŠ¤ë ˆë“œ ëŒ€ë¹„\u003c/h2\u003e\n\u003cp\u003eìë°”ì—ì„œ ê°€ìƒ ìŠ¤ë ˆë“œì˜ ì¥ì ì€ ë§ìŠµë‹ˆë‹¤. ë¨¼ì €, ê°€ìƒ ìŠ¤ë ˆë“œë¥¼ í†µí•´ ì‹œìŠ¤í…œ ìì›ì„ ë” íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ê°€ë²¼ì›Œì„œ í”Œë«í¼ ìŠ¤ë ˆë“œë³´ë‹¤ ì ì€ ë©”ëª¨ë¦¬ì™€ CPU ìì›ì„ ì†Œë¹„í•©ë‹ˆë‹¤. ì´ íš¨ìœ¨ì„±ìœ¼ë¡œ ì¸í•´ ë™ì‹œì„±ì˜ ì •ë„ë¥¼ ë†’ì¼ ìˆ˜ ìˆì–´ í•˜ë‚˜ì˜ JVMì—ì„œ ë§ì€ ìˆ˜ì˜ ë™ì‹œ ì‘ì—…ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eë‘˜ì§¸, ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ìë°”ì—ì„œ ë™ì‹œ í”„ë¡œê·¸ë˜ë°ì„ ê°„ë‹¨í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤. ê°œë°œìë“¤ì€ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì˜ ë³µì¡ì„±ì„ ë‹¤ë£¨ì§€ ì•Šê³  ë™ê¸°ì‹ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒê³¼ ìœ ì‚¬í•œ ê°„ë‹¨í•˜ê³  ëª…ë ¹í˜• ìŠ¤íƒ€ì¼ë¡œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê°„ì†Œí™”ë¥¼ í†µí•´ êµì°©ìƒíƒœë‚˜ ê²½ìŸ ì¡°ê±´ê³¼ ê°™ì€ ì¼ë°˜ì ì¸ ë™ì‹œì„± ê´€ë ¨ ë²„ê·¸ì˜ ë°œìƒ ê°€ëŠ¥ì„±ì„ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eê²Œë‹¤ê°€, ê°€ìƒ ìŠ¤ë ˆë“œëŠ” CPU ì´ìš©ë¥ ì„ í–¥ìƒì‹œì¼œì¤ë‹ˆë‹¤. ê¸°ì¡´ì˜ ìŠ¤ë ˆë“œ ëª¨ë¸ì—ì„œëŠ” ë§ì€ ìˆ˜ì˜ ìŠ¤ë ˆë“œ ì‚¬ì´ì˜ ê´€ë¦¬ì™€ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ìœ¼ë¡œ ë§ì€ CPU ì‹œê°„ì´ ì†Œë¹„ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ê³¼ ê´€ë ¨ëœ ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ì—¬ ë™ì‹œ ì‘ì—…ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003ch2\u003eì‹¤ìš©ì ì¸ ë°©ë²•:\u003c/h2\u003e\n\u003cp\u003eë§Œì•½ ìš°ë¦¬ê°€ ì¼ì„ ì™„ë£Œí•˜ê¸° ìœ„í•´ í´ë˜ì‹ í”Œë«í¼ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ê³  ì‹¶ë‹¤ë©´, ì•„ë˜ì™€ ê°™ì´ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. PlatformThreadDemo.java íŒŒì¼ì„ ë§Œë“¤ê³  ì•„ë˜ ë‚´ìš©ì„ ë³µì‚¬í•˜ì„¸ìš”.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003epackage org.\u003cspan class=\"hljs-property\"\u003evaslabs\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e org.\u003cspan class=\"hljs-property\"\u003eslf4j\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eLogger\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e org.\u003cspan class=\"hljs-property\"\u003eslf4j\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eLoggerFactory\u003c/span\u003e;\n\npublic \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePlatformThreadDemo\u003c/span\u003e {\n    private \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e final \u003cspan class=\"hljs-title class_\"\u003eLogger\u003c/span\u003e logger = \u003cspan class=\"hljs-title class_\"\u003eLoggerFactory\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetLogger\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003ePlatformThreadDemo\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eclass\u003c/span\u003e);\n\n    public \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003emain\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-built_in\"\u003eString\u003c/span\u003e[] args\u003c/span\u003e) {\n        \u003cspan class=\"hljs-title function_\"\u003eattendMeeting\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003estart\u003c/span\u003e();\n        \u003cspan class=\"hljs-title function_\"\u003ecompleteLunch\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003estart\u003c/span\u003e();\n    }\n\n    private \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eThread\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eattendMeeting\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e){\n        \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e message = \u003cspan class=\"hljs-string\"\u003e\"Platform Thread [Attend Meeting]\"\u003c/span\u003e;\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eThread\u003c/span\u003e(() -\u003e {\n            logger.\u003cspan class=\"hljs-title function_\"\u003einfo\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eSTR\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"{} | \\{message}\"\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eThread\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecurrentThread\u003c/span\u003e());\n        });\n    }\n\n    private \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eThread\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecompleteLunch\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e){\n        \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e message = \u003cspan class=\"hljs-string\"\u003e\"Platform Thread [Complete Lunch]\"\u003c/span\u003e;\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eThread\u003c/span\u003e(() -\u003e {\n            logger.\u003cspan class=\"hljs-title function_\"\u003einfo\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eSTR\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"{} | \\{message}\"\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eThread\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecurrentThread\u003c/span\u003e());\n        });\n    }\n\n    \u003cspan class=\"hljs-comment\"\u003e// using builder pattern to create platform threads\u003c/span\u003e\n    private \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eattendMeeting1\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e){\n        \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e message = \u003cspan class=\"hljs-string\"\u003e\"Platform Thread [Attend Meeting]\"\u003c/span\u003e;\n        \u003cspan class=\"hljs-title class_\"\u003eThread\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eofPlatform\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003estart\u003c/span\u003e(() -\u003e {\n            logger.\u003cspan class=\"hljs-title function_\"\u003einfo\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eSTR\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"{} | \\{message}\"\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eThread\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecurrentThread\u003c/span\u003e());\n        });\n    }\n\n    private \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecompleteLunch1\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e){\n        \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e message = \u003cspan class=\"hljs-string\"\u003e\"Platform Thread [Complete Lunch]\"\u003c/span\u003e;\n        \u003cspan class=\"hljs-title class_\"\u003eThread\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eofPlatform\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003estart\u003c/span\u003e(() -\u003e {\n            logger.\u003cspan class=\"hljs-title function_\"\u003einfo\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eSTR\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"{} | \\{message}\"\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eThread\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecurrentThread\u003c/span\u003e());\n        });\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eìœ„ ì˜ˆì œëŠ” í”Œë«í¼ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ëŠ” ë‘ ê°€ì§€ ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eThread ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒë‹¤ ëŸ°ë„ˆë¸”ì„ ì „ë‹¬í•˜ëŠ” ë°©ë²•\u003c/li\u003e\n\u003cli\u003eThreadì˜ ë¹Œë” ë©”ì„œë“œ ofPlatform()ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003cp\u003eë” ë³µì¡í•œ ì½”ë”©ì„ ë³´ê³  ê°€ìƒ ìŠ¤ë ˆë“œë¥¼ ë™ì‹œì— ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. DailyRoutineWorkflow.java íŒŒì¼ì„ ìƒì„±í•˜ê³  ì•„ë˜ ì½”ë“œë¥¼ ë³µì‚¬í•˜ì„¸ìš”.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003epackage org.\u003cspan class=\"hljs-property\"\u003evaslabs\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e org.\u003cspan class=\"hljs-property\"\u003eslf4j\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eLogger\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e org.\u003cspan class=\"hljs-property\"\u003eslf4j\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eLoggerFactory\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e java.\u003cspan class=\"hljs-property\"\u003eutil\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003econcurrent\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eTimeUnit\u003c/span\u003e;\n\npublic \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDailyRoutineWorkflow\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e final \u003cspan class=\"hljs-title class_\"\u003eLogger\u003c/span\u003e logger = \u003cspan class=\"hljs-title class_\"\u003eLoggerFactory\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetLogger\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eDailyRoutineWorkflow\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eclass\u003c/span\u003e);\n\n    \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-built_in\"\u003eString\u003c/span\u003e message\u003c/span\u003e) {\n        logger.\u003cspan class=\"hljs-title function_\"\u003einfo\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eSTR\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"{} | \\{message}\"\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eThread\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecurrentThread\u003c/span\u003e());\n    }\n\n\n    private \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esleep\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eLong\u003c/span\u003e duration) throws \u003cspan class=\"hljs-title class_\"\u003eInterruptedException\u003c/span\u003e {\n        \u003cspan class=\"hljs-title class_\"\u003eTimeUnit\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eMILLISECONDS\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003esleep\u003c/span\u003e(duration);\n    }\n\n    private \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eThread\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003evirtualThread\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-built_in\"\u003eString\u003c/span\u003e name, Runnable runnable\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eThread\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eofVirtual\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003ename\u003c/span\u003e(name).\u003cspan class=\"hljs-title function_\"\u003estart\u003c/span\u003e(runnable);\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eThread\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eattendMorningStatusMeeting\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003evirtualThread\u003c/span\u003e(\n                \u003cspan class=\"hljs-string\"\u003e\"Morning Status Meeting\"\u003c/span\u003e,\n                () -\u003e {\n                    \u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"ì•„ì¹¨ ìƒíƒœ íšŒì˜ì— ì°¸ì„í•˜ê² ìŠµë‹ˆë‹¤.\"\u003c/span\u003e);\n                    \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n                        \u003cspan class=\"hljs-title function_\"\u003esleep\u003c/span\u003e(1000L);\n                    } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (\u003cspan class=\"hljs-title class_\"\u003eInterruptedException\u003c/span\u003e e) {\n                        \u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eRuntimeException\u003c/span\u003e(e);\n                    }\n                    \u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"ì•„ì¹¨ ìƒíƒœ íšŒì˜ë¥¼ ë§ˆì³¤ìŠµë‹ˆë‹¤.\"\u003c/span\u003e);\n                });\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eThread\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eworkOnTasksAssigned\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003evirtualThread\u003c/span\u003e(\n                \u003cspan class=\"hljs-string\"\u003e\"Work on the actual Tasks\"\u003c/span\u003e,\n                () -\u003e {\n                    \u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"í• ë‹¹ëœ ì‘ì—…ì— ëŒ€í•´ ì‹¤ì œ ì‘ì—…ì„ ì‹œì‘í•©ë‹ˆë‹¤.\"\u003c/span\u003e);\n                    \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n                        \u003cspan class=\"hljs-title function_\"\u003esleep\u003c/span\u003e(1000L);\n                    } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (\u003cspan class=\"hljs-title class_\"\u003eInterruptedException\u003c/span\u003e e) {\n                        \u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eRuntimeException\u003c/span\u003e(e);\n                    }\n                    \u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"í• ë‹¹ëœ ì‘ì—…ì— ëŒ€í•œ ì‹¤ì œ ì‘ì—…ì„ ë§ˆì³¤ìŠµë‹ˆë‹¤.\"\u003c/span\u003e);\n                });\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eThread\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eattendEveningStatusMeeting\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003evirtualThread\u003c/span\u003e(\n                \u003cspan class=\"hljs-string\"\u003e\"Evening Status Meeting\"\u003c/span\u003e,\n                () -\u003e {\n                    \u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"ì €ë… ìƒíƒœ íšŒì˜ì— ì°¸ì„í•˜ê² ìŠµë‹ˆë‹¤.\"\u003c/span\u003e);\n                    \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n                        \u003cspan class=\"hljs-title function_\"\u003esleep\u003c/span\u003e(1000L);\n                    } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (\u003cspan class=\"hljs-title class_\"\u003eInterruptedException\u003c/span\u003e e) {\n                        \u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eRuntimeException\u003c/span\u003e(e);\n                    }\n                    \u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"ì €ë… ìƒíƒœ íšŒì˜ë¥¼ ë§ˆì³¤ìŠµë‹ˆë‹¤.\"\u003c/span\u003e);\n                });\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003econcurrentRoutineExecutor\u003c/span\u003e() throws \u003cspan class=\"hljs-title class_\"\u003eInterruptedException\u003c/span\u003e {\n        \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e morningMeeting = \u003cspan class=\"hljs-title function_\"\u003eattendMorningStatusMeeting\u003c/span\u003e();\n        \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e actualWork = \u003cspan class=\"hljs-title function_\"\u003eworkOnTasksAssigned\u003c/span\u003e();\n        \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e eveningMeeting = \u003cspan class=\"hljs-title function_\"\u003eattendEveningStatusMeeting\u003c/span\u003e();\n        morningMeeting.\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e();\n        actualWork.\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e();\n        eveningMeeting.\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e();\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eìœ„ì˜ ì½”ë“œëŠ” íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œ ê°€ìƒ ìŠ¤ë ˆë“œ ìƒì„±ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. íŒ©í† ë¦¬ ë©”ì„œë“œ ì™¸ì—ë„ java.util.concurrent.ExecutorServiceë¥¼ ì‚¬ìš©í•˜ì—¬ ê°€ìƒ ìŠ¤ë ˆë“œë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ExecutorServiceë¥¼ ì‚¬ìš©í•´ ë™ì¼í•œ ê¸°ëŠ¥ì„ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003epackage org.\u003cspan class=\"hljs-property\"\u003evaslabs\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e org.\u003cspan class=\"hljs-property\"\u003eslf4j\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eLogger\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e org.\u003cspan class=\"hljs-property\"\u003eslf4j\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eLoggerFactory\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e java.\u003cspan class=\"hljs-property\"\u003eutil\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003econcurrent\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eExecutionException\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e java.\u003cspan class=\"hljs-property\"\u003eutil\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003econcurrent\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eExecutors\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e java.\u003cspan class=\"hljs-property\"\u003eutil\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003econcurrent\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eTimeUnit\u003c/span\u003e;\n\npublic \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDailyRoutineWorkflowUsingExecutors\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e final \u003cspan class=\"hljs-title class_\"\u003eLogger\u003c/span\u003e logger = \u003cspan class=\"hljs-title class_\"\u003eLoggerFactory\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetLogger\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eDailyRoutineWorkflowUsingExecutors\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eclass\u003c/span\u003e);\n\n    \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-built_in\"\u003eString\u003c/span\u003e message\u003c/span\u003e) {\n        logger.\u003cspan class=\"hljs-title function_\"\u003einfo\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eSTR\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"{} | \\{message}\"\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eThread\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecurrentThread\u003c/span\u003e());\n    }\n\n    private \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esleep\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eLong\u003c/span\u003e duration) throws \u003cspan class=\"hljs-title class_\"\u003eInterruptedException\u003c/span\u003e {\n        \u003cspan class=\"hljs-title class_\"\u003eTimeUnit\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eMILLISECONDS\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003esleep\u003c/span\u003e(duration);\n    }\n\n    public \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eexecuteJobRoute\u003c/span\u003e() throws \u003cspan class=\"hljs-title class_\"\u003eExecutionException\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eInterruptedException\u003c/span\u003e {\n        \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e executor = \u003cspan class=\"hljs-title class_\"\u003eExecutors\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003enewVirtualThreadPerTaskExecutor\u003c/span\u003e()) {\n            \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e morningMeeting = executor.\u003cspan class=\"hljs-title function_\"\u003esubmit\u003c/span\u003e(() -\u003e {\n                \u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"ì•„ì¹¨ ìƒíƒœ íšŒì˜ì— ì°¸ì„í•˜ê² ìŠµë‹ˆë‹¤.\"\u003c/span\u003e);\n                \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n                    \u003cspan class=\"hljs-title function_\"\u003esleep\u003c/span\u003e(1000L);\n                } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (\u003cspan class=\"hljs-title class_\"\u003eInterruptedException\u003c/span\u003e e) {\n                    \u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eRuntimeException\u003c/span\u003e(e);\n                }\n                \u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"ì•„ì¹¨ ìƒíƒœ íšŒì˜ë¥¼ ë§ˆì³¤ìŠµë‹ˆë‹¤.\"\u003c/span\u003e);\n            });\n\n            \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e actualWork = executor.\u003cspan class=\"hljs-title function_\"\u003esubmit\u003c/span\u003e(() -\u003e {\n                \u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"í• ë‹¹ëœ ì‘ì—…ì— ëŒ€í•´ ì‹¤ì œ ì‘ì—…ì„ ì‹œì‘í•©ë‹ˆë‹¤.\"\u003c/span\u003e);\n                \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n                    \u003cspan class=\"hljs-title function_\"\u003esleep\u003c/span\u003e(1000L);\n                } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (\u003cspan class=\"hljs-title class_\"\u003eInterruptedException\u003c/span\u003e e) {\n                    \u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eRuntimeException\u003c/span\u003e(e);\n                }\n                \u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"í• ë‹¹ëœ ì‘ì—…ì— ëŒ€í•œ ì‹¤ì œ ì‘ì—…ì„ ë§ˆì³¤ìŠµë‹ˆë‹¤.\"\u003c/span\u003e);\n            });\n\n            \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e eveningMeeting = executor.\u003cspan class=\"hljs-title function_\"\u003esubmit\u003c/span\u003e(() -\u003e {\n                \u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"ì €ë… ìƒíƒœ íšŒì˜ì— ì°¸ì„í•˜ê² ìŠµë‹ˆë‹¤.\"\u003c/span\u003e);\n                \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n                    \u003cspan class=\"hljs-title function_\"\u003esleep\u003c/span\u003e(1000L);\n                } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (\u003cspan class=\"hljs-title class_\"\u003eInterruptedException\u003c/span\u003e e) {\n                    \u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eRuntimeException\u003c/span\u003e(e);\n                }\n                \u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"ì €ë… ìƒíƒœ íšŒì˜ë¥¼ ë§ˆì³¤ìŠµë‹ˆë‹¤.\"\u003c/span\u003e);\n            });\n\n            morningMeeting.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e();\n            actualWork.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e();\n            eveningMeeting.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e();\n        }\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003ch2\u003eê²°ê³¼ì— ëŒ€í•œ ì‹¬ì¸µ ë¶„ì„\u003c/h2\u003e\n\u003cp\u003eìœ„ì˜ ì½”ë“œë¥¼ íŒ©í† ë¦¬ ë©”ì„œë“œë‚˜ ExecutorServicesë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤í–‰í•˜ë©´ ì•„ë˜ì™€ ë¹„ìŠ·í•œ ê²°ê³¼ê°€ ë‚˜ì˜¬ ê²ƒì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained_3.png\" alt=\"ì´ë¯¸ì§€\"\u003e\u003c/p\u003e\n\u003cp\u003eì •ë³´ ë¡œê·¸ë¥¼ ì£¼ì˜ ê¹Šê²Œ ì‚´í´ë³´ë©´ \"|\" (íŒŒì´í”„ ê¸°í˜¸)ì˜ ì–‘ìª½ì— ë‘ ì„¹ì…˜ì´ í‘œì‹œë©ë‹ˆë‹¤. ì²« ë²ˆì§¸ ì„¹ì…˜ì€ VirtualThread[#26]/runnable@ForkJoinPool-1-worker-3ì™€ ê°™ì´ ê°€ìƒ ìŠ¤ë ˆë“œì— ëŒ€í•œ ì •ë³´ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤. ì´ ì„¹ì…˜ì€ ê°€ìƒ ìŠ¤ë ˆë“œ[#26]ê°€ platform ìŠ¤ë ˆë“œì¸ runnable@ForkJoinPool-1-worker-3ì— ë§¤í•‘ë¨ì„ ë‚˜íƒ€ë‚´ë©°, ë‹¤ë¥¸ ì„¹ì…˜ì€ ë¡œê·¸ì˜ ì •ë³´ ë¶€ë¶„ì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003ch2\u003eìŠ¤ë ˆë“œ ë¡œì»¬ ë° ê°€ìƒ ìŠ¤ë ˆë“œ:\u003c/h2\u003e\n\u003cp\u003eìë°”ì˜ ThreadLocalì€ ë³€ìˆ˜ë¥¼ ìŠ¤ë ˆë“œë³„ë¡œ ì €ì¥í•  ìˆ˜ ìˆëŠ” ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. ThreadLocal ë³€ìˆ˜ì— ì ‘ê·¼í•˜ëŠ” ê° ìŠ¤ë ˆë“œëŠ” ë³€ìˆ˜ì˜ ë…ë¦½ì ìœ¼ë¡œ ì´ˆê¸°í™”ëœ ë³µì‚¬ë³¸ì„ ì–»ê²Œ ë˜ë©°, ì´ë¥¼ í†µí•´ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì˜ ë™ì¼í•œ ë³€ìˆ˜ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  ì ‘ê·¼í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì‚¬ìš©ì ì„¸ì…˜ ë˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ê³¼ ê°™ì´ ìŠ¤ë ˆë“œë³„ ìƒíƒœë¥¼ ìœ ì§€í•˜ê³ ì í•˜ëŠ” ê²½ìš°ì— íŠ¹íˆ ìœ ìš©í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eê·¸ëŸ¬ë‚˜ Project Loomì˜ ì¼í™˜ìœ¼ë¡œ ì†Œê°œëœ ê°€ìƒ ìŠ¤ë ˆë“œì™€ í•¨ê»˜ ThreadLocalì„ ì‚¬ìš©í•  ë•Œ ë™ì‘ì´ í¬ê²Œ ë³€ê²½ë©ë‹ˆë‹¤. ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ìë°” ê°€ìƒ ë¨¸ì‹ (JVM)ì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” ê°€ë²¼ìš´ ìŠ¤ë ˆë“œë¡œ, ìš´ì˜ ì²´ì œì˜ ìŠ¤ë ˆë“œ ê´€ë¦¬ì— ë¬¶ì—¬ ìˆëŠ” ì „í†µì ì¸ í”Œë«í¼ ìŠ¤ë ˆë“œì™€ ë‹¬ë¦¬ ëŒ€ëŸ‰ìœ¼ë¡œ ìŠ¤ì¼€ì¤„ë˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eê°€ìƒ ìŠ¤ë ˆë“œëŠ” ìˆ˜ë°±ë§Œ ê°œë¡œ ìƒì„±ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ThreadLocalì˜ ì‚¬ìš©ì€ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-keyword\"\u003epackage\u003c/span\u003e org.vaslabs;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e org.slf4j.Logger;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e org.slf4j.LoggerFactory;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e java.util.concurrent.TimeUnit;\n\n\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eThreadLocalDemo\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e ThreadLocal\u0026#x3C;String\u003e stringThreadLocal = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eThreadLocal\u003c/span\u003e\u0026#x3C;\u003e();\n\n    \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eLogger\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003elogger\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e LoggerFactory.getLogger(DailyRoutineWorkflow.class);\n\n    \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String message)\u003c/span\u003e {\n        logger.info(STR.\u003cspan class=\"hljs-string\"\u003e\"{} | \\{message}\"\u003c/span\u003e, Thread.currentThread());\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esleep\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Long duration)\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ethrows\u003c/span\u003e InterruptedException {\n        TimeUnit.MILLISECONDS.sleep(duration);\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003evirtualThreadContext\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ethrows\u003c/span\u003e InterruptedException {\n        \u003cspan class=\"hljs-type\"\u003evar\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003evirtualThread1\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e Thread.ofVirtual().name(\u003cspan class=\"hljs-string\"\u003e\"thread-1\"\u003c/span\u003e).start(() -\u003e {\n            stringThreadLocal.set(\u003cspan class=\"hljs-string\"\u003e\"thread-1\"\u003c/span\u003e);\n            \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n                sleep(\u003cspan class=\"hljs-number\"\u003e1000L\u003c/span\u003e);\n            } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (InterruptedException e) {\n                \u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eRuntimeException\u003c/span\u003e(e);\n            }\n            log(STR.\u003cspan class=\"hljs-string\"\u003e\"thread name is \\{stringThreadLocal.get()}\"\u003c/span\u003e);\n        });\n        \u003cspan class=\"hljs-type\"\u003evar\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003evirtualThread2\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e Thread.ofVirtual().name(\u003cspan class=\"hljs-string\"\u003e\"thread-2\"\u003c/span\u003e).start(() -\u003e {\n            stringThreadLocal.set(\u003cspan class=\"hljs-string\"\u003e\"thread-2\"\u003c/span\u003e);\n            \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n                sleep(\u003cspan class=\"hljs-number\"\u003e1000L\u003c/span\u003e);\n            } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (InterruptedException e) {\n                \u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eRuntimeException\u003c/span\u003e(e);\n            }\n            log(STR.\u003cspan class=\"hljs-string\"\u003e\"thread name is \\{stringThreadLocal.get()}\"\u003c/span\u003e);\n        });\n        virtualThread1.join();\n        virtualThread2.join();\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eê²°ë¡ :\u003c/h2\u003e\n\u003cp\u003eìš”ì•½í•˜ë©´, ì´ Java ìŠ¤ë ˆë”© ëª¨ë¸ì— ê´€í•œ ê¸°ì‚¬ëŠ” Virtual Threads, Platform Threads ë° ThreadLocalì˜ ì„¸ë¶€ ì‚¬í•­ì„ ì‚´í´ë´„ìœ¼ë¡œì¨ Javaì—ì„œ ë™ì‹œì„± í”„ë¡œê·¸ë˜ë°ì˜ ì§„í™”í•˜ëŠ” í’ê²½ì„ ë°í˜€ì¤ë‹ˆë‹¤. Virtual Threadsì€ ê°€ë²¼ìš°ë©´ì„œ íš¨ìœ¨ì ì¸ ë™ì‹œì„±ì„ ì œê³µí•˜ë©° ë¦¬ì†ŒìŠ¤ ì§‘ì•½ì ì¸ Platform Threadsì˜ ë³¸ì§ˆê³¼ëŠ” ëŒ€ì¡°ì ì¸ ì ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ë“¤ì€ ëŒ€ê·œëª¨ì˜ ë™ì‹œ ì‘ì—…ì„ ìµœì†Œí•œì˜ ë¦¬ì†ŒìŠ¤ ì˜¤ë²„í—¤ë“œë¡œ ì‹¤í–‰í•˜ì—¬ í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì„ ê°„ì†Œí™”í•˜ê³  ì‘ìš©í”„ë¡œê·¸ë¨ í™•ì¥ì„±ì„ í–¥ìƒì‹œí‚¤ëŠ” ë°©ì‹ìœ¼ë¡œ Javaì˜ ìŠ¤ë ˆë“œ ì²˜ë¦¬ ë°©ë²•ì„ í˜ì‹ í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eê·¸ëŸ¬ë‚˜ ì´ ìƒˆë¡œìš´ ë§¥ë½ì—ì„œ ThreadLocal ì‚¬ìš©ì˜ ë³µì¡ì„±ì€ ì‹ ì¤‘í•œ ê³ ë ¤ê°€ í•„ìš”í•¨ì„ ê°•ì¡°í•©ë‹ˆë‹¤. ThreadLocalì€ ê¸°ì¡´ ìŠ¤ë ˆë”©ì—ì„œ ìŠ¤ë ˆë“œë³„ ë°ì´í„°ë¥¼ ìœ ì§€í•˜ëŠ” ê°•ë ¥í•œ ë„êµ¬ë¡œ ë‚¨ì•„ ìˆì§€ë§Œ, ê°€ìƒ ìŠ¤ë ˆë“œì—ì„œëŠ” ë” ë³µì¡í•´ì§€ë¯€ë¡œ ìƒíƒœ ë° ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ë¥¼ ìœ„í•œ ëŒ€ì²´ ì „ëµì´ í•„ìš”í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ê°œë…ë“¤ì€ Javaì˜ ë™ì‹œì„± íŒ¨ëŸ¬ë‹¤ì„ì—ì„œ ì¤‘ëŒ€í•œ ë³€í™”ë¥¼ ë‚˜íƒ€ë‚´ë©°, ê°œë°œìë“¤ì´ ë³´ë‹¤ ë°˜ì‘ì„±ì´ ë›°ì–´ë‚˜ê³  í™•ì¥ ê°€ëŠ¥í•˜ë©° íš¨ìœ¨ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ ê¸°íšŒë¥¼ ì œê³µí•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003ch1\u003eìŠ¤íƒì•„ë°ë¯¹\u003c/h1\u003e\n\u003cp\u003eëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eì‘ê°€ë¥¼ ì‘ì›í•˜ê³  íŒ”ë¡œìš°í•´ì£¼ì‹œê¸¸ ë°”ëë‹ˆë‹¤! ğŸ‘\u003c/li\u003e\n\u003cli\u003eíŠ¸ìœ„í„°(X), ë§í¬ë“œì¸, YouTubeì—ì„œ íŒ”ë¡œìš°í•´ì£¼ì„¸ìš”.\u003c/li\u003e\n\u003cli\u003eì „ ì„¸ê³„ì ìœ¼ë¡œ í”„ë¡œê·¸ë˜ë° êµìœ¡ì„ ë¬´ë£Œë¡œ ì œê³µí•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ë ¤ë©´ Stackademic.comì„ ë°©ë¬¸í•´ì£¼ì„¸ìš”.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-23-JavaThreadingEssentialsVirtualvsPlatformThreadsExplained"},"buildId":"bb_yO9GbCvdfc_n71SfUf","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>