<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>ì „ì²´ êµ¬ì„± Compose íŒŒì¼ ì‰½ê²Œ ì„¤ì •í•˜ëŠ” ë°©ë²• | ui-station</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://ui-station.github.io///post/2024-06-23-TheWholeShebangComposeFiles" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="ì „ì²´ êµ¬ì„± Compose íŒŒì¼ ì‰½ê²Œ ì„¤ì •í•˜ëŠ” ë°©ë²• | ui-station" data-gatsby-head="true"/><meta property="og:title" content="ì „ì²´ êµ¬ì„± Compose íŒŒì¼ ì‰½ê²Œ ì„¤ì •í•˜ëŠ” ë°©ë²• | ui-station" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-23-TheWholeShebangComposeFiles_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://ui-station.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://ui-station.github.io///post/2024-06-23-TheWholeShebangComposeFiles" data-gatsby-head="true"/><meta name="twitter:title" content="ì „ì²´ êµ¬ì„± Compose íŒŒì¼ ì‰½ê²Œ ì„¤ì •í•˜ëŠ” ë°©ë²• | ui-station" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-23-TheWholeShebangComposeFiles_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | ui-station" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-23 00:30" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BHFR6GTH9P"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-BHFR6GTH9P');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-70e5ce89f3d962ac.js" defer=""></script><script src="/_next/static/wOkGEDZCvEs3S_XaNsdwr/_buildManifest.js" defer=""></script><script src="/_next/static/wOkGEDZCvEs3S_XaNsdwr/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">UI STATION</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">ì „ì²´ êµ¬ì„± Compose íŒŒì¼ ì‰½ê²Œ ì„¤ì •í•˜ëŠ” ë°©ë²•</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="ì „ì²´ êµ¬ì„± Compose íŒŒì¼ ì‰½ê²Œ ì„¤ì •í•˜ëŠ” ë°©ë²•" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">UI STATION</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 23, 2024</span><span class="posts_reading_time__f7YPP">55<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-23-TheWholeShebangComposeFiles&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<img src="/assets/img/2024-06-23-TheWholeShebangComposeFiles_0.png">
<p>ìš”ì¦˜ Docker ë° ì»¨í…Œì´ë„ˆì— ëŒ€í•´ ë§ì´ ì“°ê³  ê°€ë¥´ì¹˜ê³  ìˆìŠµë‹ˆë‹¤. ë‚´ ì»¨í…ì¸ ë¥¼ ì†Œë¹„í•˜ê³  í”¼ë“œë°±ì„ ì œê³µí•´ ì£¼ì‹œëŠ” ì—¬ëŸ¬ë¶„ë“¤ì—ê²Œ ë§¤ìš° ê°ì‚¬í•©ë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì˜ ì˜ê²¬ì„ ë“£ê³  ë‹¤ìŒ ì£¼ì œëŠ” ë‹¹ì—°íˆ Docker Composeì…ë‹ˆë‹¤. ì™œëƒí•˜ë©´ ì´ì œ ì—¬ëŸ¬ë¶„ì€ ìì‹ ì˜ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ê³  ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì„ ì•Œê³  ìˆìœ¼ë¯€ë¡œ, ë‹¤ìŒìœ¼ë¡œ ë…¼ë¦¬ì ìœ¼ë¡œ ë‚¨ì€ ì¼ì€ ë³µì¡í•œ ë©€í‹° ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ê³  ê·¸ ëª¨ë“  ê²ƒì„ ë‹¨ì¼ ì†Œí”„íŠ¸ì›¨ì–´ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>
<h1>Docker Compose: ê·¸ê²Œ ë­”ë°, ì™œ í•„ìš”í•œê°€ìš”?</h1>
<p>ê³µì‹ ë¬¸ì„œì—ì„œ ë” ë§ì€ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì§€ë§Œ, ê°„ë‹¨íˆ ë§í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤: Dockerë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ, ì´ë¯¸ì§€, ë³¼ë¥¨ ë“±ì„ ê´€ë¦¬í•©ë‹ˆë‹¤. docker runì„ ì‹¤í–‰í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ë‹¨ì¼ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë§Œì•½ ì²« ë²ˆì§¸ ì»¨í…Œì´ë„ˆì™€ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë‘ ë²ˆì§¸ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•˜ë ¤ë©´ docker runì„ ë‹¤ì‹œ ì‹¤í–‰í•´ì•¼ í•˜ë©°, ë³¼ë¥¨ ë° ë„¤íŠ¸ì›Œí¬ë¥¼ ë³„ë„ë¡œ ì²˜ë¦¬í•˜ì—¬ ì„œë¡œë¥¼ ë³´ê³  í†µì‹ í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ë„ì»¤ ì»´í¬ì¦ˆëŠ” ë„ì»¤ ìœ„ì— ë˜í¼ë¥¼ ì œê³µí•˜ì—¬ ì´ ëª¨ë“  ê²ƒì„ ì¶”ìƒí™”í•©ë‹ˆë‹¤ (ë§ì•„ìš”! ë„ì»¤ ì»´í¬ì¦ˆëŠ” ë‹¨ìˆœíˆ ë„ì»¤ë¥¼ ìœ„í•œ ê³ ìˆ˜ì¤€ CLIì…ë‹ˆë‹¤). ì‹¤ì œë¡œ ëŒ€ë¶€ë¶„ì˜ ì˜µì…˜ì´ docker run í•˜ìœ„ ëª…ë ¹ì–´ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ì˜µì…˜ë“¤ê³¼ ë§¤ìš° ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ ëª…ëª…ë©ë‹ˆë‹¤.</p>
<p>ë„ì»¤ ì»´í¬ì¦ˆë¥¼ ì‚¬ìš©í•˜ë©´ YAML íŒŒì¼ì¸ ì»´í¬ì¦ˆ íŒŒì¼ì„ í†µí•´ ì»¨í…Œì´ë„ˆ(ë„ì»¤ ì»´í¬ì¦ˆ ì„¸ê³„ì—ì„œëŠ” ì„œë¹„ìŠ¤ë¼ê³  ë¶ˆë¦½ë‹ˆë‹¤... ë‹¨ì§€ ìŠ¤ì›œ ëª¨ë“œì—ì„œë„ ì»´í¬ì¦ˆ íŒŒì¼ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—... ë‹¤ë¥¸ ê¸€ì—ì„œ ì„¤ëª…í•  ì˜ˆì •), ë³¼ë¥¨ ë° ë„¤íŠ¸ì›Œí¬ë¥¼ í¬í•¨í•œ ëª¨ë“  ê²ƒì„ ì„ ì–¸ì ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë©€í‹° ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê´€ë¦¬í•´ì•¼ í•  ë•Œ, ì´ compose íŒŒì¼ë§Œ ê±´ë“œë¦¬ê³  ë‚˜ë¨¸ì§€ëŠ” ë„ì»¤ ì»´í¬ì¦ˆê°€ ëª¨ë‘ ì²˜ë¦¬í•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<h1>ì»´í¬ì¦ˆ íŒŒì¼</h1>
<p>ìš°ì„ , ë©€í‹° ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì˜¬ë°”ë¥´ê²Œ ìš´ì˜í•˜ë ¤ë©´ ì»´í¬ì¦ˆ íŒŒì¼ì„ ì‘ì„±í•˜ëŠ” ë°©ë²•ì„ ìµí˜€ì•¼ í•˜ë¯€ë¡œ ë„ì»¤ ì»´í¬ì¦ˆ CLIì— ëŒ€í•´ì„œëŠ” ë‹¤ë¥¸ ê¸€ì—ì„œ ë‹¤ë£° ì˜ˆì •ì…ë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ë„ì»¤ì˜ êµ¬ì„± íŒŒì¼ ê´€ë ¨ ë¬¸ì„œëŠ” ë§¤ìš° ì™„ë²½í•˜ì§€ë§Œ, ì €ëŠ” ì‹¤ìš©ì£¼ì˜ì™€ ê²½í—˜ìœ¼ë¡œë¶€í„° ë°°ìš°ëŠ” ê²ƒì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ì‚¬ëŒì´ë¼ì„œ ëª¨ë“  Compose íŒŒì¼ ì˜µì…˜ì„ ì†ì§ˆí•˜ê³  ëª…ë£Œí•œ ì„¤ëª…ê³¼ ì‹¤ì œ ì˜ˆì‹œë¥¼ ë‹´ì•„ë‚´ë ¤ê³  í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì‹œì‘í•´ë´…ì‹œë‹¤!</p>
<p>ì°¸ê³  1: ì´ ê¸°ì‚¬ë¥¼ ì‘ì„±í•˜ëŠ” ì‹œì ì—ì„œ ìµœì‹  ë²„ì „ì¸ v3ì˜ Compose íŒŒì¼ ëª…ì„¸ì— ëŒ€í•œ ì˜µì…˜ê³¼ ìŠ¤í‚¤ë§ˆë§Œ ë‹¤ë£° ì˜ˆì •ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‹ˆ ê±±ì •í•˜ì§€ ë§ˆì„¸ìš”.</p>
<p>ì°¸ê³  2: ê° ì˜µì…˜ì— ëŒ€í•´ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ì„¤ëª…ê³¼ ì˜ˆì‹œë§Œ ì œê³µí•  ê²ƒì´ë©°, íŠ¹ì • ì˜µì…˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ë³¸ ì ì´ ì—†ëŠ” ê²½ìš°ì—ëŠ” "ì¼ë°˜ì ì´ì§€ ì•ŠìŒ"ìœ¼ë¡œ ê°„ì£¼í•  ê²ƒì…ë‹ˆë‹¤. ì–´ë–¤ ì˜µì…˜ì˜ ì ì€ ì‚¬ìš© ë°©ë²• ë° ì¼ë°˜ì ì´ì§€ ì•Šì€ ë§¤ê°œë³€ìˆ˜ë¥¼ ë” ìì„¸íˆ ì•Œê³  ì‹¶ë‹¤ë©´ ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ì¡°í•´ì£¼ì„¸ìš”.</p>
<p>ì˜ˆì‹œì— ë“¤ì–´ê°€ê¸° ì „ì—, ëª¨ë“  êµ¬ì„± íŒŒì¼ì€ ì‘ì„±í•˜ëŠ” í˜„ì¬ì˜ íŒŒì¼ ìŠ¤í‚¤ë§ˆë¥¼ ë‚˜íƒ€ë‚´ëŠ” í‚¤ì›Œë“œ versionìœ¼ë¡œ ì‹œì‘ë©ë‹ˆë‹¤. ì•ì„œ ë§í•œëŒ€ë¡œ, ì €í¬ëŠ” ìµœì‹  (ë²„ì „: "3")ì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>ë¹Œë“œ</h2>
<p>ê¸°ë³¸ì ìœ¼ë¡œ Docker Composeë¡œ ë¬´ì–¸ê°€ë¥¼ ì‹œì‘í•  ë•Œ, Docker ì´ë¯¸ì§€ ë˜ëŠ” Dockerfileì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•˜ê¸° ì „ì— Dockerê°€ ì´ë¯¸ì§€ë¥¼ ì§ì ‘ ë¹Œë“œí•˜ë„ë¡ í•˜ê³  ì‹¶ë‹¤ë©´ ìˆ˜ë™ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ì§€ ì•Šê³ ë„ ì´ ì˜µì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì˜ˆë¥¼ ë“¤ì–´:</p>
<pre><code class="hljs language-js">$ cat ><span class="hljs-title class_">Dockerfile</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
# ì´ê²ƒì€ <span class="hljs-title class_">Dockerfile</span>ì…ë‹ˆë‹¤
<span class="hljs-variable constant_">FROM</span> ubuntu
<span class="hljs-variable constant_">CMD</span> [<span class="hljs-string">"echo"</span>, <span class="hljs-string">"Hello Medium readers"</span>]
# <span class="hljs-title class_">Dockerfile</span> ë
<span class="hljs-variable constant_">EOF</span>
$
$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  my-test-<span class="hljs-attr">container</span>:
    <span class="hljs-attr">build</span>: .
<span class="hljs-variable constant_">EOF</span>
$
$ docker-compose up
ë””í´íŠ¸ ë“œë¼ì´ë²„ë¥¼ ì‚¬ìš©í•˜ì—¬ <span class="hljs-string">"mediumcom_default"</span> ë„¤íŠ¸ì›Œí¬ ìƒì„± ì¤‘
my-test-container ë¹Œë“œ ì¤‘
<span class="hljs-title class_">Docker</span> ë°ëª¬ìœ¼ë¡œ ë¹Œë“œ ì»¨í…ìŠ¤íŠ¸ ë³´ë‚´ëŠ” ì¤‘  <span class="hljs-number">1.</span>337MB
ë‹¨ê³„ <span class="hljs-number">1</span>/<span class="hljs-number">2</span> : <span class="hljs-variable constant_">FROM</span> ubuntu
 ---> ba6acccedd29
ë‹¨ê³„ <span class="hljs-number">2</span>/<span class="hljs-number">2</span> : <span class="hljs-variable constant_">CMD</span> [<span class="hljs-string">"echo"</span>, <span class="hljs-string">"Hello Medium readers"</span>]
 ---> ìºì‹œ ì‚¬ìš© ì¤‘
 ---> 6c8b22fa650c
ì„±ê³µì ìœ¼ë¡œ ë¹Œë“œë˜ì—ˆìŠµë‹ˆë‹¤ 6c8b22fa650c
mediumcom_my-test-<span class="hljs-attr">container</span>:latestë¡œ ì„±ê³µì ìœ¼ë¡œ íƒœê¹…ë˜ì—ˆìŠµë‹ˆë‹¤
mediumcom_my-test-container_1 ìƒì„± ì¤‘ ... ì™„ë£Œ
mediumcom_my-test-container_1ì— ì—°ê²° ì¤‘
my-test-container_1  | <span class="hljs-title class_">Hello</span> <span class="hljs-title class_">Medium</span> readers
mediumcom_my-test-container_1ëŠ” ì½”ë“œ <span class="hljs-number">0</span>ìœ¼ë¡œ ì¢…ë£Œë¨
$
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ë³´ì‹œë‹¤ì‹œí”¼, Docker ComposeëŠ” Dockerì—ê²Œ ë„ì»¤íŒŒì¼(ì»´í¬ì¦ˆ íŒŒì¼ê³¼ ë™ì¼í•œ ê²½ë¡œì— ìœ„ì¹˜)ë¡œë¶€í„° ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ë„ë¡ ì§€ì‹œí•˜ê³ , ê·¸ í›„ì— ìë™ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.</p>
<p>ì°¸ê³ : ì¼ë°˜ì ìœ¼ë¡œ docker buildì™€ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ì¼ë¶€ ì˜µì…˜ë“¤(ë¹Œë“œ ì¸ì ì „ë‹¬, Dockerfileì˜ ê²½ë¡œ ë° ì´ë¦„ ì§€ì • ë“±)ë„ ì—¬ê¸°ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ë¬¸ì„œë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.</p>
<h2>ì´ë¯¸ì§€</h2>
<p>ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ Docker ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•  í•„ìš”ëŠ” ì—†ê² ì£ ... ê·¸ë ‡ê²Œ í•˜ë©´ ë¶ˆí¸í•˜ê² ì£ . ë”°ë¼ì„œ ì´ë¯¸ì§€ë¥¼ ë¯¸ë¦¬ ë¹Œë“œí•˜ê±°ë‚˜ ê°„ë‹¨íˆ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ì§€ì •í•˜ë©´ ë©ë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì˜ˆë¥¼ ë“¤ì–´, ì´ì „ ì˜ˆì œì˜ Dockerfileê³¼ ë‹¤ìŒì˜ compose íŒŒì¼ì„ ì‚´í´ë³´ì„¸ìš”:</p>
<pre><code class="hljs language-js">$ # ì´ì „ ì˜ˆì œ ì •ë¦¬í•˜ê¸° ìœ„í•¨
$ # ì´ì œë¶€í„° ê° ì˜ˆì œì—ì„œ ë‹¤ìŒ ëª…ë ¹ ì‹¤í–‰í•´ì£¼ì„¸ìš”
$ docker-compose down -v --remove-orphans
$
$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">build</span>: .
  <span class="hljs-attr">second</span>:
    <span class="hljs-attr">image</span>: hello-world
<span class="hljs-variable constant_">EOF</span>
$ # <span class="hljs-title class_">Dockerfile</span>ì´ ë³€ê²½ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì²« ë²ˆì§¸ ì´ë¯¸ì§€ê°€ ë‹¤ì‹œ ë¹Œë“œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤
$ docker-compose up
ë„¤íŠ¸ì›Œí¬ <span class="hljs-string">"mediumcom_default"</span> ìƒì„± ì¤‘
mediumcom_first_1  ... ìƒì„±ë¨
mediumcom_second_1 ... ìƒì„±ë¨
mediumcom_second_1, mediumcom_first_1ì— ì—°ê²° ì¤‘
first_1   | <span class="hljs-title class_">Hello</span> <span class="hljs-title class_">Medium</span> readers
second_1  |
second_1  | <span class="hljs-title class_">Hello</span> <span class="hljs-keyword">from</span> <span class="hljs-title class_">Docker</span>!
second_1  | <span class="hljs-title class_">This</span> message shows that your installation appears to be working correctly.
second_1  |
second_1  | <span class="hljs-title class_">To</span> generate <span class="hljs-variable language_">this</span> message, <span class="hljs-title class_">Docker</span> took the following <span class="hljs-attr">steps</span>:
second_1  |  <span class="hljs-number">1.</span> <span class="hljs-title class_">The</span> <span class="hljs-title class_">Docker</span> client contacted the <span class="hljs-title class_">Docker</span> daemon.
second_1  |  <span class="hljs-number">2.</span> <span class="hljs-title class_">The</span> <span class="hljs-title class_">Docker</span> daemon pulled the <span class="hljs-string">"hello-world"</span> image <span class="hljs-keyword">from</span> the <span class="hljs-title class_">Docker</span> <span class="hljs-title class_">Hub</span>.
second_1  |     (amd64)
second_1  |  <span class="hljs-number">3.</span> <span class="hljs-title class_">The</span> <span class="hljs-title class_">Docker</span> daemon created a <span class="hljs-keyword">new</span> container <span class="hljs-keyword">from</span> that image which runs the
second_1  |     executable that produces the output you are currently reading.
second_1  |  <span class="hljs-number">4.</span> <span class="hljs-title class_">The</span> <span class="hljs-title class_">Docker</span> daemon streamed that output to the <span class="hljs-title class_">Docker</span> client, which sent it
second_1  |     to your terminal.
second_1  |
second_1  | <span class="hljs-title class_">To</span> <span class="hljs-keyword">try</span> something more ambitious, you can run an <span class="hljs-title class_">Ubuntu</span> container <span class="hljs-attr">with</span>:
second_1  |  $ docker run -it ubuntu bash
second_1  |
second_1  | <span class="hljs-title class_">Share</span> images, automate workflows, and more <span class="hljs-keyword">with</span> a free <span class="hljs-title class_">Docker</span> <span class="hljs-attr">ID</span>:
second_1  |  <span class="hljs-attr">https</span>:<span class="hljs-comment">//hub.docker.com/</span>
second_1  |
second_1  | <span class="hljs-title class_">For</span> more examples and ideas, <span class="hljs-attr">visit</span>:
second_1  |  <span class="hljs-attr">https</span>:<span class="hljs-comment">//docs.docker.com/get-started/</span>
second_1  |
mediumcom_second_1ì´ ì½”ë“œ <span class="hljs-number">0</span>ìœ¼ë¡œ ì¢…ë£Œë¨
mediumcom_first_1ì´ ì½”ë“œ <span class="hljs-number">0</span>ìœ¼ë¡œ ì¢…ë£Œë¨
</code></pre>
<p>ì—¬ê¸°ì„œ ë³´ë“¯ì´, ì´ì œ í•˜ë‚˜ì˜ Compose íŒŒì¼ê³¼ í•˜ë‚˜ì˜ docker-compose ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë™ì¼í•œ ë‹¤ì¤‘ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œ ë³‘ë ¬ë¡œ 2ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤. í•˜ë‚˜ì˜ ì»¨í…Œì´ë„ˆëŠ” "Hello Medium readers"ë¼ê³  ë§í•˜ëŠ” ì‚¬ìš©ì ì§€ì • Docker ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í–ˆê³ , ë‹¤ë¥¸ í•˜ë‚˜ëŠ” Docker Hubì—ì„œ "hello-world" ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì™€ ìì²´ Hello World ë©”ì‹œì§€ë¥¼ ì¶œë ¥í–ˆìŠµë‹ˆë‹¤.</p>
<h2>ëª…ë ¹</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì´ë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆì˜ ëª…ë ¹ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ Docker ì´ë¯¸ì§€ì— entrypointê°€ ì •ì˜ë˜ì–´ ìˆìœ¼ë©´ ì´ ëª…ë ¹ì´ í•´ë‹¹ entrypointì˜ ì¸ìˆ˜ê°€ ë©ë‹ˆë‹¤. ì˜ˆì‹œ:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: ubuntu
    <span class="hljs-attr">command</span>: echo <span class="hljs-string">"I am at your command!"</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
<span class="hljs-title class_">Creating</span> network <span class="hljs-string">"mediumcom_default"</span> <span class="hljs-keyword">with</span> the <span class="hljs-keyword">default</span> driver
<span class="hljs-title class_">Creating</span> mediumcom_first_1 ... done
<span class="hljs-title class_">Attaching</span> to mediumcom_first_1
first_1  | I am at your command!
mediumcom_first_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
</code></pre>
<p>ì•„ì£¼ ê°„ë‹¨í•˜ì§€ìš”?</p>
<h2>entrypoint</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì´ë¦„ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´ í•´ë‹¹ ê¸°ëŠ¥ì€ ì»¨í…Œì´ë„ˆì˜ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ë¥¼ ì¬ì •ì˜í•˜ê²Œ í•´ì¤ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì»¨í…Œì´ë„ˆê°€ echo ì‹¤í–‰ íŒŒì¼ë¡œ ì‹¤í–‰ë˜ë„ë¡ í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•  ìˆ˜ ìˆì–´ìš”:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: ubuntu
    <span class="hljs-attr">entrypoint</span>: [<span class="hljs-string">"echo"</span>]
    <span class="hljs-attr">command</span>: <span class="hljs-string">"I am just an arg"</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
<span class="hljs-title class_">Creating</span> network <span class="hljs-string">"mediumcom_default"</span> <span class="hljs-keyword">with</span> the <span class="hljs-keyword">default</span> driver
<span class="hljs-title class_">Creating</span> mediumcom_first_1 ... done
<span class="hljs-title class_">Attaching</span> to mediumcom_first_1
first_1  | I am just an arg
mediumcom_first_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
</code></pre>
<p>ê°„ë‹¨í•˜ì§€ìš”? ê·¸ë¦¬ê³  command ëŒ€ entrypoint ë“±ì— ëŒ€í•´ ê¶ê¸ˆí•´ í•œë‹¤ë©´ ë‹¹ì‹ ë§Œì´ ì•„ë‹™ë‹ˆë‹¤. ì´ê²ƒì€ ë§¤ìš° ì¼ë°˜ì ì¸ í˜¼ë€ í¬ì¸íŠ¸ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ê¸°ì‚¬ "ì „ë¶€ ë‹¤: Dockerfiles"ì—ì„œ ì´ì— ëŒ€í•´ ì´ì•¼ê¸°í–ˆì–´ìš”. ê°„ë‹¨íˆ ë§í•´ì„œ, ì €ëŠ” ì´ ë‘ ì˜µì…˜ì„ ì¡°ìœ¨í•  ë•Œ í•„ìš”í•œ ì¹˜íŠ¸ ì‹œíŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤: <a href="https://docs.docker.com/engine/reference/builder/#understand-how-cmd-and-entrypoint-interact" rel="nofollow" target="_blank">https://docs.docker.com/engine/reference/builder/#understand-how-cmd-and-entrypoint-interact</a></p>
<h2>cap_add</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ë§Œì•½ ì»¨í…Œì´ë„ˆì— ì¶”ê°€ ê¸°ëŠ¥ì´ í•„ìš”í•œ ê²½ìš°, ë‹¤ìŒê³¼ ê°™ì´ ì¶”ê°€í•  ìˆ˜ ìˆì–´ìš”:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: <span class="hljs-attr">ubuntu</span>:<span class="hljs-number">14.04</span>
    <span class="hljs-attr">command</span>: ip link add dummy0 type dummy
    <span class="hljs-attr">cap_add</span>:
     - <span class="hljs-variable constant_">NET_ADMIN</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
<span class="hljs-title class_">Recreating</span> mediumcom_first_1 ... done
<span class="hljs-title class_">Attaching</span> to mediumcom_first_1
mediumcom_first_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
</code></pre>
<p>ì´ì œ ìœ„ì™€ ê°™ì€ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ë ¤ê³  í•˜ì§€ë§Œ ê¸°ëŠ¥ì´ ì—†ëŠ” ê²½ìš°, ì—ëŸ¬ê°€ ë°œìƒí•  ê±°ì˜ˆìš”:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: <span class="hljs-attr">ubuntu</span>:<span class="hljs-number">14.04</span>
    <span class="hljs-attr">command</span>: ip link add dummy0 type dummy
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
<span class="hljs-title class_">Recreating</span> mediumcom_first_1 ... done
<span class="hljs-title class_">Attaching</span> to mediumcom_first_1
first_1  | <span class="hljs-variable constant_">RTNETLINK</span> <span class="hljs-attr">answers</span>: <span class="hljs-title class_">Operation</span> not permitted
mediumcom_first_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">2</span>
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>cap_drop</h2>
<p>cap_addì˜ ì • ë°˜ëŒ€ì…ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆì—ì„œ ê¸°ëŠ¥ì„ ì œê±°í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ìŠˆí¼ ê¶Œí•œì´ ë¶€ì—¬ëœ ì»¨í…Œì´ë„ˆê°€ ìˆë‹¤ê³  ê°€ì •í•´ë³´ê² ìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: <span class="hljs-attr">ubuntu</span>:<span class="hljs-number">14.04</span>
    <span class="hljs-attr">command</span>: ip link add dummy0 type dummy
    <span class="hljs-attr">cap_add</span>:
     - <span class="hljs-variable constant_">ALL</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
<span class="hljs-title class_">Recreating</span> mediumcom_first_1 ... done
<span class="hljs-title class_">Attaching</span> to mediumcom_first_1
mediumcom_first_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
</code></pre>
<p>ê·¸ëŸ¬ë‚˜ í˜¸ìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí¬ ìŠ¤íƒì„ ê´€ë¦¬í•˜ë ¤ê³  í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´:</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-sh">$ <span class="hljs-built_in">cat</span> >docker-compose.yml &#x3C;&#x3C;<span class="hljs-string">EOF
version: "3"
services:
  first:
    image: ubuntu:14.04
    command: ip link add dummy0 type dummy
    cap_add:
     - ALL
    cap_drop:
     - NET_ADMIN
EOF</span>
$ docker-compose up
mediumcom_first_1 ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ìƒì„±í•˜ëŠ” ì¤‘... ì™„ë£Œ
mediumcom_first_1ì— ì—°ê²° ì¤‘
first_1 | RTNETLINK ë‹µë³€: ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤
mediumcom_first_1ì€ ì½”ë“œ 2ë¡œ ì¢…ë£Œë¨
</code></pre>
<h2>cgroup_parent</h2>
<p>cgroupì— ëŒ€í•´ ì²˜ìŒì´ë¼ë©´ ì´ê³³ì— ê´€í•œ ì§§ì€ ì¢‹ì€ ê¸°ì‚¬ê°€ ìˆìŠµë‹ˆë‹¤. ê°„ë‹¨íˆ ë§í•´, Linux ì»¤ë„ì€ ì œì–´ ê·¸ë£¹ (cgroups)ì„ í†µí•´ í”„ë¡œì„¸ìŠ¤ë³„ë¡œ ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ì˜ ì‚¬ìš©ëŸ‰ì„ ì—„ê²©í•˜ê²Œ ì œì–´í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. Dockerì—ì„œëŠ” ì´ë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆê°€ íŠ¹ì • ë¦¬ì†ŒìŠ¤ë¥¼ ì–¼ë§ˆë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ì§€ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆëŠ” ê°€ëŠ¥í•œ ë§ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  ì‹œë„í•  ê²ƒì…ë‹ˆë‹¤:</p>
<pre><code class="hljs language-sh">$ <span class="hljs-built_in">cat</span> >docker-compose.yml &#x3C;&#x3C;<span class="hljs-string">EOF
version: "3"
services:
  first:
    image: ubuntu
    command: sleep 30
EOF</span>
$ docker-compose up -d
ê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ ë„¤íŠ¸ì›Œí¬ <span class="hljs-string">"root_default"</span>ë¥¼ ìƒì„± ì¤‘
root_first_1 ì»¨í…Œì´ë„ˆ ìƒì„± ì¤‘... ì™„ë£Œ
$ docker inspect root_first_1 --format <span class="hljs-string">'{.HostConfig.CgroupParent}'</span>
$
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ë³´ì‹œëŠ” ëŒ€ë¡œ, ê¸°ë³¸ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆì— í• ë‹¹ëœ ì œì–´ ê·¸ë£¹ì´ ì—†ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ìš°ë¦¬ê°€ í• ë‹¹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¬ì§€ì–´ ìš°ë¦¬ ìì‹ ì˜ ê²ƒì„ í• ë‹¹í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">$ cgcreate -g <span class="hljs-attr">cpu</span>:test-cgroup-medium
$ ls /sys/fs/cgroup/cpu
cgroup-limit           cgroup.<span class="hljs-property">sane_behavior</span>  cpu.<span class="hljs-property">shares</span>    cpuacct.<span class="hljs-property">usage</span>         cpuacct.<span class="hljs-property">usage_percpu_sys</span>   cpuacct.<span class="hljs-property">usage_user</span>  release_agent  test-cgroup-medium
cgroup.<span class="hljs-property">clone_children</span>  cpu.<span class="hljs-property">cfs_period_us</span>     cpu.<span class="hljs-property">stat</span>      cpuacct.<span class="hljs-property">usage_all</span>     cpuacct.<span class="hljs-property">usage_percpu_user</span>  docker              system.<span class="hljs-property">slice</span>   user.<span class="hljs-property">slice</span>
cgroup.<span class="hljs-property">procs</span>           cpu.<span class="hljs-property">cfs_quota_us</span>      cpuacct.<span class="hljs-property">stat</span>  cpuacct.<span class="hljs-property">usage_percpu</span>  cpuacct.<span class="hljs-property">usage_sys</span>          notify_on_release   tasks
</code></pre>
<p>ê·¸ë¦¬ê³  ì´ ì˜µì…˜ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì´ ì»¨í…Œì´ë„ˆì—ì„œ CPU ì‚¬ìš©ëŸ‰ì„ ì—„ê²©í•˜ê²Œ ì œì–´í•  ìˆ˜ ìˆê²Œ ë  ê²ƒì…ë‹ˆë‹¤. cgroup "cpu:test-cgroup-medium"ì„ í†µí•´:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: ubuntu
    <span class="hljs-attr">command</span>: sleep <span class="hljs-number">30</span>
    <span class="hljs-attr">cgroup_parent</span>: <span class="hljs-string">"cpu:test-cgroup-medium"</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up -d
<span class="hljs-title class_">Recreating</span> root_first_1 ... done
$ docker inspect root_first_1 --format <span class="hljs-string">'{.HostConfig.CgroupParent}'</span>
<span class="hljs-attr">cpu</span>:test-cgroup-medium
$
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>container_name</h2>
<p>ì´ ì˜µì…˜ì— ëŒ€í•´ ë¡œì¼“ ê³¼í•™ê°™ì€ ê²ƒì€ ì—†ìŠµë‹ˆë‹¤. ì´ ì˜µì…˜ì€ Docker Compose ë°°í¬ì—ì„œ ìƒì„±ëœ ì»¨í…Œì´ë„ˆì˜ ì´ë¦„ì„ ê³ ì •í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.</p>
<p>ì´ì „ì— ì–¸ê¸‰í•œ ë°”ì™€ ê°™ì´, ê¸°ë³¸ì ìœ¼ë¡œ Docker ComposeëŠ” ì»¨í…Œì´ë„ˆì— ì ‘ë¯¸ì‚¬ë¥¼ ì¶”ê°€í•˜ë©° ì´ëŠ” Docker Compose í”„ë¡œì íŠ¸ì˜ ì´ë¦„ê³¼ ì¼ì¹˜í•©ë‹ˆë‹¤ (í”„ë¡œì íŠ¸ ì´ë¦„ì„ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•˜ì§€ ì•ŠëŠ” ê²½ìš° Docker Composeê°€ í˜„ì¬ ê²½ë¡œë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¼ìŠµë‹ˆë‹¤).</p>
<p>ë”°ë¼ì„œ Docker Composeì˜ ì´ ë™ì‘ì„ ì¬ì •ì˜í•˜ê³  ìƒì„±ëœ ì»¨í…Œì´ë„ˆì— ìì²´ì ìœ¼ë¡œ ì •ì˜í•œ ì‚¬ìš©ì ì •ì˜ ì´ë¦„ì„ ì§€ì •í•˜ë ¤ë©´ container_nameì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆì‹œ:</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: ubuntu
    <span class="hljs-attr">container_name</span>: my-own-container-name
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
ê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ <span class="hljs-string">"mediumcom_default"</span> ë„¤íŠ¸ì›Œí¬ ìƒì„± ì¤‘
my-own-container-name ìƒì„± ì™„ë£Œ
my-own-container-nameì— ì—°ê²° ì¤‘
my-own-container-nameì—ì„œ ì½”ë“œ <span class="hljs-number">0</span>ìœ¼ë¡œ ì¢…ë£Œë¨
</code></pre>
<p>P.S.: ë„¤, ê¶ê¸ˆí•´í•˜ì‹¤ ìˆ˜ë„ ìˆì§€ë§Œ, ì´ Docker Compose ë°°í¬ ë‚´ì˜ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆë“¤ì€ ì»¨í…Œì´ë„ˆ ì´ë¦„ì— ì˜í•´ ì„œë¡œì—ê²Œ ë„ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆ:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: sleep <span class="hljs-number">5</span>
    <span class="hljs-attr">container_name</span>: my-own-container-name
  <span class="hljs-attr">second</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: ping -c <span class="hljs-number">1</span> my-own-container-name
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
my-own-container-nameì„ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ
mediumcom_second_1 ìƒì„± ì¤‘... ì™„ë£Œ
mediumcom_second_1, my-own-container-nameì— ì—°ê²° ì¤‘
second_1  | my-own-container-<span class="hljs-title function_">name</span>(<span class="hljs-number">172.18</span><span class="hljs-number">.0</span><span class="hljs-number">.3</span>) í•‘ ì¤‘: <span class="hljs-number">56</span> data bytes
second_1  | <span class="hljs-number">64</span> bytes <span class="hljs-keyword">from</span> <span class="hljs-number">172.18</span><span class="hljs-number">.0</span><span class="hljs-number">.3</span>: seq=<span class="hljs-number">0</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">0.743</span> ms
second_1  |
second_1  | --- my-own-container-name í•‘ í†µê³„ ---
second_1  | ì „ì†¡ëœ íŒ¨í‚·: <span class="hljs-number">1</span>, ìˆ˜ì‹ ëœ íŒ¨í‚·: <span class="hljs-number">1</span>, íŒ¨í‚· ì†ì‹¤: <span class="hljs-number">0</span>%
second_1  | ì™•ë³µ ìµœì†Œ/í‰ê· /ìµœëŒ€ ì‹œê°„ = <span class="hljs-number">0.743</span>/<span class="hljs-number">0.743</span>/<span class="hljs-number">0.743</span> ms
mediumcom_second_1ì´ ì½”ë“œ <span class="hljs-number">0</span>ìœ¼ë¡œ ì¢…ë£Œë¨
my-own-container-nameì´ ì½”ë“œ <span class="hljs-number">0</span>ìœ¼ë¡œ ì¢…ë£Œë¨
</code></pre>
<h2>depends_on</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ë¨¼ì € ë§í•˜ìë©´, ì•„ë‹ˆìš”, ì´ ì˜µì…˜ì€ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹œì‘ ìˆœì„œë¥¼ ì œì–´í•  ìˆ˜ ìˆê²Œ í•´ì£¼ì§€ ì•Šì•„ìš”! ë§ì€ ì‚¬ëŒë“¤ì´ í•˜ëŠ” ì‹¤ìˆ˜ì£ . í•˜ì§€ë§Œ ìƒê°í•´ë³´ì„¸ìš”â€¦ ë‹¹ì‹ ì˜ ì»¨í…Œì´ë„ˆëŠ” ë‚´ë¶€ì—ì„œ í•˜ë‚˜ ì´ìƒì˜ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•˜ê³  ìˆê¸° ë•Œë¬¸ì—, Docker(ì»¨í…Œì´ë„ˆë¥¼ ê´€ë¦¬í•˜ëŠ” ì£¼ì²´)ê°€ í•´ë‹¹ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜/í”„ë¡œì„¸ìŠ¤ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì™„ë²½íˆ ì´í•´í•˜ê³  ìˆë‹¤ê³  ê°€ì •í•˜ëŠ” ê²ƒì€ ìˆœì§„í•œ íŒë‹¨ì¼ ê±°ì˜ˆìš”.</p>
<p>ì´ê²ƒì€ ë¯¸ë¬˜í•œ ì°¨ì´ê°€ ìˆì§€ë§Œ, ì´ ì˜µì…˜ì´ í•˜ëŠ” ì¼ì€ ëŒ€ì‹ ì— Docker Composeì—ê²Œ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•˜ê³  ì¤‘ì§€í•  ë•Œì˜ ìˆœì„œë¥¼ ëª…ì‹œí•˜ëŠ” ê²ƒë¿ì´ì—ìš”.</p>
<p>ì˜ˆì‹œ:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">depends_on</span>:
     - second
  <span class="hljs-attr">second</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">depends_on</span>:
     - first
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
<span class="hljs-title class_">Creating</span> network <span class="hljs-string">"mediumcom_default"</span> <span class="hljs-keyword">with</span> the <span class="hljs-keyword">default</span> driver
<span class="hljs-title class_">Creating</span> mediumcom_second_1 ... done
<span class="hljs-title class_">Creating</span> mediumcom_first_1  ... done
<span class="hljs-title class_">Attaching</span> to mediumcom_second_1, mediumcom_first_1
mediumcom_second_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
mediumcom_first_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ë´ìš”! ë‘ ë²ˆì§¸ì— ì˜ì¡´í•˜ëŠ” ì²« ë²ˆì§¸ ì»¨í…Œì´ë„ˆê°€ ë¨¼ì € ì‹œì‘ë˜ë¯€ë¡œ, ë‘ ë²ˆì§¸ ì»¨í…Œì´ë„ˆê°€ ë¨¼ì € ì‹œì‘ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë©ˆì¶œ ë•Œë„ ë§ˆì°¬ê°€ì§€ â€” ë¨¼ì € ì˜ì¡´í•˜ëŠ” ì²« ë²ˆì§¸ê°€ ìˆê¸° ë•Œë¬¸ì— ë‘ ë²ˆì§¸ê°€ ë§ˆì§€ë§‰ìœ¼ë¡œ ë‚´ë ¤ê°‘ë‹ˆë‹¤!</p>
<pre><code class="hljs language-js">$ docker-compose down
mediumcom_first_1  ... ì‚­ì œë¨
mediumcom_second_1 ... ì‚­ì œë¨
mediumcom_default ë„¤íŠ¸ì›Œí¬ ì œê±°ë¨
</code></pre>
<p>ì¶”ì‹ : ë§Œì•½ í˜¼ëˆì„ ì¦ê¸´ë‹¤ë©´, ë‘ ë²ˆì§¸ë„ ì²« ë²ˆì§¸ì— ì˜ì¡´í•˜ë„ë¡ ë§Œë“¤ì—ˆë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”? ğŸ˜ ê±±ì • ë§ˆì„¸ìš”, DockerëŠ” ë˜‘ë˜‘í•´ì„œ ë‹¤ìŒê³¼ ê°™ì€ ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì¤„ ê±°ì˜ˆìš”:</p>
<h2>ë³¼ë¥¨</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ë„ì»¤ ë³¼ë¥¨ì— ëŒ€í•´ ìì„¸íˆ ì„¤ëª…í•˜ì§€ ì•Šì„ ê±°ì˜ˆìš”. ì´ ì£¼ì œëŠ” ê½¤ í¬ê±°ë“ ìš”. ë‹¨ì§€ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°ì´í„°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” 4ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤ëŠ” ê²ƒë§Œ ë§ì”€ë“œë¦´ê²Œìš”:</p>
<ul>
<li>ì»¨í…Œì´ë„ˆì˜ ì“°ê¸° ê°€ëŠ¥í•œ ë ˆì´ì–´ ë‚´ì— ëª¨ë“  ë°ì´í„°ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤ (ë³¼ë¥¨ ì—†ìŒ)</li>
<li>í˜¸ìŠ¤íŠ¸ì™€ ì»¨í…Œì´ë„ˆ ì‚¬ì´ì— ë§ˆìš´íŠ¸ ì§€ì ì„ ë§Œë“­ë‹ˆë‹¤ (ë°”ì¸ë“œ ë§ˆìš´íŠ¸)</li>
<li>ì»¨í…Œì´ë„ˆì˜ ìˆ˜ëª…ì£¼ê¸°ì™€ ë…ë¦½ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ í˜¸ìŠ¤íŒ…í•˜ê³  ê´€ë¦¬í•˜ëŠ” ì „ìš© ë„ì»¤ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ (ë³¼ë¥¨)</li>
<li>ì„±ëŠ¥ì„ ìµœì í™”í•˜ê¸° ìœ„í•´ ë°ì´í„°ë¥¼ ì˜êµ¬ ì €ì¥í•˜ì§€ ì•Šê³  ë©”ëª¨ë¦¬ì— ìœ ì§€í•©ë‹ˆë‹¤ (tmpfs).</li>
</ul>
<p>ì´ë ‡ê²Œ ë§ì”€ë“œë¦° ë°”ì™€ ê°™ì´ Compose íŒŒì¼ì—ì„œ ì´ëŸ¬í•œ íƒ€ì…ì˜ ë³¼ë¥¨ì„ ëª¨ë‘ ê´€ë¦¬í•  ìˆ˜ ìˆì–´ìš”. ì§€ê¸ˆê¹Œì§€ ëª¨ë“  ì˜ˆì œëŠ” ì»¨í…Œì´ë„ˆì˜ ì“°ê¸° ê°€ëŠ¥í•œ ë ˆì´ì–´ë¥¼ ì‚¬ìš©í–ˆì§€ë§Œ, ë‚˜ë¨¸ì§€ 3ê°€ì§€ ë°ì´í„° ê´€ë¦¬ ì˜µì…˜ì„ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: ls /
    <span class="hljs-attr">volumes</span>:
     - <span class="hljs-regexp">/:/my</span>-hostfs
     - my-<span class="hljs-attr">volume</span>:/my-volume
     - <span class="hljs-attr">type</span>: tmpfs
       <span class="hljs-attr">target</span>: /my-tmpfs
<span class="hljs-attr">volumes</span>:
  my-<span class="hljs-attr">volume</span>:
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
<span class="hljs-title class_">Creating</span> network <span class="hljs-string">"test_default"</span> <span class="hljs-keyword">with</span> the <span class="hljs-keyword">default</span> driver
<span class="hljs-title class_">Creating</span> volume <span class="hljs-string">"test_my-volume"</span> <span class="hljs-keyword">with</span> <span class="hljs-keyword">default</span> driver
<span class="hljs-title class_">Creating</span> test_first_1 ... done
<span class="hljs-title class_">Attaching</span> to test_first_1
first_1  | bin
first_1  | dev
first_1  | etc
first_1  | home
first_1  | lib
first_1  | media
first_1  | mnt
first_1  | my-hostfs
first_1  | my-tmpfs
first_1  | my-volume
first_1  | opt
first_1  | proc
first_1  | root
first_1  | run
first_1  | sbin
first_1  | srv
first_1  | sys
first_1  | tmp
first_1  | usr
first_1  | <span class="hljs-keyword">var</span>
test_first_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì—¬ê¸°ì— ì„¸ ê°€ì§€ ë‹¤ë¥¸ ìœ í˜•ì˜ ë§ˆìš´íŠ¸ê°€ í•œêº¼ë²ˆì— ë‚˜ì™”ì–´ìš”. ê·¸ëŸ°ë° ì•Œì•„ë‘ì…¨ë‚˜ìš”? ì œê°€ 3ê°€ì§€ ë‹¤ë¥¸ êµ¬ë¬¸ì„ ì‚¬ìš©í–ˆì–´ìš”... ì„ í˜¸í•˜ëŠ” ê²ƒì´ë‚˜ ë§ˆìš´íŠ¸ì— ê°€ì¥ ì í•©í•œ ê²ƒì„ ì„ íƒí•  ìˆ˜ ìˆì–´ìš” (ì—¬ê¸°ì—ì„œ ë” ìì„¸íˆ ì½ì„ ìˆ˜ ìˆì–´ìš”).</p>
<p>ì¶”ê°€ë¡œ, tmpfsë„ ì „ìš© ì˜µì…˜ì„ í†µí•´ ì„¤ì •í•  ìˆ˜ ìˆì–´ìš”... ì˜ˆì œë¥¼ ë³´ë ¤ë©´ ë‹¤ìŒ ì„¹ì…˜ì„ ì½ì–´ë³´ì„¸ìš”.</p>
<h2>tmpfs</h2>
<p>ì´ë¯¸ ì´ì „ ì„¹ì…˜ì—ì„œ ì„¤ëª…í–ˆì§€ë§Œ, ì•Œì•„ë‘ì‹œë©´ ì¢‹ì•„ìš”. ì´ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ìœ„í•œ ë¹„ì˜êµ¬ì  ë§ˆìš´íŠ¸ í¬ì¸íŠ¸ë¥¼ ì„¤ì •í•˜ëŠ” ë˜ ë‹¤ë¥¸ ê°„ë‹¨í•œ ë°©ë²•ì¼ ë¿ì´ì—ìš”:</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-sh">$ <span class="hljs-built_in">cat</span> >docker-compose.yml &#x3C;&#x3C;<span class="hljs-string">EOF
version: "3"
services:
  first:
    image: alpine
    command: ls /
    tmpfs: /my-tmpfs
EOF</span>
$ docker-compose up
mediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ
mediumcom_first_1ì— ì²¨ë¶€ ì¤‘
first_1  | bin
first_1  | dev
first_1  | etc
first_1  | home
first_1  | lib
first_1  | media
first_1  | mnt
first_1  | my-tmpfs
first_1  | opt
first_1  | proc
first_1  | root
first_1  | run
first_1  | sbin
first_1  | srv
first_1  | sys
first_1  | tmp
first_1  | usr
first_1  | var
mediumcom_first_1ê°€ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨
</code></pre>
<h2>ë””ë°”ì´ìŠ¤</h2>
<p>ê·¸ ì´ë¦„ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´, ì´ ì˜µì…˜ì€ ì»¨í…Œì´ë„ˆê°€ ì‹œìŠ¤í…œ ë””ë°”ì´ìŠ¤ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤. ì´ ê²ƒì´ ì¼ë°˜ì ì¸ ë°”ì¸ë“œ-ë§ˆìš´íŠ¸ì™€ ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€ ê¶ê¸ˆí•  ê²ƒì…ë‹ˆë‹¤. ë‹¨ìˆœíˆ ë””ë°”ì´ìŠ¤ë¥¼ ì»¨í…Œì´ë„ˆì— ë°”ì¸ë“œ-ë§ˆìš´íŠ¸í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œìš”? ìŒ, ê·¸ë ‡ê³  ê·¸ë ‡ì§€ ì•ŠìŠµë‹ˆë‹¤... ì»¨í…Œì´ë„ˆê°€ í•´ë‹¹ ë””ë°”ì´ìŠ¤ë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤. ë””ë°”ì´ìŠ¤ íŒŒì¼ì€ ì¼ë°˜ íŒŒì¼ ë° ë””ë ‰í† ë¦¬ì™€ ì•½ê°„ ë‹¤ë¥´ë©° (/dev í´ë” ì•„ë˜ì—ì„œ ì¼ë°˜ íŒŒì¼ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ), ë””ë°”ì´ìŠ¤ íŒŒì¼ì€ ë””ë°”ì´ìŠ¤ ë“œë¼ì´ë²„ ë° ë¬¼ë¦¬ ë””ë°”ì´ìŠ¤ë¡œì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ë¯€ë¡œ ë” ì„¸ë¶„í™”ëœ ì•¡ì„¸ìŠ¤ ì œì–´ê°€ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” cgroupsë¥¼ í†µí•´ ê´€ë¦¬ë˜ë©°(ì—¬ê¸°ì—ì„œ ë” ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤).</p>
<p>ìš”ì•½í•˜ë©´, ì»¨í…Œì´ë„ˆê°€ íŠ¹ê¶Œ ëª¨ë“œì—ì„œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ê²½ìš°ì—ë„ ì´ ì˜µì…˜ì„ í†µí•´ íŠ¹ì • ë””ë°”ì´ìŠ¤ íŒŒì¼ì— ëŒ€í•œ ì»¨í…Œì´ë„ˆ ì•¡ì„¸ìŠ¤ë¥¼ ë¶€ì—¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ìš°ë¦¬ ì»´í“¨í„°ì— ì›¹ìº ì´ ì—°ê²°ë˜ì–´ ìˆë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤.</p>
<pre><code class="hljs language-bash">$ lsusb -s 001:003
Bus 001 Device 003: ID 046d:0826 Logitech, Inc. HD Webcam C525
</code></pre>
<p>ê·¸ë¦¬ê³  ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì›¹ìº ì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ì§„ì„ ì°ê³  ì‹¶ì–´í•©ë‹ˆë‹¤. ë‹¤ìŒ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê³ ë ¤í•´ë³´ì„¸ìš”:</p>
<ul>
<li>ë¨¼ì €, ì˜µì…˜ì„ ì ìš©í•˜ì§€ ì•Šê³  ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì›¹ìº ì— ì•¡ì„¸ìŠ¤í•´ë³´ê² ìŠµë‹ˆë‹¤.</li>
</ul>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: ccordeiro/<span class="hljs-attr">fswebcam</span>:armv7l
    <span class="hljs-attr">command</span>: fswebcam -r 640x480 --jpeg <span class="hljs-number">85</span> -D <span class="hljs-number">1</span> picture.<span class="hljs-property">jpg</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
ë„¤íŠ¸ì›Œí¬ <span class="hljs-string">"tmp_default"</span>ë¥¼ ê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ ìƒì„±ì¤‘
tmp_first_1 ë¥¼ ìƒì„±ì¤‘... ì™„ë£Œ
tmp_first_1 ì— ì—°ê²°ì¤‘
first_1  | --- <span class="hljs-regexp">/dev/</span>video0 ì—´ê¸° ì¤‘...
first_1  | <span class="hljs-attr">stat</span>: í•´ë‹¹ íŒŒì¼ ë˜ëŠ” ë””ë ‰í„°ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤
first_1  | tmp_first_1ì´ ì½”ë“œ <span class="hljs-number">0</span>ìœ¼ë¡œ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤
</code></pre>
<p>â€¦ê·¸ëŸ¬ë‚˜ ë¶„ëª…íˆ ì»¨í…Œì´ë„ˆì—ëŠ” ì–´ë–¤ ì¥ì¹˜ë„ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤â€¦</p>
<ul>
<li>ë‘ ë²ˆì§¸ë¡œ, ì¥ì¹˜ íŒŒì¼ì„ ë°”ì¸ë“œ ë§ˆìš´íŠ¸í•´ ë´…ì‹œë‹¤</li>
</ul>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: ccordeiro/<span class="hljs-attr">fswebcam</span>:armv7l
    <span class="hljs-attr">command</span>: fswebcam -r 640x480 --jpeg <span class="hljs-number">85</span> -D <span class="hljs-number">1</span> picture.<span class="hljs-property">jpg</span>
    <span class="hljs-attr">volumes</span>:
     - <span class="hljs-regexp">/dev/</span><span class="hljs-attr">video0</span>:<span class="hljs-regexp">/dev/</span>video0
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
tmp_first_1 ì¬ìƒì„±ì¤‘... ì™„ë£Œ
tmp_first_1 ì— ì—°ê²°ì¤‘
first_1  | --- <span class="hljs-regexp">/dev/</span>video0 ì—´ê¸° ì¤‘...
first_1  | v4l2 ëª¨ë“ˆ ì‹œë„ ì¤‘...
first_1  | ê¸°ê¸° ì—´ê¸° ì‹¤íŒ¨: <span class="hljs-regexp">/dev/</span>video0
first_1  | ì—´ê¸°: ì‘ì—…ì„ í—ˆìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤
first_1  | v4l1 ëª¨ë“ˆ ì‹œë„ì¤‘...
first_1  | ê¸°ê¸° ì—´ê¸° ì‹¤íŒ¨: <span class="hljs-regexp">/dev/</span>video0
first_1  | ì—´ê¸°: ì‘ì—…ì„ í—ˆìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤
first_1  | <span class="hljs-regexp">/dev/</span>video0ì„ ì½ì„ ìˆ˜ ìˆëŠ” ì†ŒìŠ¤ ëª¨ë“ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
first_1  | tmp_first_1ì´ ì½”ë“œ <span class="hljs-number">0</span>ìœ¼ë¡œ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>â€¦ìŒ, ì»¨í…Œì´ë„ˆëŠ” ë³´ì´ì§€ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì´ ì—†ë„¤ìš”.</p>
<ul>
<li>ë§ˆì§€ë§‰ìœ¼ë¡œ ì¥ì¹˜ë¥¼ ì‚¬ìš©í•´ ë´…ì‹œë‹¤</li>
</ul>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: ccordeiro/<span class="hljs-attr">fswebcam</span>:armv7l
    <span class="hljs-attr">command</span>: fswebcam -r 640x480 --jpeg <span class="hljs-number">85</span> -D <span class="hljs-number">1</span> picture.<span class="hljs-property">jpg</span>
    <span class="hljs-attr">devices</span>:
     - <span class="hljs-regexp">/dev/</span><span class="hljs-attr">video0</span>:<span class="hljs-regexp">/dev/</span>video0
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
<span class="hljs-title class_">Recreating</span> tmp_first_1 ... done
<span class="hljs-title class_">Attaching</span> to tmp_first_1
first_1  | --- <span class="hljs-title class_">Opening</span> /dev/video0...
first_1  | <span class="hljs-title class_">Trying</span> source <span class="hljs-variable language_">module</span> v4l2...
first_1  | <span class="hljs-regexp">/dev/</span>video0 opened.
first_1  | <span class="hljs-title class_">No</span> input was specified, using the first.
first_1  | <span class="hljs-title class_">Delaying</span> <span class="hljs-number">1</span> seconds.
first_1  | --- <span class="hljs-title class_">Capturing</span> frame...
first_1  | <span class="hljs-title class_">Captured</span> frame <span class="hljs-keyword">in</span> <span class="hljs-number">0.00</span> seconds.
first_1  | --- <span class="hljs-title class_">Processing</span> captured image...
first_1  | <span class="hljs-title class_">Setting</span> output format to <span class="hljs-variable constant_">JPEG</span>, quality <span class="hljs-number">85</span>
first_1  | <span class="hljs-title class_">Writing</span> <span class="hljs-variable constant_">JPEG</span> image to <span class="hljs-string">'picture.jpg'</span>.
first_1  | tmp_first_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
</code></pre>
<p>ê·¸ë¦¬ê³  ì„±ê³µì…ë‹ˆë‹¤!</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>network_mode</h2>
<p>Dockerì˜ ë„¤íŠ¸ì›Œí‚¹ ì‹œìŠ¤í…œì€ ë„¤íŠ¸ì›Œí‚¹ ë“œë¼ì´ë²„ì— ê¸°ë°˜í•˜ê³  ìˆëŠ” ê²ƒì„ ì•Œê³  ê³„ì‹¤ ê²ƒì…ë‹ˆë‹¤. ì´ ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë„¤íŠ¸ì›Œí¬ ëª¨ë“œë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì˜ˆë¥¼ ë“¤ì–´, ê¸°ë³¸ ë¸Œë¦¿ì§€ ë„¤íŠ¸ì›Œí¬ì— 1ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼, í˜¸ìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí¬ì— 1ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼, ì²« ë²ˆì§¸ ì»¨í…Œì´ë„ˆì™€ ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ì— 1ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼, ê·¸ë¦¬ê³  ì–´ë–¤ ë„¤íŠ¸ì›Œí¬ë„ ì—†ëŠ” ìƒíƒœë¡œ 1ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ ë°°í¬í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ì•„ë˜ëŠ” ì´ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: sh -c <span class="hljs-string">'ifconfig eth0 &#x26;&#x26; sleep 5'</span>
    <span class="hljs-attr">network_mode</span>: bridge
  <span class="hljs-attr">second</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: ifconfig eth0
    <span class="hljs-attr">network_mode</span>: host
  <span class="hljs-attr">third</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: ifconfig eth0
    <span class="hljs-attr">depends_on</span>:
     - first
    <span class="hljs-attr">network_mode</span>: <span class="hljs-attr">service</span>:first
  <span class="hljs-attr">fourth</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: ifconfig eth0
    <span class="hljs-attr">network_mode</span>: none
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
<span class="hljs-title class_">Creating</span> mediumcom_first_1  ... done
<span class="hljs-title class_">Creating</span> mediumcom_fourth_1 ... done
<span class="hljs-title class_">Creating</span> mediumcom_second_1 ... done
<span class="hljs-title class_">Creating</span> mediumcom_third_1  ... done
<span class="hljs-title class_">Attaching</span> to mediumcom_second_1, mediumcom_fourth_1, mediumcom_first_1, mediumcom_third_1
first_1   | eth0      <span class="hljs-title class_">Link</span> <span class="hljs-attr">encap</span>:<span class="hljs-title class_">Ethernet</span>  <span class="hljs-title class_">HWaddr</span> <span class="hljs-number">02</span>:<span class="hljs-number">42</span>:<span class="hljs-attr">AC</span>:<span class="hljs-number">11</span>:<span class="hljs-number">00</span>:<span class="hljs-number">02</span>
first_1   |           inet <span class="hljs-attr">addr</span>:<span class="hljs-number">172.17</span><span class="hljs-number">.0</span><span class="hljs-number">.2</span>  <span class="hljs-title class_">Bcast</span>:<span class="hljs-number">172.17</span><span class="hljs-number">.255</span><span class="hljs-number">.255</span>  <span class="hljs-title class_">Mask</span>:<span class="hljs-number">255.255</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>
...
fourth_1  | <span class="hljs-attr">ifconfig</span>: <span class="hljs-attr">eth0</span>: error fetching interface <span class="hljs-attr">information</span>: <span class="hljs-title class_">Device</span> not found
...
second_1  | eth0      <span class="hljs-title class_">Link</span> <span class="hljs-attr">encap</span>:<span class="hljs-title class_">Ethernet</span>  <span class="hljs-title class_">HWaddr</span> <span class="hljs-number">02</span>:<span class="hljs-number">50</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">01</span>
second_1  |           inet <span class="hljs-attr">addr</span>:<span class="hljs-number">192.168</span><span class="hljs-number">.65</span><span class="hljs-number">.3</span>  <span class="hljs-title class_">Bcast</span>:<span class="hljs-number">192.168</span><span class="hljs-number">.65</span><span class="hljs-number">.255</span>  <span class="hljs-title class_">Mask</span>:<span class="hljs-number">255.255</span><span class="hljs-number">.255</span><span class="hljs-number">.0</span>
...
third_1   | eth0      <span class="hljs-title class_">Link</span> <span class="hljs-attr">encap</span>:<span class="hljs-title class_">Ethernet</span>  <span class="hljs-title class_">HWaddr</span> <span class="hljs-number">02</span>:<span class="hljs-number">42</span>:<span class="hljs-attr">AC</span>:<span class="hljs-number">11</span>:<span class="hljs-number">00</span>:<span class="hljs-number">02</span>
third_1   |           inet <span class="hljs-attr">addr</span>:<span class="hljs-number">172.17</span><span class="hljs-number">.0</span><span class="hljs-number">.2</span>  <span class="hljs-title class_">Bcast</span>:<span class="hljs-number">172.17</span><span class="hljs-number">.255</span><span class="hljs-number">.255</span>  <span class="hljs-title class_">Mask</span>:<span class="hljs-number">255.255</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>
...
mediumcom_fourth_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">1</span>
mediumcom_second_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
mediumcom_third_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
mediumcom_first_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ê·¸ë˜ì„œ, ë¬´ìŠ¨ ì¼ì´ ìˆì—ˆë‚˜ìš”? ì´ë¥¼ ê°„ë‹¨íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:</p>
<ul>
<li>ì²« ë²ˆì§¸ ì»¨í…Œì´ë„ˆëŠ” ë¸Œë¦¬ì§€ ëª¨ë“œë¡œ ë“¤ì–´ê°€ì„œ ìì²´ eth0 ê°œì¸ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í• ë‹¹ ë°›ì•˜ìŠµë‹ˆë‹¤(IP 172.17.0.2ë¡œ, Docker ë¸Œë¦¬ì§€ ì„œë¸Œë„·ì˜ ì¼ë¶€ì…ë‹ˆë‹¤).</li>
<li>ë‘ ë²ˆì§¸ ì»¨í…Œì´ë„ˆëŠ” í˜¸ìŠ¤íŠ¸ ëª¨ë“œë¡œ ë“¤ì–´ê°€ì„œ í˜¸ìŠ¤íŠ¸ì™€ ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ ìˆ˜ì¤€ì—ì„œ ì‹¤í–‰ë˜ë¯€ë¡œ í˜¸ìŠ¤íŠ¸ì˜ ëª¨ë“  ë„¤íŠ¸ì›Œí‚¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
<li>ì„¸ ë²ˆì§¸ ì»¨í…Œì´ë„ˆëŠ” ì²« ë²ˆì§¸ ê²ƒê³¼ ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.</li>
<li>ë„¤ ë²ˆì§¸ ì»¨í…Œì´ë„ˆëŠ” ë„¤íŠ¸ì›Œí¬ê°€ ì—†ì–´ eth0 ì¸í„°í˜ì´ìŠ¤ë¥¼ ì°¾ì§€ ëª»í•˜ì—¬ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</li>
</ul>
<h2>ë„¤íŠ¸ì›Œí¬</h2>
<p>ì´ì œ ìœ„ì—ì„œ ì–¸ê¸‰í•œ ì˜µì…˜ì„ í™œìš©í•˜ì—¬, ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©ì ì •ì˜ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”(ê¸°ì¡´ ë„¤íŠ¸ì›Œí¬ ë˜ëŠ” ìƒˆë¡œ ìƒì„±í•œ ê²ƒ ì¤‘)? ê·¸ëŸ´ ë•ŒëŠ” networksë¥¼ ì‚¬ìš©í•˜ì„¸ìš”:</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js">$ docker network create cjdc-test
0f5e35bf6b8d396c45c19545540957fbc5fa15ba1ca0e5fbca4add3802c7db6d
$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: sleep <span class="hljs-number">30</span>
    <span class="hljs-attr">networks</span>:
     - <span class="hljs-keyword">new</span>-net
  <span class="hljs-attr">second</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: sleep <span class="hljs-number">30</span>
    <span class="hljs-attr">networks</span>:
     - cjdc-test
<span class="hljs-attr">networks</span>:
  <span class="hljs-keyword">new</span>-<span class="hljs-attr">net</span>:
  cjdc-<span class="hljs-attr">test</span>:
    <span class="hljs-attr">external</span>: <span class="hljs-literal">true</span>
    <span class="hljs-attr">name</span>: cjdc-test
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up -d
<span class="hljs-title class_">Creating</span> network <span class="hljs-string">"mediumcom_new-net"</span> <span class="hljs-keyword">with</span> the <span class="hljs-keyword">default</span> driver
<span class="hljs-title class_">Creating</span> mediumcom_second_1 ... done
<span class="hljs-title class_">Creating</span> mediumcom_first_1  ... done
$ docker inspect --format <span class="hljs-string">'{.NetworkSettings.Networks}'</span> mediumcom_first_1
map[mediumcom_new-<span class="hljs-attr">net</span>:<span class="hljs-number">0xc0004d8f00</span>]
$ docker inspect --format <span class="hljs-string">'{.NetworkSettings.Networks}'</span> mediumcom_second_1
map[cjdc-<span class="hljs-attr">test</span>:<span class="hljs-number">0xc0003e8f00</span>]
</code></pre>
<h2>dns</h2>
<p>It basically lets you define a custom DNS server for your container. Example:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: cat /etc/resolv.<span class="hljs-property">conf</span>
    <span class="hljs-attr">dns</span>: <span class="hljs-number">1.2</span><span class="hljs-number">.3</span><span class="hljs-number">.4</span>
    <span class="hljs-attr">network_mode</span>: bridge
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
<span class="hljs-title class_">Recreating</span> mediumcom_first_1 ... done
<span class="hljs-title class_">Attaching</span> to mediumcom_first_1
first_1  | nameserver <span class="hljs-number">1.2</span><span class="hljs-number">.3</span><span class="hljs-number">.4</span>
mediumcom_first_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì£¼ì˜: ì‚¬ìš©ì ì •ì˜ ë„¤íŠ¸ì›Œí¬ì—ì„œëŠ” DNS ì˜µì…˜ì´ ê¸°ë³¸ì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë¸Œë¦¿ì§€ ë„¤íŠ¸ì›Œí¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.</p>
<h2>dns_search</h2>
<p>ì—¬ê¸°ì—ì„œ ì‚¬ìš©ì ë§ì¶¤ DNS ê²€ìƒ‰ ë„ë©”ì¸ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: cat /etc/resolv.<span class="hljs-property">conf</span>
    <span class="hljs-attr">dns_search</span>: my.<span class="hljs-property">custom</span>.<span class="hljs-property">dns</span>
    <span class="hljs-attr">network_mode</span>: bridge
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
<span class="hljs-title class_">Recreating</span> mediumcom_first_1 ... done
<span class="hljs-title class_">Attaching</span> to mediumcom_first_1
first_1  | search my.<span class="hljs-property">custom</span>.<span class="hljs-property">dns</span>
first_1  | nameserver <span class="hljs-number">192.168</span><span class="hljs-number">.65</span><span class="hljs-number">.5</span>
mediumcom_first_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>env_file</h2>
<p>ì¼ë°˜ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆ í™˜ê²½ì„ í•˜ë‚˜ì”© ì„¤ì •í•˜ëŠ” ë° ìµìˆ™í•  ìˆ˜ ìˆì§€ë§Œ, í•œ ë²ˆì— ì´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë„ë¡ ëŒ€ì‹  íŒŒì¼ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">$ cat >my-env &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-title class_">VAR1</span>=value
<span class="hljs-variable constant_">MY_VAR_FROM_FILE</span>=<span class="hljs-number">1</span>
<span class="hljs-variable constant_">FOO</span>=<span class="hljs-variable constant_">BAR</span>
<span class="hljs-variable constant_">EOF</span>
$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: env
    <span class="hljs-attr">env_file</span>:
     - my-env
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
mediumcom_first_1 ë‹¤ì‹œ ë§Œë“¤ê¸° ... ì™„ë£Œ
mediumcom_first_1ì— ì—°ê²°
first_1  | <span class="hljs-variable constant_">PATH</span>=<span class="hljs-regexp">/usr/</span>local/<span class="hljs-attr">sbin</span>:<span class="hljs-regexp">/usr/</span>local/<span class="hljs-attr">bin</span>:<span class="hljs-regexp">/usr/</span><span class="hljs-attr">sbin</span>:<span class="hljs-regexp">/usr/</span><span class="hljs-attr">bin</span>:<span class="hljs-regexp">/sbin:/</span>bin
first_1  | <span class="hljs-variable constant_">HOSTNAME</span>=157e34e4fc64
first_1  | <span class="hljs-title class_">VAR1</span>=value
first_1  | <span class="hljs-variable constant_">MY_VAR_FROM_FILE</span>=<span class="hljs-number">1</span>
first_1  | <span class="hljs-variable constant_">FOO</span>=<span class="hljs-variable constant_">BAR</span>
first_1  | <span class="hljs-variable constant_">HOME</span>=/root
mediumcom_first_1 ì½”ë“œ <span class="hljs-number">0</span>ìœ¼ë¡œ ì¢…ë£Œ
</code></pre>
<h2>environment</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì´ë¥¼ í†µí•´ ì»´í¬ì¦ˆ íŒŒì¼ì—ì„œ ì»¨í…Œì´ë„ˆì˜ í™˜ê²½ ë³€ìˆ˜ë¥¼ í•˜ë‚˜ì”© ì§ì ‘ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ì—¬ env_file ì˜µì…˜ì„ í†µí•´ ë¡œë“œë˜ëŠ” ë³€ìˆ˜ë¥¼ ì¬ì •ì˜í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: env
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
<span class="hljs-title class_">Recreating</span> mediumcom_first_1 ... done
<span class="hljs-title class_">Attaching</span> to mediumcom_first_1
first_1  | <span class="hljs-variable constant_">PATH</span>=<span class="hljs-regexp">/usr/</span>local/<span class="hljs-attr">sbin</span>:<span class="hljs-regexp">/usr/</span>local/<span class="hljs-attr">bin</span>:<span class="hljs-regexp">/usr/</span><span class="hljs-attr">sbin</span>:<span class="hljs-regexp">/usr/</span><span class="hljs-attr">bin</span>:<span class="hljs-regexp">/sbin:/</span>bin
first_1  | <span class="hljs-variable constant_">HOSTNAME</span>=<span class="hljs-number">68e909013198</span>
first_1  | <span class="hljs-variable constant_">NEW_VAR</span>=yes
first_1  | <span class="hljs-variable constant_">HOME</span>=/root
mediumcom_first_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
</code></pre>
<h2>ë…¸ì¶œ</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ë„ì»¤íŒŒì¼ê³¼ ìœ ì‚¬í•˜ê²Œ, ì´ ì˜µì…˜ì€ ì»¨í…Œì´ë„ˆì˜ í¬íŠ¸ë¥¼ í‘œì‹œí•˜ê³  ë‹¤ë¥¸ ì—°ê²°ëœ ì»¨í…Œì´ë„ˆì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: sleep <span class="hljs-number">20</span>
    <span class="hljs-attr">expose</span>:
     - <span class="hljs-number">9876</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up -d
<span class="hljs-title class_">Recreating</span> mediumcom_first_1 ... done
$ docker ps
<span class="hljs-variable constant_">CONTAINER</span> <span class="hljs-variable constant_">ID</span>   <span class="hljs-variable constant_">IMAGE</span>     <span class="hljs-variable constant_">COMMAND</span>      <span class="hljs-variable constant_">CREATED</span>          <span class="hljs-variable constant_">STATUS</span>          <span class="hljs-variable constant_">PORTS</span>      <span class="hljs-variable constant_">NAMES</span>
3be377f4bf6c   alpine    <span class="hljs-string">"sleep 20"</span>   <span class="hljs-number">18</span> seconds ago   <span class="hljs-title class_">Up</span> <span class="hljs-number">16</span> seconds   <span class="hljs-number">9876</span>/tcp   mediumcom_first_1
</code></pre>
<h2>external_links</h2>
<p>ì˜µì…˜ì„ ê±´ë„ˆë›°ì–´ì•¼ í•©ë‹ˆë‹¤. ì™œëƒí•˜ë©´ 1) ì´ê²ƒì€ ë ˆê±°ì‹œ ì˜µì…˜ì´ê¸° ë•Œë¬¸ì—, ê·¸ë¦¬ê³  2) ë™ì¼í•œ ê²°ê³¼ë¥¼ ì–»ê¸° ìœ„í•´ ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(ì¦‰, ì»¨í…Œì´ë„ˆë¥¼ ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ì— í¬í•¨ë˜ì–´ ìˆì§€ ì•Šì€ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì— ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤).</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>extra_hosts</h2>
<p>ì´ ê¸°ëŠ¥ì€ ì»¨í…Œì´ë„ˆì˜ /etc/hosts íŒŒì¼ì— ìƒˆ í•­ëª©ì„ ì¶”ê°€í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì»¨í…Œì´ë„ˆê°€ "localhost"ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ìŠ¤ìŠ¤ë¡œë¥¼ í˜¸ì¶œí•˜ë„ë¡ í•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: sh -c <span class="hljs-string">'cat /etc/hosts; ping me -c 1'</span>
    <span class="hljs-attr">extra_hosts</span>:
     - <span class="hljs-string">"myself:127.0.0.1"</span>
     - <span class="hljs-string">"me:127.0.0.1"</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
<span class="hljs-title class_">Recreating</span> mediumcom_first_1 ... done
<span class="hljs-title class_">Attaching</span> to mediumcom_first_1
first_1  | <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> localhost
first_1  | ::<span class="hljs-number">1</span> localhost ip6-localhost ip6-loopback
first_1  | <span class="hljs-attr">fe00</span>::<span class="hljs-number">0</span> ip6-localnet
first_1  | <span class="hljs-attr">ff00</span>::<span class="hljs-number">0</span> ip6-mcastprefix
first_1  | <span class="hljs-attr">ff02</span>::<span class="hljs-number">1</span> ip6-allnodes
first_1  | <span class="hljs-attr">ff02</span>::<span class="hljs-number">2</span> ip6-allrouters
first_1  | <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> myself
first_1  | <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> me
first_1  | <span class="hljs-number">172.22</span><span class="hljs-number">.0</span><span class="hljs-number">.2</span> 01d566c4380a
first_1  | <span class="hljs-variable constant_">PING</span> me (<span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>): <span class="hljs-number">56</span> data bytes
first_1  | <span class="hljs-number">64</span> bytes <span class="hljs-keyword">from</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>: seq=<span class="hljs-number">0</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">1.192</span> ms
first_1  |
first_1  | --- me ping statistics ---
first_1  | <span class="hljs-number">1</span> packets transmitted, <span class="hljs-number">1</span> packets received, <span class="hljs-number">0</span>% packet loss
first_1  | round-trip min/avg/max = <span class="hljs-number">1.192</span>/<span class="hljs-number">1.192</span>/<span class="hljs-number">1.192</span> ms
mediumcom_first_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
</code></pre>
<h2>healthcheck</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ë‹¹ì—°íˆ, ì´ê²ƒì€ ë„ì»¤ íŒŒì¼ ì˜µì…˜ê³¼ ë§¤ìš° ìœ ì‚¬í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤. ë„ì»¤ê°€ ì»¨í…Œì´ë„ˆê°€ "healthy(ê±´ê°•í•œ)"ì¸ì§€ ì•„ë‹Œì§€ í‰ê°€í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ì ì •ì˜ í™•ì¸ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ê·¸ëŸ¬ë‹ˆê¹Œ, /tmpì— medium.txtë¼ëŠ” íŒŒì¼ì´ ìˆì„ ë•Œë§Œ ìš°ë¦¬ ì»¨í…Œì´ë„ˆê°€ ê±´ê°•í•œ ê²ƒìœ¼ë¡œ ê°„ì£¼ë©ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: sh -c <span class="hljs-string">'touch /tmp/NOT_MY_FILE; sleep 10'</span>
    <span class="hljs-attr">healthcheck</span>:
      <span class="hljs-attr">test</span>: <span class="hljs-string">"[ -f /tmp/medium.txt ]"</span>
      # run asap
      <span class="hljs-attr">interval</span>: 1s
      <span class="hljs-attr">timeout</span>: 5s
      <span class="hljs-attr">retries</span>: <span class="hljs-number">1</span>
      <span class="hljs-attr">start_period</span>: 0s
  <span class="hljs-attr">second</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: sh -c <span class="hljs-string">'touch /tmp/medium.txt; sleep 10'</span>
    <span class="hljs-attr">healthcheck</span>:
      <span class="hljs-attr">test</span>: <span class="hljs-string">"[ -f /tmp/medium.txt ]"</span>
      # run asap
      <span class="hljs-attr">interval</span>: 1s
      <span class="hljs-attr">timeout</span>: 5s
      <span class="hljs-attr">retries</span>: <span class="hljs-number">1</span>
      <span class="hljs-attr">start_period</span>: 0s
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up -d
<span class="hljs-title class_">Recreating</span> mediumcom_first_1 ... done
<span class="hljs-title class_">Creating</span> mediumcom_second_1  ... done
$ docker ps
<span class="hljs-variable constant_">CONTAINER</span> <span class="hljs-variable constant_">ID</span>   <span class="hljs-variable constant_">IMAGE</span>     <span class="hljs-variable constant_">COMMAND</span>                  <span class="hljs-variable constant_">CREATED</span>         <span class="hljs-variable constant_">STATUS</span>                     <span class="hljs-variable constant_">PORTS</span>     <span class="hljs-variable constant_">NAMES</span>
b8804cbb440d   alpine    <span class="hljs-string">"sh -c 'touch /tmp/Nâ€¦"</span>   <span class="hljs-number">4</span> seconds ago   <span class="hljs-title class_">Up</span> <span class="hljs-number">2</span> seconds (unhealthy)             mediumcom_first_1
604a6880f3c6   alpine    <span class="hljs-string">"sh -c 'touch /tmp/mâ€¦"</span>   <span class="hljs-number">4</span> seconds ago   <span class="hljs-title class_">Up</span> <span class="hljs-number">2</span> seconds (healthy)               mediumcom_second_1
</code></pre>
<p>ê·¸ëŸ°ë° ì—¬ê¸°ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, ì²˜ìŒ ê²ƒì€ ê±´ê°•í•˜ì§€ ì•Šì§€ë§Œ ë‘ ë²ˆì§¸ëŠ” ê±´ê°•í•˜ë‹¤ê³  ë‚˜ì˜µë‹ˆë‹¤. í•„ìš”í•œ íŒŒì¼ì´ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ì— ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>ì´ˆê¸°í™”</h2>
<p>ì´ë¥¼ í†µí•´ Dockerì—ê²Œ ì»¨í…Œì´ë„ˆì— ëŒ€í•œ initë¥¼ ì‚¬ìš©í• ì§€ ì—¬ë¶€ë¥¼ ì•Œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì°¸ì¼ ê²½ìš°, DockerëŠ” tini ê¸°ë°˜ì˜ docker-initì´ë¼ëŠ” initì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. ì°¨ì´ë¥¼ ì‚´í´ë´…ì‹œë‹¤:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: ps -a
    <span class="hljs-attr">init</span>: <span class="hljs-literal">false</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
mediumcom_first_1 ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ
mediumcom_first_1ì— ì°¸ì—¬ ì¤‘
first_1  | <span class="hljs-variable constant_">PID</span>   <span class="hljs-variable constant_">USER</span>     <span class="hljs-variable constant_">TIME</span>  <span class="hljs-variable constant_">COMMAND</span>
first_1  |     <span class="hljs-number">1</span> root      <span class="hljs-number">0</span>:<span class="hljs-number">00</span> ps -a
mediumcom_first_1ì€ ì½”ë“œ <span class="hljs-number">0</span>ìœ¼ë¡œ ì¢…ë£Œë¨
</code></pre>
<p>ê·¸ëŸ¬ë‚˜ ì´ˆê¸°í™”ë¥¼ í™œì„±í™”í•˜ë©´ ì´ì™€ ê°™ì€ í”„ë¡œì„¸ìŠ¤ ë˜í¼ë¥¼ ì–»ê²Œ ë˜ë©°, ì´ëŠ” PID 1ë¡œ ì¶”ê°€ ê¸°ëŠ¥ì´ ìˆëŠ” ê²½ìš° (ì´ ê²½ìš°ì—ëŠ” docker-init)ì…ë‹ˆë‹¤:</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>$ cat >docker-compose.yml &#x3C;&#x3C;EOF
version: "3"
services:
first:
image: alpine
command: ps -a
init: true
EOF
$ docker-compose up
Starting mediumcom_first_1 ... done
Attaching to mediumcom_first_1
first_1 | PID USER TIME COMMAND
first_1 | 1 root 0:00 /sbin/docker-init -- ps -a
first_1 | 8 root 0:00 ps -a
mediumcom_first_1 exited with code 0</p>
<h2>ê²©ë¦¬</h2>
<p>ë¦¬ëˆ…ìŠ¤ì˜ ê²½ìš°, ì´ ì˜µì…˜ì€ í•­ìƒ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. ìœˆë„ìš°ì˜ ê²½ìš° ë” ë§ì€ ì˜µì…˜ì´ ìˆì§€ë§Œ, ì•„ì‰½ê²Œë„ ì—¬ëŸ¬ë¶„ì„ ìœ„í•œ ì˜ˆì œë¥¼ ì‹¤í–‰í•  ìœˆë„ìš° ë¨¸ì‹ ì´ ì—†ìŠµë‹ˆë‹¤ ğŸ˜› ìœˆë„ìš° ì‚¬ìš©ìë¶„ë“¤ ì£„ì†¡í•´ìš”!</p>
<h2>ë ˆì´ë¸”</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì½˜í…Œì´ë„ˆì— ë ˆì´ë¸”ì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ì´ ì˜µì…˜ì˜ ì´ë¦„ì²˜ëŸ¼:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: sleep <span class="hljs-number">10</span>
    <span class="hljs-attr">labels</span>:
     - <span class="hljs-string">"foo=bar"</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up -d
<span class="hljs-title class_">Recreating</span> mediumcom_first_1 ... done
$ docker ps --filter <span class="hljs-string">'label=foo=bar'</span>
<span class="hljs-variable constant_">CONTAINER</span> <span class="hljs-variable constant_">ID</span>   <span class="hljs-variable constant_">IMAGE</span>     <span class="hljs-variable constant_">COMMAND</span>      <span class="hljs-variable constant_">CREATED</span>          <span class="hljs-variable constant_">STATUS</span>         <span class="hljs-variable constant_">PORTS</span>     <span class="hljs-variable constant_">NAMES</span>
94e844176d76   alpine    <span class="hljs-string">"sleep 10"</span>   <span class="hljs-number">30</span> seconds ago   <span class="hljs-title class_">Up</span> <span class="hljs-number">7</span> seconds             mediumcom_first_1
</code></pre>
<h2>ë§í¬</h2>
<p>ì™¸ë¶€ ë§í¬ì— ëŒ€í•œ ë‚´ìš©ì€ ê³¼ê±°ì˜ ì˜µì…˜ì„ ê±´ë„ˆë›°ê² ìŠµë‹ˆë‹¤. ì»¨í…Œì´ë„ˆ ê°„ í†µì‹ ì€ ì‚¬ìš©ì ì •ì˜ ë„¤íŠ¸ì›Œí¬ë¡œ ì‰½ê²Œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>ë¡œê¹…</h2>
<p>ì‹¤ì œë¡œ ì´ ì˜µì…˜ì´ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•´ìš”. ëŒ€ë¶€ë¶„ì˜ ì‚¬ìš©ìë“¤ì€ ë³´í†µ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸ì˜ í¬ê¸°ê°€ ê³„ì†í•´ì„œ ì»¤ì§€ê³  ìˆë‹¤ëŠ” ì‚¬ì‹¤ì— ì¶©ë¶„í•œ ì£¼ì˜ë¥¼ ê¸°ìš¸ì´ì§€ ì•ŠìŠµë‹ˆë‹¤. í˜¸ìŠ¤íŠ¸ ê³µê°„ì´ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ê°€ë“ ì°¨ì§€ ì•Šê¸°ë¥¼ ì›í•œë‹¤ë©´, ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¡œê·¸ë¥¼ ê¸°ë¡í•˜ëŠ” ë°©ì‹ë„ ì œì–´í•´ì•¼ í•©ë‹ˆë‹¤. Dockerë¥¼ í†µí•´ ì´ ë¡œê¹… ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ stdout ë¡œê·¸ë¥¼ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¡œê¹… ì¢…ë¥˜ ë¿ë§Œ ì•„ë‹ˆë¼ ë¡œê¹… í¬ê¸° ì œí•œ ë° ë¡œí…Œì´ì…˜ ë§¤ê°œë³€ìˆ˜ë„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: sh -c <span class="hljs-string">'while true; do echo `date`; done'</span>
    <span class="hljs-attr">logging</span>:
      <span class="hljs-attr">options</span>:
        max-<span class="hljs-attr">size</span>: <span class="hljs-string">"50k"</span>
        max-<span class="hljs-attr">file</span>: <span class="hljs-string">"10"</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up -d
tmp_first_1ì„ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œë¨
$ docker ps -f <span class="hljs-string">'name=tmp_first_1'</span>
<span class="hljs-variable constant_">CONTAINER</span> <span class="hljs-variable constant_">ID</span>   <span class="hljs-variable constant_">IMAGE</span>     <span class="hljs-variable constant_">COMMAND</span>                  <span class="hljs-variable constant_">CREATED</span>         <span class="hljs-variable constant_">STATUS</span>         <span class="hljs-variable constant_">PORTS</span>     <span class="hljs-variable constant_">NAMES</span>
2ea63dd32607   alpine    <span class="hljs-string">"sh -c 'while true; â€¦"</span>   <span class="hljs-number">2</span> minutes ago   <span class="hljs-title class_">Up</span> <span class="hljs-number">2</span> minutes             tmp_first_1
$
$ du -h /<span class="hljs-keyword">var</span>/lib/docker/containers/2ea63dd32607*<span class="hljs-comment">/*log*
20K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log
52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.1
52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.2
52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.3
52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.4
52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.5
52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.6
52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.7
52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.8
52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.9
</span></code></pre>
<p>ê·¸ëŸ¬ë‹ˆê¹Œ ì´ ì˜ˆì œì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, DockerëŠ” ìµœëŒ€ 10ê°œì˜ ë¡œê·¸ íŒŒì¼ë§Œ ìœ ì§€í•˜ê³ , ê·¸ í¬ê¸°ê°€ ìš°ë¦¬ê°€ ì›í•˜ëŠ” 50 Kibibytes(= 52K)ë¥¼ ì´ˆê³¼í•˜ì§€ ì•ŠëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>PID</h2>
<p>ìš”ì²­ ì‹œ, ì»¨í…Œì´ë„ˆê°€ í˜¸ìŠ¤íŠ¸ì™€ PID ì£¼ì†Œ ê³µê°„ì„ ê³µìœ í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ì˜µì…˜ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: ps -a
    <span class="hljs-attr">pid</span>: <span class="hljs-string">"host"</span>
  <span class="hljs-attr">second</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: ps -a
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
<span class="hljs-title class_">Creating</span> network <span class="hljs-string">"mediumcom_default"</span> <span class="hljs-keyword">with</span> the <span class="hljs-keyword">default</span> driver
<span class="hljs-title class_">Creating</span> mediumcom_second_1 ... done
<span class="hljs-title class_">Creating</span> mediumcom_first_1  ... done
<span class="hljs-title class_">Attaching</span> to mediumcom_second_1, mediumcom_first_1
second_1  | <span class="hljs-variable constant_">PID</span>   <span class="hljs-variable constant_">USER</span>     <span class="hljs-variable constant_">TIME</span>  <span class="hljs-variable constant_">COMMAND</span>
second_1  |     <span class="hljs-number">1</span> root      <span class="hljs-number">0</span>:<span class="hljs-number">00</span> ps -a
first_1   | <span class="hljs-variable constant_">PID</span>   <span class="hljs-variable constant_">USER</span>     <span class="hljs-variable constant_">TIME</span>  <span class="hljs-variable constant_">COMMAND</span>
first_1   |     <span class="hljs-number">1</span> root      <span class="hljs-number">0</span>:<span class="hljs-number">07</span> /sbin/init
first_1   |     <span class="hljs-number">2</span> root      <span class="hljs-number">0</span>:<span class="hljs-number">00</span> [kthreadd]
first_1   |     <span class="hljs-number">3</span> root      <span class="hljs-number">0</span>:<span class="hljs-number">00</span> [rcu_gp]
first_1   |     <span class="hljs-number">4</span> root      <span class="hljs-number">0</span>:<span class="hljs-number">00</span> [rcu_par_gp]
first_1   |     <span class="hljs-number">6</span> root      <span class="hljs-number">0</span>:<span class="hljs-number">00</span> [kworker/<span class="hljs-number">0</span>:0H-ev]
first_1   |     <span class="hljs-number">8</span> root      <span class="hljs-number">0</span>:<span class="hljs-number">00</span> [mm_percpu_wq]
first_1   |     <span class="hljs-number">9</span> root      <span class="hljs-number">0</span>:<span class="hljs-number">00</span> [rcu_tasks_rude_]
first_1   |    <span class="hljs-number">10</span> root      <span class="hljs-number">0</span>:<span class="hljs-number">00</span> [rcu_tasks_trace]
first_1   |    <span class="hljs-number">11</span> root      <span class="hljs-number">0</span>:<span class="hljs-number">22</span> [ksoftirqd/<span class="hljs-number">0</span>]
first_1   |    <span class="hljs-number">12</span> root      <span class="hljs-number">0</span>:<span class="hljs-number">10</span> [rcu_sched]
first_1   |    <span class="hljs-number">13</span> root      <span class="hljs-number">0</span>:<span class="hljs-number">07</span> [migration/<span class="hljs-number">0</span>]
first_1   |    <span class="hljs-number">15</span> root      <span class="hljs-number">0</span>:<span class="hljs-number">00</span> [cpuhp/<span class="hljs-number">0</span>]
first_1   |    <span class="hljs-number">16</span> root      <span class="hljs-number">0</span>:<span class="hljs-number">00</span> [cpuhp/<span class="hljs-number">1</span>]
...
</code></pre>
<p>ì´ê²ƒì€ ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ í˜¸ìŠ¤íŠ¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ê´€ë¦¬í•˜ê³ (í¬í•¨í•˜ì—¬ ì¢…ë£Œ)í•  ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ì´ë¯€ë¡œ ì´ ì˜µì…˜ì„ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>í¬íŠ¸</h2>
<p>ê°€ì¥ ì¸ê¸° ìˆëŠ” ì˜µì…˜ ì¤‘ í•˜ë‚˜ì¸ ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ í¬íŠ¸ë¥¼ í˜¸ìŠ¤íŠ¸ë¡œ ê²Œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ì»¨í…Œì´ë„ˆê°€ ì´ë¯¸ "í˜¸ìŠ¤íŠ¸" ëª¨ë“œì—ì„œ ì‹¤í–‰ ì¤‘ì´ì§€ ì•Šì€ ê²½ìš°).</p>
<p>ì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒê³¼ ê°™ì´ ê²Œì‹œí•˜ë ¤ëŠ” ê²½ìš°ë¥¼ ìƒê°í•´ ë´…ì‹œë‹¤:</p>
<ul>
<li>í¬íŠ¸ 3000ì„ ì„ì˜ì˜ í¬íŠ¸ë¡œ</li>
<li>í¬íŠ¸ ë²”ìœ„ 3005ë¶€í„° 3010ê¹Œì§€</li>
<li>ë¡œì»¬í˜¸ìŠ¤íŠ¸ì˜ í¬íŠ¸ 80ì„ í¬íŠ¸ 80ìœ¼ë¡œë§Œ</li>
<li>ëª¨ë“  í˜¸ìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤ì˜ í¬íŠ¸ 443ì„ í¬íŠ¸ 443ìœ¼ë¡œ</li>
<li>í˜¸ìŠ¤íŠ¸ì˜ í¬íŠ¸ 3011ì„ UDPë§Œì„ ì‚¬ìš©í•˜ì—¬ í¬íŠ¸ 9876ë¡œ</li>
</ul>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: sleep <span class="hljs-number">10</span>
    <span class="hljs-attr">ports</span>:
     - <span class="hljs-number">3000</span>
     - <span class="hljs-number">3005</span>-<span class="hljs-number">3010</span>
     - <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">80</span>:<span class="hljs-number">80</span>
     - <span class="hljs-number">443</span>:<span class="hljs-number">443</span>
     - <span class="hljs-number">9876</span>:<span class="hljs-number">3011</span>/udp
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up -d
ì¤‘ë³µ ì»¨í…Œì´ë„ˆ <span class="hljs-string">"mediumcom_second_1"</span>ë¥¼ ì œê±°í•˜ëŠ” ì¤‘
mediumcom_first_1ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. ... ì™„ë£Œ
$ docker ps --format <span class="hljs-string">'{.Ports}'</span>
<span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">80</span>-><span class="hljs-number">80</span>/tcp, <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">443</span>-><span class="hljs-number">443</span>/tcp, <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">61290</span>-><span class="hljs-number">3000</span>/tcp, <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">61292</span>-><span class="hljs-number">3005</span>/tcp, <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">61293</span>-><span class="hljs-number">3006</span>/tcp, <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">61294</span>-><span class="hljs-number">3007</span>/tcp, <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">61295</span>-><span class="hljs-number">3008</span>/tcp, <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">61296</span>-><span class="hljs-number">3009</span>/tcp, <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">61291</span>-><span class="hljs-number">3010</span>/tcp, <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">9876</span>-><span class="hljs-number">3011</span>/udp
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>í”„ë¡œí•„</h2>
<p>"í”„ë¡œí•„"ì€ ì»´í¬ì¦ˆ íŒŒì¼ ë‚´ì—ì„œ ì—­í• ì„ ë¶„ë¦¬í•  ìˆ˜ ìˆëŠ” ë©‹ì§„ ì œì–´ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. ìš°ë¦¬ê°€ ì»´í¬ì¦ˆ íŒŒì¼ ë‚´ì—ì„œ ì¼ë¶€ ì»¨í…Œì´ë„ˆê°€ ë§¤ìš° íŠ¹ì •í•œ ì„¤ì •í•˜ì—ì„œë§Œ ì‹¤í–‰ë˜ê±°ë‚˜ í•„ìš”í•  ë•Œë§Œ ì‹¤í–‰ë˜ë„ë¡ ì›í•œë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤ (ì¦‰, "í”„ë¡œí•„"ì´ë¼ê³ ë„ í•¨). ì´ê²ƒì´ í•  ìˆ˜ ìˆëŠ” ê²ƒì…ë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: nginx
  <span class="hljs-attr">second</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: wget <span class="hljs-attr">http</span>:<span class="hljs-comment">//first</span>
    <span class="hljs-attr">profiles</span>: [<span class="hljs-string">"debug"</span>]
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up -d
ë„¤íŠ¸ì›Œí¬ <span class="hljs-string">"mediumcom_default"</span>ë¥¼ ê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ ìƒì„± ì¤‘
mediumcom_first_1 ìƒì„± ì™„ë£Œ
$ # ë³´ì„¸ìš”? nginx ì»¨í…Œì´ë„ˆë§Œ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ <span class="hljs-string">"debug"</span>ë¥¼ í™œì„±í™”í•´ ë´…ì‹œë‹¤
$ docker-compose --profile debug up
mediumcom_first_1 is up-to-date
mediumcom_second_1 ìƒì„± ì™„ë£Œ
mediumcom_first_1, mediumcom_second_1ì— ì²¨ë¶€
second_1  | <span class="hljs-title function_">first</span>(<span class="hljs-number">172.26</span><span class="hljs-number">.0</span><span class="hljs-number">.2</span>:<span class="hljs-number">80</span>)ì— ì—°ê²° ì¤‘
second_1  | <span class="hljs-string">'index.html'</span> ì €ì¥ ì¤‘
second_1  | index.<span class="hljs-property">html</span>           <span class="hljs-number">100</span>% |********************************|   <span class="hljs-number">615</span>  <span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> ë‚¨ìŒ
second_1  | <span class="hljs-string">'index.html'</span> ì €ì¥ë¨
first_1   | <span class="hljs-regexp">/docker-entrypoint.sh: /</span>docker-entrypoint.<span class="hljs-property">d</span>/ê°€ ë¹„ì–´ ìˆì§€ ì•Šìœ¼ë¯€ë¡œ êµ¬ì„±ì„ ì‹œë„í•  ê²ƒì…ë‹ˆë‹¤
(first_ì´í•˜ ìƒëµ)
mediumcom_second_1ì´ ì½”ë“œ <span class="hljs-number">0</span>ìœ¼ë¡œ ì¢…ë£Œë¨
</code></pre>
<h2>ì¬ì‹œì‘</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì»¨í…Œì´ë„ˆì˜ ì¬ì‹œì‘ ì •ì±…ì„ ì •ì˜í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤ (no, always, unless-stopped, on-failure ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒ).</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">restart</span>: on-failure
    <span class="hljs-attr">command</span>: sleep <span class="hljs-number">4</span>
  <span class="hljs-attr">second</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: echo <span class="hljs-title class_">Hi</span> <span class="hljs-string">`date`</span>
    <span class="hljs-attr">restart</span>: always
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
<span class="hljs-title class_">Creating</span> network <span class="hljs-string">"mediumcom_default"</span> <span class="hljs-keyword">with</span> the <span class="hljs-keyword">default</span> driver
<span class="hljs-title class_">Creating</span> mediumcom_first_1  ... done
<span class="hljs-title class_">Creating</span> mediumcom_second_1 ... done
<span class="hljs-title class_">Attaching</span> to mediumcom_first_1, mediumcom_second_1
second_1  | <span class="hljs-title class_">Hi</span> <span class="hljs-title class_">Tue</span> <span class="hljs-title class_">Feb</span> <span class="hljs-number">1</span> <span class="hljs-number">17</span>:<span class="hljs-number">21</span>:<span class="hljs-number">11</span> <span class="hljs-variable constant_">CET</span> <span class="hljs-number">2022</span>
mediumcom_second_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
second_1  | <span class="hljs-title class_">Hi</span> <span class="hljs-title class_">Tue</span> <span class="hljs-title class_">Feb</span> <span class="hljs-number">1</span> <span class="hljs-number">17</span>:<span class="hljs-number">21</span>:<span class="hljs-number">11</span> <span class="hljs-variable constant_">CET</span> <span class="hljs-number">2022</span>
second_1  | <span class="hljs-title class_">Hi</span> <span class="hljs-title class_">Tue</span> <span class="hljs-title class_">Feb</span> <span class="hljs-number">1</span> <span class="hljs-number">17</span>:<span class="hljs-number">21</span>:<span class="hljs-number">11</span> <span class="hljs-variable constant_">CET</span> <span class="hljs-number">2022</span>
mediumcom_second_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
second_1  | <span class="hljs-title class_">Hi</span> <span class="hljs-title class_">Tue</span> <span class="hljs-title class_">Feb</span> <span class="hljs-number">1</span> <span class="hljs-number">17</span>:<span class="hljs-number">21</span>:<span class="hljs-number">11</span> <span class="hljs-variable constant_">CET</span> <span class="hljs-number">2022</span>
second_1  | <span class="hljs-title class_">Hi</span> <span class="hljs-title class_">Tue</span> <span class="hljs-title class_">Feb</span> <span class="hljs-number">1</span> <span class="hljs-number">17</span>:<span class="hljs-number">21</span>:<span class="hljs-number">11</span> <span class="hljs-variable constant_">CET</span> <span class="hljs-number">2022</span>
second_1  | <span class="hljs-title class_">Hi</span> <span class="hljs-title class_">Tue</span> <span class="hljs-title class_">Feb</span> <span class="hljs-number">1</span> <span class="hljs-number">17</span>:<span class="hljs-number">21</span>:<span class="hljs-number">11</span> <span class="hljs-variable constant_">CET</span> <span class="hljs-number">2022</span>
mediumcom_second_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
second_1  | <span class="hljs-title class_">Hi</span> <span class="hljs-title class_">Tue</span> <span class="hljs-title class_">Feb</span> <span class="hljs-number">1</span> <span class="hljs-number">17</span>:<span class="hljs-number">21</span>:<span class="hljs-number">11</span> <span class="hljs-variable constant_">CET</span> <span class="hljs-number">2022</span>
second_1  | <span class="hljs-title class_">Hi</span> <span class="hljs-title class_">Tue</span> <span class="hljs-title class_">Feb</span> <span class="hljs-number">1</span> <span class="hljs-number">17</span>:<span class="hljs-number">21</span>:<span class="hljs-number">11</span> <span class="hljs-variable constant_">CET</span> <span class="hljs-number">2022</span>
second_1  | <span class="hljs-title class_">Hi</span> <span class="hljs-title class_">Tue</span> <span class="hljs-title class_">Feb</span> <span class="hljs-number">1</span> <span class="hljs-number">17</span>:<span class="hljs-number">21</span>:<span class="hljs-number">11</span> <span class="hljs-variable constant_">CET</span> <span class="hljs-number">2022</span>
second_1  | <span class="hljs-title class_">Hi</span> <span class="hljs-title class_">Tue</span> <span class="hljs-title class_">Feb</span> <span class="hljs-number">1</span> <span class="hljs-number">17</span>:<span class="hljs-number">21</span>:<span class="hljs-number">11</span> <span class="hljs-variable constant_">CET</span> <span class="hljs-number">2022</span>
mediumcom_first_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
</code></pre>
<h2>ë³´ì•ˆ ì„¤ì •</h2>
<p>ì´ ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆì˜ SELinux ë ˆì´ë¸”ì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> >docker-compose.yml &#x3C;&#x3C;<span class="hljs-string">EOF
version: "3"
services:
  first:
    image: alpine
    command: sleep 30
    security_opt:
     - label:user:USER
  second:
    image: alpine
    command: sleep 30
EOF</span>
$ docker inspect mediumcom_first_1 --format <span class="hljs-string">'{ .Id }: SecurityOpt={ .HostConfig.SecurityOpt }'</span>
2808e4b2ac6a6870b372ecf06da5ce0217efdd6d14df16cef4b332e1d4fb9b6a: SecurityOpt=[label:user:USER]
$
$ docker inspect mediumcom_second_1 --format <span class="hljs-string">'{ .Id }: SecurityOpt={ .HostConfig.SecurityOpt }'</span>
ed4c417b27257cc9f793d5d3dad94672074859dba90effddd0cde49f12dd4115: SecurityOpt=&#x3C;no value>
</code></pre>
<h2>stop_grace_period</h2>
<p>ê¸°ë³¸ì ìœ¼ë¡œ DockerëŠ” SIGTERMì„ ìˆ˜ì‹ í•œ í›„ 10ì´ˆ ë‚´ì— ì»¨í…Œì´ë„ˆê°€ ìì—°ìŠ¤ëŸ½ê²Œ ì¤‘ì§€ë˜ì§€ ì•Šìœ¼ë©´ ì»¨í…Œì´ë„ˆë¥¼ ê°•ì œë¡œ ì¢…ë£Œí•©ë‹ˆë‹¤ (ì˜ˆ: docker stopìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ì˜ë„ì ìœ¼ë¡œ ì¤‘ì§€ì‹œí‚¨ í›„). ì´ ì‹œê°„ ê°„ê²©ì„ stop grace periodë¼ê³  í•˜ë©° êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> >docker-compose.yml &#x3C;&#x3C;<span class="hljs-string">EOF
version: "3"
services:
  first:
    image: alpine
    command: sh -c 'while true; do sleep 5 &#x26; done'
  second:
    image: alpine
    command: sh -c 'while true; do sleep 5 &#x26; done'
    stop_grace_period: 1s
EOF</span>
$ docker-compose up -d
Recreating mediumcom_first_1  ... <span class="hljs-keyword">done</span>
Recreating mediumcom_second_1 ... <span class="hljs-keyword">done</span>
$ time docker stop mediumcom_first_1
mediumcom_first_1
real 0m10.847s
user 0m0.205s
sys 0m0.092s
$ time docker stop mediumcom_second_1
mediumcom_second_1
real 0m1.883s
user 0m0.192s
sys 0m0.105s
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>stop_signal</h2>
<p>ì•ì„œ ì–¸ê¸‰í•œ ì˜µì…˜ì—ì„œ SIGTERMì´ ë„ì»¤ ì»¨í…Œì´ë„ˆë¥¼ ì¤‘ì§€í•˜ëŠ” ê¸°ë³¸ ì‹ í˜¸ì„ì„ ì´ë¯¸ ì•Œì•˜ì„ ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì—¬ëŸ¬ë¶„ì€ <code>docker stop</code>ì´ ì»¨í…Œì´ë„ˆ ì‘ìš© í”„ë¡œê·¸ë¨ìœ¼ë¡œ ì›í•˜ëŠ” ì‚¬ìš©ì ì •ì˜ ì‹ í˜¸ë¥¼ ì „ì†¡í•˜ë„ë¡ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: sleep <span class="hljs-number">60</span>
    <span class="hljs-attr">stop_signal</span>: <span class="hljs-title class_">SIGUSR1</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up -d
<span class="hljs-title class_">Creating</span> network <span class="hljs-string">"mediumcom_default"</span> <span class="hljs-keyword">with</span> the <span class="hljs-keyword">default</span> driver
<span class="hljs-title class_">Creating</span> mediumcom_first_1 ... done
$ docker inspect mediumcom_first_1 --format <span class="hljs-string">'{.Config.StopSignal}'</span>
<span class="hljs-title class_">SIGUSR1</span>
</code></pre>
<h2>sysctls</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì´ ì˜µì…˜ì€ ì»¨í…Œì´ë„ˆì˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ëœ ì»¤ë„ ë§¤ê°œë³€ìˆ˜ë¥¼ ëŸ°íƒ€ì„ì—ì„œ êµ¬ì„±í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: sleep <span class="hljs-number">60</span>
    <span class="hljs-attr">sysctls</span>:
      net.<span class="hljs-property">core</span>.<span class="hljs-property">somaxconn</span>: <span class="hljs-number">1024</span>
      net.<span class="hljs-property">ipv4</span>.<span class="hljs-property">tcp_syncookies</span>: <span class="hljs-number">0</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up -d
ë„¤íŠ¸ì›Œí¬ <span class="hljs-string">"mediumcom_default"</span> ìƒì„± ì¤‘, ê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ ì„¤ì •
mediumcom_first_1 ìƒì„± ì¤‘... ì™„ë£Œ
$ docker inspect mediumcom_first_1 --format <span class="hljs-string">'{json .HostConfig.Sysctls}'</span>
{<span class="hljs-string">"net.core.somaxconn"</span>: <span class="hljs-string">"1024"</span>, <span class="hljs-string">"net.ipv4.tcp_syncookies"</span>: <span class="hljs-string">"0"</span>}
</code></pre>
<h2>ulimits</h2>
<p>ì»¨í…Œì´ë„ˆì˜ ê¸°ë³¸ ulimitsë¥¼ ì¬ì •ì˜í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: sleep <span class="hljs-number">60</span>
    <span class="hljs-attr">ulimits</span>:
      <span class="hljs-attr">nproc</span>: <span class="hljs-number">65535</span>
      <span class="hljs-attr">nofile</span>:
        <span class="hljs-attr">soft</span>: <span class="hljs-number">20000</span>
        <span class="hljs-attr">hard</span>: <span class="hljs-number">40000</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up -d
<span class="hljs-title class_">Recreating</span> mediumcom_first_1 ... done
$ docker inspect mediumcom_first_1 --format <span class="hljs-string">'{json .HostConfig.Ulimits}'</span>
[{<span class="hljs-string">"Name"</span>:<span class="hljs-string">"nproc"</span>,<span class="hljs-string">"Hard"</span>:<span class="hljs-number">65535</span>,<span class="hljs-string">"Soft"</span>:<span class="hljs-number">65535</span>},{<span class="hljs-string">"Name"</span>:<span class="hljs-string">"nofile"</span>,<span class="hljs-string">"Hard"</span>:<span class="hljs-number">40000</span>,<span class="hljs-string">"Soft"</span>:<span class="hljs-number">20000</span>}]
</code></pre>
<h2>userns_mode</h2>
<p>ë„ˆë¬´ ê¹Šê²Œ íŒŒê³ ë“¤ì§€ ì•Šê³  Docker ë°ëª¬ì—ì„œ ì‚¬ìš©ì ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ í™œì„±í™”í•œ ê²½ìš°, ë‹¨ì¼ ì»¨í…Œì´ë„ˆì—ì„œ ì‚¬ìš©ì ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ë¹„í™œì„±í™”í•˜ê²Œ í•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤. <code>userns_mode: "host"</code>ë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.</p>
<h2>user</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì»¨í…Œì´ë„ˆ ì‘ìš©í”„ë¡œê·¸ë¨ì´ íŠ¹ì • ì‚¬ìš©ìë¡œ ì‹¤í–‰ë˜ë„ë¡ í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: whoami
    <span class="hljs-attr">user</span>: nobody
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
<span class="hljs-title class_">Recreating</span> mediumcom_first_1 ... done
<span class="hljs-title class_">Attaching</span> to mediumcom_first_1
first_1  | nobody
mediumcom_first_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
</code></pre>
<h2>working_dir</h2>
<p>ë„ì»¤ íŒŒì¼ì—ì„œ ë³¸ ì ì´ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆì˜ ëœë”© ê²½ë¡œ(PWD)ë¥¼ ì¬ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ì™€ ëª…ë ¹ì´ ì ˆëŒ€ ê²½ë¡œë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì—ë„ ë™ì‘ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: pwd
    <span class="hljs-attr">working_dir</span>: <span class="hljs-regexp">/my/</span>custom/medium/dir
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
mediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ
mediumcom_first_1ì— ì—°ê²° ì¤‘
first_1  | <span class="hljs-regexp">/my/</span>custom/medium/dir
mediumcom_first_1 ì½”ë“œ <span class="hljs-number">0</span>ìœ¼ë¡œ ì¢…ë£Œë¨
</code></pre>
<h2>ë„ë©”ì¸ ì´ë¦„</h2>
<p>ë‹¹ì‹ ì˜ ì»¨í…Œì´ë„ˆëŠ” í˜¸ìŠ¤íŠ¸ëª…ê³¼ ë„ë©”ì¸ëª…ì„ ê°€ì§€ê³  ìˆë‹¤ëŠ” ê²ƒì„ ì•„ì‹œì£ . í˜¸ìŠ¤íŠ¸ ëª¨ë“œê°€ ì•„ë‹ ë•Œ, í˜¸ìŠ¤íŠ¸ëª…ì€ ì»¨í…Œì´ë„ˆì˜ IDì™€ ë™ì¼í•˜ë©°, ë„ë©”ì¸ëª…ì€ ì˜ˆìƒëŒ€ë¡œ ì—†ì„ ê²ƒì…ë‹ˆë‹¤. ë„ë©”ì¸ëª…ì„ ì„¤ì •í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•˜ì„¸ìš”:</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: hostname -f
    <span class="hljs-attr">domainname</span>: cristovaocordeiro.<span class="hljs-property">medium</span>.<span class="hljs-property">com</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
mediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ
mediumcom_first_1ì— ì—°ê²° ì¤‘
first_1  | 6e900c697939.<span class="hljs-property">cristovaocordeiro</span>.<span class="hljs-property">medium</span>.<span class="hljs-property">com</span>
mediumcom_first_1 ì½”ë“œ <span class="hljs-number">0</span>ìœ¼ë¡œ ì¢…ë£Œë¨
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>í˜¸ìŠ¤íŠ¸ì´ë¦„</h2>
<p>ë‹¹ì—°íˆ ë„ë©”ì¸ ì´ë¦„ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤ë©´ ì»¨í…Œì´ë„ˆì˜ í˜¸ìŠ¤íŠ¸ ì´ë¦„ë„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µë˜ëŠ” "ì¶©ê²©ì ì¸" ID í˜•ì‹ ëŒ€ì‹  í˜¸ìŠ¤íŠ¸ ì´ë¦„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ ğŸ˜œ</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: hostname -f
    <span class="hljs-attr">hostname</span>: test-container
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
<span class="hljs-title class_">Recreating</span> mediumcom_first_1 ... done
<span class="hljs-title class_">Attaching</span> to mediumcom_first_1
first_1  | test-container
mediumcom_first_1 exited <span class="hljs-keyword">with</span> code <span class="hljs-number">0</span>
</code></pre>
<h2>ipc</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì»¨í…Œì´ë„ˆì˜ í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹ ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(ì„±ëŠ¥ ì¡°ì • ëª©ì ). ì´ ì˜µì…˜ì„ í†µí•´ ì»¨í…Œì´ë„ˆì˜ IPC ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: sleep <span class="hljs-number">30</span>
    <span class="hljs-attr">ipc</span>: shareable
<span class="hljs-variable constant_">EOF</span>
$ docker inspect mediumcom_first_1 --format <span class="hljs-string">'{json .HostConfig.IpcMode}'</span>
<span class="hljs-string">"shareable"</span>
</code></pre>
<h2>mac_address</h2>
<p>ì›í•˜ëŠ” ì»¨í…Œì´ë„ˆì— ì‚¬ìš©ì ì •ì˜ MAC ì£¼ì†Œë¥¼ ì„¤ì •í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
ë²„ì „: <span class="hljs-string">"3"</span>
ì„œë¹„ìŠ¤:
Â  <span class="hljs-attr">first</span>:
Â  Â  ì´ë¯¸ì§€: alpine
Â  Â  ëª…ë ¹: ifconfig eth0
Â  Â  <span class="hljs-attr">mac_address</span>: <span class="hljs-number">00</span>:<span class="hljs-attr">ab</span>:<span class="hljs-attr">cd</span>:<span class="hljs-number">12</span>:<span class="hljs-number">34</span>:<span class="hljs-number">56</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
mediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ
mediumcom_first_1ì— ì—°ê²° ì¤‘
first_1  | eth0 <span class="hljs-title class_">Link</span> <span class="hljs-attr">encap</span>:<span class="hljs-title class_">Ethernet</span>Â  <span class="hljs-title class_">HWaddr</span> <span class="hljs-number">00</span>:<span class="hljs-attr">AB</span>:<span class="hljs-attr">CD</span>:<span class="hljs-number">12</span>:<span class="hljs-number">34</span>:<span class="hljs-number">56</span> Â 
first_1  | inet <span class="hljs-attr">addr</span>:<span class="hljs-number">172.29</span><span class="hljs-number">.0</span><span class="hljs-number">.2</span> <span class="hljs-title class_">Bcast</span>:<span class="hljs-number">172.29</span><span class="hljs-number">.255</span><span class="hljs-number">.255</span> <span class="hljs-title class_">Mask</span>:<span class="hljs-number">255.255</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>
first_1  | <span class="hljs-variable constant_">UP</span> <span class="hljs-variable constant_">BROADCAST</span> <span class="hljs-variable constant_">RUNNING</span> <span class="hljs-variable constant_">MULTICAST</span> <span class="hljs-attr">MTU</span>:<span class="hljs-number">1500</span> <span class="hljs-title class_">Metric</span>:<span class="hljs-number">1</span>
first_1  | <span class="hljs-variable constant_">RX</span> <span class="hljs-attr">packets</span>:<span class="hljs-number">2</span> <span class="hljs-attr">errors</span>:<span class="hljs-number">0</span> <span class="hljs-attr">dropped</span>:<span class="hljs-number">0</span> <span class="hljs-attr">overruns</span>:<span class="hljs-number">0</span> <span class="hljs-attr">frame</span>:<span class="hljs-number">0</span>
first_1  | <span class="hljs-variable constant_">TX</span> <span class="hljs-attr">packets</span>:<span class="hljs-number">0</span> <span class="hljs-attr">errors</span>:<span class="hljs-number">0</span> <span class="hljs-attr">dropped</span>:<span class="hljs-number">0</span> <span class="hljs-attr">overruns</span>:<span class="hljs-number">0</span> <span class="hljs-attr">carrier</span>:<span class="hljs-number">0</span>
first_1  | <span class="hljs-attr">collisions</span>:<span class="hljs-number">0</span> <span class="hljs-attr">txqueuelen</span>:<span class="hljs-number">0</span>Â 
first_1  | <span class="hljs-variable constant_">RX</span> <span class="hljs-attr">bytes</span>:<span class="hljs-number">200</span> (<span class="hljs-number">200.0</span> B)Â  <span class="hljs-variable constant_">TX</span> <span class="hljs-attr">bytes</span>:<span class="hljs-number">0</span> (<span class="hljs-number">0.0</span> B)
first_1  |
mediumcom_first_1ê°€ ì½”ë“œ <span class="hljs-number">0</span>ìœ¼ë¡œ ì¢…ë£Œë¨
</code></pre>
<h2>íŠ¹ê¶Œì </h2>
<p>ìœ„ì—ì„œ "íŠ¹ê¶Œì " ì»¨í…Œì´ë„ˆ ìƒíƒœë¥¼ ëª‡ ë²ˆ ë‹¤ë¤˜ìŠµë‹ˆë‹¤. ê°„ë‹¨íˆ ë§í•˜ë©´, (!!) í™•ì‹¤íˆ í™•ì‹ ì´ ìˆê³  ì»¨í…Œì´ë„ˆì— ê°€ëŠ¥í•œ ëª¨ë“  ê¸°ëŠ¥ì„ ë¶€ì—¬í•˜ê³  ì‹¶ë‹¤ë©´ (ë”°ë¼ì„œ í˜¸ìŠ¤íŠ¸ ì¥ì¹˜ ë° ê¸°íƒ€ ìì›ì— ì•¡ì„¸ìŠ¤ í•  ìˆ˜ ìˆìŒ), ì´ ì˜µì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
ë²„ì „: <span class="hljs-string">"3"</span>
ì„œë¹„ìŠ¤:
Â  <span class="hljs-attr">first</span>:
Â  Â  ì´ë¯¸ì§€: alpine
Â  Â  ëª…ë ¹: sh -c <span class="hljs-string">'ls /dev/ | wc -l'</span>
Â  <span class="hljs-attr">second</span>:
Â  Â  ì´ë¯¸ì§€: alpine
Â  Â  ëª…ë ¹: sh -c <span class="hljs-string">'ls /dev/ | wc -l'</span>
Â  Â  íŠ¹ê¶Œì : <span class="hljs-literal">true</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
mediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ
mediumcom_second_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ
mediumcom_first_1ì— ì—°ê²° ì¤‘, mediumcom_second_1ì— ì—°ê²° ì¤‘
first_1  | <span class="hljs-number">15</span>
second_1  | <span class="hljs-number">150</span>
mediumcom_first_1ê°€ ì½”ë“œ <span class="hljs-number">0</span>ìœ¼ë¡œ ì¢…ë£Œë¨
mediumcom_second_1ê°€ ì½”ë“œ <span class="hljs-number">0</span>ìœ¼ë¡œ ì¢…ë£Œë¨
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>ì½ê¸° ì „ìš©</h2>
<p>ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•  ë•Œ ì½ê¸° ì „ìš© ì´ë¯¸ì§€ ë ˆì´ì–´ ìœ„ì— ì“°ê¸° ê°€ëŠ¥í•œ ë ˆì´ì–´ê°€ ìƒì„±ëœë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê³  ê³„ì‹¤ ê²ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ì“°ê¸° ê°€ëŠ¥í•œ ë ˆì´ì–´ë¥¼ ì½ê¸° ì „ìš©ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: touch /tmp/test
  <span class="hljs-attr">second</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: touch /tmp/test
    <span class="hljs-attr">read_only</span>: <span class="hljs-literal">true</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
mediumcom_first_1  ... done
mediumcom_second_1 ... done
mediumcom_first_1, mediumcom_second_1ì— ì—°ê²° ì¤‘
second_1  | <span class="hljs-attr">touch</span>: <span class="hljs-regexp">/tmp/</span><span class="hljs-attr">test</span>: ì½ê¸° ì „ìš© íŒŒì¼ ì‹œìŠ¤í…œ
mediumcom_first_1 ì½”ë“œ <span class="hljs-number">0</span>ìœ¼ë¡œ ì¢…ë£Œ
mediumcom_second_1 ì½”ë“œ <span class="hljs-number">1</span>ë¡œ ì¢…ë£Œ
</code></pre>
<h2>shm_size</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì»¨í…Œì´ë„ˆê°€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê³µìœ  ë©”ëª¨ë¦¬ ì–‘ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">command</span>: df -h /dev/shm
    <span class="hljs-attr">shm_size</span>: 123M
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up
mediumcom_first_1 ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ
mediumcom_first_1ì— ì—°ê²° ì¤‘
first_1  | íŒŒì¼ ì‹œìŠ¤í…œ                í¬ê¸°      ì‚¬ìš©í•¨ ì‚¬ìš© ê°€ëŠ¥í•¨ ì‚¬ìš©ë¥  ë§ˆìš´íŠ¸ëœ ìœ„ì¹˜
first_1  | shm                     <span class="hljs-number">123.</span>0M         <span class="hljs-number">0</span>    <span class="hljs-number">123.</span>0M   <span class="hljs-number">0</span>% <span class="hljs-regexp">/dev/</span>shm
mediumcom_first_1ì€ ì½”ë“œ <span class="hljs-number">0</span>ìœ¼ë¡œ ì¢…ë£Œë¨
</code></pre>
<h2>stdin_open</h2>
<p>ì´ëŠ” docker runì˜ -iì— í•´ë‹¹í•©ë‹ˆë‹¤. ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜¸ìŠ¤íŠ¸ì™€ ì»¨í…Œì´ë„ˆ ê°„ ìƒí˜¸ì‘ìš©ì´ ê°€ëŠ¥í•œ ì¸í„°ë™í‹°ë¸Œ ì„¸ì…˜ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> >docker-compose.yml &#x3C;&#x3C;<span class="hljs-string">EOF
version: "3"
services:
  first:
    image: alpine
    stdin_open: true
EOF</span>
$ docker-compose up -d
Recreating mediumcom_first_1 ... <span class="hljs-keyword">done</span>
$ docker attach mediumcom_first_1
<span class="hljs-built_in">echo</span> Hello, I am sending commands to the container
Hello, I am sending commands to the container
<span class="hljs-built_in">exit</span>
</code></pre>
<p>ìœ„ì™€ ê°™ì´ ì»¨í…Œì´ë„ˆì™€ ìƒí˜¸ ì‘ìš©í•˜ê³  ìˆì§€ë§Œ í˜¸ìŠ¤íŠ¸ì™€ ì»¨í…Œì´ë„ˆ ì‚¬ì´ì— ì‹¤ì œë¡œ í„°ë¯¸ë„ ì„¸ì…˜ì´ ì—†ìŠµë‹ˆë‹¤... ê°„ë‹¨íˆ ë§í•´ì„œ íŒŒì´í”„ì¼ ë¿ì…ë‹ˆë‹¤.</p>
<h2>tty</h2>
<p>ì´ê²ƒì€ ë„ì»¤ ì‹¤í–‰ì—ì„œì˜ -tì™€ ë™ë“±í•©ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆì— ê°€ìƒ ttyë¥¼ í• ë‹¹í•˜ê³  stdin_openê³¼ ê²°í•©í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js">$ cat >docker-compose.<span class="hljs-property">yml</span> &#x3C;&#x3C;<span class="hljs-variable constant_">EOF</span>
<span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>
<span class="hljs-attr">services</span>:
  <span class="hljs-attr">first</span>:
    <span class="hljs-attr">image</span>: alpine
    <span class="hljs-attr">stdin_open</span>: <span class="hljs-literal">true</span>
    <span class="hljs-attr">tty</span>: <span class="hljs-literal">true</span>
<span class="hljs-variable constant_">EOF</span>
$ docker-compose up -d
mediumcom_first_1 ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ìƒì„±í•©ë‹ˆë‹¤... ì™„ë£Œ
$ docker attach mediumcom_first_1
/ # echo now <span class="hljs-variable language_">this</span> is a real terminal
now <span class="hljs-variable language_">this</span> is a real terminal
/ # sleep <span class="hljs-number">5</span>
^C
/ # echo $?
<span class="hljs-number">130</span>
/ # exit
</code></pre>
<p>ì´ì œ ìš°ë¦¬ëŠ” ì‹¤ì œ í„°ë¯¸ë„ê³¼ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ì„¸ì…˜ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì»¨í…Œì´ë„ˆ ì•ˆì—ì„œ ì›í•˜ëŠ” ì¼ì„ í•  ìˆ˜ ìˆì–´ìš”.</p>
<p>ìš°ì™€... ì •ë§ ê¸´ ê¸°ì‚¬ì˜€ì£ . ì£„ì†¡í•©ë‹ˆë‹¤. ë°ì€ ë©´ì—ì„œ ë§í•˜ë©´, ì—¬ëŸ¬ ê¸°ì‚¬ë¥¼ ë„˜ë‚˜ë“¤ë©° ë‹¤ì–‘í•œ ì»´í¬ì¦ˆ íŒŒì¼ ì˜µì…˜ì´ ë¬´ì—‡ì„ í•˜ëŠ”ì§€ ì°¾ì•„ë³´ì§€ ì•Šì•„ë„ ë˜ê² ì£ ?</p>
<p>ìŠ¤ì›œ ëª¨ë“œì—ì„œ ì„œë¹„ìŠ¤ì— íŠ¹ì •í•œ ì˜µì…˜(ë³€ìˆ˜ ì¹˜í™˜ ë° í™•ì¥ í•„ë“œ ê°™ì€ ê³ ìœ í•œ êµ¬ì¡°ì  ë…¸í•˜ìš°)ì„ ì¼ë¶€ ëºìŠµë‹ˆë‹¤. ì´ê²ƒë“¤ì€ ì„ íƒ ì‚¬í•­ì´ë©°, ë‹¤ë¥¸ ê¸°ì‚¬ì—ì„œ ë‹¤ë£° ìˆ˜ ìˆì–´ìš”.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì´ í…Œì´ë¸” íƒœê·¸ë¥¼ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•´ë“œë ¸ìŠµë‹ˆë‹¤.</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"ì „ì²´ êµ¬ì„± Compose íŒŒì¼ ì‰½ê²Œ ì„¤ì •í•˜ëŠ” ë°©ë²•","description":"","date":"2024-06-23 00:30","slug":"2024-06-23-TheWholeShebangComposeFiles","content":"\n\u003cimg src=\"/assets/img/2024-06-23-TheWholeShebangComposeFiles_0.png\" /\u003e\n\nìš”ì¦˜ Docker ë° ì»¨í…Œì´ë„ˆì— ëŒ€í•´ ë§ì´ ì“°ê³  ê°€ë¥´ì¹˜ê³  ìˆìŠµë‹ˆë‹¤. ë‚´ ì»¨í…ì¸ ë¥¼ ì†Œë¹„í•˜ê³  í”¼ë“œë°±ì„ ì œê³µí•´ ì£¼ì‹œëŠ” ì—¬ëŸ¬ë¶„ë“¤ì—ê²Œ ë§¤ìš° ê°ì‚¬í•©ë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì˜ ì˜ê²¬ì„ ë“£ê³  ë‹¤ìŒ ì£¼ì œëŠ” ë‹¹ì—°íˆ Docker Composeì…ë‹ˆë‹¤. ì™œëƒí•˜ë©´ ì´ì œ ì—¬ëŸ¬ë¶„ì€ ìì‹ ì˜ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ê³  ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì„ ì•Œê³  ìˆìœ¼ë¯€ë¡œ, ë‹¤ìŒìœ¼ë¡œ ë…¼ë¦¬ì ìœ¼ë¡œ ë‚¨ì€ ì¼ì€ ë³µì¡í•œ ë©€í‹° ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ê³  ê·¸ ëª¨ë“  ê²ƒì„ ë‹¨ì¼ ì†Œí”„íŠ¸ì›¨ì–´ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n# Docker Compose: ê·¸ê²Œ ë­”ë°, ì™œ í•„ìš”í•œê°€ìš”?\n\nê³µì‹ ë¬¸ì„œì—ì„œ ë” ë§ì€ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì§€ë§Œ, ê°„ë‹¨íˆ ë§í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤: Dockerë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ, ì´ë¯¸ì§€, ë³¼ë¥¨ ë“±ì„ ê´€ë¦¬í•©ë‹ˆë‹¤. docker runì„ ì‹¤í–‰í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ë‹¨ì¼ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë§Œì•½ ì²« ë²ˆì§¸ ì»¨í…Œì´ë„ˆì™€ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë‘ ë²ˆì§¸ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•˜ë ¤ë©´ docker runì„ ë‹¤ì‹œ ì‹¤í–‰í•´ì•¼ í•˜ë©°, ë³¼ë¥¨ ë° ë„¤íŠ¸ì›Œí¬ë¥¼ ë³„ë„ë¡œ ì²˜ë¦¬í•˜ì—¬ ì„œë¡œë¥¼ ë³´ê³  í†µì‹ í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në„ì»¤ ì»´í¬ì¦ˆëŠ” ë„ì»¤ ìœ„ì— ë˜í¼ë¥¼ ì œê³µí•˜ì—¬ ì´ ëª¨ë“  ê²ƒì„ ì¶”ìƒí™”í•©ë‹ˆë‹¤ (ë§ì•„ìš”! ë„ì»¤ ì»´í¬ì¦ˆëŠ” ë‹¨ìˆœíˆ ë„ì»¤ë¥¼ ìœ„í•œ ê³ ìˆ˜ì¤€ CLIì…ë‹ˆë‹¤). ì‹¤ì œë¡œ ëŒ€ë¶€ë¶„ì˜ ì˜µì…˜ì´ docker run í•˜ìœ„ ëª…ë ¹ì–´ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ì˜µì…˜ë“¤ê³¼ ë§¤ìš° ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ ëª…ëª…ë©ë‹ˆë‹¤.\n\në„ì»¤ ì»´í¬ì¦ˆë¥¼ ì‚¬ìš©í•˜ë©´ YAML íŒŒì¼ì¸ ì»´í¬ì¦ˆ íŒŒì¼ì„ í†µí•´ ì»¨í…Œì´ë„ˆ(ë„ì»¤ ì»´í¬ì¦ˆ ì„¸ê³„ì—ì„œëŠ” ì„œë¹„ìŠ¤ë¼ê³  ë¶ˆë¦½ë‹ˆë‹¤... ë‹¨ì§€ ìŠ¤ì›œ ëª¨ë“œì—ì„œë„ ì»´í¬ì¦ˆ íŒŒì¼ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—... ë‹¤ë¥¸ ê¸€ì—ì„œ ì„¤ëª…í•  ì˜ˆì •), ë³¼ë¥¨ ë° ë„¤íŠ¸ì›Œí¬ë¥¼ í¬í•¨í•œ ëª¨ë“  ê²ƒì„ ì„ ì–¸ì ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë©€í‹° ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê´€ë¦¬í•´ì•¼ í•  ë•Œ, ì´ compose íŒŒì¼ë§Œ ê±´ë“œë¦¬ê³  ë‚˜ë¨¸ì§€ëŠ” ë„ì»¤ ì»´í¬ì¦ˆê°€ ëª¨ë‘ ì²˜ë¦¬í•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# ì»´í¬ì¦ˆ íŒŒì¼\n\nìš°ì„ , ë©€í‹° ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì˜¬ë°”ë¥´ê²Œ ìš´ì˜í•˜ë ¤ë©´ ì»´í¬ì¦ˆ íŒŒì¼ì„ ì‘ì„±í•˜ëŠ” ë°©ë²•ì„ ìµí˜€ì•¼ í•˜ë¯€ë¡œ ë„ì»¤ ì»´í¬ì¦ˆ CLIì— ëŒ€í•´ì„œëŠ” ë‹¤ë¥¸ ê¸€ì—ì„œ ë‹¤ë£° ì˜ˆì •ì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në„ì»¤ì˜ êµ¬ì„± íŒŒì¼ ê´€ë ¨ ë¬¸ì„œëŠ” ë§¤ìš° ì™„ë²½í•˜ì§€ë§Œ, ì €ëŠ” ì‹¤ìš©ì£¼ì˜ì™€ ê²½í—˜ìœ¼ë¡œë¶€í„° ë°°ìš°ëŠ” ê²ƒì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ì‚¬ëŒì´ë¼ì„œ ëª¨ë“  Compose íŒŒì¼ ì˜µì…˜ì„ ì†ì§ˆí•˜ê³  ëª…ë£Œí•œ ì„¤ëª…ê³¼ ì‹¤ì œ ì˜ˆì‹œë¥¼ ë‹´ì•„ë‚´ë ¤ê³  í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì‹œì‘í•´ë´…ì‹œë‹¤!\n\nì°¸ê³  1: ì´ ê¸°ì‚¬ë¥¼ ì‘ì„±í•˜ëŠ” ì‹œì ì—ì„œ ìµœì‹  ë²„ì „ì¸ v3ì˜ Compose íŒŒì¼ ëª…ì„¸ì— ëŒ€í•œ ì˜µì…˜ê³¼ ìŠ¤í‚¤ë§ˆë§Œ ë‹¤ë£° ì˜ˆì •ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‹ˆ ê±±ì •í•˜ì§€ ë§ˆì„¸ìš”.\n\nì°¸ê³  2: ê° ì˜µì…˜ì— ëŒ€í•´ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ì„¤ëª…ê³¼ ì˜ˆì‹œë§Œ ì œê³µí•  ê²ƒì´ë©°, íŠ¹ì • ì˜µì…˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ë³¸ ì ì´ ì—†ëŠ” ê²½ìš°ì—ëŠ” \"ì¼ë°˜ì ì´ì§€ ì•ŠìŒ\"ìœ¼ë¡œ ê°„ì£¼í•  ê²ƒì…ë‹ˆë‹¤. ì–´ë–¤ ì˜µì…˜ì˜ ì ì€ ì‚¬ìš© ë°©ë²• ë° ì¼ë°˜ì ì´ì§€ ì•Šì€ ë§¤ê°œë³€ìˆ˜ë¥¼ ë” ìì„¸íˆ ì•Œê³  ì‹¶ë‹¤ë©´ ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ì¡°í•´ì£¼ì„¸ìš”.\n\nì˜ˆì‹œì— ë“¤ì–´ê°€ê¸° ì „ì—, ëª¨ë“  êµ¬ì„± íŒŒì¼ì€ ì‘ì„±í•˜ëŠ” í˜„ì¬ì˜ íŒŒì¼ ìŠ¤í‚¤ë§ˆë¥¼ ë‚˜íƒ€ë‚´ëŠ” í‚¤ì›Œë“œ versionìœ¼ë¡œ ì‹œì‘ë©ë‹ˆë‹¤. ì•ì„œ ë§í•œëŒ€ë¡œ, ì €í¬ëŠ” ìµœì‹  (ë²„ì „: \"3\")ì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ë¹Œë“œ\n\nê¸°ë³¸ì ìœ¼ë¡œ Docker Composeë¡œ ë¬´ì–¸ê°€ë¥¼ ì‹œì‘í•  ë•Œ, Docker ì´ë¯¸ì§€ ë˜ëŠ” Dockerfileì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•˜ê¸° ì „ì— Dockerê°€ ì´ë¯¸ì§€ë¥¼ ì§ì ‘ ë¹Œë“œí•˜ë„ë¡ í•˜ê³  ì‹¶ë‹¤ë©´ ìˆ˜ë™ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ì§€ ì•Šê³ ë„ ì´ ì˜µì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´:\n\n```js\n$ cat \u003eDockerfile \u003c\u003cEOF\n# ì´ê²ƒì€ Dockerfileì…ë‹ˆë‹¤\nFROM ubuntu\nCMD [\"echo\", \"Hello Medium readers\"]\n# Dockerfile ë\nEOF\n$\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  my-test-container:\n    build: .\nEOF\n$\n$ docker-compose up\në””í´íŠ¸ ë“œë¼ì´ë²„ë¥¼ ì‚¬ìš©í•˜ì—¬ \"mediumcom_default\" ë„¤íŠ¸ì›Œí¬ ìƒì„± ì¤‘\nmy-test-container ë¹Œë“œ ì¤‘\nDocker ë°ëª¬ìœ¼ë¡œ ë¹Œë“œ ì»¨í…ìŠ¤íŠ¸ ë³´ë‚´ëŠ” ì¤‘  1.337MB\në‹¨ê³„ 1/2 : FROM ubuntu\n ---\u003e ba6acccedd29\në‹¨ê³„ 2/2 : CMD [\"echo\", \"Hello Medium readers\"]\n ---\u003e ìºì‹œ ì‚¬ìš© ì¤‘\n ---\u003e 6c8b22fa650c\nì„±ê³µì ìœ¼ë¡œ ë¹Œë“œë˜ì—ˆìŠµë‹ˆë‹¤ 6c8b22fa650c\nmediumcom_my-test-container:latestë¡œ ì„±ê³µì ìœ¼ë¡œ íƒœê¹…ë˜ì—ˆìŠµë‹ˆë‹¤\nmediumcom_my-test-container_1 ìƒì„± ì¤‘ ... ì™„ë£Œ\nmediumcom_my-test-container_1ì— ì—°ê²° ì¤‘\nmy-test-container_1  | Hello Medium readers\nmediumcom_my-test-container_1ëŠ” ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n$\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në³´ì‹œë‹¤ì‹œí”¼, Docker ComposeëŠ” Dockerì—ê²Œ ë„ì»¤íŒŒì¼(ì»´í¬ì¦ˆ íŒŒì¼ê³¼ ë™ì¼í•œ ê²½ë¡œì— ìœ„ì¹˜)ë¡œë¶€í„° ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ë„ë¡ ì§€ì‹œí•˜ê³ , ê·¸ í›„ì— ìë™ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.\n\nì°¸ê³ : ì¼ë°˜ì ìœ¼ë¡œ docker buildì™€ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ì¼ë¶€ ì˜µì…˜ë“¤(ë¹Œë“œ ì¸ì ì „ë‹¬, Dockerfileì˜ ê²½ë¡œ ë° ì´ë¦„ ì§€ì • ë“±)ë„ ì—¬ê¸°ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ë¬¸ì„œë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.\n\n## ì´ë¯¸ì§€\n\nì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ Docker ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•  í•„ìš”ëŠ” ì—†ê² ì£ ... ê·¸ë ‡ê²Œ í•˜ë©´ ë¶ˆí¸í•˜ê² ì£ . ë”°ë¼ì„œ ì´ë¯¸ì§€ë¥¼ ë¯¸ë¦¬ ë¹Œë“œí•˜ê±°ë‚˜ ê°„ë‹¨íˆ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ì§€ì •í•˜ë©´ ë©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì˜ˆë¥¼ ë“¤ì–´, ì´ì „ ì˜ˆì œì˜ Dockerfileê³¼ ë‹¤ìŒì˜ compose íŒŒì¼ì„ ì‚´í´ë³´ì„¸ìš”:\n\n```js\n$ # ì´ì „ ì˜ˆì œ ì •ë¦¬í•˜ê¸° ìœ„í•¨\n$ # ì´ì œë¶€í„° ê° ì˜ˆì œì—ì„œ ë‹¤ìŒ ëª…ë ¹ ì‹¤í–‰í•´ì£¼ì„¸ìš”\n$ docker-compose down -v --remove-orphans\n$\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    build: .\n  second:\n    image: hello-world\nEOF\n$ # Dockerfileì´ ë³€ê²½ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì²« ë²ˆì§¸ ì´ë¯¸ì§€ê°€ ë‹¤ì‹œ ë¹Œë“œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤\n$ docker-compose up\në„¤íŠ¸ì›Œí¬ \"mediumcom_default\" ìƒì„± ì¤‘\nmediumcom_first_1  ... ìƒì„±ë¨\nmediumcom_second_1 ... ìƒì„±ë¨\nmediumcom_second_1, mediumcom_first_1ì— ì—°ê²° ì¤‘\nfirst_1   | Hello Medium readers\nsecond_1  |\nsecond_1  | Hello from Docker!\nsecond_1  | This message shows that your installation appears to be working correctly.\nsecond_1  |\nsecond_1  | To generate this message, Docker took the following steps:\nsecond_1  |  1. The Docker client contacted the Docker daemon.\nsecond_1  |  2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub.\nsecond_1  |     (amd64)\nsecond_1  |  3. The Docker daemon created a new container from that image which runs the\nsecond_1  |     executable that produces the output you are currently reading.\nsecond_1  |  4. The Docker daemon streamed that output to the Docker client, which sent it\nsecond_1  |     to your terminal.\nsecond_1  |\nsecond_1  | To try something more ambitious, you can run an Ubuntu container with:\nsecond_1  |  $ docker run -it ubuntu bash\nsecond_1  |\nsecond_1  | Share images, automate workflows, and more with a free Docker ID:\nsecond_1  |  https://hub.docker.com/\nsecond_1  |\nsecond_1  | For more examples and ideas, visit:\nsecond_1  |  https://docs.docker.com/get-started/\nsecond_1  |\nmediumcom_second_1ì´ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\nmediumcom_first_1ì´ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\nì—¬ê¸°ì„œ ë³´ë“¯ì´, ì´ì œ í•˜ë‚˜ì˜ Compose íŒŒì¼ê³¼ í•˜ë‚˜ì˜ docker-compose ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë™ì¼í•œ ë‹¤ì¤‘ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œ ë³‘ë ¬ë¡œ 2ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤. í•˜ë‚˜ì˜ ì»¨í…Œì´ë„ˆëŠ” \"Hello Medium readers\"ë¼ê³  ë§í•˜ëŠ” ì‚¬ìš©ì ì§€ì • Docker ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í–ˆê³ , ë‹¤ë¥¸ í•˜ë‚˜ëŠ” Docker Hubì—ì„œ \"hello-world\" ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì™€ ìì²´ Hello World ë©”ì‹œì§€ë¥¼ ì¶œë ¥í–ˆìŠµë‹ˆë‹¤.\n\n## ëª…ë ¹\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆì˜ ëª…ë ¹ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ Docker ì´ë¯¸ì§€ì— entrypointê°€ ì •ì˜ë˜ì–´ ìˆìœ¼ë©´ ì´ ëª…ë ¹ì´ í•´ë‹¹ entrypointì˜ ì¸ìˆ˜ê°€ ë©ë‹ˆë‹¤. ì˜ˆì‹œ:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu\n    command: echo \"I am at your command!\"\nEOF\n$ docker-compose up\nCreating network \"mediumcom_default\" with the default driver\nCreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1  | I am at your command!\nmediumcom_first_1 exited with code 0\n```\n\nì•„ì£¼ ê°„ë‹¨í•˜ì§€ìš”?\n\n## entrypoint\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ë¦„ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´ í•´ë‹¹ ê¸°ëŠ¥ì€ ì»¨í…Œì´ë„ˆì˜ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ë¥¼ ì¬ì •ì˜í•˜ê²Œ í•´ì¤ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì»¨í…Œì´ë„ˆê°€ echo ì‹¤í–‰ íŒŒì¼ë¡œ ì‹¤í–‰ë˜ë„ë¡ í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•  ìˆ˜ ìˆì–´ìš”:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu\n    entrypoint: [\"echo\"]\n    command: \"I am just an arg\"\nEOF\n$ docker-compose up\nCreating network \"mediumcom_default\" with the default driver\nCreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1  | I am just an arg\nmediumcom_first_1 exited with code 0\n```\n\nê°„ë‹¨í•˜ì§€ìš”? ê·¸ë¦¬ê³  command ëŒ€ entrypoint ë“±ì— ëŒ€í•´ ê¶ê¸ˆí•´ í•œë‹¤ë©´ ë‹¹ì‹ ë§Œì´ ì•„ë‹™ë‹ˆë‹¤. ì´ê²ƒì€ ë§¤ìš° ì¼ë°˜ì ì¸ í˜¼ë€ í¬ì¸íŠ¸ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ê¸°ì‚¬ \"ì „ë¶€ ë‹¤: Dockerfiles\"ì—ì„œ ì´ì— ëŒ€í•´ ì´ì•¼ê¸°í–ˆì–´ìš”. ê°„ë‹¨íˆ ë§í•´ì„œ, ì €ëŠ” ì´ ë‘ ì˜µì…˜ì„ ì¡°ìœ¨í•  ë•Œ í•„ìš”í•œ ì¹˜íŠ¸ ì‹œíŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤: https://docs.docker.com/engine/reference/builder/#understand-how-cmd-and-entrypoint-interact\n\n## cap_add\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në§Œì•½ ì»¨í…Œì´ë„ˆì— ì¶”ê°€ ê¸°ëŠ¥ì´ í•„ìš”í•œ ê²½ìš°, ë‹¤ìŒê³¼ ê°™ì´ ì¶”ê°€í•  ìˆ˜ ìˆì–´ìš”:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu:14.04\n    command: ip link add dummy0 type dummy\n    cap_add:\n     - NET_ADMIN\nEOF\n$ docker-compose up\nRecreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nmediumcom_first_1 exited with code 0\n```\n\nì´ì œ ìœ„ì™€ ê°™ì€ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ë ¤ê³  í•˜ì§€ë§Œ ê¸°ëŠ¥ì´ ì—†ëŠ” ê²½ìš°, ì—ëŸ¬ê°€ ë°œìƒí•  ê±°ì˜ˆìš”:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu:14.04\n    command: ip link add dummy0 type dummy\nEOF\n$ docker-compose up\nRecreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1  | RTNETLINK answers: Operation not permitted\nmediumcom_first_1 exited with code 2\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## cap_drop\n\ncap_addì˜ ì • ë°˜ëŒ€ì…ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆì—ì„œ ê¸°ëŠ¥ì„ ì œê±°í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ìŠˆí¼ ê¶Œí•œì´ ë¶€ì—¬ëœ ì»¨í…Œì´ë„ˆê°€ ìˆë‹¤ê³  ê°€ì •í•´ë³´ê² ìŠµë‹ˆë‹¤:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu:14.04\n    command: ip link add dummy0 type dummy\n    cap_add:\n     - ALL\nEOF\n$ docker-compose up\nRecreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nmediumcom_first_1 exited with code 0\n```\n\nê·¸ëŸ¬ë‚˜ í˜¸ìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí¬ ìŠ¤íƒì„ ê´€ë¦¬í•˜ë ¤ê³  í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```sh\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu:14.04\n    command: ip link add dummy0 type dummy\n    cap_add:\n     - ALL\n    cap_drop:\n     - NET_ADMIN\nEOF\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ìƒì„±í•˜ëŠ” ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²° ì¤‘\nfirst_1 | RTNETLINK ë‹µë³€: ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤\nmediumcom_first_1ì€ ì½”ë“œ 2ë¡œ ì¢…ë£Œë¨\n```\n\n## cgroup_parent\n\ncgroupì— ëŒ€í•´ ì²˜ìŒì´ë¼ë©´ ì´ê³³ì— ê´€í•œ ì§§ì€ ì¢‹ì€ ê¸°ì‚¬ê°€ ìˆìŠµë‹ˆë‹¤. ê°„ë‹¨íˆ ë§í•´, Linux ì»¤ë„ì€ ì œì–´ ê·¸ë£¹ (cgroups)ì„ í†µí•´ í”„ë¡œì„¸ìŠ¤ë³„ë¡œ ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ì˜ ì‚¬ìš©ëŸ‰ì„ ì—„ê²©í•˜ê²Œ ì œì–´í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. Dockerì—ì„œëŠ” ì´ë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆê°€ íŠ¹ì • ë¦¬ì†ŒìŠ¤ë¥¼ ì–¼ë§ˆë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ì§€ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆëŠ” ê°€ëŠ¥í•œ ë§ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  ì‹œë„í•  ê²ƒì…ë‹ˆë‹¤:\n\n```sh\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu\n    command: sleep 30\nEOF\n$ docker-compose up -d\nê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ ë„¤íŠ¸ì›Œí¬ \"root_default\"ë¥¼ ìƒì„± ì¤‘\nroot_first_1 ì»¨í…Œì´ë„ˆ ìƒì„± ì¤‘... ì™„ë£Œ\n$ docker inspect root_first_1 --format '{.HostConfig.CgroupParent}'\n$\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në³´ì‹œëŠ” ëŒ€ë¡œ, ê¸°ë³¸ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆì— í• ë‹¹ëœ ì œì–´ ê·¸ë£¹ì´ ì—†ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ìš°ë¦¬ê°€ í• ë‹¹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¬ì§€ì–´ ìš°ë¦¬ ìì‹ ì˜ ê²ƒì„ í• ë‹¹í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:\n\n```js\n$ cgcreate -g cpu:test-cgroup-medium\n$ ls /sys/fs/cgroup/cpu\ncgroup-limit           cgroup.sane_behavior  cpu.shares    cpuacct.usage         cpuacct.usage_percpu_sys   cpuacct.usage_user  release_agent  test-cgroup-medium\ncgroup.clone_children  cpu.cfs_period_us     cpu.stat      cpuacct.usage_all     cpuacct.usage_percpu_user  docker              system.slice   user.slice\ncgroup.procs           cpu.cfs_quota_us      cpuacct.stat  cpuacct.usage_percpu  cpuacct.usage_sys          notify_on_release   tasks\n```\n\nê·¸ë¦¬ê³  ì´ ì˜µì…˜ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì´ ì»¨í…Œì´ë„ˆì—ì„œ CPU ì‚¬ìš©ëŸ‰ì„ ì—„ê²©í•˜ê²Œ ì œì–´í•  ìˆ˜ ìˆê²Œ ë  ê²ƒì…ë‹ˆë‹¤. cgroup \"cpu:test-cgroup-medium\"ì„ í†µí•´:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu\n    command: sleep 30\n    cgroup_parent: \"cpu:test-cgroup-medium\"\nEOF\n$ docker-compose up -d\nRecreating root_first_1 ... done\n$ docker inspect root_first_1 --format '{.HostConfig.CgroupParent}'\ncpu:test-cgroup-medium\n$\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## container_name\n\nì´ ì˜µì…˜ì— ëŒ€í•´ ë¡œì¼“ ê³¼í•™ê°™ì€ ê²ƒì€ ì—†ìŠµë‹ˆë‹¤. ì´ ì˜µì…˜ì€ Docker Compose ë°°í¬ì—ì„œ ìƒì„±ëœ ì»¨í…Œì´ë„ˆì˜ ì´ë¦„ì„ ê³ ì •í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\nì´ì „ì— ì–¸ê¸‰í•œ ë°”ì™€ ê°™ì´, ê¸°ë³¸ì ìœ¼ë¡œ Docker ComposeëŠ” ì»¨í…Œì´ë„ˆì— ì ‘ë¯¸ì‚¬ë¥¼ ì¶”ê°€í•˜ë©° ì´ëŠ” Docker Compose í”„ë¡œì íŠ¸ì˜ ì´ë¦„ê³¼ ì¼ì¹˜í•©ë‹ˆë‹¤ (í”„ë¡œì íŠ¸ ì´ë¦„ì„ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•˜ì§€ ì•ŠëŠ” ê²½ìš° Docker Composeê°€ í˜„ì¬ ê²½ë¡œë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¼ìŠµë‹ˆë‹¤).\n\në”°ë¼ì„œ Docker Composeì˜ ì´ ë™ì‘ì„ ì¬ì •ì˜í•˜ê³  ìƒì„±ëœ ì»¨í…Œì´ë„ˆì— ìì²´ì ìœ¼ë¡œ ì •ì˜í•œ ì‚¬ìš©ì ì •ì˜ ì´ë¦„ì„ ì§€ì •í•˜ë ¤ë©´ container_nameì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆì‹œ:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu\n    container_name: my-own-container-name\nEOF\n$ docker-compose up\nê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ \"mediumcom_default\" ë„¤íŠ¸ì›Œí¬ ìƒì„± ì¤‘\nmy-own-container-name ìƒì„± ì™„ë£Œ\nmy-own-container-nameì— ì—°ê²° ì¤‘\nmy-own-container-nameì—ì„œ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\nP.S.: ë„¤, ê¶ê¸ˆí•´í•˜ì‹¤ ìˆ˜ë„ ìˆì§€ë§Œ, ì´ Docker Compose ë°°í¬ ë‚´ì˜ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆë“¤ì€ ì»¨í…Œì´ë„ˆ ì´ë¦„ì— ì˜í•´ ì„œë¡œì—ê²Œ ë„ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆ:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 5\n    container_name: my-own-container-name\n  second:\n    image: alpine\n    command: ping -c 1 my-own-container-name\nEOF\n$ docker-compose up\nmy-own-container-nameì„ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_second_1 ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_second_1, my-own-container-nameì— ì—°ê²° ì¤‘\nsecond_1  | my-own-container-name(172.18.0.3) í•‘ ì¤‘: 56 data bytes\nsecond_1  | 64 bytes from 172.18.0.3: seq=0 ttl=64 time=0.743 ms\nsecond_1  |\nsecond_1  | --- my-own-container-name í•‘ í†µê³„ ---\nsecond_1  | ì „ì†¡ëœ íŒ¨í‚·: 1, ìˆ˜ì‹ ëœ íŒ¨í‚·: 1, íŒ¨í‚· ì†ì‹¤: 0%\nsecond_1  | ì™•ë³µ ìµœì†Œ/í‰ê· /ìµœëŒ€ ì‹œê°„ = 0.743/0.743/0.743 ms\nmediumcom_second_1ì´ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\nmy-own-container-nameì´ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\n## depends_on\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në¨¼ì € ë§í•˜ìë©´, ì•„ë‹ˆìš”, ì´ ì˜µì…˜ì€ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹œì‘ ìˆœì„œë¥¼ ì œì–´í•  ìˆ˜ ìˆê²Œ í•´ì£¼ì§€ ì•Šì•„ìš”! ë§ì€ ì‚¬ëŒë“¤ì´ í•˜ëŠ” ì‹¤ìˆ˜ì£ . í•˜ì§€ë§Œ ìƒê°í•´ë³´ì„¸ìš”â€¦ ë‹¹ì‹ ì˜ ì»¨í…Œì´ë„ˆëŠ” ë‚´ë¶€ì—ì„œ í•˜ë‚˜ ì´ìƒì˜ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•˜ê³  ìˆê¸° ë•Œë¬¸ì—, Docker(ì»¨í…Œì´ë„ˆë¥¼ ê´€ë¦¬í•˜ëŠ” ì£¼ì²´)ê°€ í•´ë‹¹ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜/í”„ë¡œì„¸ìŠ¤ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì™„ë²½íˆ ì´í•´í•˜ê³  ìˆë‹¤ê³  ê°€ì •í•˜ëŠ” ê²ƒì€ ìˆœì§„í•œ íŒë‹¨ì¼ ê±°ì˜ˆìš”.\n\nì´ê²ƒì€ ë¯¸ë¬˜í•œ ì°¨ì´ê°€ ìˆì§€ë§Œ, ì´ ì˜µì…˜ì´ í•˜ëŠ” ì¼ì€ ëŒ€ì‹ ì— Docker Composeì—ê²Œ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•˜ê³  ì¤‘ì§€í•  ë•Œì˜ ìˆœì„œë¥¼ ëª…ì‹œí•˜ëŠ” ê²ƒë¿ì´ì—ìš”.\n\nì˜ˆì‹œ:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    depends_on:\n     - second\n  second:\n    image: alpine\n    depends_on:\n     - first\nEOF\n$ docker-compose up\nCreating network \"mediumcom_default\" with the default driver\nCreating mediumcom_second_1 ... done\nCreating mediumcom_first_1  ... done\nAttaching to mediumcom_second_1, mediumcom_first_1\nmediumcom_second_1 exited with code 0\nmediumcom_first_1 exited with code 0\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në´ìš”! ë‘ ë²ˆì§¸ì— ì˜ì¡´í•˜ëŠ” ì²« ë²ˆì§¸ ì»¨í…Œì´ë„ˆê°€ ë¨¼ì € ì‹œì‘ë˜ë¯€ë¡œ, ë‘ ë²ˆì§¸ ì»¨í…Œì´ë„ˆê°€ ë¨¼ì € ì‹œì‘ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë©ˆì¶œ ë•Œë„ ë§ˆì°¬ê°€ì§€ â€” ë¨¼ì € ì˜ì¡´í•˜ëŠ” ì²« ë²ˆì§¸ê°€ ìˆê¸° ë•Œë¬¸ì— ë‘ ë²ˆì§¸ê°€ ë§ˆì§€ë§‰ìœ¼ë¡œ ë‚´ë ¤ê°‘ë‹ˆë‹¤!\n\n```js\n$ docker-compose down\nmediumcom_first_1  ... ì‚­ì œë¨\nmediumcom_second_1 ... ì‚­ì œë¨\nmediumcom_default ë„¤íŠ¸ì›Œí¬ ì œê±°ë¨\n```\n\nì¶”ì‹ : ë§Œì•½ í˜¼ëˆì„ ì¦ê¸´ë‹¤ë©´, ë‘ ë²ˆì§¸ë„ ì²« ë²ˆì§¸ì— ì˜ì¡´í•˜ë„ë¡ ë§Œë“¤ì—ˆë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”? ğŸ˜ ê±±ì • ë§ˆì„¸ìš”, DockerëŠ” ë˜‘ë˜‘í•´ì„œ ë‹¤ìŒê³¼ ê°™ì€ ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì¤„ ê±°ì˜ˆìš”:\n\n## ë³¼ë¥¨\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në„ì»¤ ë³¼ë¥¨ì— ëŒ€í•´ ìì„¸íˆ ì„¤ëª…í•˜ì§€ ì•Šì„ ê±°ì˜ˆìš”. ì´ ì£¼ì œëŠ” ê½¤ í¬ê±°ë“ ìš”. ë‹¨ì§€ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°ì´í„°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” 4ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤ëŠ” ê²ƒë§Œ ë§ì”€ë“œë¦´ê²Œìš”:\n\n- ì»¨í…Œì´ë„ˆì˜ ì“°ê¸° ê°€ëŠ¥í•œ ë ˆì´ì–´ ë‚´ì— ëª¨ë“  ë°ì´í„°ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤ (ë³¼ë¥¨ ì—†ìŒ)\n- í˜¸ìŠ¤íŠ¸ì™€ ì»¨í…Œì´ë„ˆ ì‚¬ì´ì— ë§ˆìš´íŠ¸ ì§€ì ì„ ë§Œë“­ë‹ˆë‹¤ (ë°”ì¸ë“œ ë§ˆìš´íŠ¸)\n- ì»¨í…Œì´ë„ˆì˜ ìˆ˜ëª…ì£¼ê¸°ì™€ ë…ë¦½ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ í˜¸ìŠ¤íŒ…í•˜ê³  ê´€ë¦¬í•˜ëŠ” ì „ìš© ë„ì»¤ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ (ë³¼ë¥¨)\n- ì„±ëŠ¥ì„ ìµœì í™”í•˜ê¸° ìœ„í•´ ë°ì´í„°ë¥¼ ì˜êµ¬ ì €ì¥í•˜ì§€ ì•Šê³  ë©”ëª¨ë¦¬ì— ìœ ì§€í•©ë‹ˆë‹¤ (tmpfs).\n\nì´ë ‡ê²Œ ë§ì”€ë“œë¦° ë°”ì™€ ê°™ì´ Compose íŒŒì¼ì—ì„œ ì´ëŸ¬í•œ íƒ€ì…ì˜ ë³¼ë¥¨ì„ ëª¨ë‘ ê´€ë¦¬í•  ìˆ˜ ìˆì–´ìš”. ì§€ê¸ˆê¹Œì§€ ëª¨ë“  ì˜ˆì œëŠ” ì»¨í…Œì´ë„ˆì˜ ì“°ê¸° ê°€ëŠ¥í•œ ë ˆì´ì–´ë¥¼ ì‚¬ìš©í–ˆì§€ë§Œ, ë‚˜ë¨¸ì§€ 3ê°€ì§€ ë°ì´í„° ê´€ë¦¬ ì˜µì…˜ì„ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: ls /\n    volumes:\n     - /:/my-hostfs\n     - my-volume:/my-volume\n     - type: tmpfs\n       target: /my-tmpfs\nvolumes:\n  my-volume:\nEOF\n$ docker-compose up\nCreating network \"test_default\" with the default driver\nCreating volume \"test_my-volume\" with default driver\nCreating test_first_1 ... done\nAttaching to test_first_1\nfirst_1  | bin\nfirst_1  | dev\nfirst_1  | etc\nfirst_1  | home\nfirst_1  | lib\nfirst_1  | media\nfirst_1  | mnt\nfirst_1  | my-hostfs\nfirst_1  | my-tmpfs\nfirst_1  | my-volume\nfirst_1  | opt\nfirst_1  | proc\nfirst_1  | root\nfirst_1  | run\nfirst_1  | sbin\nfirst_1  | srv\nfirst_1  | sys\nfirst_1  | tmp\nfirst_1  | usr\nfirst_1  | var\ntest_first_1 exited with code 0\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì—¬ê¸°ì— ì„¸ ê°€ì§€ ë‹¤ë¥¸ ìœ í˜•ì˜ ë§ˆìš´íŠ¸ê°€ í•œêº¼ë²ˆì— ë‚˜ì™”ì–´ìš”. ê·¸ëŸ°ë° ì•Œì•„ë‘ì…¨ë‚˜ìš”? ì œê°€ 3ê°€ì§€ ë‹¤ë¥¸ êµ¬ë¬¸ì„ ì‚¬ìš©í–ˆì–´ìš”... ì„ í˜¸í•˜ëŠ” ê²ƒì´ë‚˜ ë§ˆìš´íŠ¸ì— ê°€ì¥ ì í•©í•œ ê²ƒì„ ì„ íƒí•  ìˆ˜ ìˆì–´ìš” (ì—¬ê¸°ì—ì„œ ë” ìì„¸íˆ ì½ì„ ìˆ˜ ìˆì–´ìš”).\n\nì¶”ê°€ë¡œ, tmpfsë„ ì „ìš© ì˜µì…˜ì„ í†µí•´ ì„¤ì •í•  ìˆ˜ ìˆì–´ìš”... ì˜ˆì œë¥¼ ë³´ë ¤ë©´ ë‹¤ìŒ ì„¹ì…˜ì„ ì½ì–´ë³´ì„¸ìš”.\n\n## tmpfs\n\nì´ë¯¸ ì´ì „ ì„¹ì…˜ì—ì„œ ì„¤ëª…í–ˆì§€ë§Œ, ì•Œì•„ë‘ì‹œë©´ ì¢‹ì•„ìš”. ì´ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ìœ„í•œ ë¹„ì˜êµ¬ì  ë§ˆìš´íŠ¸ í¬ì¸íŠ¸ë¥¼ ì„¤ì •í•˜ëŠ” ë˜ ë‹¤ë¥¸ ê°„ë‹¨í•œ ë°©ë²•ì¼ ë¿ì´ì—ìš”:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```sh\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: ls /\n    tmpfs: /my-tmpfs\nEOF\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì²¨ë¶€ ì¤‘\nfirst_1  | bin\nfirst_1  | dev\nfirst_1  | etc\nfirst_1  | home\nfirst_1  | lib\nfirst_1  | media\nfirst_1  | mnt\nfirst_1  | my-tmpfs\nfirst_1  | opt\nfirst_1  | proc\nfirst_1  | root\nfirst_1  | run\nfirst_1  | sbin\nfirst_1  | srv\nfirst_1  | sys\nfirst_1  | tmp\nfirst_1  | usr\nfirst_1  | var\nmediumcom_first_1ê°€ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\n## ë””ë°”ì´ìŠ¤\n\nê·¸ ì´ë¦„ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´, ì´ ì˜µì…˜ì€ ì»¨í…Œì´ë„ˆê°€ ì‹œìŠ¤í…œ ë””ë°”ì´ìŠ¤ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤. ì´ ê²ƒì´ ì¼ë°˜ì ì¸ ë°”ì¸ë“œ-ë§ˆìš´íŠ¸ì™€ ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€ ê¶ê¸ˆí•  ê²ƒì…ë‹ˆë‹¤. ë‹¨ìˆœíˆ ë””ë°”ì´ìŠ¤ë¥¼ ì»¨í…Œì´ë„ˆì— ë°”ì¸ë“œ-ë§ˆìš´íŠ¸í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œìš”? ìŒ, ê·¸ë ‡ê³  ê·¸ë ‡ì§€ ì•ŠìŠµë‹ˆë‹¤... ì»¨í…Œì´ë„ˆê°€ í•´ë‹¹ ë””ë°”ì´ìŠ¤ë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤. ë””ë°”ì´ìŠ¤ íŒŒì¼ì€ ì¼ë°˜ íŒŒì¼ ë° ë””ë ‰í† ë¦¬ì™€ ì•½ê°„ ë‹¤ë¥´ë©° (/dev í´ë” ì•„ë˜ì—ì„œ ì¼ë°˜ íŒŒì¼ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ), ë””ë°”ì´ìŠ¤ íŒŒì¼ì€ ë””ë°”ì´ìŠ¤ ë“œë¼ì´ë²„ ë° ë¬¼ë¦¬ ë””ë°”ì´ìŠ¤ë¡œì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ë¯€ë¡œ ë” ì„¸ë¶„í™”ëœ ì•¡ì„¸ìŠ¤ ì œì–´ê°€ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” cgroupsë¥¼ í†µí•´ ê´€ë¦¬ë˜ë©°(ì—¬ê¸°ì—ì„œ ë” ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤).\n\nìš”ì•½í•˜ë©´, ì»¨í…Œì´ë„ˆê°€ íŠ¹ê¶Œ ëª¨ë“œì—ì„œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ê²½ìš°ì—ë„ ì´ ì˜µì…˜ì„ í†µí•´ íŠ¹ì • ë””ë°”ì´ìŠ¤ íŒŒì¼ì— ëŒ€í•œ ì»¨í…Œì´ë„ˆ ì•¡ì„¸ìŠ¤ë¥¼ ë¶€ì—¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nìš°ë¦¬ ì»´í“¨í„°ì— ì›¹ìº ì´ ì—°ê²°ë˜ì–´ ìˆë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤.\n\n```bash\n$ lsusb -s 001:003\nBus 001 Device 003: ID 046d:0826 Logitech, Inc. HD Webcam C525\n```\n\nê·¸ë¦¬ê³  ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì›¹ìº ì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ì§„ì„ ì°ê³  ì‹¶ì–´í•©ë‹ˆë‹¤. ë‹¤ìŒ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê³ ë ¤í•´ë³´ì„¸ìš”:\n\n- ë¨¼ì €, ì˜µì…˜ì„ ì ìš©í•˜ì§€ ì•Šê³  ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì›¹ìº ì— ì•¡ì„¸ìŠ¤í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ccordeiro/fswebcam:armv7l\n    command: fswebcam -r 640x480 --jpeg 85 -D 1 picture.jpg\nEOF\n$ docker-compose up\në„¤íŠ¸ì›Œí¬ \"tmp_default\"ë¥¼ ê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ ìƒì„±ì¤‘\ntmp_first_1 ë¥¼ ìƒì„±ì¤‘... ì™„ë£Œ\ntmp_first_1 ì— ì—°ê²°ì¤‘\nfirst_1  | --- /dev/video0 ì—´ê¸° ì¤‘...\nfirst_1  | stat: í•´ë‹¹ íŒŒì¼ ë˜ëŠ” ë””ë ‰í„°ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤\nfirst_1  | tmp_first_1ì´ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤\n```\n\nâ€¦ê·¸ëŸ¬ë‚˜ ë¶„ëª…íˆ ì»¨í…Œì´ë„ˆì—ëŠ” ì–´ë–¤ ì¥ì¹˜ë„ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤â€¦\n\n- ë‘ ë²ˆì§¸ë¡œ, ì¥ì¹˜ íŒŒì¼ì„ ë°”ì¸ë“œ ë§ˆìš´íŠ¸í•´ ë´…ì‹œë‹¤\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ccordeiro/fswebcam:armv7l\n    command: fswebcam -r 640x480 --jpeg 85 -D 1 picture.jpg\n    volumes:\n     - /dev/video0:/dev/video0\nEOF\n$ docker-compose up\ntmp_first_1 ì¬ìƒì„±ì¤‘... ì™„ë£Œ\ntmp_first_1 ì— ì—°ê²°ì¤‘\nfirst_1  | --- /dev/video0 ì—´ê¸° ì¤‘...\nfirst_1  | v4l2 ëª¨ë“ˆ ì‹œë„ ì¤‘...\nfirst_1  | ê¸°ê¸° ì—´ê¸° ì‹¤íŒ¨: /dev/video0\nfirst_1  | ì—´ê¸°: ì‘ì—…ì„ í—ˆìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤\nfirst_1  | v4l1 ëª¨ë“ˆ ì‹œë„ì¤‘...\nfirst_1  | ê¸°ê¸° ì—´ê¸° ì‹¤íŒ¨: /dev/video0\nfirst_1  | ì—´ê¸°: ì‘ì—…ì„ í—ˆìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤\nfirst_1  | /dev/video0ì„ ì½ì„ ìˆ˜ ìˆëŠ” ì†ŒìŠ¤ ëª¨ë“ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\nfirst_1  | tmp_first_1ì´ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nâ€¦ìŒ, ì»¨í…Œì´ë„ˆëŠ” ë³´ì´ì§€ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì´ ì—†ë„¤ìš”.\n\n- ë§ˆì§€ë§‰ìœ¼ë¡œ ì¥ì¹˜ë¥¼ ì‚¬ìš©í•´ ë´…ì‹œë‹¤\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ccordeiro/fswebcam:armv7l\n    command: fswebcam -r 640x480 --jpeg 85 -D 1 picture.jpg\n    devices:\n     - /dev/video0:/dev/video0\nEOF\n$ docker-compose up\nRecreating tmp_first_1 ... done\nAttaching to tmp_first_1\nfirst_1  | --- Opening /dev/video0...\nfirst_1  | Trying source module v4l2...\nfirst_1  | /dev/video0 opened.\nfirst_1  | No input was specified, using the first.\nfirst_1  | Delaying 1 seconds.\nfirst_1  | --- Capturing frame...\nfirst_1  | Captured frame in 0.00 seconds.\nfirst_1  | --- Processing captured image...\nfirst_1  | Setting output format to JPEG, quality 85\nfirst_1  | Writing JPEG image to 'picture.jpg'.\nfirst_1  | tmp_first_1 exited with code 0\n```\n\nê·¸ë¦¬ê³  ì„±ê³µì…ë‹ˆë‹¤!\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## network_mode\n\nDockerì˜ ë„¤íŠ¸ì›Œí‚¹ ì‹œìŠ¤í…œì€ ë„¤íŠ¸ì›Œí‚¹ ë“œë¼ì´ë²„ì— ê¸°ë°˜í•˜ê³  ìˆëŠ” ê²ƒì„ ì•Œê³  ê³„ì‹¤ ê²ƒì…ë‹ˆë‹¤. ì´ ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë„¤íŠ¸ì›Œí¬ ëª¨ë“œë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´, ê¸°ë³¸ ë¸Œë¦¿ì§€ ë„¤íŠ¸ì›Œí¬ì— 1ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼, í˜¸ìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí¬ì— 1ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼, ì²« ë²ˆì§¸ ì»¨í…Œì´ë„ˆì™€ ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ì— 1ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼, ê·¸ë¦¬ê³  ì–´ë–¤ ë„¤íŠ¸ì›Œí¬ë„ ì—†ëŠ” ìƒíƒœë¡œ 1ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ ë°°í¬í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ì•„ë˜ëŠ” ì´ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sh -c 'ifconfig eth0 \u0026\u0026 sleep 5'\n    network_mode: bridge\n  second:\n    image: alpine\n    command: ifconfig eth0\n    network_mode: host\n  third:\n    image: alpine\n    command: ifconfig eth0\n    depends_on:\n     - first\n    network_mode: service:first\n  fourth:\n    image: alpine\n    command: ifconfig eth0\n    network_mode: none\nEOF\n$ docker-compose up\nCreating mediumcom_first_1  ... done\nCreating mediumcom_fourth_1 ... done\nCreating mediumcom_second_1 ... done\nCreating mediumcom_third_1  ... done\nAttaching to mediumcom_second_1, mediumcom_fourth_1, mediumcom_first_1, mediumcom_third_1\nfirst_1   | eth0      Link encap:Ethernet  HWaddr 02:42:AC:11:00:02\nfirst_1   |           inet addr:172.17.0.2  Bcast:172.17.255.255  Mask:255.255.0.0\n...\nfourth_1  | ifconfig: eth0: error fetching interface information: Device not found\n...\nsecond_1  | eth0      Link encap:Ethernet  HWaddr 02:50:00:00:00:01\nsecond_1  |           inet addr:192.168.65.3  Bcast:192.168.65.255  Mask:255.255.255.0\n...\nthird_1   | eth0      Link encap:Ethernet  HWaddr 02:42:AC:11:00:02\nthird_1   |           inet addr:172.17.0.2  Bcast:172.17.255.255  Mask:255.255.0.0\n...\nmediumcom_fourth_1 exited with code 1\nmediumcom_second_1 exited with code 0\nmediumcom_third_1 exited with code 0\nmediumcom_first_1 exited with code 0\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê·¸ë˜ì„œ, ë¬´ìŠ¨ ì¼ì´ ìˆì—ˆë‚˜ìš”? ì´ë¥¼ ê°„ë‹¨íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:\n\n- ì²« ë²ˆì§¸ ì»¨í…Œì´ë„ˆëŠ” ë¸Œë¦¬ì§€ ëª¨ë“œë¡œ ë“¤ì–´ê°€ì„œ ìì²´ eth0 ê°œì¸ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í• ë‹¹ ë°›ì•˜ìŠµë‹ˆë‹¤(IP 172.17.0.2ë¡œ, Docker ë¸Œë¦¬ì§€ ì„œë¸Œë„·ì˜ ì¼ë¶€ì…ë‹ˆë‹¤).\n- ë‘ ë²ˆì§¸ ì»¨í…Œì´ë„ˆëŠ” í˜¸ìŠ¤íŠ¸ ëª¨ë“œë¡œ ë“¤ì–´ê°€ì„œ í˜¸ìŠ¤íŠ¸ì™€ ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ ìˆ˜ì¤€ì—ì„œ ì‹¤í–‰ë˜ë¯€ë¡œ í˜¸ìŠ¤íŠ¸ì˜ ëª¨ë“  ë„¤íŠ¸ì›Œí‚¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ì„¸ ë²ˆì§¸ ì»¨í…Œì´ë„ˆëŠ” ì²« ë²ˆì§¸ ê²ƒê³¼ ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.\n- ë„¤ ë²ˆì§¸ ì»¨í…Œì´ë„ˆëŠ” ë„¤íŠ¸ì›Œí¬ê°€ ì—†ì–´ eth0 ì¸í„°í˜ì´ìŠ¤ë¥¼ ì°¾ì§€ ëª»í•˜ì—¬ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\n\n## ë„¤íŠ¸ì›Œí¬\n\nì´ì œ ìœ„ì—ì„œ ì–¸ê¸‰í•œ ì˜µì…˜ì„ í™œìš©í•˜ì—¬, ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©ì ì •ì˜ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”(ê¸°ì¡´ ë„¤íŠ¸ì›Œí¬ ë˜ëŠ” ìƒˆë¡œ ìƒì„±í•œ ê²ƒ ì¤‘)? ê·¸ëŸ´ ë•ŒëŠ” networksë¥¼ ì‚¬ìš©í•˜ì„¸ìš”:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n$ docker network create cjdc-test\n0f5e35bf6b8d396c45c19545540957fbc5fa15ba1ca0e5fbca4add3802c7db6d\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 30\n    networks:\n     - new-net\n  second:\n    image: alpine\n    command: sleep 30\n    networks:\n     - cjdc-test\nnetworks:\n  new-net:\n  cjdc-test:\n    external: true\n    name: cjdc-test\nEOF\n$ docker-compose up -d\nCreating network \"mediumcom_new-net\" with the default driver\nCreating mediumcom_second_1 ... done\nCreating mediumcom_first_1  ... done\n$ docker inspect --format '{.NetworkSettings.Networks}' mediumcom_first_1\nmap[mediumcom_new-net:0xc0004d8f00]\n$ docker inspect --format '{.NetworkSettings.Networks}' mediumcom_second_1\nmap[cjdc-test:0xc0003e8f00]\n```\n\n## dns\n\nIt basically lets you define a custom DNS server for your container. Example:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: cat /etc/resolv.conf\n    dns: 1.2.3.4\n    network_mode: bridge\nEOF\n$ docker-compose up\nRecreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1  | nameserver 1.2.3.4\nmediumcom_first_1 exited with code 0\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì£¼ì˜: ì‚¬ìš©ì ì •ì˜ ë„¤íŠ¸ì›Œí¬ì—ì„œëŠ” DNS ì˜µì…˜ì´ ê¸°ë³¸ì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë¸Œë¦¿ì§€ ë„¤íŠ¸ì›Œí¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.\n\n## dns_search\n\nì—¬ê¸°ì—ì„œ ì‚¬ìš©ì ë§ì¶¤ DNS ê²€ìƒ‰ ë„ë©”ì¸ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: cat /etc/resolv.conf\n    dns_search: my.custom.dns\n    network_mode: bridge\nEOF\n$ docker-compose up\nRecreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1  | search my.custom.dns\nfirst_1  | nameserver 192.168.65.5\nmediumcom_first_1 exited with code 0\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## env_file\n\nì¼ë°˜ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆ í™˜ê²½ì„ í•˜ë‚˜ì”© ì„¤ì •í•˜ëŠ” ë° ìµìˆ™í•  ìˆ˜ ìˆì§€ë§Œ, í•œ ë²ˆì— ì´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë„ë¡ ëŒ€ì‹  íŒŒì¼ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\n$ cat \u003emy-env \u003c\u003cEOF\nVAR1=value\nMY_VAR_FROM_FILE=1\nFOO=BAR\nEOF\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: env\n    env_file:\n     - my-env\nEOF\n$ docker-compose up\nmediumcom_first_1 ë‹¤ì‹œ ë§Œë“¤ê¸° ... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²°\nfirst_1  | PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nfirst_1  | HOSTNAME=157e34e4fc64\nfirst_1  | VAR1=value\nfirst_1  | MY_VAR_FROM_FILE=1\nfirst_1  | FOO=BAR\nfirst_1  | HOME=/root\nmediumcom_first_1 ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œ\n```\n\n## environment\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ë¥¼ í†µí•´ ì»´í¬ì¦ˆ íŒŒì¼ì—ì„œ ì»¨í…Œì´ë„ˆì˜ í™˜ê²½ ë³€ìˆ˜ë¥¼ í•˜ë‚˜ì”© ì§ì ‘ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ì—¬ env_file ì˜µì…˜ì„ í†µí•´ ë¡œë“œë˜ëŠ” ë³€ìˆ˜ë¥¼ ì¬ì •ì˜í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: env\nEOF\n$ docker-compose up\nRecreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1  | PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nfirst_1  | HOSTNAME=68e909013198\nfirst_1  | NEW_VAR=yes\nfirst_1  | HOME=/root\nmediumcom_first_1 exited with code 0\n```\n\n## ë…¸ì¶œ\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në„ì»¤íŒŒì¼ê³¼ ìœ ì‚¬í•˜ê²Œ, ì´ ì˜µì…˜ì€ ì»¨í…Œì´ë„ˆì˜ í¬íŠ¸ë¥¼ í‘œì‹œí•˜ê³  ë‹¤ë¥¸ ì—°ê²°ëœ ì»¨í…Œì´ë„ˆì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 20\n    expose:\n     - 9876\nEOF\n$ docker-compose up -d\nRecreating mediumcom_first_1 ... done\n$ docker ps\nCONTAINER ID   IMAGE     COMMAND      CREATED          STATUS          PORTS      NAMES\n3be377f4bf6c   alpine    \"sleep 20\"   18 seconds ago   Up 16 seconds   9876/tcp   mediumcom_first_1\n```\n\n## external_links\n\nì˜µì…˜ì„ ê±´ë„ˆë›°ì–´ì•¼ í•©ë‹ˆë‹¤. ì™œëƒí•˜ë©´ 1) ì´ê²ƒì€ ë ˆê±°ì‹œ ì˜µì…˜ì´ê¸° ë•Œë¬¸ì—, ê·¸ë¦¬ê³  2) ë™ì¼í•œ ê²°ê³¼ë¥¼ ì–»ê¸° ìœ„í•´ ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(ì¦‰, ì»¨í…Œì´ë„ˆë¥¼ ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ì— í¬í•¨ë˜ì–´ ìˆì§€ ì•Šì€ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì— ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤).\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## extra_hosts\n\nì´ ê¸°ëŠ¥ì€ ì»¨í…Œì´ë„ˆì˜ /etc/hosts íŒŒì¼ì— ìƒˆ í•­ëª©ì„ ì¶”ê°€í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì»¨í…Œì´ë„ˆê°€ \"localhost\"ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ìŠ¤ìŠ¤ë¡œë¥¼ í˜¸ì¶œí•˜ë„ë¡ í•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sh -c 'cat /etc/hosts; ping me -c 1'\n    extra_hosts:\n     - \"myself:127.0.0.1\"\n     - \"me:127.0.0.1\"\nEOF\n$ docker-compose up\nRecreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1  | 127.0.0.1 localhost\nfirst_1  | ::1 localhost ip6-localhost ip6-loopback\nfirst_1  | fe00::0 ip6-localnet\nfirst_1  | ff00::0 ip6-mcastprefix\nfirst_1  | ff02::1 ip6-allnodes\nfirst_1  | ff02::2 ip6-allrouters\nfirst_1  | 127.0.0.1 myself\nfirst_1  | 127.0.0.1 me\nfirst_1  | 172.22.0.2 01d566c4380a\nfirst_1  | PING me (127.0.0.1): 56 data bytes\nfirst_1  | 64 bytes from 127.0.0.1: seq=0 ttl=64 time=1.192 ms\nfirst_1  |\nfirst_1  | --- me ping statistics ---\nfirst_1  | 1 packets transmitted, 1 packets received, 0% packet loss\nfirst_1  | round-trip min/avg/max = 1.192/1.192/1.192 ms\nmediumcom_first_1 exited with code 0\n```\n\n## healthcheck\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në‹¹ì—°íˆ, ì´ê²ƒì€ ë„ì»¤ íŒŒì¼ ì˜µì…˜ê³¼ ë§¤ìš° ìœ ì‚¬í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤. ë„ì»¤ê°€ ì»¨í…Œì´ë„ˆê°€ \"healthy(ê±´ê°•í•œ)\"ì¸ì§€ ì•„ë‹Œì§€ í‰ê°€í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ì ì •ì˜ í™•ì¸ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê·¸ëŸ¬ë‹ˆê¹Œ, /tmpì— medium.txtë¼ëŠ” íŒŒì¼ì´ ìˆì„ ë•Œë§Œ ìš°ë¦¬ ì»¨í…Œì´ë„ˆê°€ ê±´ê°•í•œ ê²ƒìœ¼ë¡œ ê°„ì£¼ë©ë‹ˆë‹¤.\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sh -c 'touch /tmp/NOT_MY_FILE; sleep 10'\n    healthcheck:\n      test: \"[ -f /tmp/medium.txt ]\"\n      # run asap\n      interval: 1s\n      timeout: 5s\n      retries: 1\n      start_period: 0s\n  second:\n    image: alpine\n    command: sh -c 'touch /tmp/medium.txt; sleep 10'\n    healthcheck:\n      test: \"[ -f /tmp/medium.txt ]\"\n      # run asap\n      interval: 1s\n      timeout: 5s\n      retries: 1\n      start_period: 0s\nEOF\n$ docker-compose up -d\nRecreating mediumcom_first_1 ... done\nCreating mediumcom_second_1  ... done\n$ docker ps\nCONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS                     PORTS     NAMES\nb8804cbb440d   alpine    \"sh -c 'touch /tmp/Nâ€¦\"   4 seconds ago   Up 2 seconds (unhealthy)             mediumcom_first_1\n604a6880f3c6   alpine    \"sh -c 'touch /tmp/mâ€¦\"   4 seconds ago   Up 2 seconds (healthy)               mediumcom_second_1\n```\n\nê·¸ëŸ°ë° ì—¬ê¸°ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, ì²˜ìŒ ê²ƒì€ ê±´ê°•í•˜ì§€ ì•Šì§€ë§Œ ë‘ ë²ˆì§¸ëŠ” ê±´ê°•í•˜ë‹¤ê³  ë‚˜ì˜µë‹ˆë‹¤. í•„ìš”í•œ íŒŒì¼ì´ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ì— ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ì´ˆê¸°í™”\n\nì´ë¥¼ í†µí•´ Dockerì—ê²Œ ì»¨í…Œì´ë„ˆì— ëŒ€í•œ initë¥¼ ì‚¬ìš©í• ì§€ ì—¬ë¶€ë¥¼ ì•Œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì°¸ì¼ ê²½ìš°, DockerëŠ” tini ê¸°ë°˜ì˜ docker-initì´ë¼ëŠ” initì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. ì°¨ì´ë¥¼ ì‚´í´ë´…ì‹œë‹¤:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: ps -a\n    init: false\nEOF\n$ docker-compose up\nmediumcom_first_1 ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì°¸ì—¬ ì¤‘\nfirst_1  | PID   USER     TIME  COMMAND\nfirst_1  |     1 root      0:00 ps -a\nmediumcom_first_1ì€ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\nê·¸ëŸ¬ë‚˜ ì´ˆê¸°í™”ë¥¼ í™œì„±í™”í•˜ë©´ ì´ì™€ ê°™ì€ í”„ë¡œì„¸ìŠ¤ ë˜í¼ë¥¼ ì–»ê²Œ ë˜ë©°, ì´ëŠ” PID 1ë¡œ ì¶”ê°€ ê¸°ëŠ¥ì´ ìˆëŠ” ê²½ìš° (ì´ ê²½ìš°ì—ëŠ” docker-init)ì…ë‹ˆë‹¤:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\nfirst:\nimage: alpine\ncommand: ps -a\ninit: true\nEOF\n$ docker-compose up\nStarting mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1 | PID USER TIME COMMAND\nfirst_1 | 1 root 0:00 /sbin/docker-init -- ps -a\nfirst_1 | 8 root 0:00 ps -a\nmediumcom_first_1 exited with code 0\n\n## ê²©ë¦¬\n\në¦¬ëˆ…ìŠ¤ì˜ ê²½ìš°, ì´ ì˜µì…˜ì€ í•­ìƒ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. ìœˆë„ìš°ì˜ ê²½ìš° ë” ë§ì€ ì˜µì…˜ì´ ìˆì§€ë§Œ, ì•„ì‰½ê²Œë„ ì—¬ëŸ¬ë¶„ì„ ìœ„í•œ ì˜ˆì œë¥¼ ì‹¤í–‰í•  ìœˆë„ìš° ë¨¸ì‹ ì´ ì—†ìŠµë‹ˆë‹¤ ğŸ˜› ìœˆë„ìš° ì‚¬ìš©ìë¶„ë“¤ ì£„ì†¡í•´ìš”!\n\n## ë ˆì´ë¸”\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì½˜í…Œì´ë„ˆì— ë ˆì´ë¸”ì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ì´ ì˜µì…˜ì˜ ì´ë¦„ì²˜ëŸ¼:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 10\n    labels:\n     - \"foo=bar\"\nEOF\n$ docker-compose up -d\nRecreating mediumcom_first_1 ... done\n$ docker ps --filter 'label=foo=bar'\nCONTAINER ID   IMAGE     COMMAND      CREATED          STATUS         PORTS     NAMES\n94e844176d76   alpine    \"sleep 10\"   30 seconds ago   Up 7 seconds             mediumcom_first_1\n```\n\n## ë§í¬\n\nì™¸ë¶€ ë§í¬ì— ëŒ€í•œ ë‚´ìš©ì€ ê³¼ê±°ì˜ ì˜µì…˜ì„ ê±´ë„ˆë›°ê² ìŠµë‹ˆë‹¤. ì»¨í…Œì´ë„ˆ ê°„ í†µì‹ ì€ ì‚¬ìš©ì ì •ì˜ ë„¤íŠ¸ì›Œí¬ë¡œ ì‰½ê²Œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ë¡œê¹…\n\nì‹¤ì œë¡œ ì´ ì˜µì…˜ì´ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•´ìš”. ëŒ€ë¶€ë¶„ì˜ ì‚¬ìš©ìë“¤ì€ ë³´í†µ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸ì˜ í¬ê¸°ê°€ ê³„ì†í•´ì„œ ì»¤ì§€ê³  ìˆë‹¤ëŠ” ì‚¬ì‹¤ì— ì¶©ë¶„í•œ ì£¼ì˜ë¥¼ ê¸°ìš¸ì´ì§€ ì•ŠìŠµë‹ˆë‹¤. í˜¸ìŠ¤íŠ¸ ê³µê°„ì´ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ê°€ë“ ì°¨ì§€ ì•Šê¸°ë¥¼ ì›í•œë‹¤ë©´, ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¡œê·¸ë¥¼ ê¸°ë¡í•˜ëŠ” ë°©ì‹ë„ ì œì–´í•´ì•¼ í•©ë‹ˆë‹¤. Dockerë¥¼ í†µí•´ ì´ ë¡œê¹… ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ stdout ë¡œê·¸ë¥¼ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¡œê¹… ì¢…ë¥˜ ë¿ë§Œ ì•„ë‹ˆë¼ ë¡œê¹… í¬ê¸° ì œí•œ ë° ë¡œí…Œì´ì…˜ ë§¤ê°œë³€ìˆ˜ë„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sh -c 'while true; do echo `date`; done'\n    logging:\n      options:\n        max-size: \"50k\"\n        max-file: \"10\"\nEOF\n$ docker-compose up -d\ntmp_first_1ì„ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œë¨\n$ docker ps -f 'name=tmp_first_1'\nCONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS     NAMES\n2ea63dd32607   alpine    \"sh -c 'while true; â€¦\"   2 minutes ago   Up 2 minutes             tmp_first_1\n$\n$ du -h /var/lib/docker/containers/2ea63dd32607*/*log*\n20K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.1\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.2\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.3\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.4\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.5\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.6\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.7\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.8\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.9\n```\n\nê·¸ëŸ¬ë‹ˆê¹Œ ì´ ì˜ˆì œì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, DockerëŠ” ìµœëŒ€ 10ê°œì˜ ë¡œê·¸ íŒŒì¼ë§Œ ìœ ì§€í•˜ê³ , ê·¸ í¬ê¸°ê°€ ìš°ë¦¬ê°€ ì›í•˜ëŠ” 50 Kibibytes(= 52K)ë¥¼ ì´ˆê³¼í•˜ì§€ ì•ŠëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## PID\n\nìš”ì²­ ì‹œ, ì»¨í…Œì´ë„ˆê°€ í˜¸ìŠ¤íŠ¸ì™€ PID ì£¼ì†Œ ê³µê°„ì„ ê³µìœ í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ì˜µì…˜ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: ps -a\n    pid: \"host\"\n  second:\n    image: alpine\n    command: ps -a\nEOF\n$ docker-compose up\nCreating network \"mediumcom_default\" with the default driver\nCreating mediumcom_second_1 ... done\nCreating mediumcom_first_1  ... done\nAttaching to mediumcom_second_1, mediumcom_first_1\nsecond_1  | PID   USER     TIME  COMMAND\nsecond_1  |     1 root      0:00 ps -a\nfirst_1   | PID   USER     TIME  COMMAND\nfirst_1   |     1 root      0:07 /sbin/init\nfirst_1   |     2 root      0:00 [kthreadd]\nfirst_1   |     3 root      0:00 [rcu_gp]\nfirst_1   |     4 root      0:00 [rcu_par_gp]\nfirst_1   |     6 root      0:00 [kworker/0:0H-ev]\nfirst_1   |     8 root      0:00 [mm_percpu_wq]\nfirst_1   |     9 root      0:00 [rcu_tasks_rude_]\nfirst_1   |    10 root      0:00 [rcu_tasks_trace]\nfirst_1   |    11 root      0:22 [ksoftirqd/0]\nfirst_1   |    12 root      0:10 [rcu_sched]\nfirst_1   |    13 root      0:07 [migration/0]\nfirst_1   |    15 root      0:00 [cpuhp/0]\nfirst_1   |    16 root      0:00 [cpuhp/1]\n...\n```\n\nì´ê²ƒì€ ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ í˜¸ìŠ¤íŠ¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ê´€ë¦¬í•˜ê³ (í¬í•¨í•˜ì—¬ ì¢…ë£Œ)í•  ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ì´ë¯€ë¡œ ì´ ì˜µì…˜ì„ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## í¬íŠ¸\n\nê°€ì¥ ì¸ê¸° ìˆëŠ” ì˜µì…˜ ì¤‘ í•˜ë‚˜ì¸ ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ í¬íŠ¸ë¥¼ í˜¸ìŠ¤íŠ¸ë¡œ ê²Œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ì»¨í…Œì´ë„ˆê°€ ì´ë¯¸ \"í˜¸ìŠ¤íŠ¸\" ëª¨ë“œì—ì„œ ì‹¤í–‰ ì¤‘ì´ì§€ ì•Šì€ ê²½ìš°).\n\nì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒê³¼ ê°™ì´ ê²Œì‹œí•˜ë ¤ëŠ” ê²½ìš°ë¥¼ ìƒê°í•´ ë´…ì‹œë‹¤:\n\n- í¬íŠ¸ 3000ì„ ì„ì˜ì˜ í¬íŠ¸ë¡œ\n- í¬íŠ¸ ë²”ìœ„ 3005ë¶€í„° 3010ê¹Œì§€\n- ë¡œì»¬í˜¸ìŠ¤íŠ¸ì˜ í¬íŠ¸ 80ì„ í¬íŠ¸ 80ìœ¼ë¡œë§Œ\n- ëª¨ë“  í˜¸ìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤ì˜ í¬íŠ¸ 443ì„ í¬íŠ¸ 443ìœ¼ë¡œ\n- í˜¸ìŠ¤íŠ¸ì˜ í¬íŠ¸ 3011ì„ UDPë§Œì„ ì‚¬ìš©í•˜ì—¬ í¬íŠ¸ 9876ë¡œ\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 10\n    ports:\n     - 3000\n     - 3005-3010\n     - 127.0.0.1:80:80\n     - 443:443\n     - 9876:3011/udp\nEOF\n$ docker-compose up -d\nì¤‘ë³µ ì»¨í…Œì´ë„ˆ \"mediumcom_second_1\"ë¥¼ ì œê±°í•˜ëŠ” ì¤‘\nmediumcom_first_1ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. ... ì™„ë£Œ\n$ docker ps --format '{.Ports}'\n127.0.0.1:80-\u003e80/tcp, 0.0.0.0:443-\u003e443/tcp, 0.0.0.0:61290-\u003e3000/tcp, 0.0.0.0:61292-\u003e3005/tcp, 0.0.0.0:61293-\u003e3006/tcp, 0.0.0.0:61294-\u003e3007/tcp, 0.0.0.0:61295-\u003e3008/tcp, 0.0.0.0:61296-\u003e3009/tcp, 0.0.0.0:61291-\u003e3010/tcp, 0.0.0.0:9876-\u003e3011/udp\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## í”„ë¡œí•„\n\n\"í”„ë¡œí•„\"ì€ ì»´í¬ì¦ˆ íŒŒì¼ ë‚´ì—ì„œ ì—­í• ì„ ë¶„ë¦¬í•  ìˆ˜ ìˆëŠ” ë©‹ì§„ ì œì–´ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. ìš°ë¦¬ê°€ ì»´í¬ì¦ˆ íŒŒì¼ ë‚´ì—ì„œ ì¼ë¶€ ì»¨í…Œì´ë„ˆê°€ ë§¤ìš° íŠ¹ì •í•œ ì„¤ì •í•˜ì—ì„œë§Œ ì‹¤í–‰ë˜ê±°ë‚˜ í•„ìš”í•  ë•Œë§Œ ì‹¤í–‰ë˜ë„ë¡ ì›í•œë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤ (ì¦‰, \"í”„ë¡œí•„\"ì´ë¼ê³ ë„ í•¨). ì´ê²ƒì´ í•  ìˆ˜ ìˆëŠ” ê²ƒì…ë‹ˆë‹¤:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: nginx\n  second:\n    image: alpine\n    command: wget http://first\n    profiles: [\"debug\"]\nEOF\n$ docker-compose up -d\në„¤íŠ¸ì›Œí¬ \"mediumcom_default\"ë¥¼ ê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ ìƒì„± ì¤‘\nmediumcom_first_1 ìƒì„± ì™„ë£Œ\n$ # ë³´ì„¸ìš”? nginx ì»¨í…Œì´ë„ˆë§Œ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ \"debug\"ë¥¼ í™œì„±í™”í•´ ë´…ì‹œë‹¤\n$ docker-compose --profile debug up\nmediumcom_first_1 is up-to-date\nmediumcom_second_1 ìƒì„± ì™„ë£Œ\nmediumcom_first_1, mediumcom_second_1ì— ì²¨ë¶€\nsecond_1  | first(172.26.0.2:80)ì— ì—°ê²° ì¤‘\nsecond_1  | 'index.html' ì €ì¥ ì¤‘\nsecond_1  | index.html           100% |********************************|   615  0:00:00 ë‚¨ìŒ\nsecond_1  | 'index.html' ì €ì¥ë¨\nfirst_1   | /docker-entrypoint.sh: /docker-entrypoint.d/ê°€ ë¹„ì–´ ìˆì§€ ì•Šìœ¼ë¯€ë¡œ êµ¬ì„±ì„ ì‹œë„í•  ê²ƒì…ë‹ˆë‹¤\n(first_ì´í•˜ ìƒëµ)\nmediumcom_second_1ì´ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\n## ì¬ì‹œì‘\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì»¨í…Œì´ë„ˆì˜ ì¬ì‹œì‘ ì •ì±…ì„ ì •ì˜í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤ (no, always, unless-stopped, on-failure ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒ).\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    restart: on-failure\n    command: sleep 4\n  second:\n    image: alpine\n    command: echo Hi `date`\n    restart: always\nEOF\n$ docker-compose up\nCreating network \"mediumcom_default\" with the default driver\nCreating mediumcom_first_1  ... done\nCreating mediumcom_second_1 ... done\nAttaching to mediumcom_first_1, mediumcom_second_1\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nmediumcom_second_1 exited with code 0\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nmediumcom_second_1 exited with code 0\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nmediumcom_second_1 exited with code 0\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nmediumcom_first_1 exited with code 0\n```\n\n## ë³´ì•ˆ ì„¤ì •\n\nì´ ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆì˜ SELinux ë ˆì´ë¸”ì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```bash\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 30\n    security_opt:\n     - label:user:USER\n  second:\n    image: alpine\n    command: sleep 30\nEOF\n$ docker inspect mediumcom_first_1 --format '{ .Id }: SecurityOpt={ .HostConfig.SecurityOpt }'\n2808e4b2ac6a6870b372ecf06da5ce0217efdd6d14df16cef4b332e1d4fb9b6a: SecurityOpt=[label:user:USER]\n$\n$ docker inspect mediumcom_second_1 --format '{ .Id }: SecurityOpt={ .HostConfig.SecurityOpt }'\ned4c417b27257cc9f793d5d3dad94672074859dba90effddd0cde49f12dd4115: SecurityOpt=\u003cno value\u003e\n```\n\n## stop_grace_period\n\nê¸°ë³¸ì ìœ¼ë¡œ DockerëŠ” SIGTERMì„ ìˆ˜ì‹ í•œ í›„ 10ì´ˆ ë‚´ì— ì»¨í…Œì´ë„ˆê°€ ìì—°ìŠ¤ëŸ½ê²Œ ì¤‘ì§€ë˜ì§€ ì•Šìœ¼ë©´ ì»¨í…Œì´ë„ˆë¥¼ ê°•ì œë¡œ ì¢…ë£Œí•©ë‹ˆë‹¤ (ì˜ˆ: docker stopìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ì˜ë„ì ìœ¼ë¡œ ì¤‘ì§€ì‹œí‚¨ í›„). ì´ ì‹œê°„ ê°„ê²©ì„ stop grace periodë¼ê³  í•˜ë©° êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```bash\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sh -c 'while true; do sleep 5 \u0026 done'\n  second:\n    image: alpine\n    command: sh -c 'while true; do sleep 5 \u0026 done'\n    stop_grace_period: 1s\nEOF\n$ docker-compose up -d\nRecreating mediumcom_first_1  ... done\nRecreating mediumcom_second_1 ... done\n$ time docker stop mediumcom_first_1\nmediumcom_first_1\nreal 0m10.847s\nuser 0m0.205s\nsys 0m0.092s\n$ time docker stop mediumcom_second_1\nmediumcom_second_1\nreal 0m1.883s\nuser 0m0.192s\nsys 0m0.105s\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## stop_signal\n\nì•ì„œ ì–¸ê¸‰í•œ ì˜µì…˜ì—ì„œ SIGTERMì´ ë„ì»¤ ì»¨í…Œì´ë„ˆë¥¼ ì¤‘ì§€í•˜ëŠ” ê¸°ë³¸ ì‹ í˜¸ì„ì„ ì´ë¯¸ ì•Œì•˜ì„ ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì—¬ëŸ¬ë¶„ì€ `docker stop`ì´ ì»¨í…Œì´ë„ˆ ì‘ìš© í”„ë¡œê·¸ë¨ìœ¼ë¡œ ì›í•˜ëŠ” ì‚¬ìš©ì ì •ì˜ ì‹ í˜¸ë¥¼ ì „ì†¡í•˜ë„ë¡ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 60\n    stop_signal: SIGUSR1\nEOF\n$ docker-compose up -d\nCreating network \"mediumcom_default\" with the default driver\nCreating mediumcom_first_1 ... done\n$ docker inspect mediumcom_first_1 --format '{.Config.StopSignal}'\nSIGUSR1\n```\n\n## sysctls\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ì˜µì…˜ì€ ì»¨í…Œì´ë„ˆì˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ëœ ì»¤ë„ ë§¤ê°œë³€ìˆ˜ë¥¼ ëŸ°íƒ€ì„ì—ì„œ êµ¬ì„±í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 60\n    sysctls:\n      net.core.somaxconn: 1024\n      net.ipv4.tcp_syncookies: 0\nEOF\n$ docker-compose up -d\në„¤íŠ¸ì›Œí¬ \"mediumcom_default\" ìƒì„± ì¤‘, ê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ ì„¤ì •\nmediumcom_first_1 ìƒì„± ì¤‘... ì™„ë£Œ\n$ docker inspect mediumcom_first_1 --format '{json .HostConfig.Sysctls}'\n{\"net.core.somaxconn\": \"1024\", \"net.ipv4.tcp_syncookies\": \"0\"}\n```\n\n## ulimits\n\nì»¨í…Œì´ë„ˆì˜ ê¸°ë³¸ ulimitsë¥¼ ì¬ì •ì˜í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 60\n    ulimits:\n      nproc: 65535\n      nofile:\n        soft: 20000\n        hard: 40000\nEOF\n$ docker-compose up -d\nRecreating mediumcom_first_1 ... done\n$ docker inspect mediumcom_first_1 --format '{json .HostConfig.Ulimits}'\n[{\"Name\":\"nproc\",\"Hard\":65535,\"Soft\":65535},{\"Name\":\"nofile\",\"Hard\":40000,\"Soft\":20000}]\n```\n\n## userns_mode\n\në„ˆë¬´ ê¹Šê²Œ íŒŒê³ ë“¤ì§€ ì•Šê³  Docker ë°ëª¬ì—ì„œ ì‚¬ìš©ì ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ í™œì„±í™”í•œ ê²½ìš°, ë‹¨ì¼ ì»¨í…Œì´ë„ˆì—ì„œ ì‚¬ìš©ì ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ë¹„í™œì„±í™”í•˜ê²Œ í•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤. `userns_mode: \"host\"`ë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.\n\n## user\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì»¨í…Œì´ë„ˆ ì‘ìš©í”„ë¡œê·¸ë¨ì´ íŠ¹ì • ì‚¬ìš©ìë¡œ ì‹¤í–‰ë˜ë„ë¡ í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: whoami\n    user: nobody\nEOF\n$ docker-compose up\nRecreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1  | nobody\nmediumcom_first_1 exited with code 0\n```\n\n## working_dir\n\në„ì»¤ íŒŒì¼ì—ì„œ ë³¸ ì ì´ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆì˜ ëœë”© ê²½ë¡œ(PWD)ë¥¼ ì¬ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ì™€ ëª…ë ¹ì´ ì ˆëŒ€ ê²½ë¡œë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì—ë„ ë™ì‘ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: pwd\n    working_dir: /my/custom/medium/dir\nEOF\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²° ì¤‘\nfirst_1  | /my/custom/medium/dir\nmediumcom_first_1 ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\n## ë„ë©”ì¸ ì´ë¦„\n\në‹¹ì‹ ì˜ ì»¨í…Œì´ë„ˆëŠ” í˜¸ìŠ¤íŠ¸ëª…ê³¼ ë„ë©”ì¸ëª…ì„ ê°€ì§€ê³  ìˆë‹¤ëŠ” ê²ƒì„ ì•„ì‹œì£ . í˜¸ìŠ¤íŠ¸ ëª¨ë“œê°€ ì•„ë‹ ë•Œ, í˜¸ìŠ¤íŠ¸ëª…ì€ ì»¨í…Œì´ë„ˆì˜ IDì™€ ë™ì¼í•˜ë©°, ë„ë©”ì¸ëª…ì€ ì˜ˆìƒëŒ€ë¡œ ì—†ì„ ê²ƒì…ë‹ˆë‹¤. ë„ë©”ì¸ëª…ì„ ì„¤ì •í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•˜ì„¸ìš”:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: hostname -f\n    domainname: cristovaocordeiro.medium.com\nEOF\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²° ì¤‘\nfirst_1  | 6e900c697939.cristovaocordeiro.medium.com\nmediumcom_first_1 ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## í˜¸ìŠ¤íŠ¸ì´ë¦„\n\në‹¹ì—°íˆ ë„ë©”ì¸ ì´ë¦„ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤ë©´ ì»¨í…Œì´ë„ˆì˜ í˜¸ìŠ¤íŠ¸ ì´ë¦„ë„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µë˜ëŠ” \"ì¶©ê²©ì ì¸\" ID í˜•ì‹ ëŒ€ì‹  í˜¸ìŠ¤íŠ¸ ì´ë¦„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ ğŸ˜œ\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: hostname -f\n    hostname: test-container\nEOF\n$ docker-compose up\nRecreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1  | test-container\nmediumcom_first_1 exited with code 0\n```\n\n## ipc\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì»¨í…Œì´ë„ˆì˜ í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹ ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(ì„±ëŠ¥ ì¡°ì • ëª©ì ). ì´ ì˜µì…˜ì„ í†µí•´ ì»¨í…Œì´ë„ˆì˜ IPC ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 30\n    ipc: shareable\nEOF\n$ docker inspect mediumcom_first_1 --format '{json .HostConfig.IpcMode}'\n\"shareable\"\n```\n\n## mac_address\n\nì›í•˜ëŠ” ì»¨í…Œì´ë„ˆì— ì‚¬ìš©ì ì •ì˜ MAC ì£¼ì†Œë¥¼ ì„¤ì •í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\në²„ì „: \"3\"\nì„œë¹„ìŠ¤:\nÂ  first:\nÂ  Â  ì´ë¯¸ì§€: alpine\nÂ  Â  ëª…ë ¹: ifconfig eth0\nÂ  Â  mac_address: 00:ab:cd:12:34:56\nEOF\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²° ì¤‘\nfirst_1  | eth0 Link encap:EthernetÂ  HWaddr 00:AB:CD:12:34:56 Â \nfirst_1  | inet addr:172.29.0.2 Bcast:172.29.255.255 Mask:255.255.0.0\nfirst_1  | UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1\nfirst_1  | RX packets:2 errors:0 dropped:0 overruns:0 frame:0\nfirst_1  | TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\nfirst_1  | collisions:0 txqueuelen:0Â \nfirst_1  | RX bytes:200 (200.0 B)Â  TX bytes:0 (0.0 B)\nfirst_1  |\nmediumcom_first_1ê°€ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\n## íŠ¹ê¶Œì \n\nìœ„ì—ì„œ \"íŠ¹ê¶Œì \" ì»¨í…Œì´ë„ˆ ìƒíƒœë¥¼ ëª‡ ë²ˆ ë‹¤ë¤˜ìŠµë‹ˆë‹¤. ê°„ë‹¨íˆ ë§í•˜ë©´, (!!) í™•ì‹¤íˆ í™•ì‹ ì´ ìˆê³  ì»¨í…Œì´ë„ˆì— ê°€ëŠ¥í•œ ëª¨ë“  ê¸°ëŠ¥ì„ ë¶€ì—¬í•˜ê³  ì‹¶ë‹¤ë©´ (ë”°ë¼ì„œ í˜¸ìŠ¤íŠ¸ ì¥ì¹˜ ë° ê¸°íƒ€ ìì›ì— ì•¡ì„¸ìŠ¤ í•  ìˆ˜ ìˆìŒ), ì´ ì˜µì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\në²„ì „: \"3\"\nì„œë¹„ìŠ¤:\nÂ  first:\nÂ  Â  ì´ë¯¸ì§€: alpine\nÂ  Â  ëª…ë ¹: sh -c 'ls /dev/ | wc -l'\nÂ  second:\nÂ  Â  ì´ë¯¸ì§€: alpine\nÂ  Â  ëª…ë ¹: sh -c 'ls /dev/ | wc -l'\nÂ  Â  íŠ¹ê¶Œì : true\nEOF\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_second_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²° ì¤‘, mediumcom_second_1ì— ì—°ê²° ì¤‘\nfirst_1  | 15\nsecond_1  | 150\nmediumcom_first_1ê°€ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\nmediumcom_second_1ê°€ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ì½ê¸° ì „ìš©\n\nì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•  ë•Œ ì½ê¸° ì „ìš© ì´ë¯¸ì§€ ë ˆì´ì–´ ìœ„ì— ì“°ê¸° ê°€ëŠ¥í•œ ë ˆì´ì–´ê°€ ìƒì„±ëœë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê³  ê³„ì‹¤ ê²ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ì“°ê¸° ê°€ëŠ¥í•œ ë ˆì´ì–´ë¥¼ ì½ê¸° ì „ìš©ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: touch /tmp/test\n  second:\n    image: alpine\n    command: touch /tmp/test\n    read_only: true\nEOF\n$ docker-compose up\nmediumcom_first_1  ... done\nmediumcom_second_1 ... done\nmediumcom_first_1, mediumcom_second_1ì— ì—°ê²° ì¤‘\nsecond_1  | touch: /tmp/test: ì½ê¸° ì „ìš© íŒŒì¼ ì‹œìŠ¤í…œ\nmediumcom_first_1 ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œ\nmediumcom_second_1 ì½”ë“œ 1ë¡œ ì¢…ë£Œ\n```\n\n## shm_size\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì»¨í…Œì´ë„ˆê°€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê³µìœ  ë©”ëª¨ë¦¬ ì–‘ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: df -h /dev/shm\n    shm_size: 123M\nEOF\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²° ì¤‘\nfirst_1  | íŒŒì¼ ì‹œìŠ¤í…œ                í¬ê¸°      ì‚¬ìš©í•¨ ì‚¬ìš© ê°€ëŠ¥í•¨ ì‚¬ìš©ë¥  ë§ˆìš´íŠ¸ëœ ìœ„ì¹˜\nfirst_1  | shm                     123.0M         0    123.0M   0% /dev/shm\nmediumcom_first_1ì€ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\n## stdin_open\n\nì´ëŠ” docker runì˜ -iì— í•´ë‹¹í•©ë‹ˆë‹¤. ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜¸ìŠ¤íŠ¸ì™€ ì»¨í…Œì´ë„ˆ ê°„ ìƒí˜¸ì‘ìš©ì´ ê°€ëŠ¥í•œ ì¸í„°ë™í‹°ë¸Œ ì„¸ì…˜ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```bash\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    stdin_open: true\nEOF\n$ docker-compose up -d\nRecreating mediumcom_first_1 ... done\n$ docker attach mediumcom_first_1\necho Hello, I am sending commands to the container\nHello, I am sending commands to the container\nexit\n```\n\nìœ„ì™€ ê°™ì´ ì»¨í…Œì´ë„ˆì™€ ìƒí˜¸ ì‘ìš©í•˜ê³  ìˆì§€ë§Œ í˜¸ìŠ¤íŠ¸ì™€ ì»¨í…Œì´ë„ˆ ì‚¬ì´ì— ì‹¤ì œë¡œ í„°ë¯¸ë„ ì„¸ì…˜ì´ ì—†ìŠµë‹ˆë‹¤... ê°„ë‹¨íˆ ë§í•´ì„œ íŒŒì´í”„ì¼ ë¿ì…ë‹ˆë‹¤.\n\n## tty\n\nì´ê²ƒì€ ë„ì»¤ ì‹¤í–‰ì—ì„œì˜ -tì™€ ë™ë“±í•©ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆì— ê°€ìƒ ttyë¥¼ í• ë‹¹í•˜ê³  stdin_openê³¼ ê²°í•©í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    stdin_open: true\n    tty: true\nEOF\n$ docker-compose up -d\nmediumcom_first_1 ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ìƒì„±í•©ë‹ˆë‹¤... ì™„ë£Œ\n$ docker attach mediumcom_first_1\n/ # echo now this is a real terminal\nnow this is a real terminal\n/ # sleep 5\n^C\n/ # echo $?\n130\n/ # exit\n```\n\nì´ì œ ìš°ë¦¬ëŠ” ì‹¤ì œ í„°ë¯¸ë„ê³¼ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ì„¸ì…˜ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì»¨í…Œì´ë„ˆ ì•ˆì—ì„œ ì›í•˜ëŠ” ì¼ì„ í•  ìˆ˜ ìˆì–´ìš”.\n\nìš°ì™€... ì •ë§ ê¸´ ê¸°ì‚¬ì˜€ì£ . ì£„ì†¡í•©ë‹ˆë‹¤. ë°ì€ ë©´ì—ì„œ ë§í•˜ë©´, ì—¬ëŸ¬ ê¸°ì‚¬ë¥¼ ë„˜ë‚˜ë“¤ë©° ë‹¤ì–‘í•œ ì»´í¬ì¦ˆ íŒŒì¼ ì˜µì…˜ì´ ë¬´ì—‡ì„ í•˜ëŠ”ì§€ ì°¾ì•„ë³´ì§€ ì•Šì•„ë„ ë˜ê² ì£ ?\n\nìŠ¤ì›œ ëª¨ë“œì—ì„œ ì„œë¹„ìŠ¤ì— íŠ¹ì •í•œ ì˜µì…˜(ë³€ìˆ˜ ì¹˜í™˜ ë° í™•ì¥ í•„ë“œ ê°™ì€ ê³ ìœ í•œ êµ¬ì¡°ì  ë…¸í•˜ìš°)ì„ ì¼ë¶€ ëºìŠµë‹ˆë‹¤. ì´ê²ƒë“¤ì€ ì„ íƒ ì‚¬í•­ì´ë©°, ë‹¤ë¥¸ ê¸°ì‚¬ì—ì„œ ë‹¤ë£° ìˆ˜ ìˆì–´ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ í…Œì´ë¸” íƒœê·¸ë¥¼ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•´ë“œë ¸ìŠµë‹ˆë‹¤.\n","ogImage":{"url":"/assets/img/2024-06-23-TheWholeShebangComposeFiles_0.png"},"coverImage":"/assets/img/2024-06-23-TheWholeShebangComposeFiles_0.png","tag":["Tech"],"readingTime":55},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cimg src=\"/assets/img/2024-06-23-TheWholeShebangComposeFiles_0.png\"\u003e\n\u003cp\u003eìš”ì¦˜ Docker ë° ì»¨í…Œì´ë„ˆì— ëŒ€í•´ ë§ì´ ì“°ê³  ê°€ë¥´ì¹˜ê³  ìˆìŠµë‹ˆë‹¤. ë‚´ ì»¨í…ì¸ ë¥¼ ì†Œë¹„í•˜ê³  í”¼ë“œë°±ì„ ì œê³µí•´ ì£¼ì‹œëŠ” ì—¬ëŸ¬ë¶„ë“¤ì—ê²Œ ë§¤ìš° ê°ì‚¬í•©ë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì˜ ì˜ê²¬ì„ ë“£ê³  ë‹¤ìŒ ì£¼ì œëŠ” ë‹¹ì—°íˆ Docker Composeì…ë‹ˆë‹¤. ì™œëƒí•˜ë©´ ì´ì œ ì—¬ëŸ¬ë¶„ì€ ìì‹ ì˜ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ê³  ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì„ ì•Œê³  ìˆìœ¼ë¯€ë¡œ, ë‹¤ìŒìœ¼ë¡œ ë…¼ë¦¬ì ìœ¼ë¡œ ë‚¨ì€ ì¼ì€ ë³µì¡í•œ ë©€í‹° ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ê³  ê·¸ ëª¨ë“  ê²ƒì„ ë‹¨ì¼ ì†Œí”„íŠ¸ì›¨ì–´ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003ch1\u003eDocker Compose: ê·¸ê²Œ ë­”ë°, ì™œ í•„ìš”í•œê°€ìš”?\u003c/h1\u003e\n\u003cp\u003eê³µì‹ ë¬¸ì„œì—ì„œ ë” ë§ì€ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì§€ë§Œ, ê°„ë‹¨íˆ ë§í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤: Dockerë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ, ì´ë¯¸ì§€, ë³¼ë¥¨ ë“±ì„ ê´€ë¦¬í•©ë‹ˆë‹¤. docker runì„ ì‹¤í–‰í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ë‹¨ì¼ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë§Œì•½ ì²« ë²ˆì§¸ ì»¨í…Œì´ë„ˆì™€ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë‘ ë²ˆì§¸ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•˜ë ¤ë©´ docker runì„ ë‹¤ì‹œ ì‹¤í–‰í•´ì•¼ í•˜ë©°, ë³¼ë¥¨ ë° ë„¤íŠ¸ì›Œí¬ë¥¼ ë³„ë„ë¡œ ì²˜ë¦¬í•˜ì—¬ ì„œë¡œë¥¼ ë³´ê³  í†µì‹ í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eë„ì»¤ ì»´í¬ì¦ˆëŠ” ë„ì»¤ ìœ„ì— ë˜í¼ë¥¼ ì œê³µí•˜ì—¬ ì´ ëª¨ë“  ê²ƒì„ ì¶”ìƒí™”í•©ë‹ˆë‹¤ (ë§ì•„ìš”! ë„ì»¤ ì»´í¬ì¦ˆëŠ” ë‹¨ìˆœíˆ ë„ì»¤ë¥¼ ìœ„í•œ ê³ ìˆ˜ì¤€ CLIì…ë‹ˆë‹¤). ì‹¤ì œë¡œ ëŒ€ë¶€ë¶„ì˜ ì˜µì…˜ì´ docker run í•˜ìœ„ ëª…ë ¹ì–´ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ì˜µì…˜ë“¤ê³¼ ë§¤ìš° ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ ëª…ëª…ë©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eë„ì»¤ ì»´í¬ì¦ˆë¥¼ ì‚¬ìš©í•˜ë©´ YAML íŒŒì¼ì¸ ì»´í¬ì¦ˆ íŒŒì¼ì„ í†µí•´ ì»¨í…Œì´ë„ˆ(ë„ì»¤ ì»´í¬ì¦ˆ ì„¸ê³„ì—ì„œëŠ” ì„œë¹„ìŠ¤ë¼ê³  ë¶ˆë¦½ë‹ˆë‹¤... ë‹¨ì§€ ìŠ¤ì›œ ëª¨ë“œì—ì„œë„ ì»´í¬ì¦ˆ íŒŒì¼ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—... ë‹¤ë¥¸ ê¸€ì—ì„œ ì„¤ëª…í•  ì˜ˆì •), ë³¼ë¥¨ ë° ë„¤íŠ¸ì›Œí¬ë¥¼ í¬í•¨í•œ ëª¨ë“  ê²ƒì„ ì„ ì–¸ì ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë©€í‹° ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê´€ë¦¬í•´ì•¼ í•  ë•Œ, ì´ compose íŒŒì¼ë§Œ ê±´ë“œë¦¬ê³  ë‚˜ë¨¸ì§€ëŠ” ë„ì»¤ ì»´í¬ì¦ˆê°€ ëª¨ë‘ ì²˜ë¦¬í•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003ch1\u003eì»´í¬ì¦ˆ íŒŒì¼\u003c/h1\u003e\n\u003cp\u003eìš°ì„ , ë©€í‹° ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì˜¬ë°”ë¥´ê²Œ ìš´ì˜í•˜ë ¤ë©´ ì»´í¬ì¦ˆ íŒŒì¼ì„ ì‘ì„±í•˜ëŠ” ë°©ë²•ì„ ìµí˜€ì•¼ í•˜ë¯€ë¡œ ë„ì»¤ ì»´í¬ì¦ˆ CLIì— ëŒ€í•´ì„œëŠ” ë‹¤ë¥¸ ê¸€ì—ì„œ ë‹¤ë£° ì˜ˆì •ì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eë„ì»¤ì˜ êµ¬ì„± íŒŒì¼ ê´€ë ¨ ë¬¸ì„œëŠ” ë§¤ìš° ì™„ë²½í•˜ì§€ë§Œ, ì €ëŠ” ì‹¤ìš©ì£¼ì˜ì™€ ê²½í—˜ìœ¼ë¡œë¶€í„° ë°°ìš°ëŠ” ê²ƒì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ì‚¬ëŒì´ë¼ì„œ ëª¨ë“  Compose íŒŒì¼ ì˜µì…˜ì„ ì†ì§ˆí•˜ê³  ëª…ë£Œí•œ ì„¤ëª…ê³¼ ì‹¤ì œ ì˜ˆì‹œë¥¼ ë‹´ì•„ë‚´ë ¤ê³  í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì‹œì‘í•´ë´…ì‹œë‹¤!\u003c/p\u003e\n\u003cp\u003eì°¸ê³  1: ì´ ê¸°ì‚¬ë¥¼ ì‘ì„±í•˜ëŠ” ì‹œì ì—ì„œ ìµœì‹  ë²„ì „ì¸ v3ì˜ Compose íŒŒì¼ ëª…ì„¸ì— ëŒ€í•œ ì˜µì…˜ê³¼ ìŠ¤í‚¤ë§ˆë§Œ ë‹¤ë£° ì˜ˆì •ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‹ˆ ê±±ì •í•˜ì§€ ë§ˆì„¸ìš”.\u003c/p\u003e\n\u003cp\u003eì°¸ê³  2: ê° ì˜µì…˜ì— ëŒ€í•´ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ì„¤ëª…ê³¼ ì˜ˆì‹œë§Œ ì œê³µí•  ê²ƒì´ë©°, íŠ¹ì • ì˜µì…˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ë³¸ ì ì´ ì—†ëŠ” ê²½ìš°ì—ëŠ” \"ì¼ë°˜ì ì´ì§€ ì•ŠìŒ\"ìœ¼ë¡œ ê°„ì£¼í•  ê²ƒì…ë‹ˆë‹¤. ì–´ë–¤ ì˜µì…˜ì˜ ì ì€ ì‚¬ìš© ë°©ë²• ë° ì¼ë°˜ì ì´ì§€ ì•Šì€ ë§¤ê°œë³€ìˆ˜ë¥¼ ë” ìì„¸íˆ ì•Œê³  ì‹¶ë‹¤ë©´ ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ì¡°í•´ì£¼ì„¸ìš”.\u003c/p\u003e\n\u003cp\u003eì˜ˆì‹œì— ë“¤ì–´ê°€ê¸° ì „ì—, ëª¨ë“  êµ¬ì„± íŒŒì¼ì€ ì‘ì„±í•˜ëŠ” í˜„ì¬ì˜ íŒŒì¼ ìŠ¤í‚¤ë§ˆë¥¼ ë‚˜íƒ€ë‚´ëŠ” í‚¤ì›Œë“œ versionìœ¼ë¡œ ì‹œì‘ë©ë‹ˆë‹¤. ì•ì„œ ë§í•œëŒ€ë¡œ, ì €í¬ëŠ” ìµœì‹  (ë²„ì „: \"3\")ì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003eë¹Œë“œ\u003c/h2\u003e\n\u003cp\u003eê¸°ë³¸ì ìœ¼ë¡œ Docker Composeë¡œ ë¬´ì–¸ê°€ë¥¼ ì‹œì‘í•  ë•Œ, Docker ì´ë¯¸ì§€ ë˜ëŠ” Dockerfileì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•˜ê¸° ì „ì— Dockerê°€ ì´ë¯¸ì§€ë¥¼ ì§ì ‘ ë¹Œë“œí•˜ë„ë¡ í•˜ê³  ì‹¶ë‹¤ë©´ ìˆ˜ë™ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ì§€ ì•Šê³ ë„ ì´ ì˜µì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì˜ˆë¥¼ ë“¤ì–´:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003e\u003cspan class=\"hljs-title class_\"\u003eDockerfile\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n# ì´ê²ƒì€ \u003cspan class=\"hljs-title class_\"\u003eDockerfile\u003c/span\u003eì…ë‹ˆë‹¤\n\u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e ubuntu\n\u003cspan class=\"hljs-variable constant_\"\u003eCMD\u003c/span\u003e [\u003cspan class=\"hljs-string\"\u003e\"echo\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"Hello Medium readers\"\u003c/span\u003e]\n# \u003cspan class=\"hljs-title class_\"\u003eDockerfile\u003c/span\u003e ë\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$\n$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  my-test-\u003cspan class=\"hljs-attr\"\u003econtainer\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003ebuild\u003c/span\u003e: .\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$\n$ docker-compose up\në””í´íŠ¸ ë“œë¼ì´ë²„ë¥¼ ì‚¬ìš©í•˜ì—¬ \u003cspan class=\"hljs-string\"\u003e\"mediumcom_default\"\u003c/span\u003e ë„¤íŠ¸ì›Œí¬ ìƒì„± ì¤‘\nmy-test-container ë¹Œë“œ ì¤‘\n\u003cspan class=\"hljs-title class_\"\u003eDocker\u003c/span\u003e ë°ëª¬ìœ¼ë¡œ ë¹Œë“œ ì»¨í…ìŠ¤íŠ¸ ë³´ë‚´ëŠ” ì¤‘  \u003cspan class=\"hljs-number\"\u003e1.\u003c/span\u003e337MB\në‹¨ê³„ \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e/\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e : \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e ubuntu\n ---\u003e ba6acccedd29\në‹¨ê³„ \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e/\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e : \u003cspan class=\"hljs-variable constant_\"\u003eCMD\u003c/span\u003e [\u003cspan class=\"hljs-string\"\u003e\"echo\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"Hello Medium readers\"\u003c/span\u003e]\n ---\u003e ìºì‹œ ì‚¬ìš© ì¤‘\n ---\u003e 6c8b22fa650c\nì„±ê³µì ìœ¼ë¡œ ë¹Œë“œë˜ì—ˆìŠµë‹ˆë‹¤ 6c8b22fa650c\nmediumcom_my-test-\u003cspan class=\"hljs-attr\"\u003econtainer\u003c/span\u003e:latestë¡œ ì„±ê³µì ìœ¼ë¡œ íƒœê¹…ë˜ì—ˆìŠµë‹ˆë‹¤\nmediumcom_my-test-container_1 ìƒì„± ì¤‘ ... ì™„ë£Œ\nmediumcom_my-test-container_1ì— ì—°ê²° ì¤‘\nmy-test-container_1  | \u003cspan class=\"hljs-title class_\"\u003eHello\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMedium\u003c/span\u003e readers\nmediumcom_my-test-container_1ëŠ” ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eìœ¼ë¡œ ì¢…ë£Œë¨\n$\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eë³´ì‹œë‹¤ì‹œí”¼, Docker ComposeëŠ” Dockerì—ê²Œ ë„ì»¤íŒŒì¼(ì»´í¬ì¦ˆ íŒŒì¼ê³¼ ë™ì¼í•œ ê²½ë¡œì— ìœ„ì¹˜)ë¡œë¶€í„° ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ë„ë¡ ì§€ì‹œí•˜ê³ , ê·¸ í›„ì— ìë™ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì°¸ê³ : ì¼ë°˜ì ìœ¼ë¡œ docker buildì™€ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ì¼ë¶€ ì˜µì…˜ë“¤(ë¹Œë“œ ì¸ì ì „ë‹¬, Dockerfileì˜ ê²½ë¡œ ë° ì´ë¦„ ì§€ì • ë“±)ë„ ì—¬ê¸°ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ë¬¸ì„œë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.\u003c/p\u003e\n\u003ch2\u003eì´ë¯¸ì§€\u003c/h2\u003e\n\u003cp\u003eì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ Docker ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•  í•„ìš”ëŠ” ì—†ê² ì£ ... ê·¸ë ‡ê²Œ í•˜ë©´ ë¶ˆí¸í•˜ê² ì£ . ë”°ë¼ì„œ ì´ë¯¸ì§€ë¥¼ ë¯¸ë¦¬ ë¹Œë“œí•˜ê±°ë‚˜ ê°„ë‹¨íˆ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ì§€ì •í•˜ë©´ ë©ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì˜ˆë¥¼ ë“¤ì–´, ì´ì „ ì˜ˆì œì˜ Dockerfileê³¼ ë‹¤ìŒì˜ compose íŒŒì¼ì„ ì‚´í´ë³´ì„¸ìš”:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ # ì´ì „ ì˜ˆì œ ì •ë¦¬í•˜ê¸° ìœ„í•¨\n$ # ì´ì œë¶€í„° ê° ì˜ˆì œì—ì„œ ë‹¤ìŒ ëª…ë ¹ ì‹¤í–‰í•´ì£¼ì„¸ìš”\n$ docker-compose down -v --remove-orphans\n$\n$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003ebuild\u003c/span\u003e: .\n  \u003cspan class=\"hljs-attr\"\u003esecond\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: hello-world\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ # \u003cspan class=\"hljs-title class_\"\u003eDockerfile\u003c/span\u003eì´ ë³€ê²½ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì²« ë²ˆì§¸ ì´ë¯¸ì§€ê°€ ë‹¤ì‹œ ë¹Œë“œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤\n$ docker-compose up\në„¤íŠ¸ì›Œí¬ \u003cspan class=\"hljs-string\"\u003e\"mediumcom_default\"\u003c/span\u003e ìƒì„± ì¤‘\nmediumcom_first_1  ... ìƒì„±ë¨\nmediumcom_second_1 ... ìƒì„±ë¨\nmediumcom_second_1, mediumcom_first_1ì— ì—°ê²° ì¤‘\nfirst_1   | \u003cspan class=\"hljs-title class_\"\u003eHello\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMedium\u003c/span\u003e readers\nsecond_1  |\nsecond_1  | \u003cspan class=\"hljs-title class_\"\u003eHello\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDocker\u003c/span\u003e!\nsecond_1  | \u003cspan class=\"hljs-title class_\"\u003eThis\u003c/span\u003e message shows that your installation appears to be working correctly.\nsecond_1  |\nsecond_1  | \u003cspan class=\"hljs-title class_\"\u003eTo\u003c/span\u003e generate \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e message, \u003cspan class=\"hljs-title class_\"\u003eDocker\u003c/span\u003e took the following \u003cspan class=\"hljs-attr\"\u003esteps\u003c/span\u003e:\nsecond_1  |  \u003cspan class=\"hljs-number\"\u003e1.\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eThe\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDocker\u003c/span\u003e client contacted the \u003cspan class=\"hljs-title class_\"\u003eDocker\u003c/span\u003e daemon.\nsecond_1  |  \u003cspan class=\"hljs-number\"\u003e2.\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eThe\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDocker\u003c/span\u003e daemon pulled the \u003cspan class=\"hljs-string\"\u003e\"hello-world\"\u003c/span\u003e image \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e the \u003cspan class=\"hljs-title class_\"\u003eDocker\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eHub\u003c/span\u003e.\nsecond_1  |     (amd64)\nsecond_1  |  \u003cspan class=\"hljs-number\"\u003e3.\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eThe\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDocker\u003c/span\u003e daemon created a \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e container \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e that image which runs the\nsecond_1  |     executable that produces the output you are currently reading.\nsecond_1  |  \u003cspan class=\"hljs-number\"\u003e4.\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eThe\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDocker\u003c/span\u003e daemon streamed that output to the \u003cspan class=\"hljs-title class_\"\u003eDocker\u003c/span\u003e client, which sent it\nsecond_1  |     to your terminal.\nsecond_1  |\nsecond_1  | \u003cspan class=\"hljs-title class_\"\u003eTo\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e something more ambitious, you can run an \u003cspan class=\"hljs-title class_\"\u003eUbuntu\u003c/span\u003e container \u003cspan class=\"hljs-attr\"\u003ewith\u003c/span\u003e:\nsecond_1  |  $ docker run -it ubuntu bash\nsecond_1  |\nsecond_1  | \u003cspan class=\"hljs-title class_\"\u003eShare\u003c/span\u003e images, automate workflows, and more \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e a free \u003cspan class=\"hljs-title class_\"\u003eDocker\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eID\u003c/span\u003e:\nsecond_1  |  \u003cspan class=\"hljs-attr\"\u003ehttps\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//hub.docker.com/\u003c/span\u003e\nsecond_1  |\nsecond_1  | \u003cspan class=\"hljs-title class_\"\u003eFor\u003c/span\u003e more examples and ideas, \u003cspan class=\"hljs-attr\"\u003evisit\u003c/span\u003e:\nsecond_1  |  \u003cspan class=\"hljs-attr\"\u003ehttps\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//docs.docker.com/get-started/\u003c/span\u003e\nsecond_1  |\nmediumcom_second_1ì´ ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eìœ¼ë¡œ ì¢…ë£Œë¨\nmediumcom_first_1ì´ ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eìœ¼ë¡œ ì¢…ë£Œë¨\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì—¬ê¸°ì„œ ë³´ë“¯ì´, ì´ì œ í•˜ë‚˜ì˜ Compose íŒŒì¼ê³¼ í•˜ë‚˜ì˜ docker-compose ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë™ì¼í•œ ë‹¤ì¤‘ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œ ë³‘ë ¬ë¡œ 2ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤. í•˜ë‚˜ì˜ ì»¨í…Œì´ë„ˆëŠ” \"Hello Medium readers\"ë¼ê³  ë§í•˜ëŠ” ì‚¬ìš©ì ì§€ì • Docker ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í–ˆê³ , ë‹¤ë¥¸ í•˜ë‚˜ëŠ” Docker Hubì—ì„œ \"hello-world\" ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì™€ ìì²´ Hello World ë©”ì‹œì§€ë¥¼ ì¶œë ¥í–ˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003ch2\u003eëª…ë ¹\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì´ë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆì˜ ëª…ë ¹ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ Docker ì´ë¯¸ì§€ì— entrypointê°€ ì •ì˜ë˜ì–´ ìˆìœ¼ë©´ ì´ ëª…ë ¹ì´ í•´ë‹¹ entrypointì˜ ì¸ìˆ˜ê°€ ë©ë‹ˆë‹¤. ì˜ˆì‹œ:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: ubuntu\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: echo \u003cspan class=\"hljs-string\"\u003e\"I am at your command!\"\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e network \u003cspan class=\"hljs-string\"\u003e\"mediumcom_default\"\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e the \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e driver\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e mediumcom_first_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eAttaching\u003c/span\u003e to mediumcom_first_1\nfirst_1  | I am at your command!\nmediumcom_first_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì•„ì£¼ ê°„ë‹¨í•˜ì§€ìš”?\u003c/p\u003e\n\u003ch2\u003eentrypoint\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì´ë¦„ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´ í•´ë‹¹ ê¸°ëŠ¥ì€ ì»¨í…Œì´ë„ˆì˜ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ë¥¼ ì¬ì •ì˜í•˜ê²Œ í•´ì¤ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì»¨í…Œì´ë„ˆê°€ echo ì‹¤í–‰ íŒŒì¼ë¡œ ì‹¤í–‰ë˜ë„ë¡ í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•  ìˆ˜ ìˆì–´ìš”:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: ubuntu\n    \u003cspan class=\"hljs-attr\"\u003eentrypoint\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e\"echo\"\u003c/span\u003e]\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"I am just an arg\"\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e network \u003cspan class=\"hljs-string\"\u003e\"mediumcom_default\"\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e the \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e driver\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e mediumcom_first_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eAttaching\u003c/span\u003e to mediumcom_first_1\nfirst_1  | I am just an arg\nmediumcom_first_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eê°„ë‹¨í•˜ì§€ìš”? ê·¸ë¦¬ê³  command ëŒ€ entrypoint ë“±ì— ëŒ€í•´ ê¶ê¸ˆí•´ í•œë‹¤ë©´ ë‹¹ì‹ ë§Œì´ ì•„ë‹™ë‹ˆë‹¤. ì´ê²ƒì€ ë§¤ìš° ì¼ë°˜ì ì¸ í˜¼ë€ í¬ì¸íŠ¸ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ê¸°ì‚¬ \"ì „ë¶€ ë‹¤: Dockerfiles\"ì—ì„œ ì´ì— ëŒ€í•´ ì´ì•¼ê¸°í–ˆì–´ìš”. ê°„ë‹¨íˆ ë§í•´ì„œ, ì €ëŠ” ì´ ë‘ ì˜µì…˜ì„ ì¡°ìœ¨í•  ë•Œ í•„ìš”í•œ ì¹˜íŠ¸ ì‹œíŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤: \u003ca href=\"https://docs.docker.com/engine/reference/builder/#understand-how-cmd-and-entrypoint-interact\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://docs.docker.com/engine/reference/builder/#understand-how-cmd-and-entrypoint-interact\u003c/a\u003e\u003c/p\u003e\n\u003ch2\u003ecap_add\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eë§Œì•½ ì»¨í…Œì´ë„ˆì— ì¶”ê°€ ê¸°ëŠ¥ì´ í•„ìš”í•œ ê²½ìš°, ë‹¤ìŒê³¼ ê°™ì´ ì¶”ê°€í•  ìˆ˜ ìˆì–´ìš”:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: \u003cspan class=\"hljs-attr\"\u003eubuntu\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e14.04\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: ip link add dummy0 type dummy\n    \u003cspan class=\"hljs-attr\"\u003ecap_add\u003c/span\u003e:\n     - \u003cspan class=\"hljs-variable constant_\"\u003eNET_ADMIN\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\n\u003cspan class=\"hljs-title class_\"\u003eRecreating\u003c/span\u003e mediumcom_first_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eAttaching\u003c/span\u003e to mediumcom_first_1\nmediumcom_first_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì´ì œ ìœ„ì™€ ê°™ì€ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ë ¤ê³  í•˜ì§€ë§Œ ê¸°ëŠ¥ì´ ì—†ëŠ” ê²½ìš°, ì—ëŸ¬ê°€ ë°œìƒí•  ê±°ì˜ˆìš”:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: \u003cspan class=\"hljs-attr\"\u003eubuntu\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e14.04\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: ip link add dummy0 type dummy\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\n\u003cspan class=\"hljs-title class_\"\u003eRecreating\u003c/span\u003e mediumcom_first_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eAttaching\u003c/span\u003e to mediumcom_first_1\nfirst_1  | \u003cspan class=\"hljs-variable constant_\"\u003eRTNETLINK\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eanswers\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eOperation\u003c/span\u003e not permitted\nmediumcom_first_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003ecap_drop\u003c/h2\u003e\n\u003cp\u003ecap_addì˜ ì • ë°˜ëŒ€ì…ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆì—ì„œ ê¸°ëŠ¥ì„ ì œê±°í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ìŠˆí¼ ê¶Œí•œì´ ë¶€ì—¬ëœ ì»¨í…Œì´ë„ˆê°€ ìˆë‹¤ê³  ê°€ì •í•´ë³´ê² ìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: \u003cspan class=\"hljs-attr\"\u003eubuntu\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e14.04\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: ip link add dummy0 type dummy\n    \u003cspan class=\"hljs-attr\"\u003ecap_add\u003c/span\u003e:\n     - \u003cspan class=\"hljs-variable constant_\"\u003eALL\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\n\u003cspan class=\"hljs-title class_\"\u003eRecreating\u003c/span\u003e mediumcom_first_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eAttaching\u003c/span\u003e to mediumcom_first_1\nmediumcom_first_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eê·¸ëŸ¬ë‚˜ í˜¸ìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí¬ ìŠ¤íƒì„ ê´€ë¦¬í•˜ë ¤ê³  í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´:\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-sh\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e \u003edocker-compose.yml \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-string\"\u003eEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu:14.04\n    command: ip link add dummy0 type dummy\n    cap_add:\n     - ALL\n    cap_drop:\n     - NET_ADMIN\nEOF\u003c/span\u003e\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ìƒì„±í•˜ëŠ” ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²° ì¤‘\nfirst_1 | RTNETLINK ë‹µë³€: ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤\nmediumcom_first_1ì€ ì½”ë“œ 2ë¡œ ì¢…ë£Œë¨\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003ecgroup_parent\u003c/h2\u003e\n\u003cp\u003ecgroupì— ëŒ€í•´ ì²˜ìŒì´ë¼ë©´ ì´ê³³ì— ê´€í•œ ì§§ì€ ì¢‹ì€ ê¸°ì‚¬ê°€ ìˆìŠµë‹ˆë‹¤. ê°„ë‹¨íˆ ë§í•´, Linux ì»¤ë„ì€ ì œì–´ ê·¸ë£¹ (cgroups)ì„ í†µí•´ í”„ë¡œì„¸ìŠ¤ë³„ë¡œ ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ì˜ ì‚¬ìš©ëŸ‰ì„ ì—„ê²©í•˜ê²Œ ì œì–´í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. Dockerì—ì„œëŠ” ì´ë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆê°€ íŠ¹ì • ë¦¬ì†ŒìŠ¤ë¥¼ ì–¼ë§ˆë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ì§€ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆëŠ” ê°€ëŠ¥í•œ ë§ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  ì‹œë„í•  ê²ƒì…ë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-sh\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e \u003edocker-compose.yml \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-string\"\u003eEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu\n    command: sleep 30\nEOF\u003c/span\u003e\n$ docker-compose up -d\nê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ ë„¤íŠ¸ì›Œí¬ \u003cspan class=\"hljs-string\"\u003e\"root_default\"\u003c/span\u003eë¥¼ ìƒì„± ì¤‘\nroot_first_1 ì»¨í…Œì´ë„ˆ ìƒì„± ì¤‘... ì™„ë£Œ\n$ docker inspect root_first_1 --format \u003cspan class=\"hljs-string\"\u003e'{.HostConfig.CgroupParent}'\u003c/span\u003e\n$\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eë³´ì‹œëŠ” ëŒ€ë¡œ, ê¸°ë³¸ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆì— í• ë‹¹ëœ ì œì–´ ê·¸ë£¹ì´ ì—†ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ìš°ë¦¬ê°€ í• ë‹¹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¬ì§€ì–´ ìš°ë¦¬ ìì‹ ì˜ ê²ƒì„ í• ë‹¹í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cgcreate -g \u003cspan class=\"hljs-attr\"\u003ecpu\u003c/span\u003e:test-cgroup-medium\n$ ls /sys/fs/cgroup/cpu\ncgroup-limit           cgroup.\u003cspan class=\"hljs-property\"\u003esane_behavior\u003c/span\u003e  cpu.\u003cspan class=\"hljs-property\"\u003eshares\u003c/span\u003e    cpuacct.\u003cspan class=\"hljs-property\"\u003eusage\u003c/span\u003e         cpuacct.\u003cspan class=\"hljs-property\"\u003eusage_percpu_sys\u003c/span\u003e   cpuacct.\u003cspan class=\"hljs-property\"\u003eusage_user\u003c/span\u003e  release_agent  test-cgroup-medium\ncgroup.\u003cspan class=\"hljs-property\"\u003eclone_children\u003c/span\u003e  cpu.\u003cspan class=\"hljs-property\"\u003ecfs_period_us\u003c/span\u003e     cpu.\u003cspan class=\"hljs-property\"\u003estat\u003c/span\u003e      cpuacct.\u003cspan class=\"hljs-property\"\u003eusage_all\u003c/span\u003e     cpuacct.\u003cspan class=\"hljs-property\"\u003eusage_percpu_user\u003c/span\u003e  docker              system.\u003cspan class=\"hljs-property\"\u003eslice\u003c/span\u003e   user.\u003cspan class=\"hljs-property\"\u003eslice\u003c/span\u003e\ncgroup.\u003cspan class=\"hljs-property\"\u003eprocs\u003c/span\u003e           cpu.\u003cspan class=\"hljs-property\"\u003ecfs_quota_us\u003c/span\u003e      cpuacct.\u003cspan class=\"hljs-property\"\u003estat\u003c/span\u003e  cpuacct.\u003cspan class=\"hljs-property\"\u003eusage_percpu\u003c/span\u003e  cpuacct.\u003cspan class=\"hljs-property\"\u003eusage_sys\u003c/span\u003e          notify_on_release   tasks\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eê·¸ë¦¬ê³  ì´ ì˜µì…˜ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì´ ì»¨í…Œì´ë„ˆì—ì„œ CPU ì‚¬ìš©ëŸ‰ì„ ì—„ê²©í•˜ê²Œ ì œì–´í•  ìˆ˜ ìˆê²Œ ë  ê²ƒì…ë‹ˆë‹¤. cgroup \"cpu:test-cgroup-medium\"ì„ í†µí•´:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: ubuntu\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: sleep \u003cspan class=\"hljs-number\"\u003e30\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003ecgroup_parent\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"cpu:test-cgroup-medium\"\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up -d\n\u003cspan class=\"hljs-title class_\"\u003eRecreating\u003c/span\u003e root_first_1 ... done\n$ docker inspect root_first_1 --format \u003cspan class=\"hljs-string\"\u003e'{.HostConfig.CgroupParent}'\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003ecpu\u003c/span\u003e:test-cgroup-medium\n$\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003econtainer_name\u003c/h2\u003e\n\u003cp\u003eì´ ì˜µì…˜ì— ëŒ€í•´ ë¡œì¼“ ê³¼í•™ê°™ì€ ê²ƒì€ ì—†ìŠµë‹ˆë‹¤. ì´ ì˜µì…˜ì€ Docker Compose ë°°í¬ì—ì„œ ìƒì„±ëœ ì»¨í…Œì´ë„ˆì˜ ì´ë¦„ì„ ê³ ì •í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ì „ì— ì–¸ê¸‰í•œ ë°”ì™€ ê°™ì´, ê¸°ë³¸ì ìœ¼ë¡œ Docker ComposeëŠ” ì»¨í…Œì´ë„ˆì— ì ‘ë¯¸ì‚¬ë¥¼ ì¶”ê°€í•˜ë©° ì´ëŠ” Docker Compose í”„ë¡œì íŠ¸ì˜ ì´ë¦„ê³¼ ì¼ì¹˜í•©ë‹ˆë‹¤ (í”„ë¡œì íŠ¸ ì´ë¦„ì„ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•˜ì§€ ì•ŠëŠ” ê²½ìš° Docker Composeê°€ í˜„ì¬ ê²½ë¡œë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¼ìŠµë‹ˆë‹¤).\u003c/p\u003e\n\u003cp\u003eë”°ë¼ì„œ Docker Composeì˜ ì´ ë™ì‘ì„ ì¬ì •ì˜í•˜ê³  ìƒì„±ëœ ì»¨í…Œì´ë„ˆì— ìì²´ì ìœ¼ë¡œ ì •ì˜í•œ ì‚¬ìš©ì ì •ì˜ ì´ë¦„ì„ ì§€ì •í•˜ë ¤ë©´ container_nameì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆì‹œ:\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: ubuntu\n    \u003cspan class=\"hljs-attr\"\u003econtainer_name\u003c/span\u003e: my-own-container-name\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\nê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ \u003cspan class=\"hljs-string\"\u003e\"mediumcom_default\"\u003c/span\u003e ë„¤íŠ¸ì›Œí¬ ìƒì„± ì¤‘\nmy-own-container-name ìƒì„± ì™„ë£Œ\nmy-own-container-nameì— ì—°ê²° ì¤‘\nmy-own-container-nameì—ì„œ ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eìœ¼ë¡œ ì¢…ë£Œë¨\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eP.S.: ë„¤, ê¶ê¸ˆí•´í•˜ì‹¤ ìˆ˜ë„ ìˆì§€ë§Œ, ì´ Docker Compose ë°°í¬ ë‚´ì˜ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆë“¤ì€ ì»¨í…Œì´ë„ˆ ì´ë¦„ì— ì˜í•´ ì„œë¡œì—ê²Œ ë„ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆ:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: sleep \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003econtainer_name\u003c/span\u003e: my-own-container-name\n  \u003cspan class=\"hljs-attr\"\u003esecond\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: ping -c \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e my-own-container-name\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\nmy-own-container-nameì„ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_second_1 ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_second_1, my-own-container-nameì— ì—°ê²° ì¤‘\nsecond_1  | my-own-container-\u003cspan class=\"hljs-title function_\"\u003ename\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e172.18\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.3\u003c/span\u003e) í•‘ ì¤‘: \u003cspan class=\"hljs-number\"\u003e56\u003c/span\u003e data bytes\nsecond_1  | \u003cspan class=\"hljs-number\"\u003e64\u003c/span\u003e bytes \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e172.18\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.3\u003c/span\u003e: seq=\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e ttl=\u003cspan class=\"hljs-number\"\u003e64\u003c/span\u003e time=\u003cspan class=\"hljs-number\"\u003e0.743\u003c/span\u003e ms\nsecond_1  |\nsecond_1  | --- my-own-container-name í•‘ í†µê³„ ---\nsecond_1  | ì „ì†¡ëœ íŒ¨í‚·: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, ìˆ˜ì‹ ëœ íŒ¨í‚·: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, íŒ¨í‚· ì†ì‹¤: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e%\nsecond_1  | ì™•ë³µ ìµœì†Œ/í‰ê· /ìµœëŒ€ ì‹œê°„ = \u003cspan class=\"hljs-number\"\u003e0.743\u003c/span\u003e/\u003cspan class=\"hljs-number\"\u003e0.743\u003c/span\u003e/\u003cspan class=\"hljs-number\"\u003e0.743\u003c/span\u003e ms\nmediumcom_second_1ì´ ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eìœ¼ë¡œ ì¢…ë£Œë¨\nmy-own-container-nameì´ ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eìœ¼ë¡œ ì¢…ë£Œë¨\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003edepends_on\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eë¨¼ì € ë§í•˜ìë©´, ì•„ë‹ˆìš”, ì´ ì˜µì…˜ì€ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹œì‘ ìˆœì„œë¥¼ ì œì–´í•  ìˆ˜ ìˆê²Œ í•´ì£¼ì§€ ì•Šì•„ìš”! ë§ì€ ì‚¬ëŒë“¤ì´ í•˜ëŠ” ì‹¤ìˆ˜ì£ . í•˜ì§€ë§Œ ìƒê°í•´ë³´ì„¸ìš”â€¦ ë‹¹ì‹ ì˜ ì»¨í…Œì´ë„ˆëŠ” ë‚´ë¶€ì—ì„œ í•˜ë‚˜ ì´ìƒì˜ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•˜ê³  ìˆê¸° ë•Œë¬¸ì—, Docker(ì»¨í…Œì´ë„ˆë¥¼ ê´€ë¦¬í•˜ëŠ” ì£¼ì²´)ê°€ í•´ë‹¹ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜/í”„ë¡œì„¸ìŠ¤ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì™„ë²½íˆ ì´í•´í•˜ê³  ìˆë‹¤ê³  ê°€ì •í•˜ëŠ” ê²ƒì€ ìˆœì§„í•œ íŒë‹¨ì¼ ê±°ì˜ˆìš”.\u003c/p\u003e\n\u003cp\u003eì´ê²ƒì€ ë¯¸ë¬˜í•œ ì°¨ì´ê°€ ìˆì§€ë§Œ, ì´ ì˜µì…˜ì´ í•˜ëŠ” ì¼ì€ ëŒ€ì‹ ì— Docker Composeì—ê²Œ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•˜ê³  ì¤‘ì§€í•  ë•Œì˜ ìˆœì„œë¥¼ ëª…ì‹œí•˜ëŠ” ê²ƒë¿ì´ì—ìš”.\u003c/p\u003e\n\u003cp\u003eì˜ˆì‹œ:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003edepends_on\u003c/span\u003e:\n     - second\n  \u003cspan class=\"hljs-attr\"\u003esecond\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003edepends_on\u003c/span\u003e:\n     - first\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e network \u003cspan class=\"hljs-string\"\u003e\"mediumcom_default\"\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e the \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e driver\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e mediumcom_second_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e mediumcom_first_1  ... done\n\u003cspan class=\"hljs-title class_\"\u003eAttaching\u003c/span\u003e to mediumcom_second_1, mediumcom_first_1\nmediumcom_second_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\nmediumcom_first_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eë´ìš”! ë‘ ë²ˆì§¸ì— ì˜ì¡´í•˜ëŠ” ì²« ë²ˆì§¸ ì»¨í…Œì´ë„ˆê°€ ë¨¼ì € ì‹œì‘ë˜ë¯€ë¡œ, ë‘ ë²ˆì§¸ ì»¨í…Œì´ë„ˆê°€ ë¨¼ì € ì‹œì‘ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë©ˆì¶œ ë•Œë„ ë§ˆì°¬ê°€ì§€ â€” ë¨¼ì € ì˜ì¡´í•˜ëŠ” ì²« ë²ˆì§¸ê°€ ìˆê¸° ë•Œë¬¸ì— ë‘ ë²ˆì§¸ê°€ ë§ˆì§€ë§‰ìœ¼ë¡œ ë‚´ë ¤ê°‘ë‹ˆë‹¤!\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ docker-compose down\nmediumcom_first_1  ... ì‚­ì œë¨\nmediumcom_second_1 ... ì‚­ì œë¨\nmediumcom_default ë„¤íŠ¸ì›Œí¬ ì œê±°ë¨\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì¶”ì‹ : ë§Œì•½ í˜¼ëˆì„ ì¦ê¸´ë‹¤ë©´, ë‘ ë²ˆì§¸ë„ ì²« ë²ˆì§¸ì— ì˜ì¡´í•˜ë„ë¡ ë§Œë“¤ì—ˆë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”? ğŸ˜ ê±±ì • ë§ˆì„¸ìš”, DockerëŠ” ë˜‘ë˜‘í•´ì„œ ë‹¤ìŒê³¼ ê°™ì€ ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì¤„ ê±°ì˜ˆìš”:\u003c/p\u003e\n\u003ch2\u003eë³¼ë¥¨\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eë„ì»¤ ë³¼ë¥¨ì— ëŒ€í•´ ìì„¸íˆ ì„¤ëª…í•˜ì§€ ì•Šì„ ê±°ì˜ˆìš”. ì´ ì£¼ì œëŠ” ê½¤ í¬ê±°ë“ ìš”. ë‹¨ì§€ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°ì´í„°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” 4ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤ëŠ” ê²ƒë§Œ ë§ì”€ë“œë¦´ê²Œìš”:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eì»¨í…Œì´ë„ˆì˜ ì“°ê¸° ê°€ëŠ¥í•œ ë ˆì´ì–´ ë‚´ì— ëª¨ë“  ë°ì´í„°ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤ (ë³¼ë¥¨ ì—†ìŒ)\u003c/li\u003e\n\u003cli\u003eí˜¸ìŠ¤íŠ¸ì™€ ì»¨í…Œì´ë„ˆ ì‚¬ì´ì— ë§ˆìš´íŠ¸ ì§€ì ì„ ë§Œë“­ë‹ˆë‹¤ (ë°”ì¸ë“œ ë§ˆìš´íŠ¸)\u003c/li\u003e\n\u003cli\u003eì»¨í…Œì´ë„ˆì˜ ìˆ˜ëª…ì£¼ê¸°ì™€ ë…ë¦½ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ í˜¸ìŠ¤íŒ…í•˜ê³  ê´€ë¦¬í•˜ëŠ” ì „ìš© ë„ì»¤ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ (ë³¼ë¥¨)\u003c/li\u003e\n\u003cli\u003eì„±ëŠ¥ì„ ìµœì í™”í•˜ê¸° ìœ„í•´ ë°ì´í„°ë¥¼ ì˜êµ¬ ì €ì¥í•˜ì§€ ì•Šê³  ë©”ëª¨ë¦¬ì— ìœ ì§€í•©ë‹ˆë‹¤ (tmpfs).\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eì´ë ‡ê²Œ ë§ì”€ë“œë¦° ë°”ì™€ ê°™ì´ Compose íŒŒì¼ì—ì„œ ì´ëŸ¬í•œ íƒ€ì…ì˜ ë³¼ë¥¨ì„ ëª¨ë‘ ê´€ë¦¬í•  ìˆ˜ ìˆì–´ìš”. ì§€ê¸ˆê¹Œì§€ ëª¨ë“  ì˜ˆì œëŠ” ì»¨í…Œì´ë„ˆì˜ ì“°ê¸° ê°€ëŠ¥í•œ ë ˆì´ì–´ë¥¼ ì‚¬ìš©í–ˆì§€ë§Œ, ë‚˜ë¨¸ì§€ 3ê°€ì§€ ë°ì´í„° ê´€ë¦¬ ì˜µì…˜ì„ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: ls /\n    \u003cspan class=\"hljs-attr\"\u003evolumes\u003c/span\u003e:\n     - \u003cspan class=\"hljs-regexp\"\u003e/:/my\u003c/span\u003e-hostfs\n     - my-\u003cspan class=\"hljs-attr\"\u003evolume\u003c/span\u003e:/my-volume\n     - \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e: tmpfs\n       \u003cspan class=\"hljs-attr\"\u003etarget\u003c/span\u003e: /my-tmpfs\n\u003cspan class=\"hljs-attr\"\u003evolumes\u003c/span\u003e:\n  my-\u003cspan class=\"hljs-attr\"\u003evolume\u003c/span\u003e:\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e network \u003cspan class=\"hljs-string\"\u003e\"test_default\"\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e the \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e driver\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e volume \u003cspan class=\"hljs-string\"\u003e\"test_my-volume\"\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e driver\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e test_first_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eAttaching\u003c/span\u003e to test_first_1\nfirst_1  | bin\nfirst_1  | dev\nfirst_1  | etc\nfirst_1  | home\nfirst_1  | lib\nfirst_1  | media\nfirst_1  | mnt\nfirst_1  | my-hostfs\nfirst_1  | my-tmpfs\nfirst_1  | my-volume\nfirst_1  | opt\nfirst_1  | proc\nfirst_1  | root\nfirst_1  | run\nfirst_1  | sbin\nfirst_1  | srv\nfirst_1  | sys\nfirst_1  | tmp\nfirst_1  | usr\nfirst_1  | \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e\ntest_first_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì—¬ê¸°ì— ì„¸ ê°€ì§€ ë‹¤ë¥¸ ìœ í˜•ì˜ ë§ˆìš´íŠ¸ê°€ í•œêº¼ë²ˆì— ë‚˜ì™”ì–´ìš”. ê·¸ëŸ°ë° ì•Œì•„ë‘ì…¨ë‚˜ìš”? ì œê°€ 3ê°€ì§€ ë‹¤ë¥¸ êµ¬ë¬¸ì„ ì‚¬ìš©í–ˆì–´ìš”... ì„ í˜¸í•˜ëŠ” ê²ƒì´ë‚˜ ë§ˆìš´íŠ¸ì— ê°€ì¥ ì í•©í•œ ê²ƒì„ ì„ íƒí•  ìˆ˜ ìˆì–´ìš” (ì—¬ê¸°ì—ì„œ ë” ìì„¸íˆ ì½ì„ ìˆ˜ ìˆì–´ìš”).\u003c/p\u003e\n\u003cp\u003eì¶”ê°€ë¡œ, tmpfsë„ ì „ìš© ì˜µì…˜ì„ í†µí•´ ì„¤ì •í•  ìˆ˜ ìˆì–´ìš”... ì˜ˆì œë¥¼ ë³´ë ¤ë©´ ë‹¤ìŒ ì„¹ì…˜ì„ ì½ì–´ë³´ì„¸ìš”.\u003c/p\u003e\n\u003ch2\u003etmpfs\u003c/h2\u003e\n\u003cp\u003eì´ë¯¸ ì´ì „ ì„¹ì…˜ì—ì„œ ì„¤ëª…í–ˆì§€ë§Œ, ì•Œì•„ë‘ì‹œë©´ ì¢‹ì•„ìš”. ì´ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ìœ„í•œ ë¹„ì˜êµ¬ì  ë§ˆìš´íŠ¸ í¬ì¸íŠ¸ë¥¼ ì„¤ì •í•˜ëŠ” ë˜ ë‹¤ë¥¸ ê°„ë‹¨í•œ ë°©ë²•ì¼ ë¿ì´ì—ìš”:\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-sh\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e \u003edocker-compose.yml \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-string\"\u003eEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: ls /\n    tmpfs: /my-tmpfs\nEOF\u003c/span\u003e\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì²¨ë¶€ ì¤‘\nfirst_1  | bin\nfirst_1  | dev\nfirst_1  | etc\nfirst_1  | home\nfirst_1  | lib\nfirst_1  | media\nfirst_1  | mnt\nfirst_1  | my-tmpfs\nfirst_1  | opt\nfirst_1  | proc\nfirst_1  | root\nfirst_1  | run\nfirst_1  | sbin\nfirst_1  | srv\nfirst_1  | sys\nfirst_1  | tmp\nfirst_1  | usr\nfirst_1  | var\nmediumcom_first_1ê°€ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eë””ë°”ì´ìŠ¤\u003c/h2\u003e\n\u003cp\u003eê·¸ ì´ë¦„ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´, ì´ ì˜µì…˜ì€ ì»¨í…Œì´ë„ˆê°€ ì‹œìŠ¤í…œ ë””ë°”ì´ìŠ¤ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤. ì´ ê²ƒì´ ì¼ë°˜ì ì¸ ë°”ì¸ë“œ-ë§ˆìš´íŠ¸ì™€ ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€ ê¶ê¸ˆí•  ê²ƒì…ë‹ˆë‹¤. ë‹¨ìˆœíˆ ë””ë°”ì´ìŠ¤ë¥¼ ì»¨í…Œì´ë„ˆì— ë°”ì¸ë“œ-ë§ˆìš´íŠ¸í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œìš”? ìŒ, ê·¸ë ‡ê³  ê·¸ë ‡ì§€ ì•ŠìŠµë‹ˆë‹¤... ì»¨í…Œì´ë„ˆê°€ í•´ë‹¹ ë””ë°”ì´ìŠ¤ë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤. ë””ë°”ì´ìŠ¤ íŒŒì¼ì€ ì¼ë°˜ íŒŒì¼ ë° ë””ë ‰í† ë¦¬ì™€ ì•½ê°„ ë‹¤ë¥´ë©° (/dev í´ë” ì•„ë˜ì—ì„œ ì¼ë°˜ íŒŒì¼ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ), ë””ë°”ì´ìŠ¤ íŒŒì¼ì€ ë””ë°”ì´ìŠ¤ ë“œë¼ì´ë²„ ë° ë¬¼ë¦¬ ë””ë°”ì´ìŠ¤ë¡œì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ë¯€ë¡œ ë” ì„¸ë¶„í™”ëœ ì•¡ì„¸ìŠ¤ ì œì–´ê°€ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” cgroupsë¥¼ í†µí•´ ê´€ë¦¬ë˜ë©°(ì—¬ê¸°ì—ì„œ ë” ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤).\u003c/p\u003e\n\u003cp\u003eìš”ì•½í•˜ë©´, ì»¨í…Œì´ë„ˆê°€ íŠ¹ê¶Œ ëª¨ë“œì—ì„œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ê²½ìš°ì—ë„ ì´ ì˜µì…˜ì„ í†µí•´ íŠ¹ì • ë””ë°”ì´ìŠ¤ íŒŒì¼ì— ëŒ€í•œ ì»¨í…Œì´ë„ˆ ì•¡ì„¸ìŠ¤ë¥¼ ë¶€ì—¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eìš°ë¦¬ ì»´í“¨í„°ì— ì›¹ìº ì´ ì—°ê²°ë˜ì–´ ìˆë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ lsusb -s 001:003\nBus 001 Device 003: ID 046d:0826 Logitech, Inc. HD Webcam C525\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eê·¸ë¦¬ê³  ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì›¹ìº ì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ì§„ì„ ì°ê³  ì‹¶ì–´í•©ë‹ˆë‹¤. ë‹¤ìŒ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê³ ë ¤í•´ë³´ì„¸ìš”:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eë¨¼ì €, ì˜µì…˜ì„ ì ìš©í•˜ì§€ ì•Šê³  ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì›¹ìº ì— ì•¡ì„¸ìŠ¤í•´ë³´ê² ìŠµë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: ccordeiro/\u003cspan class=\"hljs-attr\"\u003efswebcam\u003c/span\u003e:armv7l\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: fswebcam -r 640x480 --jpeg \u003cspan class=\"hljs-number\"\u003e85\u003c/span\u003e -D \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e picture.\u003cspan class=\"hljs-property\"\u003ejpg\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\në„¤íŠ¸ì›Œí¬ \u003cspan class=\"hljs-string\"\u003e\"tmp_default\"\u003c/span\u003eë¥¼ ê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ ìƒì„±ì¤‘\ntmp_first_1 ë¥¼ ìƒì„±ì¤‘... ì™„ë£Œ\ntmp_first_1 ì— ì—°ê²°ì¤‘\nfirst_1  | --- \u003cspan class=\"hljs-regexp\"\u003e/dev/\u003c/span\u003evideo0 ì—´ê¸° ì¤‘...\nfirst_1  | \u003cspan class=\"hljs-attr\"\u003estat\u003c/span\u003e: í•´ë‹¹ íŒŒì¼ ë˜ëŠ” ë””ë ‰í„°ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤\nfirst_1  | tmp_first_1ì´ ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eìœ¼ë¡œ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eâ€¦ê·¸ëŸ¬ë‚˜ ë¶„ëª…íˆ ì»¨í…Œì´ë„ˆì—ëŠ” ì–´ë–¤ ì¥ì¹˜ë„ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤â€¦\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eë‘ ë²ˆì§¸ë¡œ, ì¥ì¹˜ íŒŒì¼ì„ ë°”ì¸ë“œ ë§ˆìš´íŠ¸í•´ ë´…ì‹œë‹¤\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: ccordeiro/\u003cspan class=\"hljs-attr\"\u003efswebcam\u003c/span\u003e:armv7l\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: fswebcam -r 640x480 --jpeg \u003cspan class=\"hljs-number\"\u003e85\u003c/span\u003e -D \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e picture.\u003cspan class=\"hljs-property\"\u003ejpg\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003evolumes\u003c/span\u003e:\n     - \u003cspan class=\"hljs-regexp\"\u003e/dev/\u003c/span\u003e\u003cspan class=\"hljs-attr\"\u003evideo0\u003c/span\u003e:\u003cspan class=\"hljs-regexp\"\u003e/dev/\u003c/span\u003evideo0\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\ntmp_first_1 ì¬ìƒì„±ì¤‘... ì™„ë£Œ\ntmp_first_1 ì— ì—°ê²°ì¤‘\nfirst_1  | --- \u003cspan class=\"hljs-regexp\"\u003e/dev/\u003c/span\u003evideo0 ì—´ê¸° ì¤‘...\nfirst_1  | v4l2 ëª¨ë“ˆ ì‹œë„ ì¤‘...\nfirst_1  | ê¸°ê¸° ì—´ê¸° ì‹¤íŒ¨: \u003cspan class=\"hljs-regexp\"\u003e/dev/\u003c/span\u003evideo0\nfirst_1  | ì—´ê¸°: ì‘ì—…ì„ í—ˆìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤\nfirst_1  | v4l1 ëª¨ë“ˆ ì‹œë„ì¤‘...\nfirst_1  | ê¸°ê¸° ì—´ê¸° ì‹¤íŒ¨: \u003cspan class=\"hljs-regexp\"\u003e/dev/\u003c/span\u003evideo0\nfirst_1  | ì—´ê¸°: ì‘ì—…ì„ í—ˆìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤\nfirst_1  | \u003cspan class=\"hljs-regexp\"\u003e/dev/\u003c/span\u003evideo0ì„ ì½ì„ ìˆ˜ ìˆëŠ” ì†ŒìŠ¤ ëª¨ë“ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\nfirst_1  | tmp_first_1ì´ ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eìœ¼ë¡œ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eâ€¦ìŒ, ì»¨í…Œì´ë„ˆëŠ” ë³´ì´ì§€ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì´ ì—†ë„¤ìš”.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eë§ˆì§€ë§‰ìœ¼ë¡œ ì¥ì¹˜ë¥¼ ì‚¬ìš©í•´ ë´…ì‹œë‹¤\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: ccordeiro/\u003cspan class=\"hljs-attr\"\u003efswebcam\u003c/span\u003e:armv7l\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: fswebcam -r 640x480 --jpeg \u003cspan class=\"hljs-number\"\u003e85\u003c/span\u003e -D \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e picture.\u003cspan class=\"hljs-property\"\u003ejpg\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003edevices\u003c/span\u003e:\n     - \u003cspan class=\"hljs-regexp\"\u003e/dev/\u003c/span\u003e\u003cspan class=\"hljs-attr\"\u003evideo0\u003c/span\u003e:\u003cspan class=\"hljs-regexp\"\u003e/dev/\u003c/span\u003evideo0\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\n\u003cspan class=\"hljs-title class_\"\u003eRecreating\u003c/span\u003e tmp_first_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eAttaching\u003c/span\u003e to tmp_first_1\nfirst_1  | --- \u003cspan class=\"hljs-title class_\"\u003eOpening\u003c/span\u003e /dev/video0...\nfirst_1  | \u003cspan class=\"hljs-title class_\"\u003eTrying\u003c/span\u003e source \u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e v4l2...\nfirst_1  | \u003cspan class=\"hljs-regexp\"\u003e/dev/\u003c/span\u003evideo0 opened.\nfirst_1  | \u003cspan class=\"hljs-title class_\"\u003eNo\u003c/span\u003e input was specified, using the first.\nfirst_1  | \u003cspan class=\"hljs-title class_\"\u003eDelaying\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e seconds.\nfirst_1  | --- \u003cspan class=\"hljs-title class_\"\u003eCapturing\u003c/span\u003e frame...\nfirst_1  | \u003cspan class=\"hljs-title class_\"\u003eCaptured\u003c/span\u003e frame \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0.00\u003c/span\u003e seconds.\nfirst_1  | --- \u003cspan class=\"hljs-title class_\"\u003eProcessing\u003c/span\u003e captured image...\nfirst_1  | \u003cspan class=\"hljs-title class_\"\u003eSetting\u003c/span\u003e output format to \u003cspan class=\"hljs-variable constant_\"\u003eJPEG\u003c/span\u003e, quality \u003cspan class=\"hljs-number\"\u003e85\u003c/span\u003e\nfirst_1  | \u003cspan class=\"hljs-title class_\"\u003eWriting\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eJPEG\u003c/span\u003e image to \u003cspan class=\"hljs-string\"\u003e'picture.jpg'\u003c/span\u003e.\nfirst_1  | tmp_first_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eê·¸ë¦¬ê³  ì„±ê³µì…ë‹ˆë‹¤!\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003enetwork_mode\u003c/h2\u003e\n\u003cp\u003eDockerì˜ ë„¤íŠ¸ì›Œí‚¹ ì‹œìŠ¤í…œì€ ë„¤íŠ¸ì›Œí‚¹ ë“œë¼ì´ë²„ì— ê¸°ë°˜í•˜ê³  ìˆëŠ” ê²ƒì„ ì•Œê³  ê³„ì‹¤ ê²ƒì…ë‹ˆë‹¤. ì´ ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë„¤íŠ¸ì›Œí¬ ëª¨ë“œë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì˜ˆë¥¼ ë“¤ì–´, ê¸°ë³¸ ë¸Œë¦¿ì§€ ë„¤íŠ¸ì›Œí¬ì— 1ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼, í˜¸ìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí¬ì— 1ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼, ì²« ë²ˆì§¸ ì»¨í…Œì´ë„ˆì™€ ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ì— 1ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼, ê·¸ë¦¬ê³  ì–´ë–¤ ë„¤íŠ¸ì›Œí¬ë„ ì—†ëŠ” ìƒíƒœë¡œ 1ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ ë°°í¬í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ì•„ë˜ëŠ” ì´ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: sh -c \u003cspan class=\"hljs-string\"\u003e'ifconfig eth0 \u0026#x26;\u0026#x26; sleep 5'\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003enetwork_mode\u003c/span\u003e: bridge\n  \u003cspan class=\"hljs-attr\"\u003esecond\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: ifconfig eth0\n    \u003cspan class=\"hljs-attr\"\u003enetwork_mode\u003c/span\u003e: host\n  \u003cspan class=\"hljs-attr\"\u003ethird\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: ifconfig eth0\n    \u003cspan class=\"hljs-attr\"\u003edepends_on\u003c/span\u003e:\n     - first\n    \u003cspan class=\"hljs-attr\"\u003enetwork_mode\u003c/span\u003e: \u003cspan class=\"hljs-attr\"\u003eservice\u003c/span\u003e:first\n  \u003cspan class=\"hljs-attr\"\u003efourth\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: ifconfig eth0\n    \u003cspan class=\"hljs-attr\"\u003enetwork_mode\u003c/span\u003e: none\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e mediumcom_first_1  ... done\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e mediumcom_fourth_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e mediumcom_second_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e mediumcom_third_1  ... done\n\u003cspan class=\"hljs-title class_\"\u003eAttaching\u003c/span\u003e to mediumcom_second_1, mediumcom_fourth_1, mediumcom_first_1, mediumcom_third_1\nfirst_1   | eth0      \u003cspan class=\"hljs-title class_\"\u003eLink\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eencap\u003c/span\u003e:\u003cspan class=\"hljs-title class_\"\u003eEthernet\u003c/span\u003e  \u003cspan class=\"hljs-title class_\"\u003eHWaddr\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e02\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e42\u003c/span\u003e:\u003cspan class=\"hljs-attr\"\u003eAC\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e02\u003c/span\u003e\nfirst_1   |           inet \u003cspan class=\"hljs-attr\"\u003eaddr\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e172.17\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.2\u003c/span\u003e  \u003cspan class=\"hljs-title class_\"\u003eBcast\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e172.17\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.255\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.255\u003c/span\u003e  \u003cspan class=\"hljs-title class_\"\u003eMask\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e255.255\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\n...\nfourth_1  | \u003cspan class=\"hljs-attr\"\u003eifconfig\u003c/span\u003e: \u003cspan class=\"hljs-attr\"\u003eeth0\u003c/span\u003e: error fetching interface \u003cspan class=\"hljs-attr\"\u003einformation\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eDevice\u003c/span\u003e not found\n...\nsecond_1  | eth0      \u003cspan class=\"hljs-title class_\"\u003eLink\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eencap\u003c/span\u003e:\u003cspan class=\"hljs-title class_\"\u003eEthernet\u003c/span\u003e  \u003cspan class=\"hljs-title class_\"\u003eHWaddr\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e02\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e50\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e01\u003c/span\u003e\nsecond_1  |           inet \u003cspan class=\"hljs-attr\"\u003eaddr\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.65\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.3\u003c/span\u003e  \u003cspan class=\"hljs-title class_\"\u003eBcast\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.65\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.255\u003c/span\u003e  \u003cspan class=\"hljs-title class_\"\u003eMask\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e255.255\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.255\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\n...\nthird_1   | eth0      \u003cspan class=\"hljs-title class_\"\u003eLink\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eencap\u003c/span\u003e:\u003cspan class=\"hljs-title class_\"\u003eEthernet\u003c/span\u003e  \u003cspan class=\"hljs-title class_\"\u003eHWaddr\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e02\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e42\u003c/span\u003e:\u003cspan class=\"hljs-attr\"\u003eAC\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e02\u003c/span\u003e\nthird_1   |           inet \u003cspan class=\"hljs-attr\"\u003eaddr\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e172.17\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.2\u003c/span\u003e  \u003cspan class=\"hljs-title class_\"\u003eBcast\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e172.17\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.255\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.255\u003c/span\u003e  \u003cspan class=\"hljs-title class_\"\u003eMask\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e255.255\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\n...\nmediumcom_fourth_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\nmediumcom_second_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\nmediumcom_third_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\nmediumcom_first_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eê·¸ë˜ì„œ, ë¬´ìŠ¨ ì¼ì´ ìˆì—ˆë‚˜ìš”? ì´ë¥¼ ê°„ë‹¨íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eì²« ë²ˆì§¸ ì»¨í…Œì´ë„ˆëŠ” ë¸Œë¦¬ì§€ ëª¨ë“œë¡œ ë“¤ì–´ê°€ì„œ ìì²´ eth0 ê°œì¸ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í• ë‹¹ ë°›ì•˜ìŠµë‹ˆë‹¤(IP 172.17.0.2ë¡œ, Docker ë¸Œë¦¬ì§€ ì„œë¸Œë„·ì˜ ì¼ë¶€ì…ë‹ˆë‹¤).\u003c/li\u003e\n\u003cli\u003eë‘ ë²ˆì§¸ ì»¨í…Œì´ë„ˆëŠ” í˜¸ìŠ¤íŠ¸ ëª¨ë“œë¡œ ë“¤ì–´ê°€ì„œ í˜¸ìŠ¤íŠ¸ì™€ ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ ìˆ˜ì¤€ì—ì„œ ì‹¤í–‰ë˜ë¯€ë¡œ í˜¸ìŠ¤íŠ¸ì˜ ëª¨ë“  ë„¤íŠ¸ì›Œí‚¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eì„¸ ë²ˆì§¸ ì»¨í…Œì´ë„ˆëŠ” ì²« ë²ˆì§¸ ê²ƒê³¼ ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eë„¤ ë²ˆì§¸ ì»¨í…Œì´ë„ˆëŠ” ë„¤íŠ¸ì›Œí¬ê°€ ì—†ì–´ eth0 ì¸í„°í˜ì´ìŠ¤ë¥¼ ì°¾ì§€ ëª»í•˜ì—¬ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eë„¤íŠ¸ì›Œí¬\u003c/h2\u003e\n\u003cp\u003eì´ì œ ìœ„ì—ì„œ ì–¸ê¸‰í•œ ì˜µì…˜ì„ í™œìš©í•˜ì—¬, ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©ì ì •ì˜ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”(ê¸°ì¡´ ë„¤íŠ¸ì›Œí¬ ë˜ëŠ” ìƒˆë¡œ ìƒì„±í•œ ê²ƒ ì¤‘)? ê·¸ëŸ´ ë•ŒëŠ” networksë¥¼ ì‚¬ìš©í•˜ì„¸ìš”:\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ docker network create cjdc-test\n0f5e35bf6b8d396c45c19545540957fbc5fa15ba1ca0e5fbca4add3802c7db6d\n$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: sleep \u003cspan class=\"hljs-number\"\u003e30\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003enetworks\u003c/span\u003e:\n     - \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e-net\n  \u003cspan class=\"hljs-attr\"\u003esecond\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: sleep \u003cspan class=\"hljs-number\"\u003e30\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003enetworks\u003c/span\u003e:\n     - cjdc-test\n\u003cspan class=\"hljs-attr\"\u003enetworks\u003c/span\u003e:\n  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e-\u003cspan class=\"hljs-attr\"\u003enet\u003c/span\u003e:\n  cjdc-\u003cspan class=\"hljs-attr\"\u003etest\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eexternal\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: cjdc-test\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up -d\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e network \u003cspan class=\"hljs-string\"\u003e\"mediumcom_new-net\"\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e the \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e driver\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e mediumcom_second_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e mediumcom_first_1  ... done\n$ docker inspect --format \u003cspan class=\"hljs-string\"\u003e'{.NetworkSettings.Networks}'\u003c/span\u003e mediumcom_first_1\nmap[mediumcom_new-\u003cspan class=\"hljs-attr\"\u003enet\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0xc0004d8f00\u003c/span\u003e]\n$ docker inspect --format \u003cspan class=\"hljs-string\"\u003e'{.NetworkSettings.Networks}'\u003c/span\u003e mediumcom_second_1\nmap[cjdc-\u003cspan class=\"hljs-attr\"\u003etest\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0xc0003e8f00\u003c/span\u003e]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003edns\u003c/h2\u003e\n\u003cp\u003eIt basically lets you define a custom DNS server for your container. Example:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: cat /etc/resolv.\u003cspan class=\"hljs-property\"\u003econf\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003edns\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1.2\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.3\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.4\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003enetwork_mode\u003c/span\u003e: bridge\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\n\u003cspan class=\"hljs-title class_\"\u003eRecreating\u003c/span\u003e mediumcom_first_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eAttaching\u003c/span\u003e to mediumcom_first_1\nfirst_1  | nameserver \u003cspan class=\"hljs-number\"\u003e1.2\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.3\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.4\u003c/span\u003e\nmediumcom_first_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì£¼ì˜: ì‚¬ìš©ì ì •ì˜ ë„¤íŠ¸ì›Œí¬ì—ì„œëŠ” DNS ì˜µì…˜ì´ ê¸°ë³¸ì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë¸Œë¦¿ì§€ ë„¤íŠ¸ì›Œí¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003ch2\u003edns_search\u003c/h2\u003e\n\u003cp\u003eì—¬ê¸°ì—ì„œ ì‚¬ìš©ì ë§ì¶¤ DNS ê²€ìƒ‰ ë„ë©”ì¸ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: cat /etc/resolv.\u003cspan class=\"hljs-property\"\u003econf\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003edns_search\u003c/span\u003e: my.\u003cspan class=\"hljs-property\"\u003ecustom\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003edns\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003enetwork_mode\u003c/span\u003e: bridge\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\n\u003cspan class=\"hljs-title class_\"\u003eRecreating\u003c/span\u003e mediumcom_first_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eAttaching\u003c/span\u003e to mediumcom_first_1\nfirst_1  | search my.\u003cspan class=\"hljs-property\"\u003ecustom\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003edns\u003c/span\u003e\nfirst_1  | nameserver \u003cspan class=\"hljs-number\"\u003e192.168\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.65\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.5\u003c/span\u003e\nmediumcom_first_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003eenv_file\u003c/h2\u003e\n\u003cp\u003eì¼ë°˜ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆ í™˜ê²½ì„ í•˜ë‚˜ì”© ì„¤ì •í•˜ëŠ” ë° ìµìˆ™í•  ìˆ˜ ìˆì§€ë§Œ, í•œ ë²ˆì— ì´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë„ë¡ ëŒ€ì‹  íŒŒì¼ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003emy-env \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-title class_\"\u003eVAR1\u003c/span\u003e=value\n\u003cspan class=\"hljs-variable constant_\"\u003eMY_VAR_FROM_FILE\u003c/span\u003e=\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eFOO\u003c/span\u003e=\u003cspan class=\"hljs-variable constant_\"\u003eBAR\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: env\n    \u003cspan class=\"hljs-attr\"\u003eenv_file\u003c/span\u003e:\n     - my-env\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\nmediumcom_first_1 ë‹¤ì‹œ ë§Œë“¤ê¸° ... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²°\nfirst_1  | \u003cspan class=\"hljs-variable constant_\"\u003ePATH\u003c/span\u003e=\u003cspan class=\"hljs-regexp\"\u003e/usr/\u003c/span\u003elocal/\u003cspan class=\"hljs-attr\"\u003esbin\u003c/span\u003e:\u003cspan class=\"hljs-regexp\"\u003e/usr/\u003c/span\u003elocal/\u003cspan class=\"hljs-attr\"\u003ebin\u003c/span\u003e:\u003cspan class=\"hljs-regexp\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"hljs-attr\"\u003esbin\u003c/span\u003e:\u003cspan class=\"hljs-regexp\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"hljs-attr\"\u003ebin\u003c/span\u003e:\u003cspan class=\"hljs-regexp\"\u003e/sbin:/\u003c/span\u003ebin\nfirst_1  | \u003cspan class=\"hljs-variable constant_\"\u003eHOSTNAME\u003c/span\u003e=157e34e4fc64\nfirst_1  | \u003cspan class=\"hljs-title class_\"\u003eVAR1\u003c/span\u003e=value\nfirst_1  | \u003cspan class=\"hljs-variable constant_\"\u003eMY_VAR_FROM_FILE\u003c/span\u003e=\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\nfirst_1  | \u003cspan class=\"hljs-variable constant_\"\u003eFOO\u003c/span\u003e=\u003cspan class=\"hljs-variable constant_\"\u003eBAR\u003c/span\u003e\nfirst_1  | \u003cspan class=\"hljs-variable constant_\"\u003eHOME\u003c/span\u003e=/root\nmediumcom_first_1 ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eìœ¼ë¡œ ì¢…ë£Œ\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eenvironment\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì´ë¥¼ í†µí•´ ì»´í¬ì¦ˆ íŒŒì¼ì—ì„œ ì»¨í…Œì´ë„ˆì˜ í™˜ê²½ ë³€ìˆ˜ë¥¼ í•˜ë‚˜ì”© ì§ì ‘ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ì—¬ env_file ì˜µì…˜ì„ í†µí•´ ë¡œë“œë˜ëŠ” ë³€ìˆ˜ë¥¼ ì¬ì •ì˜í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: env\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\n\u003cspan class=\"hljs-title class_\"\u003eRecreating\u003c/span\u003e mediumcom_first_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eAttaching\u003c/span\u003e to mediumcom_first_1\nfirst_1  | \u003cspan class=\"hljs-variable constant_\"\u003ePATH\u003c/span\u003e=\u003cspan class=\"hljs-regexp\"\u003e/usr/\u003c/span\u003elocal/\u003cspan class=\"hljs-attr\"\u003esbin\u003c/span\u003e:\u003cspan class=\"hljs-regexp\"\u003e/usr/\u003c/span\u003elocal/\u003cspan class=\"hljs-attr\"\u003ebin\u003c/span\u003e:\u003cspan class=\"hljs-regexp\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"hljs-attr\"\u003esbin\u003c/span\u003e:\u003cspan class=\"hljs-regexp\"\u003e/usr/\u003c/span\u003e\u003cspan class=\"hljs-attr\"\u003ebin\u003c/span\u003e:\u003cspan class=\"hljs-regexp\"\u003e/sbin:/\u003c/span\u003ebin\nfirst_1  | \u003cspan class=\"hljs-variable constant_\"\u003eHOSTNAME\u003c/span\u003e=\u003cspan class=\"hljs-number\"\u003e68e909013198\u003c/span\u003e\nfirst_1  | \u003cspan class=\"hljs-variable constant_\"\u003eNEW_VAR\u003c/span\u003e=yes\nfirst_1  | \u003cspan class=\"hljs-variable constant_\"\u003eHOME\u003c/span\u003e=/root\nmediumcom_first_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eë…¸ì¶œ\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eë„ì»¤íŒŒì¼ê³¼ ìœ ì‚¬í•˜ê²Œ, ì´ ì˜µì…˜ì€ ì»¨í…Œì´ë„ˆì˜ í¬íŠ¸ë¥¼ í‘œì‹œí•˜ê³  ë‹¤ë¥¸ ì—°ê²°ëœ ì»¨í…Œì´ë„ˆì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: sleep \u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eexpose\u003c/span\u003e:\n     - \u003cspan class=\"hljs-number\"\u003e9876\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up -d\n\u003cspan class=\"hljs-title class_\"\u003eRecreating\u003c/span\u003e mediumcom_first_1 ... done\n$ docker ps\n\u003cspan class=\"hljs-variable constant_\"\u003eCONTAINER\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eID\u003c/span\u003e   \u003cspan class=\"hljs-variable constant_\"\u003eIMAGE\u003c/span\u003e     \u003cspan class=\"hljs-variable constant_\"\u003eCOMMAND\u003c/span\u003e      \u003cspan class=\"hljs-variable constant_\"\u003eCREATED\u003c/span\u003e          \u003cspan class=\"hljs-variable constant_\"\u003eSTATUS\u003c/span\u003e          \u003cspan class=\"hljs-variable constant_\"\u003ePORTS\u003c/span\u003e      \u003cspan class=\"hljs-variable constant_\"\u003eNAMES\u003c/span\u003e\n3be377f4bf6c   alpine    \u003cspan class=\"hljs-string\"\u003e\"sleep 20\"\u003c/span\u003e   \u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e seconds ago   \u003cspan class=\"hljs-title class_\"\u003eUp\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e16\u003c/span\u003e seconds   \u003cspan class=\"hljs-number\"\u003e9876\u003c/span\u003e/tcp   mediumcom_first_1\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eexternal_links\u003c/h2\u003e\n\u003cp\u003eì˜µì…˜ì„ ê±´ë„ˆë›°ì–´ì•¼ í•©ë‹ˆë‹¤. ì™œëƒí•˜ë©´ 1) ì´ê²ƒì€ ë ˆê±°ì‹œ ì˜µì…˜ì´ê¸° ë•Œë¬¸ì—, ê·¸ë¦¬ê³  2) ë™ì¼í•œ ê²°ê³¼ë¥¼ ì–»ê¸° ìœ„í•´ ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(ì¦‰, ì»¨í…Œì´ë„ˆë¥¼ ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ì— í¬í•¨ë˜ì–´ ìˆì§€ ì•Šì€ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì— ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤).\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003eextra_hosts\u003c/h2\u003e\n\u003cp\u003eì´ ê¸°ëŠ¥ì€ ì»¨í…Œì´ë„ˆì˜ /etc/hosts íŒŒì¼ì— ìƒˆ í•­ëª©ì„ ì¶”ê°€í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì»¨í…Œì´ë„ˆê°€ \"localhost\"ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ìŠ¤ìŠ¤ë¡œë¥¼ í˜¸ì¶œí•˜ë„ë¡ í•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: sh -c \u003cspan class=\"hljs-string\"\u003e'cat /etc/hosts; ping me -c 1'\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eextra_hosts\u003c/span\u003e:\n     - \u003cspan class=\"hljs-string\"\u003e\"myself:127.0.0.1\"\u003c/span\u003e\n     - \u003cspan class=\"hljs-string\"\u003e\"me:127.0.0.1\"\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\n\u003cspan class=\"hljs-title class_\"\u003eRecreating\u003c/span\u003e mediumcom_first_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eAttaching\u003c/span\u003e to mediumcom_first_1\nfirst_1  | \u003cspan class=\"hljs-number\"\u003e127.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.1\u003c/span\u003e localhost\nfirst_1  | ::\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e localhost ip6-localhost ip6-loopback\nfirst_1  | \u003cspan class=\"hljs-attr\"\u003efe00\u003c/span\u003e::\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e ip6-localnet\nfirst_1  | \u003cspan class=\"hljs-attr\"\u003eff00\u003c/span\u003e::\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e ip6-mcastprefix\nfirst_1  | \u003cspan class=\"hljs-attr\"\u003eff02\u003c/span\u003e::\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e ip6-allnodes\nfirst_1  | \u003cspan class=\"hljs-attr\"\u003eff02\u003c/span\u003e::\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e ip6-allrouters\nfirst_1  | \u003cspan class=\"hljs-number\"\u003e127.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.1\u003c/span\u003e myself\nfirst_1  | \u003cspan class=\"hljs-number\"\u003e127.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.1\u003c/span\u003e me\nfirst_1  | \u003cspan class=\"hljs-number\"\u003e172.22\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.2\u003c/span\u003e 01d566c4380a\nfirst_1  | \u003cspan class=\"hljs-variable constant_\"\u003ePING\u003c/span\u003e me (\u003cspan class=\"hljs-number\"\u003e127.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.1\u003c/span\u003e): \u003cspan class=\"hljs-number\"\u003e56\u003c/span\u003e data bytes\nfirst_1  | \u003cspan class=\"hljs-number\"\u003e64\u003c/span\u003e bytes \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e127.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.1\u003c/span\u003e: seq=\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e ttl=\u003cspan class=\"hljs-number\"\u003e64\u003c/span\u003e time=\u003cspan class=\"hljs-number\"\u003e1.192\u003c/span\u003e ms\nfirst_1  |\nfirst_1  | --- me ping statistics ---\nfirst_1  | \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e packets transmitted, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e packets received, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e% packet loss\nfirst_1  | round-trip min/avg/max = \u003cspan class=\"hljs-number\"\u003e1.192\u003c/span\u003e/\u003cspan class=\"hljs-number\"\u003e1.192\u003c/span\u003e/\u003cspan class=\"hljs-number\"\u003e1.192\u003c/span\u003e ms\nmediumcom_first_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003ehealthcheck\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eë‹¹ì—°íˆ, ì´ê²ƒì€ ë„ì»¤ íŒŒì¼ ì˜µì…˜ê³¼ ë§¤ìš° ìœ ì‚¬í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤. ë„ì»¤ê°€ ì»¨í…Œì´ë„ˆê°€ \"healthy(ê±´ê°•í•œ)\"ì¸ì§€ ì•„ë‹Œì§€ í‰ê°€í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ì ì •ì˜ í™•ì¸ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eê·¸ëŸ¬ë‹ˆê¹Œ, /tmpì— medium.txtë¼ëŠ” íŒŒì¼ì´ ìˆì„ ë•Œë§Œ ìš°ë¦¬ ì»¨í…Œì´ë„ˆê°€ ê±´ê°•í•œ ê²ƒìœ¼ë¡œ ê°„ì£¼ë©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: sh -c \u003cspan class=\"hljs-string\"\u003e'touch /tmp/NOT_MY_FILE; sleep 10'\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003ehealthcheck\u003c/span\u003e:\n      \u003cspan class=\"hljs-attr\"\u003etest\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"[ -f /tmp/medium.txt ]\"\u003c/span\u003e\n      # run asap\n      \u003cspan class=\"hljs-attr\"\u003einterval\u003c/span\u003e: 1s\n      \u003cspan class=\"hljs-attr\"\u003etimeout\u003c/span\u003e: 5s\n      \u003cspan class=\"hljs-attr\"\u003eretries\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n      \u003cspan class=\"hljs-attr\"\u003estart_period\u003c/span\u003e: 0s\n  \u003cspan class=\"hljs-attr\"\u003esecond\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: sh -c \u003cspan class=\"hljs-string\"\u003e'touch /tmp/medium.txt; sleep 10'\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003ehealthcheck\u003c/span\u003e:\n      \u003cspan class=\"hljs-attr\"\u003etest\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"[ -f /tmp/medium.txt ]\"\u003c/span\u003e\n      # run asap\n      \u003cspan class=\"hljs-attr\"\u003einterval\u003c/span\u003e: 1s\n      \u003cspan class=\"hljs-attr\"\u003etimeout\u003c/span\u003e: 5s\n      \u003cspan class=\"hljs-attr\"\u003eretries\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n      \u003cspan class=\"hljs-attr\"\u003estart_period\u003c/span\u003e: 0s\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up -d\n\u003cspan class=\"hljs-title class_\"\u003eRecreating\u003c/span\u003e mediumcom_first_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e mediumcom_second_1  ... done\n$ docker ps\n\u003cspan class=\"hljs-variable constant_\"\u003eCONTAINER\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eID\u003c/span\u003e   \u003cspan class=\"hljs-variable constant_\"\u003eIMAGE\u003c/span\u003e     \u003cspan class=\"hljs-variable constant_\"\u003eCOMMAND\u003c/span\u003e                  \u003cspan class=\"hljs-variable constant_\"\u003eCREATED\u003c/span\u003e         \u003cspan class=\"hljs-variable constant_\"\u003eSTATUS\u003c/span\u003e                     \u003cspan class=\"hljs-variable constant_\"\u003ePORTS\u003c/span\u003e     \u003cspan class=\"hljs-variable constant_\"\u003eNAMES\u003c/span\u003e\nb8804cbb440d   alpine    \u003cspan class=\"hljs-string\"\u003e\"sh -c 'touch /tmp/Nâ€¦\"\u003c/span\u003e   \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e seconds ago   \u003cspan class=\"hljs-title class_\"\u003eUp\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e seconds (unhealthy)             mediumcom_first_1\n604a6880f3c6   alpine    \u003cspan class=\"hljs-string\"\u003e\"sh -c 'touch /tmp/mâ€¦\"\u003c/span\u003e   \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e seconds ago   \u003cspan class=\"hljs-title class_\"\u003eUp\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e seconds (healthy)               mediumcom_second_1\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eê·¸ëŸ°ë° ì—¬ê¸°ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, ì²˜ìŒ ê²ƒì€ ê±´ê°•í•˜ì§€ ì•Šì§€ë§Œ ë‘ ë²ˆì§¸ëŠ” ê±´ê°•í•˜ë‹¤ê³  ë‚˜ì˜µë‹ˆë‹¤. í•„ìš”í•œ íŒŒì¼ì´ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ì— ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003eì´ˆê¸°í™”\u003c/h2\u003e\n\u003cp\u003eì´ë¥¼ í†µí•´ Dockerì—ê²Œ ì»¨í…Œì´ë„ˆì— ëŒ€í•œ initë¥¼ ì‚¬ìš©í• ì§€ ì—¬ë¶€ë¥¼ ì•Œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì°¸ì¼ ê²½ìš°, DockerëŠ” tini ê¸°ë°˜ì˜ docker-initì´ë¼ëŠ” initì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. ì°¨ì´ë¥¼ ì‚´í´ë´…ì‹œë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: ps -a\n    \u003cspan class=\"hljs-attr\"\u003einit\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\nmediumcom_first_1 ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì°¸ì—¬ ì¤‘\nfirst_1  | \u003cspan class=\"hljs-variable constant_\"\u003ePID\u003c/span\u003e   \u003cspan class=\"hljs-variable constant_\"\u003eUSER\u003c/span\u003e     \u003cspan class=\"hljs-variable constant_\"\u003eTIME\u003c/span\u003e  \u003cspan class=\"hljs-variable constant_\"\u003eCOMMAND\u003c/span\u003e\nfirst_1  |     \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e root      \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e ps -a\nmediumcom_first_1ì€ ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eìœ¼ë¡œ ì¢…ë£Œë¨\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eê·¸ëŸ¬ë‚˜ ì´ˆê¸°í™”ë¥¼ í™œì„±í™”í•˜ë©´ ì´ì™€ ê°™ì€ í”„ë¡œì„¸ìŠ¤ ë˜í¼ë¥¼ ì–»ê²Œ ë˜ë©°, ì´ëŠ” PID 1ë¡œ ì¶”ê°€ ê¸°ëŠ¥ì´ ìˆëŠ” ê²½ìš° (ì´ ê²½ìš°ì—ëŠ” docker-init)ì…ë‹ˆë‹¤:\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e$ cat \u003edocker-compose.yml \u0026#x3C;\u0026#x3C;EOF\nversion: \"3\"\nservices:\nfirst:\nimage: alpine\ncommand: ps -a\ninit: true\nEOF\n$ docker-compose up\nStarting mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1 | PID USER TIME COMMAND\nfirst_1 | 1 root 0:00 /sbin/docker-init -- ps -a\nfirst_1 | 8 root 0:00 ps -a\nmediumcom_first_1 exited with code 0\u003c/p\u003e\n\u003ch2\u003eê²©ë¦¬\u003c/h2\u003e\n\u003cp\u003eë¦¬ëˆ…ìŠ¤ì˜ ê²½ìš°, ì´ ì˜µì…˜ì€ í•­ìƒ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. ìœˆë„ìš°ì˜ ê²½ìš° ë” ë§ì€ ì˜µì…˜ì´ ìˆì§€ë§Œ, ì•„ì‰½ê²Œë„ ì—¬ëŸ¬ë¶„ì„ ìœ„í•œ ì˜ˆì œë¥¼ ì‹¤í–‰í•  ìœˆë„ìš° ë¨¸ì‹ ì´ ì—†ìŠµë‹ˆë‹¤ ğŸ˜› ìœˆë„ìš° ì‚¬ìš©ìë¶„ë“¤ ì£„ì†¡í•´ìš”!\u003c/p\u003e\n\u003ch2\u003eë ˆì´ë¸”\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì½˜í…Œì´ë„ˆì— ë ˆì´ë¸”ì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ì´ ì˜µì…˜ì˜ ì´ë¦„ì²˜ëŸ¼:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: sleep \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003elabels\u003c/span\u003e:\n     - \u003cspan class=\"hljs-string\"\u003e\"foo=bar\"\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up -d\n\u003cspan class=\"hljs-title class_\"\u003eRecreating\u003c/span\u003e mediumcom_first_1 ... done\n$ docker ps --filter \u003cspan class=\"hljs-string\"\u003e'label=foo=bar'\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eCONTAINER\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eID\u003c/span\u003e   \u003cspan class=\"hljs-variable constant_\"\u003eIMAGE\u003c/span\u003e     \u003cspan class=\"hljs-variable constant_\"\u003eCOMMAND\u003c/span\u003e      \u003cspan class=\"hljs-variable constant_\"\u003eCREATED\u003c/span\u003e          \u003cspan class=\"hljs-variable constant_\"\u003eSTATUS\u003c/span\u003e         \u003cspan class=\"hljs-variable constant_\"\u003ePORTS\u003c/span\u003e     \u003cspan class=\"hljs-variable constant_\"\u003eNAMES\u003c/span\u003e\n94e844176d76   alpine    \u003cspan class=\"hljs-string\"\u003e\"sleep 10\"\u003c/span\u003e   \u003cspan class=\"hljs-number\"\u003e30\u003c/span\u003e seconds ago   \u003cspan class=\"hljs-title class_\"\u003eUp\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e seconds             mediumcom_first_1\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eë§í¬\u003c/h2\u003e\n\u003cp\u003eì™¸ë¶€ ë§í¬ì— ëŒ€í•œ ë‚´ìš©ì€ ê³¼ê±°ì˜ ì˜µì…˜ì„ ê±´ë„ˆë›°ê² ìŠµë‹ˆë‹¤. ì»¨í…Œì´ë„ˆ ê°„ í†µì‹ ì€ ì‚¬ìš©ì ì •ì˜ ë„¤íŠ¸ì›Œí¬ë¡œ ì‰½ê²Œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003eë¡œê¹…\u003c/h2\u003e\n\u003cp\u003eì‹¤ì œë¡œ ì´ ì˜µì…˜ì´ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•´ìš”. ëŒ€ë¶€ë¶„ì˜ ì‚¬ìš©ìë“¤ì€ ë³´í†µ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸ì˜ í¬ê¸°ê°€ ê³„ì†í•´ì„œ ì»¤ì§€ê³  ìˆë‹¤ëŠ” ì‚¬ì‹¤ì— ì¶©ë¶„í•œ ì£¼ì˜ë¥¼ ê¸°ìš¸ì´ì§€ ì•ŠìŠµë‹ˆë‹¤. í˜¸ìŠ¤íŠ¸ ê³µê°„ì´ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ê°€ë“ ì°¨ì§€ ì•Šê¸°ë¥¼ ì›í•œë‹¤ë©´, ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¡œê·¸ë¥¼ ê¸°ë¡í•˜ëŠ” ë°©ì‹ë„ ì œì–´í•´ì•¼ í•©ë‹ˆë‹¤. Dockerë¥¼ í†µí•´ ì´ ë¡œê¹… ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ stdout ë¡œê·¸ë¥¼ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¡œê¹… ì¢…ë¥˜ ë¿ë§Œ ì•„ë‹ˆë¼ ë¡œê¹… í¬ê¸° ì œí•œ ë° ë¡œí…Œì´ì…˜ ë§¤ê°œë³€ìˆ˜ë„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: sh -c \u003cspan class=\"hljs-string\"\u003e'while true; do echo `date`; done'\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003elogging\u003c/span\u003e:\n      \u003cspan class=\"hljs-attr\"\u003eoptions\u003c/span\u003e:\n        max-\u003cspan class=\"hljs-attr\"\u003esize\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"50k\"\u003c/span\u003e\n        max-\u003cspan class=\"hljs-attr\"\u003efile\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"10\"\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up -d\ntmp_first_1ì„ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œë¨\n$ docker ps -f \u003cspan class=\"hljs-string\"\u003e'name=tmp_first_1'\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eCONTAINER\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eID\u003c/span\u003e   \u003cspan class=\"hljs-variable constant_\"\u003eIMAGE\u003c/span\u003e     \u003cspan class=\"hljs-variable constant_\"\u003eCOMMAND\u003c/span\u003e                  \u003cspan class=\"hljs-variable constant_\"\u003eCREATED\u003c/span\u003e         \u003cspan class=\"hljs-variable constant_\"\u003eSTATUS\u003c/span\u003e         \u003cspan class=\"hljs-variable constant_\"\u003ePORTS\u003c/span\u003e     \u003cspan class=\"hljs-variable constant_\"\u003eNAMES\u003c/span\u003e\n2ea63dd32607   alpine    \u003cspan class=\"hljs-string\"\u003e\"sh -c 'while true; â€¦\"\u003c/span\u003e   \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e minutes ago   \u003cspan class=\"hljs-title class_\"\u003eUp\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e minutes             tmp_first_1\n$\n$ du -h /\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e/lib/docker/containers/2ea63dd32607*\u003cspan class=\"hljs-comment\"\u003e/*log*\n20K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.1\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.2\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.3\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.4\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.5\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.6\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.7\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.8\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.9\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eê·¸ëŸ¬ë‹ˆê¹Œ ì´ ì˜ˆì œì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, DockerëŠ” ìµœëŒ€ 10ê°œì˜ ë¡œê·¸ íŒŒì¼ë§Œ ìœ ì§€í•˜ê³ , ê·¸ í¬ê¸°ê°€ ìš°ë¦¬ê°€ ì›í•˜ëŠ” 50 Kibibytes(= 52K)ë¥¼ ì´ˆê³¼í•˜ì§€ ì•ŠëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003ePID\u003c/h2\u003e\n\u003cp\u003eìš”ì²­ ì‹œ, ì»¨í…Œì´ë„ˆê°€ í˜¸ìŠ¤íŠ¸ì™€ PID ì£¼ì†Œ ê³µê°„ì„ ê³µìœ í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ì˜µì…˜ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: ps -a\n    \u003cspan class=\"hljs-attr\"\u003epid\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"host\"\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003esecond\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: ps -a\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e network \u003cspan class=\"hljs-string\"\u003e\"mediumcom_default\"\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e the \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e driver\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e mediumcom_second_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e mediumcom_first_1  ... done\n\u003cspan class=\"hljs-title class_\"\u003eAttaching\u003c/span\u003e to mediumcom_second_1, mediumcom_first_1\nsecond_1  | \u003cspan class=\"hljs-variable constant_\"\u003ePID\u003c/span\u003e   \u003cspan class=\"hljs-variable constant_\"\u003eUSER\u003c/span\u003e     \u003cspan class=\"hljs-variable constant_\"\u003eTIME\u003c/span\u003e  \u003cspan class=\"hljs-variable constant_\"\u003eCOMMAND\u003c/span\u003e\nsecond_1  |     \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e root      \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e ps -a\nfirst_1   | \u003cspan class=\"hljs-variable constant_\"\u003ePID\u003c/span\u003e   \u003cspan class=\"hljs-variable constant_\"\u003eUSER\u003c/span\u003e     \u003cspan class=\"hljs-variable constant_\"\u003eTIME\u003c/span\u003e  \u003cspan class=\"hljs-variable constant_\"\u003eCOMMAND\u003c/span\u003e\nfirst_1   |     \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e root      \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e07\u003c/span\u003e /sbin/init\nfirst_1   |     \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e root      \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e [kthreadd]\nfirst_1   |     \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e root      \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e [rcu_gp]\nfirst_1   |     \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e root      \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e [rcu_par_gp]\nfirst_1   |     \u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e root      \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e [kworker/\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:0H-ev]\nfirst_1   |     \u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e root      \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e [mm_percpu_wq]\nfirst_1   |     \u003cspan class=\"hljs-number\"\u003e9\u003c/span\u003e root      \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e [rcu_tasks_rude_]\nfirst_1   |    \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e root      \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e [rcu_tasks_trace]\nfirst_1   |    \u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e root      \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e [ksoftirqd/\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e]\nfirst_1   |    \u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e root      \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e [rcu_sched]\nfirst_1   |    \u003cspan class=\"hljs-number\"\u003e13\u003c/span\u003e root      \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e07\u003c/span\u003e [migration/\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e]\nfirst_1   |    \u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e root      \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e [cpuhp/\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e]\nfirst_1   |    \u003cspan class=\"hljs-number\"\u003e16\u003c/span\u003e root      \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e [cpuhp/\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e]\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì´ê²ƒì€ ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ í˜¸ìŠ¤íŠ¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ê´€ë¦¬í•˜ê³ (í¬í•¨í•˜ì—¬ ì¢…ë£Œ)í•  ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ì´ë¯€ë¡œ ì´ ì˜µì…˜ì„ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003eí¬íŠ¸\u003c/h2\u003e\n\u003cp\u003eê°€ì¥ ì¸ê¸° ìˆëŠ” ì˜µì…˜ ì¤‘ í•˜ë‚˜ì¸ ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ í¬íŠ¸ë¥¼ í˜¸ìŠ¤íŠ¸ë¡œ ê²Œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ì»¨í…Œì´ë„ˆê°€ ì´ë¯¸ \"í˜¸ìŠ¤íŠ¸\" ëª¨ë“œì—ì„œ ì‹¤í–‰ ì¤‘ì´ì§€ ì•Šì€ ê²½ìš°).\u003c/p\u003e\n\u003cp\u003eì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒê³¼ ê°™ì´ ê²Œì‹œí•˜ë ¤ëŠ” ê²½ìš°ë¥¼ ìƒê°í•´ ë´…ì‹œë‹¤:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eí¬íŠ¸ 3000ì„ ì„ì˜ì˜ í¬íŠ¸ë¡œ\u003c/li\u003e\n\u003cli\u003eí¬íŠ¸ ë²”ìœ„ 3005ë¶€í„° 3010ê¹Œì§€\u003c/li\u003e\n\u003cli\u003eë¡œì»¬í˜¸ìŠ¤íŠ¸ì˜ í¬íŠ¸ 80ì„ í¬íŠ¸ 80ìœ¼ë¡œë§Œ\u003c/li\u003e\n\u003cli\u003eëª¨ë“  í˜¸ìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤ì˜ í¬íŠ¸ 443ì„ í¬íŠ¸ 443ìœ¼ë¡œ\u003c/li\u003e\n\u003cli\u003eí˜¸ìŠ¤íŠ¸ì˜ í¬íŠ¸ 3011ì„ UDPë§Œì„ ì‚¬ìš©í•˜ì—¬ í¬íŠ¸ 9876ë¡œ\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: sleep \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eports\u003c/span\u003e:\n     - \u003cspan class=\"hljs-number\"\u003e3000\u003c/span\u003e\n     - \u003cspan class=\"hljs-number\"\u003e3005\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e3010\u003c/span\u003e\n     - \u003cspan class=\"hljs-number\"\u003e127.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.1\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e\n     - \u003cspan class=\"hljs-number\"\u003e443\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e443\u003c/span\u003e\n     - \u003cspan class=\"hljs-number\"\u003e9876\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e3011\u003c/span\u003e/udp\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up -d\nì¤‘ë³µ ì»¨í…Œì´ë„ˆ \u003cspan class=\"hljs-string\"\u003e\"mediumcom_second_1\"\u003c/span\u003eë¥¼ ì œê±°í•˜ëŠ” ì¤‘\nmediumcom_first_1ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. ... ì™„ë£Œ\n$ docker ps --format \u003cspan class=\"hljs-string\"\u003e'{.Ports}'\u003c/span\u003e\n\u003cspan class=\"hljs-number\"\u003e127.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.1\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e-\u003e\u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e/tcp, \u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e443\u003c/span\u003e-\u003e\u003cspan class=\"hljs-number\"\u003e443\u003c/span\u003e/tcp, \u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e61290\u003c/span\u003e-\u003e\u003cspan class=\"hljs-number\"\u003e3000\u003c/span\u003e/tcp, \u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e61292\u003c/span\u003e-\u003e\u003cspan class=\"hljs-number\"\u003e3005\u003c/span\u003e/tcp, \u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e61293\u003c/span\u003e-\u003e\u003cspan class=\"hljs-number\"\u003e3006\u003c/span\u003e/tcp, \u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e61294\u003c/span\u003e-\u003e\u003cspan class=\"hljs-number\"\u003e3007\u003c/span\u003e/tcp, \u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e61295\u003c/span\u003e-\u003e\u003cspan class=\"hljs-number\"\u003e3008\u003c/span\u003e/tcp, \u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e61296\u003c/span\u003e-\u003e\u003cspan class=\"hljs-number\"\u003e3009\u003c/span\u003e/tcp, \u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e61291\u003c/span\u003e-\u003e\u003cspan class=\"hljs-number\"\u003e3010\u003c/span\u003e/tcp, \u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e9876\u003c/span\u003e-\u003e\u003cspan class=\"hljs-number\"\u003e3011\u003c/span\u003e/udp\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003eí”„ë¡œí•„\u003c/h2\u003e\n\u003cp\u003e\"í”„ë¡œí•„\"ì€ ì»´í¬ì¦ˆ íŒŒì¼ ë‚´ì—ì„œ ì—­í• ì„ ë¶„ë¦¬í•  ìˆ˜ ìˆëŠ” ë©‹ì§„ ì œì–´ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. ìš°ë¦¬ê°€ ì»´í¬ì¦ˆ íŒŒì¼ ë‚´ì—ì„œ ì¼ë¶€ ì»¨í…Œì´ë„ˆê°€ ë§¤ìš° íŠ¹ì •í•œ ì„¤ì •í•˜ì—ì„œë§Œ ì‹¤í–‰ë˜ê±°ë‚˜ í•„ìš”í•  ë•Œë§Œ ì‹¤í–‰ë˜ë„ë¡ ì›í•œë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤ (ì¦‰, \"í”„ë¡œí•„\"ì´ë¼ê³ ë„ í•¨). ì´ê²ƒì´ í•  ìˆ˜ ìˆëŠ” ê²ƒì…ë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: nginx\n  \u003cspan class=\"hljs-attr\"\u003esecond\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: wget \u003cspan class=\"hljs-attr\"\u003ehttp\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//first\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eprofiles\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e\"debug\"\u003c/span\u003e]\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up -d\në„¤íŠ¸ì›Œí¬ \u003cspan class=\"hljs-string\"\u003e\"mediumcom_default\"\u003c/span\u003eë¥¼ ê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ ìƒì„± ì¤‘\nmediumcom_first_1 ìƒì„± ì™„ë£Œ\n$ # ë³´ì„¸ìš”? nginx ì»¨í…Œì´ë„ˆë§Œ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ \u003cspan class=\"hljs-string\"\u003e\"debug\"\u003c/span\u003eë¥¼ í™œì„±í™”í•´ ë´…ì‹œë‹¤\n$ docker-compose --profile debug up\nmediumcom_first_1 is up-to-date\nmediumcom_second_1 ìƒì„± ì™„ë£Œ\nmediumcom_first_1, mediumcom_second_1ì— ì²¨ë¶€\nsecond_1  | \u003cspan class=\"hljs-title function_\"\u003efirst\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e172.26\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.2\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e)ì— ì—°ê²° ì¤‘\nsecond_1  | \u003cspan class=\"hljs-string\"\u003e'index.html'\u003c/span\u003e ì €ì¥ ì¤‘\nsecond_1  | index.\u003cspan class=\"hljs-property\"\u003ehtml\u003c/span\u003e           \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e% |********************************|   \u003cspan class=\"hljs-number\"\u003e615\u003c/span\u003e  \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e ë‚¨ìŒ\nsecond_1  | \u003cspan class=\"hljs-string\"\u003e'index.html'\u003c/span\u003e ì €ì¥ë¨\nfirst_1   | \u003cspan class=\"hljs-regexp\"\u003e/docker-entrypoint.sh: /\u003c/span\u003edocker-entrypoint.\u003cspan class=\"hljs-property\"\u003ed\u003c/span\u003e/ê°€ ë¹„ì–´ ìˆì§€ ì•Šìœ¼ë¯€ë¡œ êµ¬ì„±ì„ ì‹œë„í•  ê²ƒì…ë‹ˆë‹¤\n(first_ì´í•˜ ìƒëµ)\nmediumcom_second_1ì´ ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eìœ¼ë¡œ ì¢…ë£Œë¨\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eì¬ì‹œì‘\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì»¨í…Œì´ë„ˆì˜ ì¬ì‹œì‘ ì •ì±…ì„ ì •ì˜í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤ (no, always, unless-stopped, on-failure ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒ).\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003erestart\u003c/span\u003e: on-failure\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: sleep \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003esecond\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: echo \u003cspan class=\"hljs-title class_\"\u003eHi\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e`date`\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003erestart\u003c/span\u003e: always\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e network \u003cspan class=\"hljs-string\"\u003e\"mediumcom_default\"\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e the \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e driver\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e mediumcom_first_1  ... done\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e mediumcom_second_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eAttaching\u003c/span\u003e to mediumcom_first_1, mediumcom_second_1\nsecond_1  | \u003cspan class=\"hljs-title class_\"\u003eHi\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTue\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eFeb\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e17\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e21\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eCET\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2022\u003c/span\u003e\nmediumcom_second_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\nsecond_1  | \u003cspan class=\"hljs-title class_\"\u003eHi\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTue\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eFeb\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e17\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e21\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eCET\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2022\u003c/span\u003e\nsecond_1  | \u003cspan class=\"hljs-title class_\"\u003eHi\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTue\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eFeb\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e17\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e21\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eCET\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2022\u003c/span\u003e\nmediumcom_second_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\nsecond_1  | \u003cspan class=\"hljs-title class_\"\u003eHi\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTue\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eFeb\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e17\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e21\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eCET\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2022\u003c/span\u003e\nsecond_1  | \u003cspan class=\"hljs-title class_\"\u003eHi\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTue\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eFeb\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e17\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e21\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eCET\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2022\u003c/span\u003e\nsecond_1  | \u003cspan class=\"hljs-title class_\"\u003eHi\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTue\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eFeb\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e17\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e21\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eCET\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2022\u003c/span\u003e\nmediumcom_second_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\nsecond_1  | \u003cspan class=\"hljs-title class_\"\u003eHi\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTue\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eFeb\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e17\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e21\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eCET\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2022\u003c/span\u003e\nsecond_1  | \u003cspan class=\"hljs-title class_\"\u003eHi\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTue\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eFeb\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e17\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e21\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eCET\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2022\u003c/span\u003e\nsecond_1  | \u003cspan class=\"hljs-title class_\"\u003eHi\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTue\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eFeb\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e17\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e21\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eCET\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2022\u003c/span\u003e\nsecond_1  | \u003cspan class=\"hljs-title class_\"\u003eHi\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTue\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eFeb\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e17\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e21\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eCET\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2022\u003c/span\u003e\nmediumcom_first_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eë³´ì•ˆ ì„¤ì •\u003c/h2\u003e\n\u003cp\u003eì´ ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆì˜ SELinux ë ˆì´ë¸”ì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e \u003edocker-compose.yml \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-string\"\u003eEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 30\n    security_opt:\n     - label:user:USER\n  second:\n    image: alpine\n    command: sleep 30\nEOF\u003c/span\u003e\n$ docker inspect mediumcom_first_1 --format \u003cspan class=\"hljs-string\"\u003e'{ .Id }: SecurityOpt={ .HostConfig.SecurityOpt }'\u003c/span\u003e\n2808e4b2ac6a6870b372ecf06da5ce0217efdd6d14df16cef4b332e1d4fb9b6a: SecurityOpt=[label:user:USER]\n$\n$ docker inspect mediumcom_second_1 --format \u003cspan class=\"hljs-string\"\u003e'{ .Id }: SecurityOpt={ .HostConfig.SecurityOpt }'\u003c/span\u003e\ned4c417b27257cc9f793d5d3dad94672074859dba90effddd0cde49f12dd4115: SecurityOpt=\u0026#x3C;no value\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003estop_grace_period\u003c/h2\u003e\n\u003cp\u003eê¸°ë³¸ì ìœ¼ë¡œ DockerëŠ” SIGTERMì„ ìˆ˜ì‹ í•œ í›„ 10ì´ˆ ë‚´ì— ì»¨í…Œì´ë„ˆê°€ ìì—°ìŠ¤ëŸ½ê²Œ ì¤‘ì§€ë˜ì§€ ì•Šìœ¼ë©´ ì»¨í…Œì´ë„ˆë¥¼ ê°•ì œë¡œ ì¢…ë£Œí•©ë‹ˆë‹¤ (ì˜ˆ: docker stopìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ì˜ë„ì ìœ¼ë¡œ ì¤‘ì§€ì‹œí‚¨ í›„). ì´ ì‹œê°„ ê°„ê²©ì„ stop grace periodë¼ê³  í•˜ë©° êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e \u003edocker-compose.yml \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-string\"\u003eEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sh -c 'while true; do sleep 5 \u0026#x26; done'\n  second:\n    image: alpine\n    command: sh -c 'while true; do sleep 5 \u0026#x26; done'\n    stop_grace_period: 1s\nEOF\u003c/span\u003e\n$ docker-compose up -d\nRecreating mediumcom_first_1  ... \u003cspan class=\"hljs-keyword\"\u003edone\u003c/span\u003e\nRecreating mediumcom_second_1 ... \u003cspan class=\"hljs-keyword\"\u003edone\u003c/span\u003e\n$ time docker stop mediumcom_first_1\nmediumcom_first_1\nreal 0m10.847s\nuser 0m0.205s\nsys 0m0.092s\n$ time docker stop mediumcom_second_1\nmediumcom_second_1\nreal 0m1.883s\nuser 0m0.192s\nsys 0m0.105s\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003estop_signal\u003c/h2\u003e\n\u003cp\u003eì•ì„œ ì–¸ê¸‰í•œ ì˜µì…˜ì—ì„œ SIGTERMì´ ë„ì»¤ ì»¨í…Œì´ë„ˆë¥¼ ì¤‘ì§€í•˜ëŠ” ê¸°ë³¸ ì‹ í˜¸ì„ì„ ì´ë¯¸ ì•Œì•˜ì„ ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì—¬ëŸ¬ë¶„ì€ \u003ccode\u003edocker stop\u003c/code\u003eì´ ì»¨í…Œì´ë„ˆ ì‘ìš© í”„ë¡œê·¸ë¨ìœ¼ë¡œ ì›í•˜ëŠ” ì‚¬ìš©ì ì •ì˜ ì‹ í˜¸ë¥¼ ì „ì†¡í•˜ë„ë¡ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: sleep \u003cspan class=\"hljs-number\"\u003e60\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003estop_signal\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eSIGUSR1\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up -d\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e network \u003cspan class=\"hljs-string\"\u003e\"mediumcom_default\"\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e the \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e driver\n\u003cspan class=\"hljs-title class_\"\u003eCreating\u003c/span\u003e mediumcom_first_1 ... done\n$ docker inspect mediumcom_first_1 --format \u003cspan class=\"hljs-string\"\u003e'{.Config.StopSignal}'\u003c/span\u003e\n\u003cspan class=\"hljs-title class_\"\u003eSIGUSR1\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003esysctls\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì´ ì˜µì…˜ì€ ì»¨í…Œì´ë„ˆì˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ëœ ì»¤ë„ ë§¤ê°œë³€ìˆ˜ë¥¼ ëŸ°íƒ€ì„ì—ì„œ êµ¬ì„±í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: sleep \u003cspan class=\"hljs-number\"\u003e60\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003esysctls\u003c/span\u003e:\n      net.\u003cspan class=\"hljs-property\"\u003ecore\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003esomaxconn\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1024\u003c/span\u003e\n      net.\u003cspan class=\"hljs-property\"\u003eipv4\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etcp_syncookies\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up -d\në„¤íŠ¸ì›Œí¬ \u003cspan class=\"hljs-string\"\u003e\"mediumcom_default\"\u003c/span\u003e ìƒì„± ì¤‘, ê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ ì„¤ì •\nmediumcom_first_1 ìƒì„± ì¤‘... ì™„ë£Œ\n$ docker inspect mediumcom_first_1 --format \u003cspan class=\"hljs-string\"\u003e'{json .HostConfig.Sysctls}'\u003c/span\u003e\n{\u003cspan class=\"hljs-string\"\u003e\"net.core.somaxconn\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"1024\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"net.ipv4.tcp_syncookies\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"0\"\u003c/span\u003e}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eulimits\u003c/h2\u003e\n\u003cp\u003eì»¨í…Œì´ë„ˆì˜ ê¸°ë³¸ ulimitsë¥¼ ì¬ì •ì˜í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: sleep \u003cspan class=\"hljs-number\"\u003e60\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eulimits\u003c/span\u003e:\n      \u003cspan class=\"hljs-attr\"\u003enproc\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e65535\u003c/span\u003e\n      \u003cspan class=\"hljs-attr\"\u003enofile\u003c/span\u003e:\n        \u003cspan class=\"hljs-attr\"\u003esoft\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e20000\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003ehard\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e40000\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up -d\n\u003cspan class=\"hljs-title class_\"\u003eRecreating\u003c/span\u003e mediumcom_first_1 ... done\n$ docker inspect mediumcom_first_1 --format \u003cspan class=\"hljs-string\"\u003e'{json .HostConfig.Ulimits}'\u003c/span\u003e\n[{\u003cspan class=\"hljs-string\"\u003e\"Name\"\u003c/span\u003e:\u003cspan class=\"hljs-string\"\u003e\"nproc\"\u003c/span\u003e,\u003cspan class=\"hljs-string\"\u003e\"Hard\"\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e65535\u003c/span\u003e,\u003cspan class=\"hljs-string\"\u003e\"Soft\"\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e65535\u003c/span\u003e},{\u003cspan class=\"hljs-string\"\u003e\"Name\"\u003c/span\u003e:\u003cspan class=\"hljs-string\"\u003e\"nofile\"\u003c/span\u003e,\u003cspan class=\"hljs-string\"\u003e\"Hard\"\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e40000\u003c/span\u003e,\u003cspan class=\"hljs-string\"\u003e\"Soft\"\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e20000\u003c/span\u003e}]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003euserns_mode\u003c/h2\u003e\n\u003cp\u003eë„ˆë¬´ ê¹Šê²Œ íŒŒê³ ë“¤ì§€ ì•Šê³  Docker ë°ëª¬ì—ì„œ ì‚¬ìš©ì ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ í™œì„±í™”í•œ ê²½ìš°, ë‹¨ì¼ ì»¨í…Œì´ë„ˆì—ì„œ ì‚¬ìš©ì ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ë¹„í™œì„±í™”í•˜ê²Œ í•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤. \u003ccode\u003euserns_mode: \"host\"\u003c/code\u003eë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.\u003c/p\u003e\n\u003ch2\u003euser\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì»¨í…Œì´ë„ˆ ì‘ìš©í”„ë¡œê·¸ë¨ì´ íŠ¹ì • ì‚¬ìš©ìë¡œ ì‹¤í–‰ë˜ë„ë¡ í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: whoami\n    \u003cspan class=\"hljs-attr\"\u003euser\u003c/span\u003e: nobody\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\n\u003cspan class=\"hljs-title class_\"\u003eRecreating\u003c/span\u003e mediumcom_first_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eAttaching\u003c/span\u003e to mediumcom_first_1\nfirst_1  | nobody\nmediumcom_first_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eworking_dir\u003c/h2\u003e\n\u003cp\u003eë„ì»¤ íŒŒì¼ì—ì„œ ë³¸ ì ì´ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆì˜ ëœë”© ê²½ë¡œ(PWD)ë¥¼ ì¬ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ì™€ ëª…ë ¹ì´ ì ˆëŒ€ ê²½ë¡œë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì—ë„ ë™ì‘ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: pwd\n    \u003cspan class=\"hljs-attr\"\u003eworking_dir\u003c/span\u003e: \u003cspan class=\"hljs-regexp\"\u003e/my/\u003c/span\u003ecustom/medium/dir\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²° ì¤‘\nfirst_1  | \u003cspan class=\"hljs-regexp\"\u003e/my/\u003c/span\u003ecustom/medium/dir\nmediumcom_first_1 ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eìœ¼ë¡œ ì¢…ë£Œë¨\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eë„ë©”ì¸ ì´ë¦„\u003c/h2\u003e\n\u003cp\u003eë‹¹ì‹ ì˜ ì»¨í…Œì´ë„ˆëŠ” í˜¸ìŠ¤íŠ¸ëª…ê³¼ ë„ë©”ì¸ëª…ì„ ê°€ì§€ê³  ìˆë‹¤ëŠ” ê²ƒì„ ì•„ì‹œì£ . í˜¸ìŠ¤íŠ¸ ëª¨ë“œê°€ ì•„ë‹ ë•Œ, í˜¸ìŠ¤íŠ¸ëª…ì€ ì»¨í…Œì´ë„ˆì˜ IDì™€ ë™ì¼í•˜ë©°, ë„ë©”ì¸ëª…ì€ ì˜ˆìƒëŒ€ë¡œ ì—†ì„ ê²ƒì…ë‹ˆë‹¤. ë„ë©”ì¸ëª…ì„ ì„¤ì •í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•˜ì„¸ìš”:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: hostname -f\n    \u003cspan class=\"hljs-attr\"\u003edomainname\u003c/span\u003e: cristovaocordeiro.\u003cspan class=\"hljs-property\"\u003emedium\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ecom\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²° ì¤‘\nfirst_1  | 6e900c697939.\u003cspan class=\"hljs-property\"\u003ecristovaocordeiro\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003emedium\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ecom\u003c/span\u003e\nmediumcom_first_1 ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eìœ¼ë¡œ ì¢…ë£Œë¨\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003eí˜¸ìŠ¤íŠ¸ì´ë¦„\u003c/h2\u003e\n\u003cp\u003eë‹¹ì—°íˆ ë„ë©”ì¸ ì´ë¦„ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤ë©´ ì»¨í…Œì´ë„ˆì˜ í˜¸ìŠ¤íŠ¸ ì´ë¦„ë„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µë˜ëŠ” \"ì¶©ê²©ì ì¸\" ID í˜•ì‹ ëŒ€ì‹  í˜¸ìŠ¤íŠ¸ ì´ë¦„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ ğŸ˜œ\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: hostname -f\n    \u003cspan class=\"hljs-attr\"\u003ehostname\u003c/span\u003e: test-container\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\n\u003cspan class=\"hljs-title class_\"\u003eRecreating\u003c/span\u003e mediumcom_first_1 ... done\n\u003cspan class=\"hljs-title class_\"\u003eAttaching\u003c/span\u003e to mediumcom_first_1\nfirst_1  | test-container\nmediumcom_first_1 exited \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e code \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eipc\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì»¨í…Œì´ë„ˆì˜ í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹ ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(ì„±ëŠ¥ ì¡°ì • ëª©ì ). ì´ ì˜µì…˜ì„ í†µí•´ ì»¨í…Œì´ë„ˆì˜ IPC ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: sleep \u003cspan class=\"hljs-number\"\u003e30\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eipc\u003c/span\u003e: shareable\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker inspect mediumcom_first_1 --format \u003cspan class=\"hljs-string\"\u003e'{json .HostConfig.IpcMode}'\u003c/span\u003e\n\u003cspan class=\"hljs-string\"\u003e\"shareable\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003emac_address\u003c/h2\u003e\n\u003cp\u003eì›í•˜ëŠ” ì»¨í…Œì´ë„ˆì— ì‚¬ìš©ì ì •ì˜ MAC ì£¼ì†Œë¥¼ ì„¤ì •í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\në²„ì „: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\nì„œë¹„ìŠ¤:\nÂ  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\nÂ  Â  ì´ë¯¸ì§€: alpine\nÂ  Â  ëª…ë ¹: ifconfig eth0\nÂ  Â  \u003cspan class=\"hljs-attr\"\u003emac_address\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-attr\"\u003eab\u003c/span\u003e:\u003cspan class=\"hljs-attr\"\u003ecd\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e34\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e56\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²° ì¤‘\nfirst_1  | eth0 \u003cspan class=\"hljs-title class_\"\u003eLink\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eencap\u003c/span\u003e:\u003cspan class=\"hljs-title class_\"\u003eEthernet\u003c/span\u003eÂ  \u003cspan class=\"hljs-title class_\"\u003eHWaddr\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e00\u003c/span\u003e:\u003cspan class=\"hljs-attr\"\u003eAB\u003c/span\u003e:\u003cspan class=\"hljs-attr\"\u003eCD\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e34\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e56\u003c/span\u003e Â \nfirst_1  | inet \u003cspan class=\"hljs-attr\"\u003eaddr\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e172.29\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.2\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eBcast\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e172.29\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.255\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.255\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMask\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e255.255\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e\nfirst_1  | \u003cspan class=\"hljs-variable constant_\"\u003eUP\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eBROADCAST\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eRUNNING\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eMULTICAST\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eMTU\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e1500\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMetric\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\nfirst_1  | \u003cspan class=\"hljs-variable constant_\"\u003eRX\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003epackets\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eerrors\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edropped\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eoverruns\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eframe\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\nfirst_1  | \u003cspan class=\"hljs-variable constant_\"\u003eTX\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003epackets\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eerrors\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edropped\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eoverruns\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ecarrier\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\nfirst_1  | \u003cspan class=\"hljs-attr\"\u003ecollisions\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etxqueuelen\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eÂ \nfirst_1  | \u003cspan class=\"hljs-variable constant_\"\u003eRX\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ebytes\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e200.0\u003c/span\u003e B)Â  \u003cspan class=\"hljs-variable constant_\"\u003eTX\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ebytes\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e (\u003cspan class=\"hljs-number\"\u003e0.0\u003c/span\u003e B)\nfirst_1  |\nmediumcom_first_1ê°€ ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eìœ¼ë¡œ ì¢…ë£Œë¨\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eíŠ¹ê¶Œì \u003c/h2\u003e\n\u003cp\u003eìœ„ì—ì„œ \"íŠ¹ê¶Œì \" ì»¨í…Œì´ë„ˆ ìƒíƒœë¥¼ ëª‡ ë²ˆ ë‹¤ë¤˜ìŠµë‹ˆë‹¤. ê°„ë‹¨íˆ ë§í•˜ë©´, (!!) í™•ì‹¤íˆ í™•ì‹ ì´ ìˆê³  ì»¨í…Œì´ë„ˆì— ê°€ëŠ¥í•œ ëª¨ë“  ê¸°ëŠ¥ì„ ë¶€ì—¬í•˜ê³  ì‹¶ë‹¤ë©´ (ë”°ë¼ì„œ í˜¸ìŠ¤íŠ¸ ì¥ì¹˜ ë° ê¸°íƒ€ ìì›ì— ì•¡ì„¸ìŠ¤ í•  ìˆ˜ ìˆìŒ), ì´ ì˜µì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\në²„ì „: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\nì„œë¹„ìŠ¤:\nÂ  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\nÂ  Â  ì´ë¯¸ì§€: alpine\nÂ  Â  ëª…ë ¹: sh -c \u003cspan class=\"hljs-string\"\u003e'ls /dev/ | wc -l'\u003c/span\u003e\nÂ  \u003cspan class=\"hljs-attr\"\u003esecond\u003c/span\u003e:\nÂ  Â  ì´ë¯¸ì§€: alpine\nÂ  Â  ëª…ë ¹: sh -c \u003cspan class=\"hljs-string\"\u003e'ls /dev/ | wc -l'\u003c/span\u003e\nÂ  Â  íŠ¹ê¶Œì : \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_second_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²° ì¤‘, mediumcom_second_1ì— ì—°ê²° ì¤‘\nfirst_1  | \u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e\nsecond_1  | \u003cspan class=\"hljs-number\"\u003e150\u003c/span\u003e\nmediumcom_first_1ê°€ ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eìœ¼ë¡œ ì¢…ë£Œë¨\nmediumcom_second_1ê°€ ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eìœ¼ë¡œ ì¢…ë£Œë¨\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003eì½ê¸° ì „ìš©\u003c/h2\u003e\n\u003cp\u003eì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•  ë•Œ ì½ê¸° ì „ìš© ì´ë¯¸ì§€ ë ˆì´ì–´ ìœ„ì— ì“°ê¸° ê°€ëŠ¥í•œ ë ˆì´ì–´ê°€ ìƒì„±ëœë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê³  ê³„ì‹¤ ê²ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ì“°ê¸° ê°€ëŠ¥í•œ ë ˆì´ì–´ë¥¼ ì½ê¸° ì „ìš©ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: touch /tmp/test\n  \u003cspan class=\"hljs-attr\"\u003esecond\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: touch /tmp/test\n    \u003cspan class=\"hljs-attr\"\u003eread_only\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\nmediumcom_first_1  ... done\nmediumcom_second_1 ... done\nmediumcom_first_1, mediumcom_second_1ì— ì—°ê²° ì¤‘\nsecond_1  | \u003cspan class=\"hljs-attr\"\u003etouch\u003c/span\u003e: \u003cspan class=\"hljs-regexp\"\u003e/tmp/\u003c/span\u003e\u003cspan class=\"hljs-attr\"\u003etest\u003c/span\u003e: ì½ê¸° ì „ìš© íŒŒì¼ ì‹œìŠ¤í…œ\nmediumcom_first_1 ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eìœ¼ë¡œ ì¢…ë£Œ\nmediumcom_second_1 ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003eë¡œ ì¢…ë£Œ\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eshm_size\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì»¨í…Œì´ë„ˆê°€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê³µìœ  ë©”ëª¨ë¦¬ ì–‘ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: df -h /dev/shm\n    \u003cspan class=\"hljs-attr\"\u003eshm_size\u003c/span\u003e: 123M\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²° ì¤‘\nfirst_1  | íŒŒì¼ ì‹œìŠ¤í…œ                í¬ê¸°      ì‚¬ìš©í•¨ ì‚¬ìš© ê°€ëŠ¥í•¨ ì‚¬ìš©ë¥  ë§ˆìš´íŠ¸ëœ ìœ„ì¹˜\nfirst_1  | shm                     \u003cspan class=\"hljs-number\"\u003e123.\u003c/span\u003e0M         \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e    \u003cspan class=\"hljs-number\"\u003e123.\u003c/span\u003e0M   \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e% \u003cspan class=\"hljs-regexp\"\u003e/dev/\u003c/span\u003eshm\nmediumcom_first_1ì€ ì½”ë“œ \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003eìœ¼ë¡œ ì¢…ë£Œë¨\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003estdin_open\u003c/h2\u003e\n\u003cp\u003eì´ëŠ” docker runì˜ -iì— í•´ë‹¹í•©ë‹ˆë‹¤. ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜¸ìŠ¤íŠ¸ì™€ ì»¨í…Œì´ë„ˆ ê°„ ìƒí˜¸ì‘ìš©ì´ ê°€ëŠ¥í•œ ì¸í„°ë™í‹°ë¸Œ ì„¸ì…˜ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e \u003edocker-compose.yml \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-string\"\u003eEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    stdin_open: true\nEOF\u003c/span\u003e\n$ docker-compose up -d\nRecreating mediumcom_first_1 ... \u003cspan class=\"hljs-keyword\"\u003edone\u003c/span\u003e\n$ docker attach mediumcom_first_1\n\u003cspan class=\"hljs-built_in\"\u003eecho\u003c/span\u003e Hello, I am sending commands to the container\nHello, I am sending commands to the container\n\u003cspan class=\"hljs-built_in\"\u003eexit\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eìœ„ì™€ ê°™ì´ ì»¨í…Œì´ë„ˆì™€ ìƒí˜¸ ì‘ìš©í•˜ê³  ìˆì§€ë§Œ í˜¸ìŠ¤íŠ¸ì™€ ì»¨í…Œì´ë„ˆ ì‚¬ì´ì— ì‹¤ì œë¡œ í„°ë¯¸ë„ ì„¸ì…˜ì´ ì—†ìŠµë‹ˆë‹¤... ê°„ë‹¨íˆ ë§í•´ì„œ íŒŒì´í”„ì¼ ë¿ì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003ch2\u003etty\u003c/h2\u003e\n\u003cp\u003eì´ê²ƒì€ ë„ì»¤ ì‹¤í–‰ì—ì„œì˜ -tì™€ ë™ë“±í•©ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆì— ê°€ìƒ ttyë¥¼ í• ë‹¹í•˜ê³  stdin_openê³¼ ê²°í•©í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ cat \u003edocker-compose.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eservices\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003efirst\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e: alpine\n    \u003cspan class=\"hljs-attr\"\u003estdin_open\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003etty\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eEOF\u003c/span\u003e\n$ docker-compose up -d\nmediumcom_first_1 ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ìƒì„±í•©ë‹ˆë‹¤... ì™„ë£Œ\n$ docker attach mediumcom_first_1\n/ # echo now \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e is a real terminal\nnow \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e is a real terminal\n/ # sleep \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e\n^C\n/ # echo $?\n\u003cspan class=\"hljs-number\"\u003e130\u003c/span\u003e\n/ # exit\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì´ì œ ìš°ë¦¬ëŠ” ì‹¤ì œ í„°ë¯¸ë„ê³¼ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ì„¸ì…˜ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì»¨í…Œì´ë„ˆ ì•ˆì—ì„œ ì›í•˜ëŠ” ì¼ì„ í•  ìˆ˜ ìˆì–´ìš”.\u003c/p\u003e\n\u003cp\u003eìš°ì™€... ì •ë§ ê¸´ ê¸°ì‚¬ì˜€ì£ . ì£„ì†¡í•©ë‹ˆë‹¤. ë°ì€ ë©´ì—ì„œ ë§í•˜ë©´, ì—¬ëŸ¬ ê¸°ì‚¬ë¥¼ ë„˜ë‚˜ë“¤ë©° ë‹¤ì–‘í•œ ì»´í¬ì¦ˆ íŒŒì¼ ì˜µì…˜ì´ ë¬´ì—‡ì„ í•˜ëŠ”ì§€ ì°¾ì•„ë³´ì§€ ì•Šì•„ë„ ë˜ê² ì£ ?\u003c/p\u003e\n\u003cp\u003eìŠ¤ì›œ ëª¨ë“œì—ì„œ ì„œë¹„ìŠ¤ì— íŠ¹ì •í•œ ì˜µì…˜(ë³€ìˆ˜ ì¹˜í™˜ ë° í™•ì¥ í•„ë“œ ê°™ì€ ê³ ìœ í•œ êµ¬ì¡°ì  ë…¸í•˜ìš°)ì„ ì¼ë¶€ ëºìŠµë‹ˆë‹¤. ì´ê²ƒë“¤ì€ ì„ íƒ ì‚¬í•­ì´ë©°, ë‹¤ë¥¸ ê¸°ì‚¬ì—ì„œ ë‹¤ë£° ìˆ˜ ìˆì–´ìš”.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì´ í…Œì´ë¸” íƒœê·¸ë¥¼ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•´ë“œë ¸ìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-23-TheWholeShebangComposeFiles"},"buildId":"wOkGEDZCvEs3S_XaNsdwr","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>