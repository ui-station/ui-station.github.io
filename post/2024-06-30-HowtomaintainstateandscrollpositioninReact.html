<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>React에서 상태 및 스크롤 위치를 유지하는 방법 | ui-station</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://ui-station.github.io///post/2024-06-30-HowtomaintainstateandscrollpositioninReact" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="React에서 상태 및 스크롤 위치를 유지하는 방법 | ui-station" data-gatsby-head="true"/><meta property="og:title" content="React에서 상태 및 스크롤 위치를 유지하는 방법 | ui-station" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-30-HowtomaintainstateandscrollpositioninReact_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://ui-station.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://ui-station.github.io///post/2024-06-30-HowtomaintainstateandscrollpositioninReact" data-gatsby-head="true"/><meta name="twitter:title" content="React에서 상태 및 스크롤 위치를 유지하는 방법 | ui-station" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-30-HowtomaintainstateandscrollpositioninReact_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | ui-station" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-30 22:40" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BHFR6GTH9P"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-BHFR6GTH9P');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-70e5ce89f3d962ac.js" defer=""></script><script src="/_next/static/wfHLuDA3kTGBYfaM5IGXk/_buildManifest.js" defer=""></script><script src="/_next/static/wfHLuDA3kTGBYfaM5IGXk/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">UI STATION</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">React에서 상태 및 스크롤 위치를 유지하는 방법</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="React에서 상태 및 스크롤 위치를 유지하는 방법" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">UI STATION</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 30, 2024</span><span class="posts_reading_time__f7YPP">5<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-30-HowtomaintainstateandscrollpositioninReact&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>가끔 뉴스 목록에서 뉴스 세부 페이지로 전환한 후 다시 돌아오면 상태와 스크롤 위치가 손실될 수 있습니다. 이를 방지하기 위해 페이지 간 이동 시 react-router-dom을 사용하여 값을 전달할 수 있습니다.</p>
<p>따라서 세부 페이지로 이동할 때 다음과 같이 상태 및 스크롤 위치를 전달하세요.</p>
<pre><code class="hljs language-js"><span class="hljs-title function_">navigate</span>(<span class="hljs-string">'/userDetails'</span>, {<span class="hljs-attr">state</span>: {<span class="hljs-attr">userLists</span>: data, scrollPosition, <span class="hljs-attr">userInfo</span>: info}})
</code></pre>
<p><code>div</code> 요소에서 스크롤 이벤트를 캡처하고 값을 업데이트하는 방법:</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js"> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleScroll</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-title function_">setScrollPosition</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">scrollTop</span>)
 }

&#x3C;div style={{<span class="hljs-attr">overflowY</span>: <span class="hljs-string">"scroll"</span>,<span class="hljs-attr">height</span>: <span class="hljs-string">'100vh'</span>}} ref={scrollRef} onScroll={handleScroll}>
</code></pre>
<p>유저가 뒤로 돌아갈 때, 상태를 다시 뉴스 페이지로 변경하세요:</p>
<pre><code class="hljs language-js"><span class="hljs-title function_">navigate</span>(<span class="hljs-string">'/news'</span>, { <span class="hljs-attr">state</span>: location.<span class="hljs-property">state</span> })
</code></pre>
<p>뉴스 컴포넌트에서 아래와 같이 데이터에 접근하고 업데이트하세요.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">()=></span> {
   <span class="hljs-keyword">if</span>(location.<span class="hljs-property">state</span>){
      <span class="hljs-keyword">const</span> {userLists,scrollPosition} = location.<span class="hljs-property">state</span>;  
      <span class="hljs-title function_">setData</span>(userLists)
      scrollRef.<span class="hljs-property">current</span>.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">'red'</span>
      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> {
        scrollRef.<span class="hljs-property">current</span>.<span class="hljs-property">scrollTop</span> = scrollPosition
      }, (<span class="hljs-number">10</span>));
   }<span class="hljs-keyword">else</span>{
      <span class="hljs-title function_">getDataFromApi</span>();
   }
},[])
</code></pre>
<p>기억하세요, setTimeout 내부의 코드는 잠시 지난 후에 실행되며 스크롤 위치를 조정하기 전에 DOM이 안정화됩니다.</p>
<p>그리고 다음은 이 기능을 적용하는 방법의 예시입니다.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> <span class="hljs-string">'./App.css'</span>;
<span class="hljs-keyword">import</span> { useEffect, useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span>, <span class="hljs-title class_">Route</span>, <span class="hljs-title class_">Routes</span>, useLocation, useNavigate } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">BrowserRouter</span>></span>
     <span class="hljs-tag">&#x3C;<span class="hljs-name">Routes</span>></span>
       <span class="hljs-tag">&#x3C;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/news"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&#x3C;<span class="hljs-attr">UserLists</span> /></span>}/>
       <span class="hljs-tag">&#x3C;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/userDetails"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&#x3C;<span class="hljs-attr">UserDetails</span> /></span>}/>
     <span class="hljs-tag">&#x3C;/<span class="hljs-name">Routes</span>></span>
    <span class="hljs-tag">&#x3C;/<span class="hljs-name">BrowserRouter</span>></span></span>
  );
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">UserLists</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> [data,setData] = <span class="hljs-title function_">useState</span>([]);
  <span class="hljs-keyword">const</span> [scrollPosition,setScrollPosition] = <span class="hljs-title function_">useState</span>();
  <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>();
  <span class="hljs-keyword">const</span> location = <span class="hljs-title function_">useLocation</span>();
  <span class="hljs-keyword">const</span> scrollRef = <span class="hljs-title function_">useRef</span>();

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">()=></span> {
    <span class="hljs-keyword">if</span>(location.<span class="hljs-property">state</span>){
      <span class="hljs-keyword">const</span> {userLists,scrollPosition} = location.<span class="hljs-property">state</span>;  
      <span class="hljs-title function_">setData</span>(userLists)
      scrollRef.<span class="hljs-property">current</span>.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">'red'</span>
      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> {
        scrollRef.<span class="hljs-property">current</span>.<span class="hljs-property">scrollTop</span> = scrollPosition
      }, (<span class="hljs-number">10</span>));
    }<span class="hljs-keyword">else</span>{
      <span class="hljs-title function_">getDataFromApi</span>();
    }
  },[])


  <span class="hljs-keyword">const</span> <span class="hljs-title function_">getDataFromApi</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) => {
    <span class="hljs-keyword">try</span>{
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">'https://reqres.in/api/users'</span>);
      <span class="hljs-title function_">setData</span>(res.<span class="hljs-property">data</span>.<span class="hljs-property">data</span>);
    }<span class="hljs-keyword">catch</span>(err){
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"error"</span>,err)
    }     
  }

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleScroll</span> = (<span class="hljs-params">event</span>) => {
    <span class="hljs-title function_">setScrollPosition</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">scrollTop</span>)
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"App"</span>></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{overflowY:</span> "<span class="hljs-attr">scroll</span>",<span class="hljs-attr">height:</span> '<span class="hljs-attr">100vh</span>'}} <span class="hljs-attr">ref</span>=<span class="hljs-string">{scrollRef}</span> <span class="hljs-attr">onScroll</span>=<span class="hljs-string">{handleScroll}</span>></span>
        {data.map((info) => {
          return (
            <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span>
              <span class="hljs-attr">style</span>=<span class="hljs-string">{{backgroundColor:</span> "<span class="hljs-attr">orange</span>"}}
              <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> {
                navigate('/userDetails',{state: {userLists: data,scrollPosition,userInfo: info}})
              }
            >
              <span class="hljs-tag">&#x3C;<span class="hljs-name">h2</span>></span>{info.email}<span class="hljs-tag">&#x3C;/<span class="hljs-name">h2</span>></span>
              <span class="hljs-tag">&#x3C;<span class="hljs-name">h2</span>></span>{info.first_name}<span class="hljs-tag">&#x3C;/<span class="hljs-name">h2</span>></span>
              <span class="hljs-tag">&#x3C;<span class="hljs-name">h2</span>></span>{info.last_name}<span class="hljs-tag">&#x3C;/<span class="hljs-name">h2</span>></span>
              <span class="hljs-tag">&#x3C;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{info.avatar}</span> /></span>
            <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
          )
        })}
      <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
    <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span></span>
  )
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">UserDetails</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> [userInfo,setUserInfo] = <span class="hljs-title function_">useState</span>();
  <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>();
  <span class="hljs-keyword">const</span> location = <span class="hljs-title function_">useLocation</span>();

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">()=></span> {
    <span class="hljs-keyword">if</span>(location.<span class="hljs-property">state</span>){
      <span class="hljs-keyword">const</span> {userInfo} = location.<span class="hljs-property">state</span>;
      <span class="hljs-title function_">setUserInfo</span>(userInfo)
    }
  })

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">div</span>></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">button</span>
        <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> {
          navigate('/news',{state: location.state})
        }
      >
        Go back to user lists
      <span class="hljs-tag">&#x3C;/<span class="hljs-name">button</span>></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span>
        <span class="hljs-attr">style</span>=<span class="hljs-string">{{backgroundColor:</span> "<span class="hljs-attr">skyblue</span>"}}
      ></span>
        <span class="hljs-tag">&#x3C;<span class="hljs-name">h2</span>></span>{userInfo?.email}<span class="hljs-tag">&#x3C;/<span class="hljs-name">h2</span>></span>
        <span class="hljs-tag">&#x3C;<span class="hljs-name">h2</span>></span>{userInfo?.first_name}<span class="hljs-tag">&#x3C;/<span class="hljs-name">h2</span>></span>
        <span class="hljs-tag">&#x3C;<span class="hljs-name">h2</span>></span>{userInfo?.last_name}<span class="hljs-tag">&#x3C;/<span class="hljs-name">h2</span>></span>
        <span class="hljs-tag">&#x3C;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{userInfo?.avatar}</span> /></span>
      <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
    <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;
</code></pre>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>그게 전부에요...</p>
<p>위의 방법은 사용자가 브라우저의 뒤로 가기 버튼을 누를 때 작동하지 않습니다. 이러한 경우에 작동하려면 로컬 스토리지에 상태와 스크롤 위치를 저장하고, 첫 렌더링 중에 useEffect에서 사용해야 합니다.</p>
<p>질문이 있으시면 응답 섹션에서 물어봐 주세요.</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"React에서 상태 및 스크롤 위치를 유지하는 방법","description":"","date":"2024-06-30 22:40","slug":"2024-06-30-HowtomaintainstateandscrollpositioninReact","content":"\n\n가끔 뉴스 목록에서 뉴스 세부 페이지로 전환한 후 다시 돌아오면 상태와 스크롤 위치가 손실될 수 있습니다. 이를 방지하기 위해 페이지 간 이동 시 react-router-dom을 사용하여 값을 전달할 수 있습니다.\n\n따라서 세부 페이지로 이동할 때 다음과 같이 상태 및 스크롤 위치를 전달하세요.\n\n```js\nnavigate('/userDetails', {state: {userLists: data, scrollPosition, userInfo: info}})\n```\n\n`div` 요소에서 스크롤 이벤트를 캡처하고 값을 업데이트하는 방법:\n\n\u003c!-- ui-station 사각형 --\u003e\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n function handleScroll(event) {\n    setScrollPosition(event.target.scrollTop)\n }\n\n\u003cdiv style={{overflowY: \"scroll\",height: '100vh'}} ref={scrollRef} onScroll={handleScroll}\u003e\n```\n\n유저가 뒤로 돌아갈 때, 상태를 다시 뉴스 페이지로 변경하세요:\n\n```js\nnavigate('/news', { state: location.state })\n```\n\n뉴스 컴포넌트에서 아래와 같이 데이터에 접근하고 업데이트하세요.\n\n\u003c!-- ui-station 사각형 --\u003e\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nuseEffect(()=\u003e {\n   if(location.state){\n      const {userLists,scrollPosition} = location.state;  \n      setData(userLists)\n      scrollRef.current.style.backgroundColor = 'red'\n      setTimeout(() =\u003e {\n        scrollRef.current.scrollTop = scrollPosition\n      }, (10));\n   }else{\n      getDataFromApi();\n   }\n},[])\n```\n\n기억하세요, setTimeout 내부의 코드는 잠시 지난 후에 실행되며 스크롤 위치를 조정하기 전에 DOM이 안정화됩니다.\n\n그리고 다음은 이 기능을 적용하는 방법의 예시입니다.\n\n```js\nimport './App.css';\nimport { useEffect, useRef, useState } from 'react';\nimport axios from 'axios';\nimport { BrowserRouter, Route, Routes, useLocation, useNavigate } from 'react-router-dom';\n\nfunction App() {\n\n  return (\n    \u003cBrowserRouter\u003e\n     \u003cRoutes\u003e\n       \u003cRoute path=\"/news\" element={\u003cUserLists /\u003e}/\u003e\n       \u003cRoute path=\"/userDetails\" element={\u003cUserDetails /\u003e}/\u003e\n     \u003c/Routes\u003e\n    \u003c/BrowserRouter\u003e\n  );\n}\n\nconst UserLists = () =\u003e {\n  const [data,setData] = useState([]);\n  const [scrollPosition,setScrollPosition] = useState();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const scrollRef = useRef();\n\n  useEffect(()=\u003e {\n    if(location.state){\n      const {userLists,scrollPosition} = location.state;  \n      setData(userLists)\n      scrollRef.current.style.backgroundColor = 'red'\n      setTimeout(() =\u003e {\n        scrollRef.current.scrollTop = scrollPosition\n      }, (10));\n    }else{\n      getDataFromApi();\n    }\n  },[])\n\n\n  const getDataFromApi = async () =\u003e {\n    try{\n      const res = await axios.get('https://reqres.in/api/users');\n      setData(res.data.data);\n    }catch(err){\n      console.log(\"error\",err)\n    }     \n  }\n\n  const handleScroll = (event) =\u003e {\n    setScrollPosition(event.target.scrollTop)\n  }\n\n  return (\n    \u003cdiv className=\"App\"\u003e\n      \u003cdiv style={{overflowY: \"scroll\",height: '100vh'}} ref={scrollRef} onScroll={handleScroll}\u003e\n        {data.map((info) =\u003e {\n          return (\n            \u003cdiv\n              style={{backgroundColor: \"orange\"}}\n              onClick={() =\u003e {\n                navigate('/userDetails',{state: {userLists: data,scrollPosition,userInfo: info}})\n              }\n            \u003e\n              \u003ch2\u003e{info.email}\u003c/h2\u003e\n              \u003ch2\u003e{info.first_name}\u003c/h2\u003e\n              \u003ch2\u003e{info.last_name}\u003c/h2\u003e\n              \u003cimg src={info.avatar} /\u003e\n            \u003c/div\u003e\n          )\n        })}\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n\nconst UserDetails = () =\u003e {\n  const [userInfo,setUserInfo] = useState();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(()=\u003e {\n    if(location.state){\n      const {userInfo} = location.state;\n      setUserInfo(userInfo)\n    }\n  })\n\n  return (\n    \u003cdiv\u003e\n      \u003cbutton\n        onClick={() =\u003e {\n          navigate('/news',{state: location.state})\n        }\n      \u003e\n        Go back to user lists\n      \u003c/button\u003e\n      \u003cdiv\n        style={{backgroundColor: \"skyblue\"}}\n      \u003e\n        \u003ch2\u003e{userInfo?.email}\u003c/h2\u003e\n        \u003ch2\u003e{userInfo?.first_name}\u003c/h2\u003e\n        \u003ch2\u003e{userInfo?.last_name}\u003c/h2\u003e\n        \u003cimg src={userInfo?.avatar} /\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n\nexport default App;\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n그게 전부에요...\n\n위의 방법은 사용자가 브라우저의 뒤로 가기 버튼을 누를 때 작동하지 않습니다. 이러한 경우에 작동하려면 로컬 스토리지에 상태와 스크롤 위치를 저장하고, 첫 렌더링 중에 useEffect에서 사용해야 합니다.\n\n질문이 있으시면 응답 섹션에서 물어봐 주세요.","ogImage":{"url":"/assets/img/2024-06-30-HowtomaintainstateandscrollpositioninReact_0.png"},"coverImage":"/assets/img/2024-06-30-HowtomaintainstateandscrollpositioninReact_0.png","tag":["Tech"],"readingTime":5},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e가끔 뉴스 목록에서 뉴스 세부 페이지로 전환한 후 다시 돌아오면 상태와 스크롤 위치가 손실될 수 있습니다. 이를 방지하기 위해 페이지 간 이동 시 react-router-dom을 사용하여 값을 전달할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e따라서 세부 페이지로 이동할 때 다음과 같이 상태 및 스크롤 위치를 전달하세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title function_\"\u003enavigate\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'/userDetails'\u003c/span\u003e, {\u003cspan class=\"hljs-attr\"\u003estate\u003c/span\u003e: {\u003cspan class=\"hljs-attr\"\u003euserLists\u003c/span\u003e: data, scrollPosition, \u003cspan class=\"hljs-attr\"\u003euserInfo\u003c/span\u003e: info}})\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003ediv\u003c/code\u003e 요소에서 스크롤 이벤트를 캡처하고 값을 업데이트하는 방법:\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehandleScroll\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eevent\u003c/span\u003e) {\n    \u003cspan class=\"hljs-title function_\"\u003esetScrollPosition\u003c/span\u003e(event.\u003cspan class=\"hljs-property\"\u003etarget\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003escrollTop\u003c/span\u003e)\n }\n\n\u0026#x3C;div style={{\u003cspan class=\"hljs-attr\"\u003eoverflowY\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"scroll\"\u003c/span\u003e,\u003cspan class=\"hljs-attr\"\u003eheight\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'100vh'\u003c/span\u003e}} ref={scrollRef} onScroll={handleScroll}\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e유저가 뒤로 돌아갈 때, 상태를 다시 뉴스 페이지로 변경하세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title function_\"\u003enavigate\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'/news'\u003c/span\u003e, { \u003cspan class=\"hljs-attr\"\u003estate\u003c/span\u003e: location.\u003cspan class=\"hljs-property\"\u003estate\u003c/span\u003e })\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e뉴스 컴포넌트에서 아래와 같이 데이터에 접근하고 업데이트하세요.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title function_\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e()=\u003e\u003c/span\u003e {\n   \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e(location.\u003cspan class=\"hljs-property\"\u003estate\u003c/span\u003e){\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e {userLists,scrollPosition} = location.\u003cspan class=\"hljs-property\"\u003estate\u003c/span\u003e;  \n      \u003cspan class=\"hljs-title function_\"\u003esetData\u003c/span\u003e(userLists)\n      scrollRef.\u003cspan class=\"hljs-property\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ebackgroundColor\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e'red'\u003c/span\u003e\n      \u003cspan class=\"hljs-built_in\"\u003esetTimeout\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n        scrollRef.\u003cspan class=\"hljs-property\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003escrollTop\u003c/span\u003e = scrollPosition\n      }, (\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e));\n   }\u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e{\n      \u003cspan class=\"hljs-title function_\"\u003egetDataFromApi\u003c/span\u003e();\n   }\n},[])\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e기억하세요, setTimeout 내부의 코드는 잠시 지난 후에 실행되며 스크롤 위치를 조정하기 전에 DOM이 안정화됩니다.\u003c/p\u003e\n\u003cp\u003e그리고 다음은 이 기능을 적용하는 방법의 예시입니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./App.css'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { useEffect, useRef, useState } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'react'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e axios \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'axios'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eBrowserRouter\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eRoute\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eRoutes\u003c/span\u003e, useLocation, useNavigate } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'react-router-dom'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eApp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eBrowserRouter\u003c/span\u003e\u003e\u003c/span\u003e\n     \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eRoutes\u003c/span\u003e\u003e\u003c/span\u003e\n       \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eRoute\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003epath\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"/news\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eelement\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{\u003c/span\u003e\u0026#x3C;\u003cspan class=\"hljs-attr\"\u003eUserLists\u003c/span\u003e /\u003e\u003c/span\u003e}/\u003e\n       \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eRoute\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003epath\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"/userDetails\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eelement\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{\u003c/span\u003e\u0026#x3C;\u003cspan class=\"hljs-attr\"\u003eUserDetails\u003c/span\u003e /\u003e\u003c/span\u003e}/\u003e\n     \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eRoutes\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eBrowserRouter\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eUserLists\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [data,setData] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e([]);\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [scrollPosition,setScrollPosition] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e();\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e navigate = \u003cspan class=\"hljs-title function_\"\u003euseNavigate\u003c/span\u003e();\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e location = \u003cspan class=\"hljs-title function_\"\u003euseLocation\u003c/span\u003e();\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e scrollRef = \u003cspan class=\"hljs-title function_\"\u003euseRef\u003c/span\u003e();\n\n  \u003cspan class=\"hljs-title function_\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e()=\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e(location.\u003cspan class=\"hljs-property\"\u003estate\u003c/span\u003e){\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e {userLists,scrollPosition} = location.\u003cspan class=\"hljs-property\"\u003estate\u003c/span\u003e;  \n      \u003cspan class=\"hljs-title function_\"\u003esetData\u003c/span\u003e(userLists)\n      scrollRef.\u003cspan class=\"hljs-property\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ebackgroundColor\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e'red'\u003c/span\u003e\n      \u003cspan class=\"hljs-built_in\"\u003esetTimeout\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n        scrollRef.\u003cspan class=\"hljs-property\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003escrollTop\u003c/span\u003e = scrollPosition\n      }, (\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e));\n    }\u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e{\n      \u003cspan class=\"hljs-title function_\"\u003egetDataFromApi\u003c/span\u003e();\n    }\n  },[])\n\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003egetDataFromApi\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e{\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e res = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e axios.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'https://reqres.in/api/users'\u003c/span\u003e);\n      \u003cspan class=\"hljs-title function_\"\u003esetData\u003c/span\u003e(res.\u003cspan class=\"hljs-property\"\u003edata\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003edata\u003c/span\u003e);\n    }\u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e(err){\n      \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"error\"\u003c/span\u003e,err)\n    }     \n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehandleScroll\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003eevent\u003c/span\u003e) =\u003e {\n    \u003cspan class=\"hljs-title function_\"\u003esetScrollPosition\u003c/span\u003e(event.\u003cspan class=\"hljs-property\"\u003etarget\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003escrollTop\u003c/span\u003e)\n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"App\"\u003c/span\u003e\u003e\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{{overflowY:\u003c/span\u003e \"\u003cspan class=\"hljs-attr\"\u003escroll\u003c/span\u003e\",\u003cspan class=\"hljs-attr\"\u003eheight:\u003c/span\u003e '\u003cspan class=\"hljs-attr\"\u003e100vh\u003c/span\u003e'}} \u003cspan class=\"hljs-attr\"\u003eref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{scrollRef}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonScroll\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{handleScroll}\u003c/span\u003e\u003e\u003c/span\u003e\n        {data.map((info) =\u003e {\n          return (\n            \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\n              \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{{backgroundColor:\u003c/span\u003e \"\u003cspan class=\"hljs-attr\"\u003eorange\u003c/span\u003e\"}}\n              \u003cspan class=\"hljs-attr\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{()\u003c/span\u003e =\u003e\u003c/span\u003e {\n                navigate('/userDetails',{state: {userLists: data,scrollPosition,userInfo: info}})\n              }\n            \u003e\n              \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eh2\u003c/span\u003e\u003e\u003c/span\u003e{info.email}\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eh2\u003c/span\u003e\u003e\u003c/span\u003e\n              \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eh2\u003c/span\u003e\u003e\u003c/span\u003e{info.first_name}\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eh2\u003c/span\u003e\u003e\u003c/span\u003e\n              \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eh2\u003c/span\u003e\u003e\u003c/span\u003e{info.last_name}\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eh2\u003c/span\u003e\u003e\u003c/span\u003e\n              \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eimg\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003esrc\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{info.avatar}\u003c/span\u003e /\u003e\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n          )\n        })}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  )\n}\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eUserDetails\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [userInfo,setUserInfo] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e();\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e navigate = \u003cspan class=\"hljs-title function_\"\u003euseNavigate\u003c/span\u003e();\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e location = \u003cspan class=\"hljs-title function_\"\u003euseLocation\u003c/span\u003e();\n\n  \u003cspan class=\"hljs-title function_\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e()=\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e(location.\u003cspan class=\"hljs-property\"\u003estate\u003c/span\u003e){\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e {userInfo} = location.\u003cspan class=\"hljs-property\"\u003estate\u003c/span\u003e;\n      \u003cspan class=\"hljs-title function_\"\u003esetUserInfo\u003c/span\u003e(userInfo)\n    }\n  })\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{()\u003c/span\u003e =\u003e\u003c/span\u003e {\n          navigate('/news',{state: location.state})\n        }\n      \u003e\n        Go back to user lists\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u003e\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{{backgroundColor:\u003c/span\u003e \"\u003cspan class=\"hljs-attr\"\u003eskyblue\u003c/span\u003e\"}}\n      \u003e\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eh2\u003c/span\u003e\u003e\u003c/span\u003e{userInfo?.email}\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eh2\u003c/span\u003e\u003e\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eh2\u003c/span\u003e\u003e\u003c/span\u003e{userInfo?.first_name}\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eh2\u003c/span\u003e\u003e\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eh2\u003c/span\u003e\u003e\u003c/span\u003e{userInfo?.last_name}\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eh2\u003c/span\u003e\u003e\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eimg\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003esrc\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{userInfo?.avatar}\u003c/span\u003e /\u003e\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  )\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e그게 전부에요...\u003c/p\u003e\n\u003cp\u003e위의 방법은 사용자가 브라우저의 뒤로 가기 버튼을 누를 때 작동하지 않습니다. 이러한 경우에 작동하려면 로컬 스토리지에 상태와 스크롤 위치를 저장하고, 첫 렌더링 중에 useEffect에서 사용해야 합니다.\u003c/p\u003e\n\u003cp\u003e질문이 있으시면 응답 섹션에서 물어봐 주세요.\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-30-HowtomaintainstateandscrollpositioninReact"},"buildId":"wfHLuDA3kTGBYfaM5IGXk","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>