<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>웹 애플리케이션을 위한 변경 불가능한 인프라 구축하기 단계별 가이드 | ui-station</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://ui-station.github.io///post/2024-05-23-BuildinganImmutableInfrastructureforYourWebApplicationAStep-by-StepGuide" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="웹 애플리케이션을 위한 변경 불가능한 인프라 구축하기 단계별 가이드 | ui-station" data-gatsby-head="true"/><meta property="og:title" content="웹 애플리케이션을 위한 변경 불가능한 인프라 구축하기 단계별 가이드 | ui-station" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-23-BuildinganImmutableInfrastructureforYourWebApplicationAStep-by-StepGuide_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://ui-station.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://ui-station.github.io///post/2024-05-23-BuildinganImmutableInfrastructureforYourWebApplicationAStep-by-StepGuide" data-gatsby-head="true"/><meta name="twitter:title" content="웹 애플리케이션을 위한 변경 불가능한 인프라 구축하기 단계별 가이드 | ui-station" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-23-BuildinganImmutableInfrastructureforYourWebApplicationAStep-by-StepGuide_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | ui-station" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-23 14:32" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BHFR6GTH9P"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-BHFR6GTH9P');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/_next/static/chunks/348-d11c34b645b13f5b.js" defer=""></script><script src="/_next/static/chunks/162-4172e84c8e2aa747.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-4f7b40c1114f0d09.js" defer=""></script><script src="/_next/static/bb_yO9GbCvdfc_n71SfUf/_buildManifest.js" defer=""></script><script src="/_next/static/bb_yO9GbCvdfc_n71SfUf/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">UI STATION</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">웹 애플리케이션을 위한 변경 불가능한 인프라 구축하기 단계별 가이드</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="웹 애플리케이션을 위한 변경 불가능한 인프라 구축하기 단계별 가이드" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">UI STATION</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 23, 2024</span><span class="posts_reading_time__f7YPP">8<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-23-BuildinganImmutableInfrastructureforYourWebApplicationAStep-by-StepGuide&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<h1>소개</h1>
<p>소프트웨어 개발의 빠르게 변화하는 세계에서 일관성, 확장성 및 신뢰성을 보장하는 것이 중요합니다. 데브옵스에서 핵심 개념인 불변 인프라는 인프라 구성요소를 불변하게 만들어 이러한 요구 사항을 해결합니다. 이 블로그에서는 Docker, Kubernetes 및 Terraform을 사용하여 간단한 웹 애플리케이션을 위한 불변 인프라를 생성하는 방법을 안내하겠습니다.</p>
<p><a href="http://www.linkedin.com/in/mohammedtalhakalimi" rel="nofollow" target="_blank">www.linkedin.com/in/mohammedtalhakalimi</a></p>
<p></p>
<h1>불변 인프라란?</h1>
<p>불변 인프라는 서버(또는 다른 인프라 구성 요소)를 배포한 후에는 결코 수정하지 않는 방식을 말합니다. 업데이트나 변경이 필요한 경우 새로운 서버를 빌드하고 배포하며 이전 서버는 해제됩니다. 이 접근 방식은 일관성과 반복성을 보장하며 구성 드리프트를 줄이고 의도하지 않은 변경의 위험을 최소화합니다.</p>
<p><a href="http://www.linkedin.com/in/mohammedtalhakalimi" rel="nofollow" target="_blank">www.linkedin.com/in/mohammedtalhakalimi</a></p>
<h1>프로젝트 개요</h1>
<p></p>
<p>이 프로젝트에서는 Node.js 웹 애플리케이션을 위한 불변 인프라를 만들 것입니다. 이 프로젝트에는 다음이 포함됩니다:</p>
<ul>
<li>Docker를 사용하여 애플리케이션을 컨테이너화하기</li>
<li>Kubernetes를 사용하여 배포를 조정하기</li>
<li>Terraform을 사용하여 인프라 프로비저닝 및 관리하기</li>
<li>CI/CD 파이프라인을 통해 빌드, 테스트 및 배포 프로세스 자동화하기</li>
</ul>
<p><a href="http://www.linkedin.com/in/mohammedtalhakalimi" rel="nofollow" target="_blank">www.linkedin.com/in/mohammedtalhakalimi</a></p>
<h1>단계 1: Docker를 사용하여 애플리케이션을 컨테이너화하기</h1>
<p></p>
<p>먼저 Docker를 사용하여 웹 애플리케이션을 컨테이너화해야 합니다. 프로젝트 디렉토리에 Dockerfile을 만들어주세요:</p>
<pre><code class="hljs language-js"><span class="hljs-title class_">Dockerfile</span>;
</code></pre>
<pre><code class="hljs language-js"># 부모 이미지로 공식 <span class="hljs-title class_">Node</span>.<span class="hljs-property">js</span> 런타임 사용
<span class="hljs-variable constant_">FROM</span> <span class="hljs-attr">node</span>:<span class="hljs-number">14</span>
</code></pre>
<pre><code class="hljs language-js"># 작업 디렉토리 설정
<span class="hljs-variable constant_">WORKDIR</span> /usr/src/app
# package.<span class="hljs-property">json</span> 복사 및 종속성 설치
<span class="hljs-variable constant_">COPY</span> package*.<span class="hljs-property">json</span> ./
<span class="hljs-variable constant_">RUN</span> npm install
# 나머지 애플리케이션 코드 복사
<span class="hljs-variable constant_">COPY</span> . .
# 애플리케이션 포트 노출
<span class="hljs-variable constant_">EXPOSE</span> <span class="hljs-number">3000</span>
# 앱 실행 명령 정의
<span class="hljs-variable constant_">CMD</span> [<span class="hljs-string">"node"</span>, <span class="hljs-string">"app.js"</span>]
</code></pre>
<p></p>
<p>도커 이미지를 빌드하고 테스트해보세요:</p>
<pre><code class="hljs language-bash">docker build -t my-web-app .
docker run -p 3000:3000 my-web-app
</code></pre>
<h1>단계 2: 쿠버네티스로 오케스트레이션하기</h1>
<p></p>
<p>다음으로, 도커 컨테이너를 쿠버네티스 클러스터에 배포할 것입니다. deployment.yaml 및 service.yaml 파일을 생성해주세요:</p>
<pre><code class="hljs language-yaml"><span class="hljs-comment"># deployment.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Deployment</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">web-app-deployment</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">replicas:</span> <span class="hljs-number">3</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">matchLabels:</span>
      <span class="hljs-attr">app:</span> <span class="hljs-string">web-app</span>
  <span class="hljs-attr">template:</span>
    <span class="hljs-attr">metadata:</span>
      <span class="hljs-attr">labels:</span>
        <span class="hljs-attr">app:</span> <span class="hljs-string">web-app</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-attr">containers:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">web-app</span>
          <span class="hljs-attr">image:</span> <span class="hljs-string">my-web-app:latest</span>
          <span class="hljs-attr">ports:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-attr">containerPort:</span> <span class="hljs-number">3000</span>
</code></pre>
<pre><code class="hljs language-yaml"><span class="hljs-comment"># service.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">web-app-service</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">web-app</span>
  <span class="hljs-attr">ports:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">protocol:</span> <span class="hljs-string">TCP</span>
      <span class="hljs-attr">port:</span> <span class="hljs-number">80</span>
      <span class="hljs-attr">targetPort:</span> <span class="hljs-number">3000</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">LoadBalancer</span>
</code></pre>
<p>쿠버네티스 구성을 적용해주세요:</p>
<p></p>
<pre><code class="hljs language-yaml"><span class="hljs-string">kubectl</span> <span class="hljs-string">apply</span> <span class="hljs-string">-f</span> <span class="hljs-string">deployment.yaml</span>
<span class="hljs-string">kubectl</span> <span class="hljs-string">apply</span> <span class="hljs-string">-f</span> <span class="hljs-string">service.yaml</span>
</code></pre>
<p><a href="http://www.linkedin.com/in/mohammedtalhakalimi" rel="nofollow" target="_blank">www.linkedin.com/in/mohammedtalhakalimi</a></p>
<h1>Step 3: Terraform으로 프로비저닝하기</h1>
<p>테라폼을 사용하여 쿠버네티스 클러스터를 프로비저닝할 것입니다. main.tf 파일을 작성해주세요.</p>
<p></p>
<pre><code class="hljs language-js"># main.<span class="hljs-property">tf</span>
provider <span class="hljs-string">"aws"</span> {
  region = <span class="hljs-string">"us-west-2"</span>
}
</code></pre>
<pre><code class="hljs language-js"><span class="hljs-variable language_">module</span> <span class="hljs-string">"eks"</span> {
  source          = <span class="hljs-string">"terraform-aws-modules/eks/aws"</span>
  cluster_name    = <span class="hljs-string">"my-cluster"</span>
  cluster_version = <span class="hljs-string">"1.20"</span>
  subnets         = [<span class="hljs-string">"subnet-0123456789abcdef0"</span>, <span class="hljs-string">"subnet-0123456789abcdef1"</span>]
  vpc_id          = <span class="hljs-string">"vpc-0123456789abcdef0"</span>
  node_groups = {
    my-node-group = {
      desired_capacity = <span class="hljs-number">2</span>
      max_capacity     = <span class="hljs-number">3</span>
      min_capacity     = <span class="hljs-number">1</span>
      instance_type = <span class="hljs-string">"t3.medium"</span>
    }
  }
}
output <span class="hljs-string">"cluster_endpoint"</span> {
  value = <span class="hljs-variable language_">module</span>.<span class="hljs-property">eks</span>.<span class="hljs-property">cluster_endpoint</span>
}
</code></pre>
<p>테라폼 구성을 초기화하고 적용하십시오:</p>
<pre><code class="hljs language-js">terraform init
terraform apply
</code></pre>
<p></p>
<p>새 클러스터를 사용하도록 kubectl을 구성하세요:</p>
<pre><code class="hljs language-bash">aws eks --region us-west-2 update-kubeconfig --name my-cluster
</code></pre>
<p>LinkedIn 프로필: <a href="http://www.linkedin.com/in/mohammedtalhakalimi" rel="nofollow" target="_blank">www.linkedin.com/in/mohammedtalhakalimi</a></p>
<h1>단계 4: CI/CD로 자동화</h1>
<p></p>
<p>마지막으로, GitHub Actions를 사용하여 CI/CD 파이프라인을 설정할 것입니다. .github/workflows/ci-cd-pipeline.yaml 파일을 만들어주세요:</p>
<pre><code class="hljs language-yaml"><span class="hljs-comment"># .github/workflows/ci-cd-pipeline.yaml</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">CI/CD</span> <span class="hljs-string">Pipeline</span>
</code></pre>
<pre><code class="hljs language-yaml"><span class="hljs-attr">on:</span>
  <span class="hljs-attr">push:</span>
    <span class="hljs-attr">branches:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">main</span>
<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">build:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span> <span class="hljs-string">code</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v2</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Set</span> <span class="hljs-string">up</span> <span class="hljs-string">Docker</span> <span class="hljs-string">Buildx</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">docker/setup-buildx-action@v1</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Login</span> <span class="hljs-string">to</span> <span class="hljs-string">Docker</span> <span class="hljs-string">Hub</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">docker/login-action@v1</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">username:</span> <span class="hljs-string">${secrets.DOCKER_USERNAME}</span>
          <span class="hljs-attr">password:</span> <span class="hljs-string">${secrets.DOCKER_PASSWORD}</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">and</span> <span class="hljs-string">push</span> <span class="hljs-string">Docker</span> <span class="hljs-string">image</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">|
          docker build -t my-web-app:latest .
          docker tag my-web-app:latest ${secrets.DOCKER_USERNAME}/my-web-app:latest
          docker push ${secrets.DOCKER_USERNAME}/my-web-app:latest
</span>  <span class="hljs-attr">deploy:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    <span class="hljs-attr">needs:</span> <span class="hljs-string">build</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span> <span class="hljs-string">code</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v2</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Set</span> <span class="hljs-string">up</span> <span class="hljs-string">kubectl</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">azure/setup-kubectl@v1</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">version:</span> <span class="hljs-string">"v1.20.0"</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">Kubernetes</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">|
          kubectl apply -f deployment.yaml
          kubectl apply -f service.yaml
</span></code></pre>
<p><a href="http://www.linkedin.com/in/mohammedtalhakalimi" rel="nofollow" target="_blank">www.linkedin.com/in/mohammedtalhakalimi</a></p>
<p></p>
<h1>결론</h1>
<p>위 단계를 따라 웹 애플리케이션을 위한 불변의 인프라를 구축했습니다. 이 방식을 통해 배포가 일관적이고 확장 가능하며 신뢰할 수 있음을 보장할 수 있습니다. 불변의 인프라 관행을 준수함으로써 응용 프로그램의 안정성과 관리 용이성을 크게 향상시킬 수 있습니다.</p>
<p>의견이나 경험을 댓글로 공유해 주세요. 즐거운 코딩 되세요!</p>
<p><a href="http://www.linkedin.com/in/mohammedtalhakalimi" rel="nofollow" target="_blank">www.linkedin.com/in/mohammedtalhakalimi</a></p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"웹 애플리케이션을 위한 변경 불가능한 인프라 구축하기 단계별 가이드","description":"","date":"2024-05-23 14:32","slug":"2024-05-23-BuildinganImmutableInfrastructureforYourWebApplicationAStep-by-StepGuide","content":"\n# 소개\n\n소프트웨어 개발의 빠르게 변화하는 세계에서 일관성, 확장성 및 신뢰성을 보장하는 것이 중요합니다. 데브옵스에서 핵심 개념인 불변 인프라는 인프라 구성요소를 불변하게 만들어 이러한 요구 사항을 해결합니다. 이 블로그에서는 Docker, Kubernetes 및 Terraform을 사용하여 간단한 웹 애플리케이션을 위한 불변 인프라를 생성하는 방법을 안내하겠습니다.\n\nwww.linkedin.com/in/mohammedtalhakalimi\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 불변 인프라란?\n\n불변 인프라는 서버(또는 다른 인프라 구성 요소)를 배포한 후에는 결코 수정하지 않는 방식을 말합니다. 업데이트나 변경이 필요한 경우 새로운 서버를 빌드하고 배포하며 이전 서버는 해제됩니다. 이 접근 방식은 일관성과 반복성을 보장하며 구성 드리프트를 줄이고 의도하지 않은 변경의 위험을 최소화합니다.\n\nwww.linkedin.com/in/mohammedtalhakalimi\n\n# 프로젝트 개요\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이 프로젝트에서는 Node.js 웹 애플리케이션을 위한 불변 인프라를 만들 것입니다. 이 프로젝트에는 다음이 포함됩니다:\n\n- Docker를 사용하여 애플리케이션을 컨테이너화하기\n- Kubernetes를 사용하여 배포를 조정하기\n- Terraform을 사용하여 인프라 프로비저닝 및 관리하기\n- CI/CD 파이프라인을 통해 빌드, 테스트 및 배포 프로세스 자동화하기\n\nwww.linkedin.com/in/mohammedtalhakalimi\n\n# 단계 1: Docker를 사용하여 애플리케이션을 컨테이너화하기\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n먼저 Docker를 사용하여 웹 애플리케이션을 컨테이너화해야 합니다. 프로젝트 디렉토리에 Dockerfile을 만들어주세요:\n\n```js\nDockerfile;\n```\n\n```js\n# 부모 이미지로 공식 Node.js 런타임 사용\nFROM node:14\n```\n\n```js\n# 작업 디렉토리 설정\nWORKDIR /usr/src/app\n# package.json 복사 및 종속성 설치\nCOPY package*.json ./\nRUN npm install\n# 나머지 애플리케이션 코드 복사\nCOPY . .\n# 애플리케이션 포트 노출\nEXPOSE 3000\n# 앱 실행 명령 정의\nCMD [\"node\", \"app.js\"]\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n도커 이미지를 빌드하고 테스트해보세요:\n\n```bash\ndocker build -t my-web-app .\ndocker run -p 3000:3000 my-web-app\n```\n\n# 단계 2: 쿠버네티스로 오케스트레이션하기\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n다음으로, 도커 컨테이너를 쿠버네티스 클러스터에 배포할 것입니다. deployment.yaml 및 service.yaml 파일을 생성해주세요:\n\n```yaml\n# deployment.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: web-app-deployment\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: web-app\n  template:\n    metadata:\n      labels:\n        app: web-app\n    spec:\n      containers:\n        - name: web-app\n          image: my-web-app:latest\n          ports:\n            - containerPort: 3000\n```\n\n```yaml\n# service.yaml\napiVersion: v1\nkind: Service\nmetadata:\n  name: web-app-service\nspec:\n  selector:\n    app: web-app\n  ports:\n    - protocol: TCP\n      port: 80\n      targetPort: 3000\n  type: LoadBalancer\n```\n\n쿠버네티스 구성을 적용해주세요:\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```yaml\nkubectl apply -f deployment.yaml\nkubectl apply -f service.yaml\n```\n\nwww.linkedin.com/in/mohammedtalhakalimi\n\n# Step 3: Terraform으로 프로비저닝하기\n\n테라폼을 사용하여 쿠버네티스 클러스터를 프로비저닝할 것입니다. main.tf 파일을 작성해주세요.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n# main.tf\nprovider \"aws\" {\n  region = \"us-west-2\"\n}\n```\n\n```js\nmodule \"eks\" {\n  source          = \"terraform-aws-modules/eks/aws\"\n  cluster_name    = \"my-cluster\"\n  cluster_version = \"1.20\"\n  subnets         = [\"subnet-0123456789abcdef0\", \"subnet-0123456789abcdef1\"]\n  vpc_id          = \"vpc-0123456789abcdef0\"\n  node_groups = {\n    my-node-group = {\n      desired_capacity = 2\n      max_capacity     = 3\n      min_capacity     = 1\n      instance_type = \"t3.medium\"\n    }\n  }\n}\noutput \"cluster_endpoint\" {\n  value = module.eks.cluster_endpoint\n}\n```\n\n테라폼 구성을 초기화하고 적용하십시오:\n\n```js\nterraform init\nterraform apply\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n새 클러스터를 사용하도록 kubectl을 구성하세요:\n\n```bash\naws eks --region us-west-2 update-kubeconfig --name my-cluster\n```\n\nLinkedIn 프로필: www.linkedin.com/in/mohammedtalhakalimi\n\n# 단계 4: CI/CD로 자동화\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n마지막으로, GitHub Actions를 사용하여 CI/CD 파이프라인을 설정할 것입니다. .github/workflows/ci-cd-pipeline.yaml 파일을 만들어주세요:\n\n```yaml\n# .github/workflows/ci-cd-pipeline.yaml\nname: CI/CD Pipeline\n```\n\n```yaml\non:\n  push:\n    branches:\n      - main\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v2\n      - name: Set up Docker Buildx\n        uses: docker/setup-buildx-action@v1\n      - name: Login to Docker Hub\n        uses: docker/login-action@v1\n        with:\n          username: ${secrets.DOCKER_USERNAME}\n          password: ${secrets.DOCKER_PASSWORD}\n      - name: Build and push Docker image\n        run: |\n          docker build -t my-web-app:latest .\n          docker tag my-web-app:latest ${secrets.DOCKER_USERNAME}/my-web-app:latest\n          docker push ${secrets.DOCKER_USERNAME}/my-web-app:latest\n  deploy:\n    runs-on: ubuntu-latest\n    needs: build\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v2\n      - name: Set up kubectl\n        uses: azure/setup-kubectl@v1\n        with:\n          version: \"v1.20.0\"\n      - name: Deploy to Kubernetes\n        run: |\n          kubectl apply -f deployment.yaml\n          kubectl apply -f service.yaml\n```\n\nwww.linkedin.com/in/mohammedtalhakalimi\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 결론\n\n위 단계를 따라 웹 애플리케이션을 위한 불변의 인프라를 구축했습니다. 이 방식을 통해 배포가 일관적이고 확장 가능하며 신뢰할 수 있음을 보장할 수 있습니다. 불변의 인프라 관행을 준수함으로써 응용 프로그램의 안정성과 관리 용이성을 크게 향상시킬 수 있습니다.\n\n의견이나 경험을 댓글로 공유해 주세요. 즐거운 코딩 되세요!\n\nwww.linkedin.com/in/mohammedtalhakalimi\n","ogImage":{"url":"/assets/img/2024-05-23-BuildinganImmutableInfrastructureforYourWebApplicationAStep-by-StepGuide_0.png"},"coverImage":"/assets/img/2024-05-23-BuildinganImmutableInfrastructureforYourWebApplicationAStep-by-StepGuide_0.png","tag":["Tech"],"readingTime":8},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ch1\u003e소개\u003c/h1\u003e\n\u003cp\u003e소프트웨어 개발의 빠르게 변화하는 세계에서 일관성, 확장성 및 신뢰성을 보장하는 것이 중요합니다. 데브옵스에서 핵심 개념인 불변 인프라는 인프라 구성요소를 불변하게 만들어 이러한 요구 사항을 해결합니다. 이 블로그에서는 Docker, Kubernetes 및 Terraform을 사용하여 간단한 웹 애플리케이션을 위한 불변 인프라를 생성하는 방법을 안내하겠습니다.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://www.linkedin.com/in/mohammedtalhakalimi\" rel=\"nofollow\" target=\"_blank\"\u003ewww.linkedin.com/in/mohammedtalhakalimi\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003ch1\u003e불변 인프라란?\u003c/h1\u003e\n\u003cp\u003e불변 인프라는 서버(또는 다른 인프라 구성 요소)를 배포한 후에는 결코 수정하지 않는 방식을 말합니다. 업데이트나 변경이 필요한 경우 새로운 서버를 빌드하고 배포하며 이전 서버는 해제됩니다. 이 접근 방식은 일관성과 반복성을 보장하며 구성 드리프트를 줄이고 의도하지 않은 변경의 위험을 최소화합니다.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://www.linkedin.com/in/mohammedtalhakalimi\" rel=\"nofollow\" target=\"_blank\"\u003ewww.linkedin.com/in/mohammedtalhakalimi\u003c/a\u003e\u003c/p\u003e\n\u003ch1\u003e프로젝트 개요\u003c/h1\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003cp\u003e이 프로젝트에서는 Node.js 웹 애플리케이션을 위한 불변 인프라를 만들 것입니다. 이 프로젝트에는 다음이 포함됩니다:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eDocker를 사용하여 애플리케이션을 컨테이너화하기\u003c/li\u003e\n\u003cli\u003eKubernetes를 사용하여 배포를 조정하기\u003c/li\u003e\n\u003cli\u003eTerraform을 사용하여 인프라 프로비저닝 및 관리하기\u003c/li\u003e\n\u003cli\u003eCI/CD 파이프라인을 통해 빌드, 테스트 및 배포 프로세스 자동화하기\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ca href=\"http://www.linkedin.com/in/mohammedtalhakalimi\" rel=\"nofollow\" target=\"_blank\"\u003ewww.linkedin.com/in/mohammedtalhakalimi\u003c/a\u003e\u003c/p\u003e\n\u003ch1\u003e단계 1: Docker를 사용하여 애플리케이션을 컨테이너화하기\u003c/h1\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003cp\u003e먼저 Docker를 사용하여 웹 애플리케이션을 컨테이너화해야 합니다. 프로젝트 디렉토리에 Dockerfile을 만들어주세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eDockerfile\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 부모 이미지로 공식 \u003cspan class=\"hljs-title class_\"\u003eNode\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ejs\u003c/span\u003e 런타임 사용\n\u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003enode\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e14\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 작업 디렉토리 설정\n\u003cspan class=\"hljs-variable constant_\"\u003eWORKDIR\u003c/span\u003e /usr/src/app\n# package.\u003cspan class=\"hljs-property\"\u003ejson\u003c/span\u003e 복사 및 종속성 설치\n\u003cspan class=\"hljs-variable constant_\"\u003eCOPY\u003c/span\u003e package*.\u003cspan class=\"hljs-property\"\u003ejson\u003c/span\u003e ./\n\u003cspan class=\"hljs-variable constant_\"\u003eRUN\u003c/span\u003e npm install\n# 나머지 애플리케이션 코드 복사\n\u003cspan class=\"hljs-variable constant_\"\u003eCOPY\u003c/span\u003e . .\n# 애플리케이션 포트 노출\n\u003cspan class=\"hljs-variable constant_\"\u003eEXPOSE\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e3000\u003c/span\u003e\n# 앱 실행 명령 정의\n\u003cspan class=\"hljs-variable constant_\"\u003eCMD\u003c/span\u003e [\u003cspan class=\"hljs-string\"\u003e\"node\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"app.js\"\u003c/span\u003e]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003cp\u003e도커 이미지를 빌드하고 테스트해보세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003edocker build -t my-web-app .\ndocker run -p 3000:3000 my-web-app\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e단계 2: 쿠버네티스로 오케스트레이션하기\u003c/h1\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003cp\u003e다음으로, 도커 컨테이너를 쿠버네티스 클러스터에 배포할 것입니다. deployment.yaml 및 service.yaml 파일을 생성해주세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-yaml\"\u003e\u003cspan class=\"hljs-comment\"\u003e# deployment.yaml\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eapiVersion:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eapps/v1\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003ekind:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eDeployment\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003emetadata:\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eweb-app-deployment\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003espec:\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003ereplicas:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003eselector:\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003ematchLabels:\u003c/span\u003e\n      \u003cspan class=\"hljs-attr\"\u003eapp:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eweb-app\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003etemplate:\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003emetadata:\u003c/span\u003e\n      \u003cspan class=\"hljs-attr\"\u003elabels:\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003eapp:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eweb-app\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003espec:\u003c/span\u003e\n      \u003cspan class=\"hljs-attr\"\u003econtainers:\u003c/span\u003e\n        \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eweb-app\u003c/span\u003e\n          \u003cspan class=\"hljs-attr\"\u003eimage:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003emy-web-app:latest\u003c/span\u003e\n          \u003cspan class=\"hljs-attr\"\u003eports:\u003c/span\u003e\n            \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003econtainerPort:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e3000\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-yaml\"\u003e\u003cspan class=\"hljs-comment\"\u003e# service.yaml\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eapiVersion:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ev1\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003ekind:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eService\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003emetadata:\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eweb-app-service\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003espec:\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003eselector:\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eapp:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eweb-app\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003eports:\u003c/span\u003e\n    \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eprotocol:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eTCP\u003c/span\u003e\n      \u003cspan class=\"hljs-attr\"\u003eport:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e\n      \u003cspan class=\"hljs-attr\"\u003etargetPort:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e3000\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003etype:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eLoadBalancer\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e쿠버네티스 구성을 적용해주세요:\u003c/p\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-yaml\"\u003e\u003cspan class=\"hljs-string\"\u003ekubectl\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eapply\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e-f\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003edeployment.yaml\u003c/span\u003e\n\u003cspan class=\"hljs-string\"\u003ekubectl\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eapply\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e-f\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eservice.yaml\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ca href=\"http://www.linkedin.com/in/mohammedtalhakalimi\" rel=\"nofollow\" target=\"_blank\"\u003ewww.linkedin.com/in/mohammedtalhakalimi\u003c/a\u003e\u003c/p\u003e\n\u003ch1\u003eStep 3: Terraform으로 프로비저닝하기\u003c/h1\u003e\n\u003cp\u003e테라폼을 사용하여 쿠버네티스 클러스터를 프로비저닝할 것입니다. main.tf 파일을 작성해주세요.\u003c/p\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# main.\u003cspan class=\"hljs-property\"\u003etf\u003c/span\u003e\nprovider \u003cspan class=\"hljs-string\"\u003e\"aws\"\u003c/span\u003e {\n  region = \u003cspan class=\"hljs-string\"\u003e\"us-west-2\"\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"eks\"\u003c/span\u003e {\n  source          = \u003cspan class=\"hljs-string\"\u003e\"terraform-aws-modules/eks/aws\"\u003c/span\u003e\n  cluster_name    = \u003cspan class=\"hljs-string\"\u003e\"my-cluster\"\u003c/span\u003e\n  cluster_version = \u003cspan class=\"hljs-string\"\u003e\"1.20\"\u003c/span\u003e\n  subnets         = [\u003cspan class=\"hljs-string\"\u003e\"subnet-0123456789abcdef0\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"subnet-0123456789abcdef1\"\u003c/span\u003e]\n  vpc_id          = \u003cspan class=\"hljs-string\"\u003e\"vpc-0123456789abcdef0\"\u003c/span\u003e\n  node_groups = {\n    my-node-group = {\n      desired_capacity = \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\n      max_capacity     = \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e\n      min_capacity     = \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n      instance_type = \u003cspan class=\"hljs-string\"\u003e\"t3.medium\"\u003c/span\u003e\n    }\n  }\n}\noutput \u003cspan class=\"hljs-string\"\u003e\"cluster_endpoint\"\u003c/span\u003e {\n  value = \u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eeks\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ecluster_endpoint\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e테라폼 구성을 초기화하고 적용하십시오:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eterraform init\nterraform apply\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003cp\u003e새 클러스터를 사용하도록 kubectl을 구성하세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003eaws eks --region us-west-2 update-kubeconfig --name my-cluster\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eLinkedIn 프로필: \u003ca href=\"http://www.linkedin.com/in/mohammedtalhakalimi\" rel=\"nofollow\" target=\"_blank\"\u003ewww.linkedin.com/in/mohammedtalhakalimi\u003c/a\u003e\u003c/p\u003e\n\u003ch1\u003e단계 4: CI/CD로 자동화\u003c/h1\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003cp\u003e마지막으로, GitHub Actions를 사용하여 CI/CD 파이프라인을 설정할 것입니다. .github/workflows/ci-cd-pipeline.yaml 파일을 만들어주세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-yaml\"\u003e\u003cspan class=\"hljs-comment\"\u003e# .github/workflows/ci-cd-pipeline.yaml\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eCI/CD\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ePipeline\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-yaml\"\u003e\u003cspan class=\"hljs-attr\"\u003eon:\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003epush:\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003ebranches:\u003c/span\u003e\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003emain\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003ejobs:\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003ebuild:\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eruns-on:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eubuntu-latest\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003esteps:\u003c/span\u003e\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eCheckout\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ecode\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003euses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eactions/checkout@v2\u003c/span\u003e\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eSet\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eup\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eDocker\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eBuildx\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003euses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003edocker/setup-buildx-action@v1\u003c/span\u003e\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eLogin\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eto\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eDocker\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eHub\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003euses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003edocker/login-action@v1\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003ewith:\u003c/span\u003e\n          \u003cspan class=\"hljs-attr\"\u003eusername:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e${secrets.DOCKER_USERNAME}\u003c/span\u003e\n          \u003cspan class=\"hljs-attr\"\u003epassword:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e${secrets.DOCKER_PASSWORD}\u003c/span\u003e\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eBuild\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eand\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003epush\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eDocker\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eimage\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003erun:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e|\n          docker build -t my-web-app:latest .\n          docker tag my-web-app:latest ${secrets.DOCKER_USERNAME}/my-web-app:latest\n          docker push ${secrets.DOCKER_USERNAME}/my-web-app:latest\n\u003c/span\u003e  \u003cspan class=\"hljs-attr\"\u003edeploy:\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eruns-on:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eubuntu-latest\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eneeds:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ebuild\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003esteps:\u003c/span\u003e\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eCheckout\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ecode\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003euses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eactions/checkout@v2\u003c/span\u003e\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eSet\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eup\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ekubectl\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003euses:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eazure/setup-kubectl@v1\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003ewith:\u003c/span\u003e\n          \u003cspan class=\"hljs-attr\"\u003eversion:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"v1.20.0\"\u003c/span\u003e\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eDeploy\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eto\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003eKubernetes\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003erun:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e|\n          kubectl apply -f deployment.yaml\n          kubectl apply -f service.yaml\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ca href=\"http://www.linkedin.com/in/mohammedtalhakalimi\" rel=\"nofollow\" target=\"_blank\"\u003ewww.linkedin.com/in/mohammedtalhakalimi\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003c/p\u003e\n\u003ch1\u003e결론\u003c/h1\u003e\n\u003cp\u003e위 단계를 따라 웹 애플리케이션을 위한 불변의 인프라를 구축했습니다. 이 방식을 통해 배포가 일관적이고 확장 가능하며 신뢰할 수 있음을 보장할 수 있습니다. 불변의 인프라 관행을 준수함으로써 응용 프로그램의 안정성과 관리 용이성을 크게 향상시킬 수 있습니다.\u003c/p\u003e\n\u003cp\u003e의견이나 경험을 댓글로 공유해 주세요. 즐거운 코딩 되세요!\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://www.linkedin.com/in/mohammedtalhakalimi\" rel=\"nofollow\" target=\"_blank\"\u003ewww.linkedin.com/in/mohammedtalhakalimi\u003c/a\u003e\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-23-BuildinganImmutableInfrastructureforYourWebApplicationAStep-by-StepGuide"},"buildId":"bb_yO9GbCvdfc_n71SfUf","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>