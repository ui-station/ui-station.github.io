<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>테라스캔Terrascan이란 무엇인가요 | ui-station</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://ui-station.github.io///post/2024-05-23-WhatisTerrascan" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="테라스캔Terrascan이란 무엇인가요 | ui-station" data-gatsby-head="true"/><meta property="og:title" content="테라스캔Terrascan이란 무엇인가요 | ui-station" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-23-WhatisTerrascan_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://ui-station.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://ui-station.github.io///post/2024-05-23-WhatisTerrascan" data-gatsby-head="true"/><meta name="twitter:title" content="테라스캔Terrascan이란 무엇인가요 | ui-station" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-23-WhatisTerrascan_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | ui-station" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-23 14:39" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BHFR6GTH9P"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-BHFR6GTH9P');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/cd012fc8787133d0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cd012fc8787133d0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/_next/static/chunks/348-d11c34b645b13f5b.js" defer=""></script><script src="/_next/static/chunks/551-3069cf29fe274aab.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-561ae49ab5aab7f5.js" defer=""></script><script src="/_next/static/0asLlD6on3tm8cIfzBaxd/_buildManifest.js" defer=""></script><script src="/_next/static/0asLlD6on3tm8cIfzBaxd/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">UI STATION</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">테라스캔Terrascan이란 무엇인가요</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="테라스캔Terrascan이란 무엇인가요" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">UI STATION</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 23, 2024</span><span class="posts_reading_time__f7YPP">9<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-23-WhatisTerrascan&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><p>이 기사에서는 Terrascan을 살펴볼 것입니다. 이것이 무엇인지, 왜 사용해야 하는지, 어떻게 설치해야 하는지, 그리고 그 기능을 활용하는 방법에 대해 알아볼 것입니다. 우리는 일부 사용 사례 예제를 살펴보고, Terraform, Kubernetes (K8S) 및 Helm 차트를 스캔하는 방법을 보여줄 것입니다. 그리고 사용자 정의 정책을 정의하는 방법을 살펴보고, 마지막으로 Terrascan이 Chekov 및 TFSec와 같은 다른 유사한 제품과 비교되는 방법을 자세히 살펴볼 것입니다.</p>
<p><img src="/assets/img/2024-05-23-WhatisTerrascan_0.png" alt="What is Terrascan"/></p>
<h2>Terrascan이란 무엇인가요?</h2>
<p>Terrascan은 인프라를 코드로 정의하는(Infrastructure as Code, IaC)를 위한 오픈 소스 정적 코드 분석 도구입니다. Terrascan 웹사이트 태그라인이 Terrascan을 요약합니다:</p>
<div class="content-ad"></div>
<p>여기의 핵심 키워드 중 하나는 &#x27;before&#x27;입니다. Terrascan 도구의 목표는 인프라가 프로비저닝되기 전에 규정 준수나 보안 문제를 알려줌으로써 이를 해결하여 문제를 피하는 것입니다.</p>
<p>Terrascan은 Tenable이 소유하고 있으며, 이 회사는 Cloud Native Computing Foundation (CNCF) 및 Open Source Security Foundation (OpenSSF)의 회원입니다.</p>
<h2>Terrascan의 사용 목적</h2>
<p>Terrascan은 개발자와 DevOps 팀이 인프라 코드가 모범 사례, 보안 표준 및 규정 요구 사항을 준수하는지를 보장하는 데 도움을 줍니다. Terrascan은 500개 이상의 미리 설정된 정책을 제공하여 CIS Benchmark와 같은 공통 정책 표준에 대해 IaC를 검사할 수 있습니다. Terrascan을 처음 사용할 때 -p 플래그가 지정되지 않은 경우, Terrascan은 Terrascan 리포지토리에서 최신 정책을 다운로드합니다. terrascan init를 실행하여 로컬 환경을 리포지토리에 게시된 최신 정책으로 업데이트할 수 있습니다.</p>
<div class="content-ad"></div>
<h2>Terrascan 특징</h2>
<ul>
<li>Terrascan은 AWS, Azure, Google Cloud Platform (GCP), K8S, ArgoCD, Atlantis, GitHub, Docker을 포함한 다양한 클라우드 제공업체 및 코드 유형과 함께 사용할 수 있어 교차 클라우드 인프라 배포에 다재다능합니다.</li>
<li>Terrascan은 사용자 정의 가능한 사전 정의된 보안 및 규정 준수 규칙 라이브러리를 제공합니다. 이러한 규칙은 암호화, 액세스 제어, 리소스 구성 등 인프라 보안 및 규정 준수의 다양한 측면을 포함합니다. 기본적으로 사용되는 정책을 자세히 보려면 terrascan 정책 문서 페이지를 확인할 수 있습니다.</li>
<li>Terrascan은 CI/CD 파이프라인, IDE(통합 개발 환경) 및 다른 개발 및 배포 워크플로에 통합할 수 있습니다. 이를 통해 IaC 코드의 자동 스캔 및 유효성 검사가 개발 프로세스의 일부로 이루어질 수 있습니다.</li>
<li>Terrascan은 클라우드 인프라의 지속적인 모니터링에 사용될 수 있습니다. 취약점이나 규정 준수 문제를 발생시킬 수 있는 변질이나 구성 변경을 정기적으로 검사하고 확인할 수 있도록 설정할 수 있습니다.</li>
<li>보고 및 개선: Terrascan은 분석 중 발견된 문제를 강조하는 자세한 보고서를 생성합니다. 또한 이러한 문제를 어떻게 개선할지에 대한 지침을 제공하여 팀이 보안 및 규정 준수 문제를 효과적으로 해결할 수 있도록 도와줍니다.</li>
</ul>
<h2>Terrascan 설치 방법</h2>
<ul>
<li>Windows</li>
</ul>
<div class="content-ad"></div>
<p>인기 있는 Windows 패키지 관리자 Chocolately를 사용하거나 수동으로 다운로드하여 설치할 수 있어요.</p>
<pre><code class="hljs language-js">choco install terrascan
</code></pre>
<p>릴리스 페이지에서 Terrascan을 다운로드하세요:</p>
<p>zip 파일에서 파일을 추출하고 Windows 경로에 추가하세요.</p>
<div class="content-ad"></div>
<ul>
<li>
<p>시작 단추를 마우스 오른쪽 버튼으로 클릭합니다.</p>
</li>
<li>
<p>콘텍스트 메뉴에서 “시스템”을 선택합니다.</p>
</li>
<li>
<p>“고급 시스템 설정”을 클릭합니다.</p>
</li>
<li>
<p>“고급” 탭으로 이동합니다.</p>
</li>
<li>
<p>“환경 변수…”를 클릭합니다.</p>
</li>
<li>
<p>“Path”라는 변수를 클릭하고 “편집…”을 클릭합니다.</p>
</li>
<li>
<p>“새로 만들기”를 클릭합니다.</p>
</li>
<li>
<p>PATH에 포함하려는 Terrascan 파일이 있는 폴더의 경로를 입력하세요.</p>
</li>
<li>
<p>MacOS</p>
</li>
</ul>
<pre><code class="hljs language-js">curl -L <span class="hljs-string">&quot;$(curl -s https://api.github.com/repos/tenable/terrascan/releases/latest | grep -o -E &quot;</span><span class="hljs-attr">https</span>:<span class="hljs-comment">//.+?_Darwin_x86_64.tar.gz&quot;)&quot; &gt; terrascan.tar.gz</span>
tar -xf terrascan.<span class="hljs-property">tar</span>.<span class="hljs-property">gz</span> terrascan &amp;&amp; rm terrascan.<span class="hljs-property">tar</span>.<span class="hljs-property">gz</span>
install terrascan /usr/local/bin &amp;&amp; rm terrascan
sudo install terrascan /usr/local/bin
</code></pre>
<ul>
<li>Linux</li>
</ul>
<div class="content-ad"></div>
<pre><code class="hljs language-js">curl -L <span class="hljs-string">&quot;$(curl -s https://api.github.com/repos/tenable/terrascan/releases/latest | grep -o -E &quot;</span><span class="hljs-attr">https</span>:<span class="hljs-comment">//.+?_Linux_x86_64.tar.gz&quot;)&quot; &gt; terrascan.tar.gz</span>
tar -xf terrascan.<span class="hljs-property">tar</span>.<span class="hljs-property">gz</span> terrascan &amp;&amp; rm terrascan.<span class="hljs-property">tar</span>.<span class="hljs-property">gz</span>
install terrascan /usr/local/bin &amp;&amp; rm terrascan
sudo install terrascan /usr/local/bin
</code></pre>
<ul>
<li>도커</li>
</ul>
<p>도커 허브에서 이미지를 다음과 같이 가져올 수도 있습니다:</p>
<pre><code class="hljs language-js">$ docker run --rm tenable/terrascan version
</code></pre>
<div class="content-ad"></div>
<p>테라스캔을 설치한 후 설치 여부를 확인하기 위해 명령줄에서 테라스캔을 실행하세요.</p>
<p><img src="/assets/img/2024-05-23-WhatisTerrascan_1.png" alt="Terrascan"/></p>
<h2>IaC 코드를 스캔하는 방법</h2>
<p>코드를 스캔하려면 구성 파일이 있는 폴더로 이동한 후 다음 명령을 실행하세요:</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js">terrascan scan
</code></pre>
<p>--c 옵션을 사용하여 스캔할 디렉토리를 지정할 수도 있어요.</p>
<h2>Terrascan 사용 사례 - 예시</h2>
<p>Terrascan을 여러 유형의 구성 파일과 함께 사용할 수 있어요. 여기에 몇 가지 예시가 있어요. 이를 통해 쉽게 시작할 수 있을 거예요.</p>
<div class="content-ad"></div>
<h2>예제 1 — Terraform 코드 스캔</h2>
<p>Azure를 위한 예제 Terraform 설정 파일이 있습니다. 이 파일은 간단히 리소스 그룹을 생성합니다:</p>
<p>main.tf</p>
<pre><code class="hljs language-js">provider <span class="hljs-string">&quot;azurerm&quot;</span> {
  features {}
}

resource <span class="hljs-string">&quot;azurerm_resource_group&quot;</span> <span class="hljs-string">&quot;example&quot;</span> {
  name     = <span class="hljs-string">&quot;example-resources&quot;</span>
  location = <span class="hljs-string">&quot;East US&quot;</span>
}
</code></pre>
<div class="content-ad"></div>
<p>파일을 저장한 후 해당 디렉토리로 이동하여 terrascan scan을 실행하십시오. Terrascan이 1개의 정책 위반을 감지하고 리소스 그룹에 리소스 잠금을 활성화해야 한다고 권장함을 볼 수 있어요. 이 문제는 LOW 심각도로 표시돼요.</p>
<p><img src="/assets/img/2024-05-23-WhatisTerrascan_2.png" alt="Terrascan Screenshot"/></p>
<h2>예제 2 - Helm 차트 스캔</h2>
<p>Helm 차트를 사용하여 Terrascan을 테스트하기 위해 demo-chart라는 새 차트를 만들어보겠어요:</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js">helm create demo-chart
</code></pre>
<p>이제 values.yaml 파일을 편집하여 Terrascan이 보고할 몇 가지 추가 취약점을 추가해보겠습니다.</p>
<img src="/assets/img/2024-05-23-WhatisTerrascan_3.png"/>
<p>values.yaml 파일이 있는 디렉토리로 이동한 다음 terrascan scan을 실행하세요. 보고된 위반 정책이 여러 개 표시되어야 합니다. 여기에는 위에 securityContext 라인을 추가하여 발생시킨 HIGH 심각도의 2개의 정책 위반이 포함될 것입니다.</p>
<div class="content-ad"></div>
<img src="/assets/img/2024-05-23-WhatisTerrascan_4.png"/>
<h2>예제 3 — 쿠버네티스 매니페스트 스캔하기</h2>
<p>K8S 매니페스트를 스캔하는 방법을 테스트하기 위해 간단한 nginx 배포용 파일을 작성해보겠습니다:</p>
<p>nginx.yaml</p>
<div class="content-ad"></div>
<pre><code class="hljs language-yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Deployment</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">nginx-deployment</span>
  <span class="hljs-attr">labels:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">nginx</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">replicas:</span> <span class="hljs-number">3</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">matchLabels:</span>
      <span class="hljs-attr">app:</span> <span class="hljs-string">nginx</span>
  <span class="hljs-attr">template:</span>
    <span class="hljs-attr">metadata:</span>
      <span class="hljs-attr">labels:</span>
        <span class="hljs-attr">app:</span> <span class="hljs-string">nginx</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-attr">containers:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">nginx</span>
        <span class="hljs-attr">image:</span> <span class="hljs-string">nginx:latest</span>
        <span class="hljs-attr">ports:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">containerPort:</span> <span class="hljs-number">80</span>
</code></pre>
<p>nginx.yaml 파일이 있는 폴더로 이동하여 terrascan scan을 실행해주세요.</p>
<p>Terrascan에서 여러 권장 사항을 보게 될 것인데, 그 중에는 2개의 HIGH 우선 순위 이슈(&#x27;Minimize Admission of Root Containers&#x27; 및 &#x27;Containers Should Not Run with AllowPrivilegeEscalation&#x27;)도 포함되어 있습니다.</p>
<img src="/assets/img/2024-05-23-WhatisTerrascan_5.png"/>
<div class="content-ad"></div>
<h2>예제 4 — Terrascan을 ArgoCD와 통합하기</h2>
<p>Terrascan은 인기있는 CI/CD 시스템인 Azure DevOps, GitHub, GitLab 및 Argo와 통합할 수 있습니다. ArgoCD의 경우, Terrascan은 ArgoCD의 리소스 후크를 사용하여 응용 프로그램 사전 동기화 프로세스 중 Argo CD 작업으로 구성될 수 있습니다. 또한 Terrascan의 K8S admission 컨트롤러를 사용하여 사전 동기화 및 컨트롤러 웹훅과 함께 구성된 저장소를 스캔할 수 있습니다.</p>
<p>Terrascan 문서 페이지에서 전체 통합 예시를 찾을 수 있습니다.</p>
<h2>Terrascan 사용자 정의 정책</h2>
<div class="content-ad"></div>
<p>Terrascan은 사용자가 Rego 쿼리 언어를 사용하여 쉽게 사용자 정의 정책을 만들 수 있도록 Open Policy Agent (OPA) 엔진을 활용합니다. 각 rego 정책에는 정책에 대한 메타데이터를 정의하는 JSON &quot;rule&quot; 파일이 포함되어 있습니다. Terrascan에 포함된 정책은 pkg/policies/opa/rego 디렉토리에 저장됩니다. rule.json 파일은 Rego 파일에서 정의된 사용자 정의 정책을 참조하는 구성 파일로, Terrascan 스캔 중에 어떤 정책이 적용되고 심각성 수준이 어떻게되는지를 제어할 수 있습니다. 사용자 정책 로직 및 규칙은 .rego 파일에 정의되며, rule.json 파일은 해당 정책을 적용하고 구성하는 방법을 지정합니다.</p>
<p>아래 정책 예시는 Azure 리소스가 &quot;UK South&quot; 또는 &quot;UK West&quot;에만 있어야 한다는 것을 강제합니다. 다른 위치에서 리소스를 찾으면 Terrascan에서 보고됩니다.</p>
<p>azure_region_policy.rego</p>
<pre><code class="hljs language-js">package main

<span class="hljs-keyword">import</span> input.<span class="hljs-property">tfplan</span> <span class="hljs-keyword">as</span> tfplan

<span class="hljs-keyword">default</span> allow = <span class="hljs-literal">false</span>

allowed_regions = [<span class="hljs-string">&quot;UK South&quot;</span>, <span class="hljs-string">&quot;UK West&quot;</span>]

# 테라폼 계획의 모든 <span class="hljs-title class_">Azure</span> 리소스를 반복합니다.
azure_resources[resource_name] {
    resource_name = input.<span class="hljs-property">tfplan</span>.<span class="hljs-property">resource_changes</span>[_].<span class="hljs-property">address</span>
    input.<span class="hljs-property">tfplan</span>.<span class="hljs-property">resource_changes</span>[_].<span class="hljs-property">type</span> == <span class="hljs-string">&quot;azurerm_resource&quot;</span>
}

# 각 <span class="hljs-title class_">Azure</span> 리소스의 지역이 허용되었는지 확인합니다.
allow {
    resource_name
    resource_config := input.<span class="hljs-property">tfplan</span>.<span class="hljs-property">resource_changes</span>[resource_name].<span class="hljs-property">change</span>.<span class="hljs-property">after</span>
    resource_config.<span class="hljs-property">location</span> == allowed_region
    allowed_region = allowed_regions[_]
}
</code></pre>
<div class="content-ad"></div>
<p>사용자 정책을 활성화하려면 rule.json 파일을 사용하여 Terrascan의 동작을 구성하고 스캔 중에 적용해야 할 정책을 지정합니다.</p>
<p>rule.json</p>
<pre><code class="hljs language-js">{
  <span class="hljs-string">&quot;rules&quot;</span>: {
    <span class="hljs-string">&quot;azure_region_policy&quot;</span>: {
      <span class="hljs-string">&quot;severity&quot;</span>: <span class="hljs-string">&quot;HIGH&quot;</span>,
      <span class="hljs-string">&quot;message&quot;</span>: <span class="hljs-string">&quot;&#x27;UK South&#x27; 또는 &#x27;UK West&#x27; 지역에 Azure 리소스를 배포해야 합니다.&quot;</span>,
      <span class="hljs-string">&quot;rules_file&quot;</span>: <span class="hljs-string">&quot;azure_region_policy.rego&quot;</span>
    }
  }
}
</code></pre>
<p>마지막으로 사용자 정책을 사용하여 스캔하려면 스캔하려는 디렉토리로 이동하고 -rules 플래그를 사용하여 json 파일 경로를 지정하십시오.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js">terrascan scan -rules /path/to/rule.<span class="hljs-property">json</span>
</code></pre>
<p>또한 Terrascan은 원하는 경우 정책을 준수하지 않으려면 해당 정책을 제외할 수도 있습니다. 예를 들어, 예시 1에서 구성한 Azure 리소스 그룹에 리소스 잠금을 사용하고 싶지 않다면 이 정책을 스캔에서 제외하여 이 문제로 표시되지 않게 할 수 있습니다. 이를 위해 -skip-rules 플래그를 사용하거나 특정 리소스에서 정책을 건너뛰는 파일 내부 기능을 사용합니다.</p>
<h2>Terrascan 대 Checkov</h2>
<p>외관상으로 보면, Terrascan과 Checkov는 매우 유사합니다. 둘 다 IaC 보안 및 규정 준수 스캔을 위해 설계된 오픈 소스 정적 코드 분석 도구입니다.</p>
<div class="content-ad"></div>
<p>Checkov은 Terraform에 주로 초점을 맞추고 있지만, AWS SAM을 포함한 CloudFormation, Azure Resource Manager (ARM), Serverless framework, Helm 차트, K8S 및 Docker와 같은 여러 유형의 파일을 스캔할 수 있습니다. Checkov는 활발한 기여 및 DevSecOps 커뮤니티에서 강력한 존재감을 보이는 커뮤니티 주도 프로젝트입니다.</p>
<p>Checkov는 Python을 사용하여 구축되었으며, Terrascan은 Go를 사용하며 Rego를 사용하여 사용자 정의 정책을 작성합니다. 사용자 정의 정책을 작성하는 데 Rego를 선호한다면 Terrascan은 좋은 선택입니다.</p>
<h2>Terrascan vs tfsec</h2>
<p>Tfsec는 또 다른 오픈 소스 정적 코드 분석 도구이며, 고려할 수 있는 주요 옵션 중 하나입니다.</p>
<div class="content-ad"></div>
<p>Terrascan과 달리 TFSec는 GO로 작성되었으며 사용자 정의 정책에는 Terrascan에서 사용되는 Rego 대신 YAML 정의를 사용합니다. K8S에 익숙한 사용자는 Rego 학습 대신 YAML을 사용하여 정책을 작성하는 것을 선호할 수 있습니다. 이는 TFSec를 선택하는 이유가 될 수 있습니다. 또한 커뮤니티에서 Checkov 및 Terrascan보다 가장 인기 있는 프로젝트이며 가장 많은 GitHub 스타를 가지고 있습니다.</p>
<h2>주요 포인트</h2>
<p>Terrascan은 IaC 템플릿 및 구성을 스캔하는 데 설계된 매우 유연하고 강력한 오픈 소스 정적 코드 분석 도구입니다. IaC 코드에서 보안 취약점, 준수 위반 및 최상의 실천 방법 문제를 식별하는 데 도움을 줍니다. 다양한 유형의 구성 파일과 함께 사용할 수 있으며 내장 정책을 제공하며 Rego를 사용하여 사용자 정의 정책을 사용할 수도 있습니다. CI/CD 시스템과 자동화 파이프라인에서 사용하는 것이 지원됩니다.</p>
<p>여기에서 Terraform에 관한 다른 기사들도 확인해보세요!</p>
<div class="content-ad"></div>
<p>환호! 🍻</p>
<p>원래 spacelift.io에서 발행되었습니다.</p></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"테라스캔Terrascan이란 무엇인가요","description":"","date":"2024-05-23 14:39","slug":"2024-05-23-WhatisTerrascan","content":"\n\n이 기사에서는 Terrascan을 살펴볼 것입니다. 이것이 무엇인지, 왜 사용해야 하는지, 어떻게 설치해야 하는지, 그리고 그 기능을 활용하는 방법에 대해 알아볼 것입니다. 우리는 일부 사용 사례 예제를 살펴보고, Terraform, Kubernetes (K8S) 및 Helm 차트를 스캔하는 방법을 보여줄 것입니다. 그리고 사용자 정의 정책을 정의하는 방법을 살펴보고, 마지막으로 Terrascan이 Chekov 및 TFSec와 같은 다른 유사한 제품과 비교되는 방법을 자세히 살펴볼 것입니다.\n\n![What is Terrascan](/assets/img/2024-05-23-WhatisTerrascan_0.png)\n\n## Terrascan이란 무엇인가요?\n\nTerrascan은 인프라를 코드로 정의하는(Infrastructure as Code, IaC)를 위한 오픈 소스 정적 코드 분석 도구입니다. Terrascan 웹사이트 태그라인이 Terrascan을 요약합니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n여기의 핵심 키워드 중 하나는 'before'입니다. Terrascan 도구의 목표는 인프라가 프로비저닝되기 전에 규정 준수나 보안 문제를 알려줌으로써 이를 해결하여 문제를 피하는 것입니다.\n\nTerrascan은 Tenable이 소유하고 있으며, 이 회사는 Cloud Native Computing Foundation (CNCF) 및 Open Source Security Foundation (OpenSSF)의 회원입니다.\n\n## Terrascan의 사용 목적\n\nTerrascan은 개발자와 DevOps 팀이 인프라 코드가 모범 사례, 보안 표준 및 규정 요구 사항을 준수하는지를 보장하는 데 도움을 줍니다. Terrascan은 500개 이상의 미리 설정된 정책을 제공하여 CIS Benchmark와 같은 공통 정책 표준에 대해 IaC를 검사할 수 있습니다. Terrascan을 처음 사용할 때 -p 플래그가 지정되지 않은 경우, Terrascan은 Terrascan 리포지토리에서 최신 정책을 다운로드합니다. terrascan init를 실행하여 로컬 환경을 리포지토리에 게시된 최신 정책으로 업데이트할 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## Terrascan 특징\n\n- Terrascan은 AWS, Azure, Google Cloud Platform (GCP), K8S, ArgoCD, Atlantis, GitHub, Docker을 포함한 다양한 클라우드 제공업체 및 코드 유형과 함께 사용할 수 있어 교차 클라우드 인프라 배포에 다재다능합니다.\n- Terrascan은 사용자 정의 가능한 사전 정의된 보안 및 규정 준수 규칙 라이브러리를 제공합니다. 이러한 규칙은 암호화, 액세스 제어, 리소스 구성 등 인프라 보안 및 규정 준수의 다양한 측면을 포함합니다. 기본적으로 사용되는 정책을 자세히 보려면 terrascan 정책 문서 페이지를 확인할 수 있습니다.\n- Terrascan은 CI/CD 파이프라인, IDE(통합 개발 환경) 및 다른 개발 및 배포 워크플로에 통합할 수 있습니다. 이를 통해 IaC 코드의 자동 스캔 및 유효성 검사가 개발 프로세스의 일부로 이루어질 수 있습니다.\n- Terrascan은 클라우드 인프라의 지속적인 모니터링에 사용될 수 있습니다. 취약점이나 규정 준수 문제를 발생시킬 수 있는 변질이나 구성 변경을 정기적으로 검사하고 확인할 수 있도록 설정할 수 있습니다.\n- 보고 및 개선: Terrascan은 분석 중 발견된 문제를 강조하는 자세한 보고서를 생성합니다. 또한 이러한 문제를 어떻게 개선할지에 대한 지침을 제공하여 팀이 보안 및 규정 준수 문제를 효과적으로 해결할 수 있도록 도와줍니다.\n\n## Terrascan 설치 방법\n\n- Windows\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n인기 있는 Windows 패키지 관리자 Chocolately를 사용하거나 수동으로 다운로드하여 설치할 수 있어요.\n\n```js\nchoco install terrascan\n```\n\n릴리스 페이지에서 Terrascan을 다운로드하세요:\n\nzip 파일에서 파일을 추출하고 Windows 경로에 추가하세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- 시작 단추를 마우스 오른쪽 버튼으로 클릭합니다.\n- 콘텍스트 메뉴에서 “시스템”을 선택합니다.\n- “고급 시스템 설정”을 클릭합니다.\n- “고급” 탭으로 이동합니다.\n- “환경 변수…”를 클릭합니다.\n- “Path”라는 변수를 클릭하고 “편집…”을 클릭합니다.\n- “새로 만들기”를 클릭합니다.\n- PATH에 포함하려는 Terrascan 파일이 있는 폴더의 경로를 입력하세요.\n\n- MacOS\n\n```js\ncurl -L \"$(curl -s https://api.github.com/repos/tenable/terrascan/releases/latest | grep -o -E \"https://.+?_Darwin_x86_64.tar.gz\")\" \u003e terrascan.tar.gz\ntar -xf terrascan.tar.gz terrascan \u0026\u0026 rm terrascan.tar.gz\ninstall terrascan /usr/local/bin \u0026\u0026 rm terrascan\nsudo install terrascan /usr/local/bin\n```\n\n- Linux\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\ncurl -L \"$(curl -s https://api.github.com/repos/tenable/terrascan/releases/latest | grep -o -E \"https://.+?_Linux_x86_64.tar.gz\")\" \u003e terrascan.tar.gz\ntar -xf terrascan.tar.gz terrascan \u0026\u0026 rm terrascan.tar.gz\ninstall terrascan /usr/local/bin \u0026\u0026 rm terrascan\nsudo install terrascan /usr/local/bin\n```\n\n- 도커\n\n도커 허브에서 이미지를 다음과 같이 가져올 수도 있습니다:\n\n```js\n$ docker run --rm tenable/terrascan version\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n테라스캔을 설치한 후 설치 여부를 확인하기 위해 명령줄에서 테라스캔을 실행하세요.\n\n![Terrascan](/assets/img/2024-05-23-WhatisTerrascan_1.png)\n\n## IaC 코드를 스캔하는 방법\n\n코드를 스캔하려면 구성 파일이 있는 폴더로 이동한 후 다음 명령을 실행하세요:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nterrascan scan\n```\n\n--c 옵션을 사용하여 스캔할 디렉토리를 지정할 수도 있어요.\n\n## Terrascan 사용 사례 - 예시\n\nTerrascan을 여러 유형의 구성 파일과 함께 사용할 수 있어요. 여기에 몇 가지 예시가 있어요. 이를 통해 쉽게 시작할 수 있을 거예요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 예제 1 — Terraform 코드 스캔\n\nAzure를 위한 예제 Terraform 설정 파일이 있습니다. 이 파일은 간단히 리소스 그룹을 생성합니다:\n\nmain.tf\n\n```js\nprovider \"azurerm\" {\n  features {}\n}\n\nresource \"azurerm_resource_group\" \"example\" {\n  name     = \"example-resources\"\n  location = \"East US\"\n}\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n파일을 저장한 후 해당 디렉토리로 이동하여 terrascan scan을 실행하십시오. Terrascan이 1개의 정책 위반을 감지하고 리소스 그룹에 리소스 잠금을 활성화해야 한다고 권장함을 볼 수 있어요. 이 문제는 LOW 심각도로 표시돼요.\n\n![Terrascan Screenshot](/assets/img/2024-05-23-WhatisTerrascan_2.png)\n\n## 예제 2 - Helm 차트 스캔\n\nHelm 차트를 사용하여 Terrascan을 테스트하기 위해 demo-chart라는 새 차트를 만들어보겠어요:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nhelm create demo-chart\n```\n\n이제 values.yaml 파일을 편집하여 Terrascan이 보고할 몇 가지 추가 취약점을 추가해보겠습니다.\n\n\u003cimg src=\"/assets/img/2024-05-23-WhatisTerrascan_3.png\" /\u003e\n\nvalues.yaml 파일이 있는 디렉토리로 이동한 다음 terrascan scan을 실행하세요. 보고된 위반 정책이 여러 개 표시되어야 합니다. 여기에는 위에 securityContext 라인을 추가하여 발생시킨 HIGH 심각도의 2개의 정책 위반이 포함될 것입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-05-23-WhatisTerrascan_4.png\" /\u003e\n\n## 예제 3 — 쿠버네티스 매니페스트 스캔하기\n\nK8S 매니페스트를 스캔하는 방법을 테스트하기 위해 간단한 nginx 배포용 파일을 작성해보겠습니다:\n\nnginx.yaml\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-deployment\n  labels:\n    app: nginx\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx:latest\n        ports:\n        - containerPort: 80\n```\n\nnginx.yaml 파일이 있는 폴더로 이동하여 terrascan scan을 실행해주세요.\n\nTerrascan에서 여러 권장 사항을 보게 될 것인데, 그 중에는 2개의 HIGH 우선 순위 이슈('Minimize Admission of Root Containers' 및 'Containers Should Not Run with AllowPrivilegeEscalation')도 포함되어 있습니다.\n\n\u003cimg src=\"/assets/img/2024-05-23-WhatisTerrascan_5.png\" /\u003e\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 예제 4 — Terrascan을 ArgoCD와 통합하기\n\nTerrascan은 인기있는 CI/CD 시스템인 Azure DevOps, GitHub, GitLab 및 Argo와 통합할 수 있습니다. ArgoCD의 경우, Terrascan은 ArgoCD의 리소스 후크를 사용하여 응용 프로그램 사전 동기화 프로세스 중 Argo CD 작업으로 구성될 수 있습니다. 또한 Terrascan의 K8S admission 컨트롤러를 사용하여 사전 동기화 및 컨트롤러 웹훅과 함께 구성된 저장소를 스캔할 수 있습니다.\n\nTerrascan 문서 페이지에서 전체 통합 예시를 찾을 수 있습니다.\n\n## Terrascan 사용자 정의 정책\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nTerrascan은 사용자가 Rego 쿼리 언어를 사용하여 쉽게 사용자 정의 정책을 만들 수 있도록 Open Policy Agent (OPA) 엔진을 활용합니다. 각 rego 정책에는 정책에 대한 메타데이터를 정의하는 JSON \"rule\" 파일이 포함되어 있습니다. Terrascan에 포함된 정책은 pkg/policies/opa/rego 디렉토리에 저장됩니다. rule.json 파일은 Rego 파일에서 정의된 사용자 정의 정책을 참조하는 구성 파일로, Terrascan 스캔 중에 어떤 정책이 적용되고 심각성 수준이 어떻게되는지를 제어할 수 있습니다. 사용자 정책 로직 및 규칙은 .rego 파일에 정의되며, rule.json 파일은 해당 정책을 적용하고 구성하는 방법을 지정합니다.\n\n아래 정책 예시는 Azure 리소스가 \"UK South\" 또는 \"UK West\"에만 있어야 한다는 것을 강제합니다. 다른 위치에서 리소스를 찾으면 Terrascan에서 보고됩니다.\n\nazure_region_policy.rego\n\n```js\npackage main\n\nimport input.tfplan as tfplan\n\ndefault allow = false\n\nallowed_regions = [\"UK South\", \"UK West\"]\n\n# 테라폼 계획의 모든 Azure 리소스를 반복합니다.\nazure_resources[resource_name] {\n    resource_name = input.tfplan.resource_changes[_].address\n    input.tfplan.resource_changes[_].type == \"azurerm_resource\"\n}\n\n# 각 Azure 리소스의 지역이 허용되었는지 확인합니다.\nallow {\n    resource_name\n    resource_config := input.tfplan.resource_changes[resource_name].change.after\n    resource_config.location == allowed_region\n    allowed_region = allowed_regions[_]\n}\n```\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n사용자 정책을 활성화하려면 rule.json 파일을 사용하여 Terrascan의 동작을 구성하고 스캔 중에 적용해야 할 정책을 지정합니다.\n\nrule.json\n\n```js\n{\n  \"rules\": {\n    \"azure_region_policy\": {\n      \"severity\": \"HIGH\",\n      \"message\": \"'UK South' 또는 'UK West' 지역에 Azure 리소스를 배포해야 합니다.\",\n      \"rules_file\": \"azure_region_policy.rego\"\n    }\n  }\n}\n```\n\n마지막으로 사용자 정책을 사용하여 스캔하려면 스캔하려는 디렉토리로 이동하고 -rules 플래그를 사용하여 json 파일 경로를 지정하십시오.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nterrascan scan -rules /path/to/rule.json\n```\n\n또한 Terrascan은 원하는 경우 정책을 준수하지 않으려면 해당 정책을 제외할 수도 있습니다. 예를 들어, 예시 1에서 구성한 Azure 리소스 그룹에 리소스 잠금을 사용하고 싶지 않다면 이 정책을 스캔에서 제외하여 이 문제로 표시되지 않게 할 수 있습니다. 이를 위해 -skip-rules 플래그를 사용하거나 특정 리소스에서 정책을 건너뛰는 파일 내부 기능을 사용합니다.\n\n## Terrascan 대 Checkov\n\n외관상으로 보면, Terrascan과 Checkov는 매우 유사합니다. 둘 다 IaC 보안 및 규정 준수 스캔을 위해 설계된 오픈 소스 정적 코드 분석 도구입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nCheckov은 Terraform에 주로 초점을 맞추고 있지만, AWS SAM을 포함한 CloudFormation, Azure Resource Manager (ARM), Serverless framework, Helm 차트, K8S 및 Docker와 같은 여러 유형의 파일을 스캔할 수 있습니다. Checkov는 활발한 기여 및 DevSecOps 커뮤니티에서 강력한 존재감을 보이는 커뮤니티 주도 프로젝트입니다.\n\nCheckov는 Python을 사용하여 구축되었으며, Terrascan은 Go를 사용하며 Rego를 사용하여 사용자 정의 정책을 작성합니다. 사용자 정의 정책을 작성하는 데 Rego를 선호한다면 Terrascan은 좋은 선택입니다.\n\n## Terrascan vs tfsec\n\nTfsec는 또 다른 오픈 소스 정적 코드 분석 도구이며, 고려할 수 있는 주요 옵션 중 하나입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nTerrascan과 달리 TFSec는 GO로 작성되었으며 사용자 정의 정책에는 Terrascan에서 사용되는 Rego 대신 YAML 정의를 사용합니다. K8S에 익숙한 사용자는 Rego 학습 대신 YAML을 사용하여 정책을 작성하는 것을 선호할 수 있습니다. 이는 TFSec를 선택하는 이유가 될 수 있습니다. 또한 커뮤니티에서 Checkov 및 Terrascan보다 가장 인기 있는 프로젝트이며 가장 많은 GitHub 스타를 가지고 있습니다.\n\n## 주요 포인트\n\nTerrascan은 IaC 템플릿 및 구성을 스캔하는 데 설계된 매우 유연하고 강력한 오픈 소스 정적 코드 분석 도구입니다. IaC 코드에서 보안 취약점, 준수 위반 및 최상의 실천 방법 문제를 식별하는 데 도움을 줍니다. 다양한 유형의 구성 파일과 함께 사용할 수 있으며 내장 정책을 제공하며 Rego를 사용하여 사용자 정의 정책을 사용할 수도 있습니다. CI/CD 시스템과 자동화 파이프라인에서 사용하는 것이 지원됩니다.\n\n여기에서 Terraform에 관한 다른 기사들도 확인해보세요!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n환호! 🍻\n\n원래 spacelift.io에서 발행되었습니다.","ogImage":{"url":"/assets/img/2024-05-23-WhatisTerrascan_0.png"},"coverImage":"/assets/img/2024-05-23-WhatisTerrascan_0.png","tag":["Tech"],"readingTime":9},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    img: \"img\",\n    h2: \"h2\",\n    ul: \"ul\",\n    li: \"li\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"이 기사에서는 Terrascan을 살펴볼 것입니다. 이것이 무엇인지, 왜 사용해야 하는지, 어떻게 설치해야 하는지, 그리고 그 기능을 활용하는 방법에 대해 알아볼 것입니다. 우리는 일부 사용 사례 예제를 살펴보고, Terraform, Kubernetes (K8S) 및 Helm 차트를 스캔하는 방법을 보여줄 것입니다. 그리고 사용자 정의 정책을 정의하는 방법을 살펴보고, 마지막으로 Terrascan이 Chekov 및 TFSec와 같은 다른 유사한 제품과 비교되는 방법을 자세히 살펴볼 것입니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-23-WhatisTerrascan_0.png\",\n        alt: \"What is Terrascan\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Terrascan이란 무엇인가요?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascan은 인프라를 코드로 정의하는(Infrastructure as Code, IaC)를 위한 오픈 소스 정적 코드 분석 도구입니다. Terrascan 웹사이트 태그라인이 Terrascan을 요약합니다:\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"여기의 핵심 키워드 중 하나는 'before'입니다. Terrascan 도구의 목표는 인프라가 프로비저닝되기 전에 규정 준수나 보안 문제를 알려줌으로써 이를 해결하여 문제를 피하는 것입니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascan은 Tenable이 소유하고 있으며, 이 회사는 Cloud Native Computing Foundation (CNCF) 및 Open Source Security Foundation (OpenSSF)의 회원입니다.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Terrascan의 사용 목적\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascan은 개발자와 DevOps 팀이 인프라 코드가 모범 사례, 보안 표준 및 규정 요구 사항을 준수하는지를 보장하는 데 도움을 줍니다. Terrascan은 500개 이상의 미리 설정된 정책을 제공하여 CIS Benchmark와 같은 공통 정책 표준에 대해 IaC를 검사할 수 있습니다. Terrascan을 처음 사용할 때 -p 플래그가 지정되지 않은 경우, Terrascan은 Terrascan 리포지토리에서 최신 정책을 다운로드합니다. terrascan init를 실행하여 로컬 환경을 리포지토리에 게시된 최신 정책으로 업데이트할 수 있습니다.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Terrascan 특징\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Terrascan은 AWS, Azure, Google Cloud Platform (GCP), K8S, ArgoCD, Atlantis, GitHub, Docker을 포함한 다양한 클라우드 제공업체 및 코드 유형과 함께 사용할 수 있어 교차 클라우드 인프라 배포에 다재다능합니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Terrascan은 사용자 정의 가능한 사전 정의된 보안 및 규정 준수 규칙 라이브러리를 제공합니다. 이러한 규칙은 암호화, 액세스 제어, 리소스 구성 등 인프라 보안 및 규정 준수의 다양한 측면을 포함합니다. 기본적으로 사용되는 정책을 자세히 보려면 terrascan 정책 문서 페이지를 확인할 수 있습니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Terrascan은 CI/CD 파이프라인, IDE(통합 개발 환경) 및 다른 개발 및 배포 워크플로에 통합할 수 있습니다. 이를 통해 IaC 코드의 자동 스캔 및 유효성 검사가 개발 프로세스의 일부로 이루어질 수 있습니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Terrascan은 클라우드 인프라의 지속적인 모니터링에 사용될 수 있습니다. 취약점이나 규정 준수 문제를 발생시킬 수 있는 변질이나 구성 변경을 정기적으로 검사하고 확인할 수 있도록 설정할 수 있습니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"보고 및 개선: Terrascan은 분석 중 발견된 문제를 강조하는 자세한 보고서를 생성합니다. 또한 이러한 문제를 어떻게 개선할지에 대한 지침을 제공하여 팀이 보안 및 규정 준수 문제를 효과적으로 해결할 수 있도록 도와줍니다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Terrascan 설치 방법\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Windows\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"인기 있는 Windows 패키지 관리자 Chocolately를 사용하거나 수동으로 다운로드하여 설치할 수 있어요.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-js\",\n        children: \"choco install terrascan\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"릴리스 페이지에서 Terrascan을 다운로드하세요:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"zip 파일에서 파일을 추출하고 Windows 경로에 추가하세요.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"시작 단추를 마우스 오른쪽 버튼으로 클릭합니다.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"콘텍스트 메뉴에서 “시스템”을 선택합니다.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"“고급 시스템 설정”을 클릭합니다.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"“고급” 탭으로 이동합니다.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"“환경 변수…”를 클릭합니다.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"“Path”라는 변수를 클릭하고 “편집…”을 클릭합니다.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"“새로 만들기”를 클릭합니다.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"PATH에 포함하려는 Terrascan 파일이 있는 폴더의 경로를 입력하세요.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"MacOS\"\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"curl -L \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"$(curl -s https://api.github.com/repos/tenable/terrascan/releases/latest | grep -o -E \\\"\"\n        }), _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"https\"\n        }), \":\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"//.+?_Darwin_x86_64.tar.gz\\\")\\\" \u003e terrascan.tar.gz\"\n        }), \"\\ntar -xf terrascan.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tar\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"gz\"\n        }), \" terrascan \u0026\u0026 rm terrascan.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tar\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"gz\"\n        }), \"\\ninstall terrascan /usr/local/bin \u0026\u0026 rm terrascan\\nsudo install terrascan /usr/local/bin\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Linux\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"curl -L \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"$(curl -s https://api.github.com/repos/tenable/terrascan/releases/latest | grep -o -E \\\"\"\n        }), _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"https\"\n        }), \":\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"//.+?_Linux_x86_64.tar.gz\\\")\\\" \u003e terrascan.tar.gz\"\n        }), \"\\ntar -xf terrascan.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tar\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"gz\"\n        }), \" terrascan \u0026\u0026 rm terrascan.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tar\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"gz\"\n        }), \"\\ninstall terrascan /usr/local/bin \u0026\u0026 rm terrascan\\nsudo install terrascan /usr/local/bin\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"도커\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"도커 허브에서 이미지를 다음과 같이 가져올 수도 있습니다:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-js\",\n        children: \"$ docker run --rm tenable/terrascan version\\n\"\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"테라스캔을 설치한 후 설치 여부를 확인하기 위해 명령줄에서 테라스캔을 실행하세요.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-23-WhatisTerrascan_1.png\",\n        alt: \"Terrascan\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"IaC 코드를 스캔하는 방법\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"코드를 스캔하려면 구성 파일이 있는 폴더로 이동한 후 다음 명령을 실행하세요:\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-js\",\n        children: \"terrascan scan\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"--c 옵션을 사용하여 스캔할 디렉토리를 지정할 수도 있어요.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Terrascan 사용 사례 - 예시\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascan을 여러 유형의 구성 파일과 함께 사용할 수 있어요. 여기에 몇 가지 예시가 있어요. 이를 통해 쉽게 시작할 수 있을 거예요.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"예제 1 — Terraform 코드 스캔\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Azure를 위한 예제 Terraform 설정 파일이 있습니다. 이 파일은 간단히 리소스 그룹을 생성합니다:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"main.tf\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"provider \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"azurerm\\\"\"\n        }), \" {\\n  features {}\\n}\\n\\nresource \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"azurerm_resource_group\\\"\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"example\\\"\"\n        }), \" {\\n  name     = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"example-resources\\\"\"\n        }), \"\\n  location = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"East US\\\"\"\n        }), \"\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"파일을 저장한 후 해당 디렉토리로 이동하여 terrascan scan을 실행하십시오. Terrascan이 1개의 정책 위반을 감지하고 리소스 그룹에 리소스 잠금을 활성화해야 한다고 권장함을 볼 수 있어요. 이 문제는 LOW 심각도로 표시돼요.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-23-WhatisTerrascan_2.png\",\n        alt: \"Terrascan Screenshot\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"예제 2 - Helm 차트 스캔\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Helm 차트를 사용하여 Terrascan을 테스트하기 위해 demo-chart라는 새 차트를 만들어보겠어요:\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-js\",\n        children: \"helm create demo-chart\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이제 values.yaml 파일을 편집하여 Terrascan이 보고할 몇 가지 추가 취약점을 추가해보겠습니다.\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-23-WhatisTerrascan_3.png\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"values.yaml 파일이 있는 디렉토리로 이동한 다음 terrascan scan을 실행하세요. 보고된 위반 정책이 여러 개 표시되어야 합니다. 여기에는 위에 securityContext 라인을 추가하여 발생시킨 HIGH 심각도의 2개의 정책 위반이 포함될 것입니다.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-23-WhatisTerrascan_4.png\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"예제 3 — 쿠버네티스 매니페스트 스캔하기\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"K8S 매니페스트를 스캔하는 방법을 테스트하기 위해 간단한 nginx 배포용 파일을 작성해보겠습니다:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"nginx.yaml\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-yaml\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"apiVersion:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"apps/v1\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"kind:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"Deployment\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"metadata:\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"name:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"nginx-deployment\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"labels:\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"app:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"nginx\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"spec:\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"replicas:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"3\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"selector:\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"matchLabels:\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"app:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"nginx\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"template:\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"metadata:\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"labels:\"\n        }), \"\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"app:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"nginx\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"spec:\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"containers:\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"hljs-bullet\",\n          children: \"-\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"name:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"nginx\"\n        }), \"\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"image:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"nginx:latest\"\n        }), \"\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"ports:\"\n        }), \"\\n        \", _jsx(_components.span, {\n          className: \"hljs-bullet\",\n          children: \"-\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"containerPort:\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"80\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"nginx.yaml 파일이 있는 폴더로 이동하여 terrascan scan을 실행해주세요.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascan에서 여러 권장 사항을 보게 될 것인데, 그 중에는 2개의 HIGH 우선 순위 이슈('Minimize Admission of Root Containers' 및 'Containers Should Not Run with AllowPrivilegeEscalation')도 포함되어 있습니다.\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-23-WhatisTerrascan_5.png\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"예제 4 — Terrascan을 ArgoCD와 통합하기\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascan은 인기있는 CI/CD 시스템인 Azure DevOps, GitHub, GitLab 및 Argo와 통합할 수 있습니다. ArgoCD의 경우, Terrascan은 ArgoCD의 리소스 후크를 사용하여 응용 프로그램 사전 동기화 프로세스 중 Argo CD 작업으로 구성될 수 있습니다. 또한 Terrascan의 K8S admission 컨트롤러를 사용하여 사전 동기화 및 컨트롤러 웹훅과 함께 구성된 저장소를 스캔할 수 있습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascan 문서 페이지에서 전체 통합 예시를 찾을 수 있습니다.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Terrascan 사용자 정의 정책\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascan은 사용자가 Rego 쿼리 언어를 사용하여 쉽게 사용자 정의 정책을 만들 수 있도록 Open Policy Agent (OPA) 엔진을 활용합니다. 각 rego 정책에는 정책에 대한 메타데이터를 정의하는 JSON \\\"rule\\\" 파일이 포함되어 있습니다. Terrascan에 포함된 정책은 pkg/policies/opa/rego 디렉토리에 저장됩니다. rule.json 파일은 Rego 파일에서 정의된 사용자 정의 정책을 참조하는 구성 파일로, Terrascan 스캔 중에 어떤 정책이 적용되고 심각성 수준이 어떻게되는지를 제어할 수 있습니다. 사용자 정책 로직 및 규칙은 .rego 파일에 정의되며, rule.json 파일은 해당 정책을 적용하고 구성하는 방법을 지정합니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"아래 정책 예시는 Azure 리소스가 \\\"UK South\\\" 또는 \\\"UK West\\\"에만 있어야 한다는 것을 강제합니다. 다른 위치에서 리소스를 찾으면 Terrascan에서 보고됩니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"azure_region_policy.rego\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"package main\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" input.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tfplan\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" tfplan\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" allow = \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"false\"\n        }), \"\\n\\nallowed_regions = [\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"UK South\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"UK West\\\"\"\n        }), \"]\\n\\n# 테라폼 계획의 모든 \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Azure\"\n        }), \" 리소스를 반복합니다.\\nazure_resources[resource_name] {\\n    resource_name = input.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tfplan\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"resource_changes\"\n        }), \"[_].\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"address\"\n        }), \"\\n    input.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tfplan\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"resource_changes\"\n        }), \"[_].\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"type\"\n        }), \" == \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"azurerm_resource\\\"\"\n        }), \"\\n}\\n\\n# 각 \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Azure\"\n        }), \" 리소스의 지역이 허용되었는지 확인합니다.\\nallow {\\n    resource_name\\n    resource_config := input.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tfplan\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"resource_changes\"\n        }), \"[resource_name].\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"change\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"after\"\n        }), \"\\n    resource_config.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"location\"\n        }), \" == allowed_region\\n    allowed_region = allowed_regions[_]\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"사용자 정책을 활성화하려면 rule.json 파일을 사용하여 Terrascan의 동작을 구성하고 스캔 중에 적용해야 할 정책을 지정합니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"rule.json\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"{\\n  \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"rules\\\"\"\n        }), \": {\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"azure_region_policy\\\"\"\n        }), \": {\\n      \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"severity\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"HIGH\\\"\"\n        }), \",\\n      \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"message\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"'UK South' 또는 'UK West' 지역에 Azure 리소스를 배포해야 합니다.\\\"\"\n        }), \",\\n      \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"rules_file\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"azure_region_policy.rego\\\"\"\n        }), \"\\n    }\\n  }\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"마지막으로 사용자 정책을 사용하여 스캔하려면 스캔하려는 디렉토리로 이동하고 -rules 플래그를 사용하여 json 파일 경로를 지정하십시오.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"terrascan scan -rules /path/to/rule.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"json\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"또한 Terrascan은 원하는 경우 정책을 준수하지 않으려면 해당 정책을 제외할 수도 있습니다. 예를 들어, 예시 1에서 구성한 Azure 리소스 그룹에 리소스 잠금을 사용하고 싶지 않다면 이 정책을 스캔에서 제외하여 이 문제로 표시되지 않게 할 수 있습니다. 이를 위해 -skip-rules 플래그를 사용하거나 특정 리소스에서 정책을 건너뛰는 파일 내부 기능을 사용합니다.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Terrascan 대 Checkov\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"외관상으로 보면, Terrascan과 Checkov는 매우 유사합니다. 둘 다 IaC 보안 및 규정 준수 스캔을 위해 설계된 오픈 소스 정적 코드 분석 도구입니다.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Checkov은 Terraform에 주로 초점을 맞추고 있지만, AWS SAM을 포함한 CloudFormation, Azure Resource Manager (ARM), Serverless framework, Helm 차트, K8S 및 Docker와 같은 여러 유형의 파일을 스캔할 수 있습니다. Checkov는 활발한 기여 및 DevSecOps 커뮤니티에서 강력한 존재감을 보이는 커뮤니티 주도 프로젝트입니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Checkov는 Python을 사용하여 구축되었으며, Terrascan은 Go를 사용하며 Rego를 사용하여 사용자 정의 정책을 작성합니다. 사용자 정의 정책을 작성하는 데 Rego를 선호한다면 Terrascan은 좋은 선택입니다.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Terrascan vs tfsec\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Tfsec는 또 다른 오픈 소스 정적 코드 분석 도구이며, 고려할 수 있는 주요 옵션 중 하나입니다.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascan과 달리 TFSec는 GO로 작성되었으며 사용자 정의 정책에는 Terrascan에서 사용되는 Rego 대신 YAML 정의를 사용합니다. K8S에 익숙한 사용자는 Rego 학습 대신 YAML을 사용하여 정책을 작성하는 것을 선호할 수 있습니다. 이는 TFSec를 선택하는 이유가 될 수 있습니다. 또한 커뮤니티에서 Checkov 및 Terrascan보다 가장 인기 있는 프로젝트이며 가장 많은 GitHub 스타를 가지고 있습니다.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"주요 포인트\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Terrascan은 IaC 템플릿 및 구성을 스캔하는 데 설계된 매우 유연하고 강력한 오픈 소스 정적 코드 분석 도구입니다. IaC 코드에서 보안 취약점, 준수 위반 및 최상의 실천 방법 문제를 식별하는 데 도움을 줍니다. 다양한 유형의 구성 파일과 함께 사용할 수 있으며 내장 정책을 제공하며 Rego를 사용하여 사용자 정의 정책을 사용할 수도 있습니다. CI/CD 시스템과 자동화 파이프라인에서 사용하는 것이 지원됩니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"여기에서 Terraform에 관한 다른 기사들도 확인해보세요!\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"환호! 🍻\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"원래 spacelift.io에서 발행되었습니다.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-23-WhatisTerrascan"},"buildId":"0asLlD6on3tm8cIfzBaxd","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>