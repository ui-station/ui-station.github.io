<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>ML ì´ì•¼ê¸° MobileLlama3 ëª¨ë°”ì¼ì—ì„œ Llama3ë¥¼ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê¸° | ui-station</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://ui-station.github.io///post/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="ML ì´ì•¼ê¸° MobileLlama3 ëª¨ë°”ì¼ì—ì„œ Llama3ë¥¼ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê¸° | ui-station" data-gatsby-head="true"/><meta property="og:title" content="ML ì´ì•¼ê¸° MobileLlama3 ëª¨ë°”ì¼ì—ì„œ Llama3ë¥¼ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê¸° | ui-station" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://ui-station.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://ui-station.github.io///post/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile" data-gatsby-head="true"/><meta name="twitter:title" content="ML ì´ì•¼ê¸° MobileLlama3 ëª¨ë°”ì¼ì—ì„œ Llama3ë¥¼ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê¸° | ui-station" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | ui-station" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-18 20:07" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BHFR6GTH9P"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-BHFR6GTH9P');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-70e5ce89f3d962ac.js" defer=""></script><script src="/_next/static/JlBEgQDLGRx6DYlBnT8eD/_buildManifest.js" defer=""></script><script src="/_next/static/JlBEgQDLGRx6DYlBnT8eD/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">UI STATION</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">ML ì´ì•¼ê¸° MobileLlama3 ëª¨ë°”ì¼ì—ì„œ Llama3ë¥¼ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê¸°</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="ML ì´ì•¼ê¸° MobileLlama3 ëª¨ë°”ì¼ì—ì„œ Llama3ë¥¼ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê¸°" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">UI STATION</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 18, 2024</span><span class="posts_reading_time__f7YPP">18<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<h1>ì†Œê°œ</h1>
<p>2024ë…„ 4ì›”, Metaê°€ ìƒˆë¡œìš´ ì˜¤í”ˆ ì–¸ì–´ ëª¨ë¸ íŒ¨ë°€ë¦¬ì¸ Llama 3ì„ ì¶œì‹œí–ˆìŠµë‹ˆë‹¤. ì´ì „ ëª¨ë¸ì„ ë°œì „ì‹œí‚¨ Llama 3ì€ ê°œì„ ëœ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°, 8B ë° 70Bì˜ ì‚¬ì „ í›ˆë ¨ëœ ë²„ì „ê³¼ ëª…ë ¹ì–´ íŠœë‹ëœ ë³€í˜•ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
<p>ì–¸ì–´ ëª¨ë¸ì˜ ì§€ì†ì ì¸ íŠ¸ë Œë“œì—ì„œ, ê°œë°œìë“¤ì€ ê°œì¸ ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•´ API ëŒ€ì‹  ë¡œì»¬ ë˜ëŠ” ì˜¤í”„ë¼ì¸ ì‚¬ìš©ì„ ì„ í˜¸í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì˜¬ë¼ë§ˆëŠ” macOS ë° Linux OSì—ì„œ ì˜¤í”„ë¼ì¸ìœ¼ë¡œ LLMsë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ë„êµ¬ ì¤‘ í•˜ë‚˜ë¡œ, ë¡œì»¬ ì‹¤í–‰ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ìŠ¤ë§ˆíŠ¸í°ì˜ ì œí•œëœ í•˜ë“œì›¨ì–´ ì„±ëŠ¥ìœ¼ë¡œ ì¸í•´ ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ LLMsë¥¼ ë¡œì»¬ë¡œ ì‹¤í–‰í•˜ëŠ” ê¸°ëŠ¥ì€ ì•„ì§ ì œí•œì ì…ë‹ˆë‹¤.</p>
<p>í•˜ì§€ë§Œ ì´ì œëŠ” ë‹¤ë¦…ë‹ˆë‹¤. MLC ë•ë¶„ì— ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ ì´ëŸ¬í•œ ëŒ€í˜• ëª¨ë¸ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤. ì´ ë¸”ë¡œê·¸ëŠ” MLC LLMì„ ì‚¬ìš©í•˜ì—¬ ì˜¤í”„ë¼ì¸ ì¶”ë¡ ì„ ìœ„í•´ Llama3-8B-Instruction ëª¨ë¸ì„ ëª¨ë°”ì¼ í°ì— ì§ì ‘ ì–‘ìí™”, ë³€í™˜ ë° ë°°í¬í•˜ëŠ” ì™„ì „í•œ íŠœí† ë¦¬ì–¼ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_0.png">
<p>ì‹œì‘í•˜ê¸° ì „ì—, ë¨¼ì € íŒŒì´í”„ë¼ì¸ì„ ì´í•´í•´ ë´…ì‹œë‹¤.</p>
<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_1.png">
<p>ì, ë” ì´ìƒ ì§€ì²´í•˜ì§€ ë§ê³ , ë‹¨ê³„ë³„ êµ¬í˜„ì„ ìœ„í•œ ì½”ë“œë¡œ ë°”ë¡œ ë„˜ì–´ê°€ ë³´ê² ìŠµë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>ì„¹ì…˜ I: ì›ë³¸ ë¼ë§ˆ-3-8B-ì¸ìŠ¤íŠ¸ëŸ­íŠ¸ ëª¨ë¸ì„ MLC í˜¸í™˜ ê°€ì¤‘ì¹˜ë¡œ ì–‘ìí™” ë° ë³€í™˜í•˜ê¸°</h2>
<p>ë‹¨ê³„ 0: ì•„ë˜ ì €ì¥ì†Œë¥¼ ë¡œì»¬ ë¨¸ì‹ ì— ë³µì œí•˜ê³  Google Colabì— Llama3_on_Mobile.ipynb ë…¸íŠ¸ë¶ì„ ì—…ë¡œë“œí•˜ì„¸ìš”.</p>
<pre><code class="hljs language-js"># ì €ì¥ì†Œë¥¼ ë³µì œí•©ë‹ˆë‹¤.
git clone <span class="hljs-attr">https</span>:<span class="hljs-comment">//github.com/NSTiwari/Llama3-on-Mobile</span>
</code></pre>
<p>ë‹¨ê³„ 1: MLC-LLM ì„¤ì¹˜í•˜ê¸°</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ë³€í™˜í•˜ë ¤ë©´ MLC-LLM ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤. ë…¸íŠ¸ë¶ì„ ì‹¤í–‰í•˜ëŠ” ë° íŠ¹íˆ NumPy ë²„ì „ 1.23.5ê°€ í•„ìš”í•˜ë©°, ë‹¤ë¥¸ ë²„ì „ì—ì„œ ë³€í™˜ í”„ë¡œì„¸ìŠ¤ì— ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">!pip install --pre --force-reinstall mlc-ai-nightly-cu122 mlc-llm-nightly-cu122 -f <span class="hljs-attr">https</span>:<span class="hljs-comment">//mlc.ai/wheels</span>
!pip install numpy==<span class="hljs-number">1.23</span><span class="hljs-number">.5</span>
</code></pre>
<p>ë‹¨ê³„ 2: ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> mlc_llm
<span class="hljs-keyword">import</span> torch
<span class="hljs-keyword">from</span> huggingface_hub <span class="hljs-keyword">import</span> snapshot_download
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>Step 3: HF ê³„ì •ì— ë¡œê·¸ì¸í•˜ê³  ì›ë³¸ Llama-3-8B-Instruct ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”</p>
<pre><code class="hljs language-js"># <span class="hljs-variable constant_">HF</span> ê³„ì •ì— ë¡œê·¸ì¸í•©ë‹ˆë‹¤.
<span class="hljs-keyword">from</span> huggingface_hub <span class="hljs-keyword">import</span> notebook_login
<span class="hljs-title function_">notebook_login</span>()

# <span class="hljs-title class_">Llama</span>-<span class="hljs-number">3</span>-8B-<span class="hljs-title class_">Instruct</span> ëª¨ë¸ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.
<span class="hljs-title function_">snapshot_download</span>(repo_id=<span class="hljs-string">"meta-llama/Meta-Llama-3-8B-Instruct"</span>, local_dir=<span class="hljs-string">"/content/Llama-3-8B-Instruct/"</span>)
</code></pre>
<p>Step 4: GPUê°€ í™œì„±í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”</p>
<pre><code class="hljs language-js">!nvidia-smi

# <span class="hljs-variable constant_">CUDA</span>ê°€ ì‚¬ìš© ê°€ëŠ¥í•œì§€ í™•ì¸í•©ë‹ˆë‹¤.
torch.<span class="hljs-property">cuda</span>.<span class="hljs-title function_">is_available</span>()

device = torch.<span class="hljs-title function_">device</span>(<span class="hljs-string">"cuda:0"</span> <span class="hljs-keyword">if</span> torch.<span class="hljs-property">cuda</span>.<span class="hljs-title function_">is_available</span>() <span class="hljs-keyword">else</span> <span class="hljs-string">"cpu"</span>)
device
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>Step 5: ëª¨ë¸ ì´ë¦„ê³¼ ì–‘ìí™” ìœ í˜• êµ¬ì„±</p>
<pre><code class="hljs language-js"><span class="hljs-variable constant_">MODEL_NAME</span> = <span class="hljs-string">"Llama-3-8B-Instruct"</span>;
<span class="hljs-variable constant_">QUANTIZATION</span> = <span class="hljs-string">"q4f16_1"</span>;
</code></pre>
<p>Step 6: Llama-3-8B-Insruct ëª¨ë¸ì„ MLC í˜¸í™˜ ê°€ì¤‘ì¹˜ë¡œ ë³€í™˜</p>
<p>ë‹¤ìŒ ì½”ë“œëŠ” q4f16_1 ì–‘ìí™”ë¥¼ ì‚¬ìš©í•˜ì—¬ Llama-3-8B-Instruct ëª¨ë¸ì„ ì–‘ìí™” ë° ìƒ¤ë”©í•˜ì—¬ ì—¬ëŸ¬ ì²­í¬ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ Llama-3-8B-Instruct-q4f16_1-androidì´ë€ ë””ë ‰í„°ë¦¬ì— ë³€í™˜í•˜ê³  ì €ì¥í•©ë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js">!python -m mlc_llm convert_weight /content/$MODEL_NAME/ --quantization $QUANTIZATION -o /content/$MODEL_NAME-$QUANTIZATION-android/
</code></pre>
<p>7ë‹¨ê³„: í† í° íŒŒì¼ ìƒì„±</p>
<p>ì´ ì½”ë“œ ë¼ì¸ì€ conv-template, context-window, prefill-chunk-sizeì™€ ê°™ì€ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í† í° íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ë•Œ conv-templateì€ llama-3ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë©°, ì´ëŠ” ì‘ì—… ì¤‘ì¸ Llama-3 ëª¨ë¸ ë³€í˜•ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">!python -m mlc_llm gen_config /content/$MODEL_NAME/ --quantization $QUANTIZATION \
    --conv-template llama-<span class="hljs-number">3</span> --context-<span class="hljs-variable language_">window</span>-size <span class="hljs-number">8192</span> --prefill-chunk-size <span class="hljs-number">1024</span>  \
    -o /content/$MODEL_NAME-$QUANTIZATION-android/
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>8ë‹¨ê³„: Android í˜•ì‹ìœ¼ë¡œ ëª¨ë¸ ì»´íŒŒì¼í•˜ê¸°</p>
<p>ì—¬ê¸°ì„œëŠ” ì¥ì¹˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ Android í˜¸í™˜ í˜•ì‹ìœ¼ë¡œ ì»´íŒŒì¼í•˜ë©°, ì´ëŠ” Llama3â€“8B-Instruct-q4f16_1-android.tar íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ .tar íŒŒì¼ì€ ëª¨ë¸ì„ ê¸°ê¸°ì— ë°°í¬í•˜ê¸° ìœ„í•´ ì´í›„ ë‹¨ê³„ì—ì„œ ì‚¬ìš©ë  ê²ƒì…ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">!python -m mlc_llm compile /content/$MODEL_NAME-$QUANTIZATION-android/mlc-chat-config.<span class="hljs-property">json</span> \
    --device android -o /content/$MODEL_NAME-$QUANTIZATION-android/$MODEL_NAME-$QUANTIZATION-android.<span class="hljs-property">tar</span>
</code></pre>
<p>9ë‹¨ê³„: ëª¨ë¸ì„ Hugging Faceì— ì˜¬ë¦¬ê¸° ğŸ¤—</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ë§ˆì§€ë§‰ìœ¼ë¡œ, ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ HFì— ì €ì¥í•˜ì„¸ìš”. ì´ëŸ¬í•œ ê°€ì¤‘ì¹˜ëŠ” ì¶”ë¡  ì¤‘ì— ëª¨ë°”ì¼ í°ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œë  ê²ƒì…ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">from</span> huggingface_hub <span class="hljs-keyword">import</span> whoami
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> <span class="hljs-title class_">Path</span>

# ì¶œë ¥ ë””ë ‰í† ë¦¬.
output_dir = <span class="hljs-string">"/content/"</span> + <span class="hljs-variable constant_">MODEL_NAME</span> + <span class="hljs-string">"-"</span> + <span class="hljs-variable constant_">QUANTIZATION</span> + <span class="hljs-string">"-android/"</span>
repo_name = <span class="hljs-string">"Llama-3-8B-q4f16_1-android"</span>
username = <span class="hljs-title function_">whoami</span>(token=<span class="hljs-title class_">Path</span>(<span class="hljs-string">"/root/.cache/huggingface/"</span>))[<span class="hljs-string">"name"</span>]
repo_id = f<span class="hljs-string">"{username}/{repo_name}"</span>
</code></pre>
<pre><code class="hljs language-js"><span class="hljs-keyword">from</span> huggingface_hub <span class="hljs-keyword">import</span> upload_folder, create_repo

repo_id = <span class="hljs-title function_">create_repo</span>(repo_id, exist_ok=<span class="hljs-title class_">True</span>).<span class="hljs-property">repo_id</span>
<span class="hljs-title function_">print</span>(output_dir)

<span class="hljs-title function_">upload_folder</span>(
    repo_id=repo_id,
    folder_path=output_dir,
    commit_message=<span class="hljs-string">"Quantized Llama-3-8B-Instruct model for Android."</span>,
    ignore_patterns=[<span class="hljs-string">"step_*"</span>, <span class="hljs-string">"epoch_*"</span>],
)
</code></pre>
<p>ë‹¤ìŒ HF ğŸ¤— ë¦¬í¬ì§€í† ë¦¬ì—ì„œ ìƒ¤ë“œëœ ëª¨ë¸ ê°€ì¤‘ì¹˜ ë° í† í¬ë‚˜ì´ì €ë¥¼ ì§ì ‘ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
<a href="https://huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android" rel="nofollow" target="_blank">https://huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android</a></p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì—¬ê¸° ì™„ì „í•œ Colab ë…¸íŠ¸ë¶ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì¢‹ì•„ìš”. ìš°ë¦¬ëŠ” ì–‘ìí™”ì™€ ëª¨ë¸ ê°€ì¤‘ì¹˜ ë³€í™˜ì˜ ì´ˆê¸° ë‹¨ê³„ë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. ì´ì œ ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” GCP ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì¶”ê°€ë¡œ ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ì»´íŒŒì¼í•˜ê¸° ìœ„í•œ í™˜ê²½ì„ ì„¤ì •í•  ê²ƒì…ë‹ˆë‹¤.</p>
<h2>Section II: ì•ˆë“œë¡œì´ë“œìš© ë¹Œë“œ íŒŒì¼ ìƒì„±ì„ ìœ„í•œ GCP í™˜ê²½ ì„¤ì •(ì˜µì…˜)</h2>
<p>ì´ ë‹¨ê³„ëŠ” ì„ íƒ ì‚¬í•­ì´ë©° ì´ë¯¸ Linux ë˜ëŠ” MacOSì™€ ê°™ì€ UNIX ê¸°ë°˜ ì‹œìŠ¤í…œì„ ê°€ì§€ê³  ìˆë‹¤ë©´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ìœˆë„ìš° ê¸°ê¸°ë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— í˜¸í™˜ì„± ë¬¸ì œë¡œ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ì¢…ì†ì„±ì„ ì„¤ì¹˜í•˜ëŠ” ê²ƒì´ ê·€ì°®ì•˜ì–´ìš”. ê·¸ë˜ì„œ ê·€ì°¨ë‹ˆì¦˜ì„ í”¼í•˜ê¸° ìœ„í•´ GCPì—ì„œ Linux VM ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë ŒíŠ¸í•˜ê¸°ë¡œ ê²°ì •í–ˆì–´ìš”.</p>
<p>ì €ëŠ” GCP VM ì¸ìŠ¤í„´ìŠ¤ì—ì„œ í™˜ê²½ì„ ì„¤ì •í•˜ê³  Android Studioë¥¼ ì„¤ì¹˜í•˜ëŠ” ë‹¨ê³„ë¥¼ ì•ˆë‚´í•˜ëŠ” ë³„ë„ì˜ ë¸”ë¡œê·¸ë¥¼ ì‘ì„±í–ˆì–´ìš”.</p>
<p>ë¹„ìŠ·í•œ ë¬¸ì œë¥¼ ê²ªê³  ê³„ì‹  ë¶„ì´ë¼ë©´, ì—¬ê¸°ì„œ í™•ì¸í•´ë³´ì„¸ìš”. ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ê±´ë„ˆë›°ì…”ë„ ë¼ìš”.</p>
<h2>ì„¹ì…˜ III: ë¹Œë“œ ì¢…ì†ì„± ì„¤ì¹˜</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h3>ë‹¨ê³„ 1: Rust ì„¤ì¹˜í•˜ê¸°</h3>
<p>ì•ˆë“œë¡œì´ë“œë¡œ HuggingFace í† í¬ë‚˜ì´ì €ë¥¼ í¬ë¡œìŠ¤ ì»´íŒŒì¼í•˜ê¸° ìœ„í•´ì„œëŠ” Rustê°€ í•„ìš”í•©ë‹ˆë‹¤. Rustë¥¼ ì„¤ì¹˜í•˜ë ¤ë©´ ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”.</p>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_2.png" alt="ì´ë¯¸ì§€"></p>
<p>í‘œì¤€ ì„¤ì¹˜ë¥¼ ê³„ì†í•˜ë ¤ë©´ ì˜µì…˜ 1ì„ ì„ íƒí•˜ì„¸ìš”.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_3.png" alt="image"></p>
<pre><code class="hljs language-js">sudo curl --proto <span class="hljs-string">'=https'</span> --tlsv1<span class="hljs-number">.2</span> -sSf <span class="hljs-attr">https</span>:<span class="hljs-comment">//sh.rustup.rs | sh</span>
</code></pre>
<p>Step 2: Install NDK and CMake in Android Studio</p>
<p>Open Android Studio â†’ Tools â†’ SDK Manager â†’ SDK Tools â†’ Install CMake and NDK.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_4.png">
<p>ì œ 3 ë‹¨ê³„: MLC LLM Python íŒ¨í‚¤ì§€ ë° TVM Unity ì»´íŒŒì¼ëŸ¬ ì„¤ì¹˜</p>
<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_5.png">
<pre><code class="hljs language-js"># <span class="hljs-variable constant_">MLC</span>-<span class="hljs-variable constant_">LLM</span> <span class="hljs-title class_">Python</span> íŒ¨í‚¤ì§€ì™€ <span class="hljs-variable constant_">TVM</span> <span class="hljs-title class_">Unity</span> ì»´íŒŒì¼ëŸ¬ ì„¤ì¹˜.
python3 -m pip install --pre -U -f <span class="hljs-attr">https</span>:<span class="hljs-comment">//mlc.ai/wheels mlc-llm-nightly mlc-ai-nightly</span>

# ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¤ì¹˜ í™•ì¸:
python3 -c <span class="hljs-string">"import mlc_llm; print(mlc_llm)"</span>
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p><strong>ë‹¨ê³„ 4: CMake ì„¤ì¹˜í•˜ê¸°</strong></p>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_6.png" alt="ì´ë¯¸ì§€"></p>
<pre><code class="hljs language-js"># <span class="hljs-title class_">CMake</span> ì„¤ì¹˜í•˜ê¸°.
sudo apt-get install cmake
</code></pre>
<p><strong>ë‹¨ê³„ 5: MLC-LLM ë° Llama3-on-Mobile ì €ì¥ì†Œ ë³µì œí•˜ê¸°</strong></p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_7.png">
<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_8.png">
<pre><code class="hljs language-js">cd /home/tiwarinitin1999/

# <span class="hljs-variable constant_">MLC</span>-<span class="hljs-variable constant_">LLM</span> ì €ì¥ì†Œë¥¼ ë³µì œí•©ë‹ˆë‹¤.
git clone <span class="hljs-attr">https</span>:<span class="hljs-comment">//github.com/mlc-ai/mlc-llm.git</span>
cd mlc-llm

# ì €ì¥ì†Œì˜ ì„œë¸Œëª¨ë“ˆì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
git submodule update --init --recursive

# <span class="hljs-title class_">Llama3</span>-on-<span class="hljs-title class_">Mobile</span> ì €ì¥ì†Œë¥¼ ë³µì œí•©ë‹ˆë‹¤.
cd /home/tiwarinitin1999/
git clone <span class="hljs-attr">https</span>:<span class="hljs-comment">//github.com/NSTiwari/Llama3-on-Mobile.git</span>
</code></pre>
<p>ë‹¨ê³„ 6: ë³€í™˜ëœ ëª¨ë¸ ê°€ì¤‘ì¹˜ì˜ HuggingFace ì €ì¥ì†Œë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>MLCChat ë””ë ‰í† ë¦¬ ë‚´ì— ìƒˆ í´ë” distë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”. dist í´ë” ì•ˆì— prebuiltë¼ëŠ” í•˜ìœ„ í´ë”ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.</p>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_9.png" alt="ì´ë¯¸ì§€"></p>
<pre><code class="hljs language-js">cd /home/tiwarinitin1999/mlc-llm/android/<span class="hljs-title class_">MLCChat</span>
mkdir dist
cd dist
mkdir prebuilt
cd prebuilt
</code></pre>
<p>ê·¸ë¦¬ê³  prebuilt í´ë”ì— HF repository(ì„¹ì…˜ 1ì˜ ë‹¨ê³„ 9ì—ì„œ ìƒì„±ëœ)ë¥¼ í´ë¡ í•´ì£¼ì„¸ìš”.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_10.png">
<pre><code class="hljs language-js"># í€€í„°ì´ì¦ˆëœ <span class="hljs-title class_">Llama3</span>-8B-<span class="hljs-title class_">Instruct</span> ê°€ì¤‘ì¹˜ì˜ <span class="hljs-variable constant_">HF</span> ë¦¬í¬ì§€í† ë¦¬ë¥¼ ë³µì œí•©ë‹ˆë‹¤.
git clone <span class="hljs-attr">https</span>:<span class="hljs-comment">//huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android.git</span>
</code></pre>
<p>7ë‹¨ê³„: Llama3â€“8B-Instruct-q4f16_1-android.tar íŒŒì¼ì„ ë³µì‚¬í•©ë‹ˆë‹¤.</p>
<p>dist í´ë” ë‚´ì— libë¼ëŠ” ìƒˆ í´ë”ë¥¼ ë§Œë“¤ì–´ì„œ Llama3â€“8B-Instruct-q4f16_1-android.tar íŒŒì¼ (Section Iì˜ ë‹¨ê³„ 8ì—ì„œ ìƒì„±ëœ íŒŒì¼)ì„ lib ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_11.png" alt="image"></p>
<pre><code class="hljs language-bash"><span class="hljs-built_in">cd</span> /home/tiwarinitin1999/mlc-llm/android/MLCChat/dist
<span class="hljs-built_in">mkdir</span> lib
<span class="hljs-built_in">cd</span> lib/
</code></pre>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_12.png" alt="image"></p>
<p>Step 8: mlc-package-config.json íŒŒì¼ êµ¬ì„±í•˜ê¸°</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>MLCChat í´ë” ë‚´ì˜ mlc-package-config.json íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•˜ì„¸ìš”:</p>
<pre><code class="hljs language-js">{
    <span class="hljs-string">"device"</span>: <span class="hljs-string">"android"</span>,
    <span class="hljs-string">"model_list"</span>: [
        {
            <span class="hljs-string">"model"</span>: <span class="hljs-string">"Llama-3-8B-q4f16_1-android"</span>,
            <span class="hljs-string">"bundle_weight"</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-string">"model_id"</span>: <span class="hljs-string">"llama-3-8b-q4f16_1"</span>,
            <span class="hljs-string">"model_lib"</span>: <span class="hljs-string">"llama-q4f16_1"</span>,
            <span class="hljs-string">"estimated_vram_bytes"</span>: <span class="hljs-number">4348727787</span>,
            <span class="hljs-string">"overrides"</span>: {
                <span class="hljs-string">"context_window_size"</span>:<span class="hljs-number">768</span>,
                <span class="hljs-string">"prefill_chunk_size"</span>:<span class="hljs-number">256</span>
            }
        }
    ],
    <span class="hljs-string">"model_lib_path_for_prepare_libs"</span>: {
        <span class="hljs-string">"llama-q4f16_1"</span>: <span class="hljs-string">"./dist/lib/Llama-3-8B-Instruct-q4f16_1-android.tar"</span>
    }
}
</code></pre>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_13.png" alt="ì´ë¯¸ì§€"></p>
<p>9ë‹¨ê³„: ê²½ë¡œì— í™˜ê²½ ë³€ìˆ˜ ì„¤ì •í•˜ê¸°</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_14.png">

<pre><code class="hljs language-js"><span class="hljs-keyword">export</span> <span class="hljs-variable constant_">ANDROID_NDK</span>=<span class="hljs-regexp">/home/</span>tiwarinitin1999/<span class="hljs-title class_">Android</span>/<span class="hljs-title class_">Sdk</span>/ndk/<span class="hljs-number">27.0</span><span class="hljs-number">.11718014</span>
<span class="hljs-keyword">export</span> <span class="hljs-variable constant_">TVM_NDK_CC</span>=$ANDROID_NDK/toolchains/llvm/prebuilt/linux-x86_64/bin/aarch64-linux-android24-clang
<span class="hljs-keyword">export</span> <span class="hljs-variable constant_">TVM_HOME</span>=<span class="hljs-regexp">/home/</span>tiwarinitin1999/mlc-llm/3rdparty/tvm
<span class="hljs-keyword">export</span> <span class="hljs-variable constant_">JAVA_HOME</span>=<span class="hljs-regexp">/home/</span>tiwarinitin1999/<span class="hljs-title class_">Downloads</span>/android-studio/jbr
<span class="hljs-keyword">export</span> <span class="hljs-variable constant_">MLC_LLM_HOME</span>=<span class="hljs-regexp">/home/</span>tiwarinitin1999/mlc-llm
</code></pre>
<p>Step 10: ì•ˆë“œë¡œì´ë“œ ë¹Œë“œ íŒŒì¼ ìƒì„±</p>
<p>ë§ˆì§€ë§‰ìœ¼ë¡œ, ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ on-device ë°°í¬ë¥¼ ìœ„í•œ Llama3-8B-Instruct ëª¨ë¸ì˜ .JAR íŒŒì¼ì„ ë¹Œë“œí•˜ì‹­ì‹œì˜¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-sh"><span class="hljs-built_in">cd</span> /home/tiwarinitin1999/mlc-llm/android/MLCChat
python3 -m mlc_llm package
</code></pre>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_15.png" alt="Screenshot"></p>
<p>ëª…ë ¹ì–´ê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ëœ í›„, ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_16.png" alt="Screenshot"></p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ìœ„ ëª…ë ¹ì€ ë‹¤ìŒ íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤:</p>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_17.png" alt="ì´ë¯¸ì§€"></p>
<p>ì†ŒìŠ¤ ë””ë ‰í† ë¦¬ì˜ ì¶œë ¥ í´ë” ë‚´ìš©ì„ ëŒ€ìƒ ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬í•˜ì„¸ìš”:</p>
<p>ì†ŒìŠ¤ ë””ë ‰í† ë¦¬:
/home/tiwarinitin1999/mlc-llm/android/MLCChat/dist/lib/mlc4j/output</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ëª©ì ì§€ ë””ë ‰í† ë¦¬:
/home/tiwarinitin1999/Llama3-on-Mobile/mobile-llama3/MobileLlama3/dist/lib/mlc4j/output</p>
<p>ì´ì œ, home/tiwarinitin1999/Llama3-on-Mobile/mobile-llama3/MobileLlama3/dist/lib/mlc4j/src/main/assets í´ë”ì— ìˆëŠ” mlc-app-config.json íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•˜ì„¸ìš”:</p>
<pre><code class="hljs language-js">{
  <span class="hljs-string">"model_list"</span>: [
    {
      <span class="hljs-string">"model_id"</span>: <span class="hljs-string">"llama-3-8b-q4f16_1"</span>,
      <span class="hljs-string">"model_lib"</span>: <span class="hljs-string">"llama-q4f16_1"</span>,
      <span class="hljs-string">"model_url"</span>: <span class="hljs-string">"https://huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android"</span>,
      <span class="hljs-string">"estimated_vram_bytes"</span>: <span class="hljs-number">4348727787</span>
    }
  ]
}
</code></pre>
<p>ì„¤ì • íŒŒì¼ì˜ model_url í‚¤ëŠ” ëª¨ë°”ì¼í°ì—ì„œ HF ì €ì¥ì†Œë¡œë¶€í„° ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_18.png">
<p>ëª¨ë“  êµ¬ì„±ì´ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<h2>ì„¹ì…˜ IV: ì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ì—ì„œ ì•± ë¹Œë“œí•˜ê¸°</h2>
<p>ì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ì—ì„œ MobileLlama3 ì•±ì„ ì—´ê³  ì–´ëŠ ì •ë„ ì‹œê°„ì„ ë“¤ì—¬ ë¹Œë“œí•˜ë„ë¡ í•©ì‹œë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>[<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_19.png" alt="image">]
(<a href="https://miro.medium.com/v2/resize:fit:700/1*wdN1DDl127dzmjIal0FHig.gif" rel="nofollow" target="_blank">https://miro.medium.com/v2/resize:fit:700/1*wdN1DDl127dzmjIal0FHig.gif</a>)</p>
<p>ëª¨ë°”ì¼ ì•±ì´ ì„±ê³µì ìœ¼ë¡œ ë¹Œë“œë˜ë©´ APKë¥¼ ëª¨ë°”ì¼ í°ì— ì„¤ì¹˜í•˜ì„¸ìš”. ë°”ë¡œ ì„¤ì¹˜í•  ìˆ˜ ìˆëŠ” APKê°€ ì—¬ê¸°ì— ìˆìŠµë‹ˆë‹¤.</p>
<p>ì˜¤í”„ë¼ì¸ ì‚¬ìš©ì„ ìœ„í•´ Llama3â€“8B-Instruct ëª¨ë¸ì„ ëª¨ë°”ì¼ ê¸°ê¸°ì— êµ¬ë™í•˜ëŠ” ë° ì„±ê³µí•œ ê²ƒì„ ì¶•í•˜ë“œë¦½ë‹ˆë‹¤. ì´ ê¸°ì‚¬ì—ì„œ ê°€ì¹˜ ìˆëŠ” í†µì°°ì„ ì–»ì—ˆê¸°ë¥¼ ê¸°ëŒ€í•©ë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ìœ„ì˜ GitHub ì €ì¥ì†Œì—ì„œ ì „ì²´ í”„ë¡œì íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
<a href="https://github.com/NSTiwari/Llama3-on-Mobile" rel="nofollow" target="_blank">https://github.com/NSTiwari/Llama3-on-Mobile</a></p>
<p>ì‘í’ˆì„ ì¢‹ì•„í•˜ì…¨ë‹¤ë©´ ì €ì¥ì†Œì— â­ì„ ë‚¨ê²¨ì£¼ì‹œê³ , ë™ë£Œ ì˜¨ë””ë°”ì´ìŠ¤ AI ê°œë°œìë“¤ ì‚¬ì´ì— ì†Œì‹ì„ ì „íŒŒí•´ì£¼ì„¸ìš”. ì•ìœ¼ë¡œ ë”ìš± í¥ë¯¸ë¡œìš´ í”„ë¡œì íŠ¸ì™€ ë¸”ë¡œê·¸ë¥¼ ê¸°ëŒ€í•´ì£¼ì„¸ìš”.</p>
<h2>ê°ì‚¬ì˜ ê¸€</h2>
<p>MobileLlama3ëŠ” MLC-LLMì„ ì˜ê°ì„ ë°›ì•„ ì œì‘ë˜ì—ˆìœ¼ë©°, ì´ í”„ë¡œì íŠ¸ë¥¼ ì˜¤í”ˆ ì†ŒìŠ¤ë¡œ ë§Œë“¤ì–´ì£¼ì‹  MLC-LLMì—ê²Œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>ì°¸ê³  ìë£Œ ë° ìì›</h2>
<ul>
<li>Llama-3-8B-Instruct ëª¨ë¸ì„ ì–‘ìí™”í•˜ê³  ë³€í™˜í•˜ëŠ” Colab ë…¸íŠ¸ë¶</li>
<li>MobileLlama3 GitHub ì €ì¥ì†Œ</li>
<li>ë³€í™˜ëœ ê°€ì¤‘ì¹˜ë¥¼ ìœ„í•œ HuggingFace ì €ì¥ì†Œ</li>
<li>Metaì‚¬ì˜ Llama3 ëª¨ë¸ë“¤</li>
<li>MLC-LLM</li>
<li>MLC-LLMìš© Android SDK</li>
</ul>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"ML ì´ì•¼ê¸° MobileLlama3 ëª¨ë°”ì¼ì—ì„œ Llama3ë¥¼ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê¸°","description":"","date":"2024-05-18 20:07","slug":"2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile","content":"\n# ì†Œê°œ\n\n2024ë…„ 4ì›”, Metaê°€ ìƒˆë¡œìš´ ì˜¤í”ˆ ì–¸ì–´ ëª¨ë¸ íŒ¨ë°€ë¦¬ì¸ Llama 3ì„ ì¶œì‹œí–ˆìŠµë‹ˆë‹¤. ì´ì „ ëª¨ë¸ì„ ë°œì „ì‹œí‚¨ Llama 3ì€ ê°œì„ ëœ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°, 8B ë° 70Bì˜ ì‚¬ì „ í›ˆë ¨ëœ ë²„ì „ê³¼ ëª…ë ¹ì–´ íŠœë‹ëœ ë³€í˜•ì„ ì œê³µí•©ë‹ˆë‹¤.\n\nì–¸ì–´ ëª¨ë¸ì˜ ì§€ì†ì ì¸ íŠ¸ë Œë“œì—ì„œ, ê°œë°œìë“¤ì€ ê°œì¸ ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•´ API ëŒ€ì‹  ë¡œì»¬ ë˜ëŠ” ì˜¤í”„ë¼ì¸ ì‚¬ìš©ì„ ì„ í˜¸í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì˜¬ë¼ë§ˆëŠ” macOS ë° Linux OSì—ì„œ ì˜¤í”„ë¼ì¸ìœ¼ë¡œ LLMsë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ë„êµ¬ ì¤‘ í•˜ë‚˜ë¡œ, ë¡œì»¬ ì‹¤í–‰ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ìŠ¤ë§ˆíŠ¸í°ì˜ ì œí•œëœ í•˜ë“œì›¨ì–´ ì„±ëŠ¥ìœ¼ë¡œ ì¸í•´ ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ LLMsë¥¼ ë¡œì»¬ë¡œ ì‹¤í–‰í•˜ëŠ” ê¸°ëŠ¥ì€ ì•„ì§ ì œí•œì ì…ë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ì´ì œëŠ” ë‹¤ë¦…ë‹ˆë‹¤. MLC ë•ë¶„ì— ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ ì´ëŸ¬í•œ ëŒ€í˜• ëª¨ë¸ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤. ì´ ë¸”ë¡œê·¸ëŠ” MLC LLMì„ ì‚¬ìš©í•˜ì—¬ ì˜¤í”„ë¼ì¸ ì¶”ë¡ ì„ ìœ„í•´ Llama3-8B-Instruction ëª¨ë¸ì„ ëª¨ë°”ì¼ í°ì— ì§ì ‘ ì–‘ìí™”, ë³€í™˜ ë° ë°°í¬í•˜ëŠ” ì™„ì „í•œ íŠœí† ë¦¬ì–¼ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_0.png\" /\u003e\n\nì‹œì‘í•˜ê¸° ì „ì—, ë¨¼ì € íŒŒì´í”„ë¼ì¸ì„ ì´í•´í•´ ë´…ì‹œë‹¤.\n\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_1.png\" /\u003e\n\nì, ë” ì´ìƒ ì§€ì²´í•˜ì§€ ë§ê³ , ë‹¨ê³„ë³„ êµ¬í˜„ì„ ìœ„í•œ ì½”ë“œë¡œ ë°”ë¡œ ë„˜ì–´ê°€ ë³´ê² ìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ì„¹ì…˜ I: ì›ë³¸ ë¼ë§ˆ-3-8B-ì¸ìŠ¤íŠ¸ëŸ­íŠ¸ ëª¨ë¸ì„ MLC í˜¸í™˜ ê°€ì¤‘ì¹˜ë¡œ ì–‘ìí™” ë° ë³€í™˜í•˜ê¸°\n\në‹¨ê³„ 0: ì•„ë˜ ì €ì¥ì†Œë¥¼ ë¡œì»¬ ë¨¸ì‹ ì— ë³µì œí•˜ê³  Google Colabì— Llama3_on_Mobile.ipynb ë…¸íŠ¸ë¶ì„ ì—…ë¡œë“œí•˜ì„¸ìš”.\n\n```js\n# ì €ì¥ì†Œë¥¼ ë³µì œí•©ë‹ˆë‹¤.\ngit clone https://github.com/NSTiwari/Llama3-on-Mobile\n```\n\në‹¨ê³„ 1: MLC-LLM ì„¤ì¹˜í•˜ê¸°\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ë³€í™˜í•˜ë ¤ë©´ MLC-LLM ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤. ë…¸íŠ¸ë¶ì„ ì‹¤í–‰í•˜ëŠ” ë° íŠ¹íˆ NumPy ë²„ì „ 1.23.5ê°€ í•„ìš”í•˜ë©°, ë‹¤ë¥¸ ë²„ì „ì—ì„œ ë³€í™˜ í”„ë¡œì„¸ìŠ¤ì— ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\n\n```js\n!pip install --pre --force-reinstall mlc-ai-nightly-cu122 mlc-llm-nightly-cu122 -f https://mlc.ai/wheels\n!pip install numpy==1.23.5\n```\n\në‹¨ê³„ 2: ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°\n\n```js\nimport mlc_llm\nimport torch\nfrom huggingface_hub import snapshot_download\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nStep 3: HF ê³„ì •ì— ë¡œê·¸ì¸í•˜ê³  ì›ë³¸ Llama-3-8B-Instruct ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”\n\n```js\n# HF ê³„ì •ì— ë¡œê·¸ì¸í•©ë‹ˆë‹¤.\nfrom huggingface_hub import notebook_login\nnotebook_login()\n\n# Llama-3-8B-Instruct ëª¨ë¸ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.\nsnapshot_download(repo_id=\"meta-llama/Meta-Llama-3-8B-Instruct\", local_dir=\"/content/Llama-3-8B-Instruct/\")\n```\n\nStep 4: GPUê°€ í™œì„±í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”\n\n```js\n!nvidia-smi\n\n# CUDAê°€ ì‚¬ìš© ê°€ëŠ¥í•œì§€ í™•ì¸í•©ë‹ˆë‹¤.\ntorch.cuda.is_available()\n\ndevice = torch.device(\"cuda:0\" if torch.cuda.is_available() else \"cpu\")\ndevice\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nStep 5: ëª¨ë¸ ì´ë¦„ê³¼ ì–‘ìí™” ìœ í˜• êµ¬ì„±\n\n```js\nMODEL_NAME = \"Llama-3-8B-Instruct\";\nQUANTIZATION = \"q4f16_1\";\n```\n\nStep 6: Llama-3-8B-Insruct ëª¨ë¸ì„ MLC í˜¸í™˜ ê°€ì¤‘ì¹˜ë¡œ ë³€í™˜\n\në‹¤ìŒ ì½”ë“œëŠ” q4f16_1 ì–‘ìí™”ë¥¼ ì‚¬ìš©í•˜ì—¬ Llama-3-8B-Instruct ëª¨ë¸ì„ ì–‘ìí™” ë° ìƒ¤ë”©í•˜ì—¬ ì—¬ëŸ¬ ì²­í¬ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ Llama-3-8B-Instruct-q4f16_1-androidì´ë€ ë””ë ‰í„°ë¦¬ì— ë³€í™˜í•˜ê³  ì €ì¥í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n!python -m mlc_llm convert_weight /content/$MODEL_NAME/ --quantization $QUANTIZATION -o /content/$MODEL_NAME-$QUANTIZATION-android/\n```\n\n7ë‹¨ê³„: í† í° íŒŒì¼ ìƒì„±\n\nì´ ì½”ë“œ ë¼ì¸ì€ conv-template, context-window, prefill-chunk-sizeì™€ ê°™ì€ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í† í° íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ë•Œ conv-templateì€ llama-3ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë©°, ì´ëŠ” ì‘ì—… ì¤‘ì¸ Llama-3 ëª¨ë¸ ë³€í˜•ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\n\n```js\n!python -m mlc_llm gen_config /content/$MODEL_NAME/ --quantization $QUANTIZATION \\\n    --conv-template llama-3 --context-window-size 8192 --prefill-chunk-size 1024  \\\n    -o /content/$MODEL_NAME-$QUANTIZATION-android/\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n8ë‹¨ê³„: Android í˜•ì‹ìœ¼ë¡œ ëª¨ë¸ ì»´íŒŒì¼í•˜ê¸°\n\nì—¬ê¸°ì„œëŠ” ì¥ì¹˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ Android í˜¸í™˜ í˜•ì‹ìœ¼ë¡œ ì»´íŒŒì¼í•˜ë©°, ì´ëŠ” Llama3â€“8B-Instruct-q4f16_1-android.tar íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ .tar íŒŒì¼ì€ ëª¨ë¸ì„ ê¸°ê¸°ì— ë°°í¬í•˜ê¸° ìœ„í•´ ì´í›„ ë‹¨ê³„ì—ì„œ ì‚¬ìš©ë  ê²ƒì…ë‹ˆë‹¤.\n\n```js\n!python -m mlc_llm compile /content/$MODEL_NAME-$QUANTIZATION-android/mlc-chat-config.json \\\n    --device android -o /content/$MODEL_NAME-$QUANTIZATION-android/$MODEL_NAME-$QUANTIZATION-android.tar\n```\n\n9ë‹¨ê³„: ëª¨ë¸ì„ Hugging Faceì— ì˜¬ë¦¬ê¸° ğŸ¤—\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në§ˆì§€ë§‰ìœ¼ë¡œ, ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ HFì— ì €ì¥í•˜ì„¸ìš”. ì´ëŸ¬í•œ ê°€ì¤‘ì¹˜ëŠ” ì¶”ë¡  ì¤‘ì— ëª¨ë°”ì¼ í°ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œë  ê²ƒì…ë‹ˆë‹¤.\n\n```js\nfrom huggingface_hub import whoami\nfrom pathlib import Path\n\n# ì¶œë ¥ ë””ë ‰í† ë¦¬.\noutput_dir = \"/content/\" + MODEL_NAME + \"-\" + QUANTIZATION + \"-android/\"\nrepo_name = \"Llama-3-8B-q4f16_1-android\"\nusername = whoami(token=Path(\"/root/.cache/huggingface/\"))[\"name\"]\nrepo_id = f\"{username}/{repo_name}\"\n```\n\n```js\nfrom huggingface_hub import upload_folder, create_repo\n\nrepo_id = create_repo(repo_id, exist_ok=True).repo_id\nprint(output_dir)\n\nupload_folder(\n    repo_id=repo_id,\n    folder_path=output_dir,\n    commit_message=\"Quantized Llama-3-8B-Instruct model for Android.\",\n    ignore_patterns=[\"step_*\", \"epoch_*\"],\n)\n```\n\në‹¤ìŒ HF ğŸ¤— ë¦¬í¬ì§€í† ë¦¬ì—ì„œ ìƒ¤ë“œëœ ëª¨ë¸ ê°€ì¤‘ì¹˜ ë° í† í¬ë‚˜ì´ì €ë¥¼ ì§ì ‘ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\nhttps://huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì—¬ê¸° ì™„ì „í•œ Colab ë…¸íŠ¸ë¶ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì¢‹ì•„ìš”. ìš°ë¦¬ëŠ” ì–‘ìí™”ì™€ ëª¨ë¸ ê°€ì¤‘ì¹˜ ë³€í™˜ì˜ ì´ˆê¸° ë‹¨ê³„ë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. ì´ì œ ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” GCP ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì¶”ê°€ë¡œ ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ì»´íŒŒì¼í•˜ê¸° ìœ„í•œ í™˜ê²½ì„ ì„¤ì •í•  ê²ƒì…ë‹ˆë‹¤.\n\n## Section II: ì•ˆë“œë¡œì´ë“œìš© ë¹Œë“œ íŒŒì¼ ìƒì„±ì„ ìœ„í•œ GCP í™˜ê²½ ì„¤ì •(ì˜µì…˜)\n\nì´ ë‹¨ê³„ëŠ” ì„ íƒ ì‚¬í•­ì´ë©° ì´ë¯¸ Linux ë˜ëŠ” MacOSì™€ ê°™ì€ UNIX ê¸°ë°˜ ì‹œìŠ¤í…œì„ ê°€ì§€ê³  ìˆë‹¤ë©´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nìœˆë„ìš° ê¸°ê¸°ë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— í˜¸í™˜ì„± ë¬¸ì œë¡œ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ì¢…ì†ì„±ì„ ì„¤ì¹˜í•˜ëŠ” ê²ƒì´ ê·€ì°®ì•˜ì–´ìš”. ê·¸ë˜ì„œ ê·€ì°¨ë‹ˆì¦˜ì„ í”¼í•˜ê¸° ìœ„í•´ GCPì—ì„œ Linux VM ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë ŒíŠ¸í•˜ê¸°ë¡œ ê²°ì •í–ˆì–´ìš”.\n\nì €ëŠ” GCP VM ì¸ìŠ¤í„´ìŠ¤ì—ì„œ í™˜ê²½ì„ ì„¤ì •í•˜ê³  Android Studioë¥¼ ì„¤ì¹˜í•˜ëŠ” ë‹¨ê³„ë¥¼ ì•ˆë‚´í•˜ëŠ” ë³„ë„ì˜ ë¸”ë¡œê·¸ë¥¼ ì‘ì„±í–ˆì–´ìš”.\n\në¹„ìŠ·í•œ ë¬¸ì œë¥¼ ê²ªê³  ê³„ì‹  ë¶„ì´ë¼ë©´, ì—¬ê¸°ì„œ í™•ì¸í•´ë³´ì„¸ìš”. ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ê±´ë„ˆë›°ì…”ë„ ë¼ìš”.\n\n## ì„¹ì…˜ III: ë¹Œë“œ ì¢…ì†ì„± ì„¤ì¹˜\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n### ë‹¨ê³„ 1: Rust ì„¤ì¹˜í•˜ê¸°\n\nì•ˆë“œë¡œì´ë“œë¡œ HuggingFace í† í¬ë‚˜ì´ì €ë¥¼ í¬ë¡œìŠ¤ ì»´íŒŒì¼í•˜ê¸° ìœ„í•´ì„œëŠ” Rustê°€ í•„ìš”í•©ë‹ˆë‹¤. Rustë¥¼ ì„¤ì¹˜í•˜ë ¤ë©´ ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_2.png)\n\ní‘œì¤€ ì„¤ì¹˜ë¥¼ ê³„ì†í•˜ë ¤ë©´ ì˜µì…˜ 1ì„ ì„ íƒí•˜ì„¸ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![image](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_3.png)\n\n```js\nsudo curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n```\n\nStep 2: Install NDK and CMake in Android Studio\n\nOpen Android Studio â†’ Tools â†’ SDK Manager â†’ SDK Tools â†’ Install CMake and NDK.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_4.png\" /\u003e\n\nì œ 3 ë‹¨ê³„: MLC LLM Python íŒ¨í‚¤ì§€ ë° TVM Unity ì»´íŒŒì¼ëŸ¬ ì„¤ì¹˜\n\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_5.png\" /\u003e\n\n```js\n# MLC-LLM Python íŒ¨í‚¤ì§€ì™€ TVM Unity ì»´íŒŒì¼ëŸ¬ ì„¤ì¹˜.\npython3 -m pip install --pre -U -f https://mlc.ai/wheels mlc-llm-nightly mlc-ai-nightly\n\n# ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¤ì¹˜ í™•ì¸:\npython3 -c \"import mlc_llm; print(mlc_llm)\"\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n**ë‹¨ê³„ 4: CMake ì„¤ì¹˜í•˜ê¸°**\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_6.png)\n\n```js\n# CMake ì„¤ì¹˜í•˜ê¸°.\nsudo apt-get install cmake\n```\n\n**ë‹¨ê³„ 5: MLC-LLM ë° Llama3-on-Mobile ì €ì¥ì†Œ ë³µì œí•˜ê¸°**\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_7.png\" /\u003e\n\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_8.png\" /\u003e\n\n```js\ncd /home/tiwarinitin1999/\n\n# MLC-LLM ì €ì¥ì†Œë¥¼ ë³µì œí•©ë‹ˆë‹¤.\ngit clone https://github.com/mlc-ai/mlc-llm.git\ncd mlc-llm\n\n# ì €ì¥ì†Œì˜ ì„œë¸Œëª¨ë“ˆì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.\ngit submodule update --init --recursive\n\n# Llama3-on-Mobile ì €ì¥ì†Œë¥¼ ë³µì œí•©ë‹ˆë‹¤.\ncd /home/tiwarinitin1999/\ngit clone https://github.com/NSTiwari/Llama3-on-Mobile.git\n```\n\në‹¨ê³„ 6: ë³€í™˜ëœ ëª¨ë¸ ê°€ì¤‘ì¹˜ì˜ HuggingFace ì €ì¥ì†Œë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nMLCChat ë””ë ‰í† ë¦¬ ë‚´ì— ìƒˆ í´ë” distë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”. dist í´ë” ì•ˆì— prebuiltë¼ëŠ” í•˜ìœ„ í´ë”ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_9.png)\n\n```js\ncd /home/tiwarinitin1999/mlc-llm/android/MLCChat\nmkdir dist\ncd dist\nmkdir prebuilt\ncd prebuilt\n```\n\nê·¸ë¦¬ê³  prebuilt í´ë”ì— HF repository(ì„¹ì…˜ 1ì˜ ë‹¨ê³„ 9ì—ì„œ ìƒì„±ëœ)ë¥¼ í´ë¡ í•´ì£¼ì„¸ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_10.png\" /\u003e\n\n```js\n# í€€í„°ì´ì¦ˆëœ Llama3-8B-Instruct ê°€ì¤‘ì¹˜ì˜ HF ë¦¬í¬ì§€í† ë¦¬ë¥¼ ë³µì œí•©ë‹ˆë‹¤.\ngit clone https://huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android.git\n```\n\n7ë‹¨ê³„: Llama3â€“8B-Instruct-q4f16_1-android.tar íŒŒì¼ì„ ë³µì‚¬í•©ë‹ˆë‹¤.\n\ndist í´ë” ë‚´ì— libë¼ëŠ” ìƒˆ í´ë”ë¥¼ ë§Œë“¤ì–´ì„œ Llama3â€“8B-Instruct-q4f16_1-android.tar íŒŒì¼ (Section Iì˜ ë‹¨ê³„ 8ì—ì„œ ìƒì„±ëœ íŒŒì¼)ì„ lib ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![image](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_11.png)\n\n```bash\ncd /home/tiwarinitin1999/mlc-llm/android/MLCChat/dist\nmkdir lib\ncd lib/\n```\n\n![image](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_12.png)\n\nStep 8: mlc-package-config.json íŒŒì¼ êµ¬ì„±í•˜ê¸°\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nMLCChat í´ë” ë‚´ì˜ mlc-package-config.json íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•˜ì„¸ìš”:\n\n```js\n{\n    \"device\": \"android\",\n    \"model_list\": [\n        {\n            \"model\": \"Llama-3-8B-q4f16_1-android\",\n            \"bundle_weight\": true,\n            \"model_id\": \"llama-3-8b-q4f16_1\",\n            \"model_lib\": \"llama-q4f16_1\",\n            \"estimated_vram_bytes\": 4348727787,\n            \"overrides\": {\n                \"context_window_size\":768,\n                \"prefill_chunk_size\":256\n            }\n        }\n    ],\n    \"model_lib_path_for_prepare_libs\": {\n        \"llama-q4f16_1\": \"./dist/lib/Llama-3-8B-Instruct-q4f16_1-android.tar\"\n    }\n}\n```\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_13.png)\n\n9ë‹¨ê³„: ê²½ë¡œì— í™˜ê²½ ë³€ìˆ˜ ì„¤ì •í•˜ê¸°\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003chtml\u003e\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_14.png\" /\u003e\n\u003c/html\u003e\n\n```js\nexport ANDROID_NDK=/home/tiwarinitin1999/Android/Sdk/ndk/27.0.11718014\nexport TVM_NDK_CC=$ANDROID_NDK/toolchains/llvm/prebuilt/linux-x86_64/bin/aarch64-linux-android24-clang\nexport TVM_HOME=/home/tiwarinitin1999/mlc-llm/3rdparty/tvm\nexport JAVA_HOME=/home/tiwarinitin1999/Downloads/android-studio/jbr\nexport MLC_LLM_HOME=/home/tiwarinitin1999/mlc-llm\n```\n\nStep 10: ì•ˆë“œë¡œì´ë“œ ë¹Œë“œ íŒŒì¼ ìƒì„±\n\në§ˆì§€ë§‰ìœ¼ë¡œ, ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ on-device ë°°í¬ë¥¼ ìœ„í•œ Llama3-8B-Instruct ëª¨ë¸ì˜ .JAR íŒŒì¼ì„ ë¹Œë“œí•˜ì‹­ì‹œì˜¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```sh\ncd /home/tiwarinitin1999/mlc-llm/android/MLCChat\npython3 -m mlc_llm package\n```\n\n![Screenshot](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_15.png)\n\nëª…ë ¹ì–´ê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ëœ í›„, ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![Screenshot](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_16.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nìœ„ ëª…ë ¹ì€ ë‹¤ìŒ íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤:\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_17.png)\n\nì†ŒìŠ¤ ë””ë ‰í† ë¦¬ì˜ ì¶œë ¥ í´ë” ë‚´ìš©ì„ ëŒ€ìƒ ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬í•˜ì„¸ìš”:\n\nì†ŒìŠ¤ ë””ë ‰í† ë¦¬:\n/home/tiwarinitin1999/mlc-llm/android/MLCChat/dist/lib/mlc4j/output\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nëª©ì ì§€ ë””ë ‰í† ë¦¬:\n/home/tiwarinitin1999/Llama3-on-Mobile/mobile-llama3/MobileLlama3/dist/lib/mlc4j/output\n\nì´ì œ, home/tiwarinitin1999/Llama3-on-Mobile/mobile-llama3/MobileLlama3/dist/lib/mlc4j/src/main/assets í´ë”ì— ìˆëŠ” mlc-app-config.json íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•˜ì„¸ìš”:\n\n```js\n{\n  \"model_list\": [\n    {\n      \"model_id\": \"llama-3-8b-q4f16_1\",\n      \"model_lib\": \"llama-q4f16_1\",\n      \"model_url\": \"https://huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android\",\n      \"estimated_vram_bytes\": 4348727787\n    }\n  ]\n}\n```\n\nì„¤ì • íŒŒì¼ì˜ model_url í‚¤ëŠ” ëª¨ë°”ì¼í°ì—ì„œ HF ì €ì¥ì†Œë¡œë¶€í„° ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_18.png\" /\u003e\n\nëª¨ë“  êµ¬ì„±ì´ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n## ì„¹ì…˜ IV: ì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ì—ì„œ ì•± ë¹Œë“œí•˜ê¸°\n\nì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ì—ì„œ MobileLlama3 ì•±ì„ ì—´ê³  ì–´ëŠ ì •ë„ ì‹œê°„ì„ ë“¤ì—¬ ë¹Œë“œí•˜ë„ë¡ í•©ì‹œë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n[![image](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_19.png)]\n(https://miro.medium.com/v2/resize:fit:700/1*wdN1DDl127dzmjIal0FHig.gif)\n\nëª¨ë°”ì¼ ì•±ì´ ì„±ê³µì ìœ¼ë¡œ ë¹Œë“œë˜ë©´ APKë¥¼ ëª¨ë°”ì¼ í°ì— ì„¤ì¹˜í•˜ì„¸ìš”. ë°”ë¡œ ì„¤ì¹˜í•  ìˆ˜ ìˆëŠ” APKê°€ ì—¬ê¸°ì— ìˆìŠµë‹ˆë‹¤.\n\nì˜¤í”„ë¼ì¸ ì‚¬ìš©ì„ ìœ„í•´ Llama3â€“8B-Instruct ëª¨ë¸ì„ ëª¨ë°”ì¼ ê¸°ê¸°ì— êµ¬ë™í•˜ëŠ” ë° ì„±ê³µí•œ ê²ƒì„ ì¶•í•˜ë“œë¦½ë‹ˆë‹¤. ì´ ê¸°ì‚¬ì—ì„œ ê°€ì¹˜ ìˆëŠ” í†µì°°ì„ ì–»ì—ˆê¸°ë¥¼ ê¸°ëŒ€í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nìœ„ì˜ GitHub ì €ì¥ì†Œì—ì„œ ì „ì²´ í”„ë¡œì íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nhttps://github.com/NSTiwari/Llama3-on-Mobile\n\nì‘í’ˆì„ ì¢‹ì•„í•˜ì…¨ë‹¤ë©´ ì €ì¥ì†Œì— â­ì„ ë‚¨ê²¨ì£¼ì‹œê³ , ë™ë£Œ ì˜¨ë””ë°”ì´ìŠ¤ AI ê°œë°œìë“¤ ì‚¬ì´ì— ì†Œì‹ì„ ì „íŒŒí•´ì£¼ì„¸ìš”. ì•ìœ¼ë¡œ ë”ìš± í¥ë¯¸ë¡œìš´ í”„ë¡œì íŠ¸ì™€ ë¸”ë¡œê·¸ë¥¼ ê¸°ëŒ€í•´ì£¼ì„¸ìš”.\n\n## ê°ì‚¬ì˜ ê¸€\n\nMobileLlama3ëŠ” MLC-LLMì„ ì˜ê°ì„ ë°›ì•„ ì œì‘ë˜ì—ˆìœ¼ë©°, ì´ í”„ë¡œì íŠ¸ë¥¼ ì˜¤í”ˆ ì†ŒìŠ¤ë¡œ ë§Œë“¤ì–´ì£¼ì‹  MLC-LLMì—ê²Œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ì°¸ê³  ìë£Œ ë° ìì›\n\n- Llama-3-8B-Instruct ëª¨ë¸ì„ ì–‘ìí™”í•˜ê³  ë³€í™˜í•˜ëŠ” Colab ë…¸íŠ¸ë¶\n- MobileLlama3 GitHub ì €ì¥ì†Œ\n- ë³€í™˜ëœ ê°€ì¤‘ì¹˜ë¥¼ ìœ„í•œ HuggingFace ì €ì¥ì†Œ\n- Metaì‚¬ì˜ Llama3 ëª¨ë¸ë“¤\n- MLC-LLM\n- MLC-LLMìš© Android SDK\n","ogImage":{"url":"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_0.png"},"coverImage":"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_0.png","tag":["Tech"],"readingTime":18},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ch1\u003eì†Œê°œ\u003c/h1\u003e\n\u003cp\u003e2024ë…„ 4ì›”, Metaê°€ ìƒˆë¡œìš´ ì˜¤í”ˆ ì–¸ì–´ ëª¨ë¸ íŒ¨ë°€ë¦¬ì¸ Llama 3ì„ ì¶œì‹œí–ˆìŠµë‹ˆë‹¤. ì´ì „ ëª¨ë¸ì„ ë°œì „ì‹œí‚¨ Llama 3ì€ ê°œì„ ëœ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°, 8B ë° 70Bì˜ ì‚¬ì „ í›ˆë ¨ëœ ë²„ì „ê³¼ ëª…ë ¹ì–´ íŠœë‹ëœ ë³€í˜•ì„ ì œê³µí•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì–¸ì–´ ëª¨ë¸ì˜ ì§€ì†ì ì¸ íŠ¸ë Œë“œì—ì„œ, ê°œë°œìë“¤ì€ ê°œì¸ ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•´ API ëŒ€ì‹  ë¡œì»¬ ë˜ëŠ” ì˜¤í”„ë¼ì¸ ì‚¬ìš©ì„ ì„ í˜¸í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì˜¬ë¼ë§ˆëŠ” macOS ë° Linux OSì—ì„œ ì˜¤í”„ë¼ì¸ìœ¼ë¡œ LLMsë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ë„êµ¬ ì¤‘ í•˜ë‚˜ë¡œ, ë¡œì»¬ ì‹¤í–‰ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ìŠ¤ë§ˆíŠ¸í°ì˜ ì œí•œëœ í•˜ë“œì›¨ì–´ ì„±ëŠ¥ìœ¼ë¡œ ì¸í•´ ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ LLMsë¥¼ ë¡œì»¬ë¡œ ì‹¤í–‰í•˜ëŠ” ê¸°ëŠ¥ì€ ì•„ì§ ì œí•œì ì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eí•˜ì§€ë§Œ ì´ì œëŠ” ë‹¤ë¦…ë‹ˆë‹¤. MLC ë•ë¶„ì— ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ ì´ëŸ¬í•œ ëŒ€í˜• ëª¨ë¸ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤. ì´ ë¸”ë¡œê·¸ëŠ” MLC LLMì„ ì‚¬ìš©í•˜ì—¬ ì˜¤í”„ë¼ì¸ ì¶”ë¡ ì„ ìœ„í•´ Llama3-8B-Instruction ëª¨ë¸ì„ ëª¨ë°”ì¼ í°ì— ì§ì ‘ ì–‘ìí™”, ë³€í™˜ ë° ë°°í¬í•˜ëŠ” ì™„ì „í•œ íŠœí† ë¦¬ì–¼ì„ ì œê³µí•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_0.png\"\u003e\n\u003cp\u003eì‹œì‘í•˜ê¸° ì „ì—, ë¨¼ì € íŒŒì´í”„ë¼ì¸ì„ ì´í•´í•´ ë´…ì‹œë‹¤.\u003c/p\u003e\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_1.png\"\u003e\n\u003cp\u003eì, ë” ì´ìƒ ì§€ì²´í•˜ì§€ ë§ê³ , ë‹¨ê³„ë³„ êµ¬í˜„ì„ ìœ„í•œ ì½”ë“œë¡œ ë°”ë¡œ ë„˜ì–´ê°€ ë³´ê² ìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003eì„¹ì…˜ I: ì›ë³¸ ë¼ë§ˆ-3-8B-ì¸ìŠ¤íŠ¸ëŸ­íŠ¸ ëª¨ë¸ì„ MLC í˜¸í™˜ ê°€ì¤‘ì¹˜ë¡œ ì–‘ìí™” ë° ë³€í™˜í•˜ê¸°\u003c/h2\u003e\n\u003cp\u003eë‹¨ê³„ 0: ì•„ë˜ ì €ì¥ì†Œë¥¼ ë¡œì»¬ ë¨¸ì‹ ì— ë³µì œí•˜ê³  Google Colabì— Llama3_on_Mobile.ipynb ë…¸íŠ¸ë¶ì„ ì—…ë¡œë“œí•˜ì„¸ìš”.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# ì €ì¥ì†Œë¥¼ ë³µì œí•©ë‹ˆë‹¤.\ngit clone \u003cspan class=\"hljs-attr\"\u003ehttps\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//github.com/NSTiwari/Llama3-on-Mobile\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eë‹¨ê³„ 1: MLC-LLM ì„¤ì¹˜í•˜ê¸°\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ë³€í™˜í•˜ë ¤ë©´ MLC-LLM ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤. ë…¸íŠ¸ë¶ì„ ì‹¤í–‰í•˜ëŠ” ë° íŠ¹íˆ NumPy ë²„ì „ 1.23.5ê°€ í•„ìš”í•˜ë©°, ë‹¤ë¥¸ ë²„ì „ì—ì„œ ë³€í™˜ í”„ë¡œì„¸ìŠ¤ì— ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e!pip install --pre --force-reinstall mlc-ai-nightly-cu122 mlc-llm-nightly-cu122 -f \u003cspan class=\"hljs-attr\"\u003ehttps\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//mlc.ai/wheels\u003c/span\u003e\n!pip install numpy==\u003cspan class=\"hljs-number\"\u003e1.23\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.5\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eë‹¨ê³„ 2: ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e mlc_llm\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e torch\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e huggingface_hub \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e snapshot_download\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eStep 3: HF ê³„ì •ì— ë¡œê·¸ì¸í•˜ê³  ì›ë³¸ Llama-3-8B-Instruct ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# \u003cspan class=\"hljs-variable constant_\"\u003eHF\u003c/span\u003e ê³„ì •ì— ë¡œê·¸ì¸í•©ë‹ˆë‹¤.\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e huggingface_hub \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e notebook_login\n\u003cspan class=\"hljs-title function_\"\u003enotebook_login\u003c/span\u003e()\n\n# \u003cspan class=\"hljs-title class_\"\u003eLlama\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e-8B-\u003cspan class=\"hljs-title class_\"\u003eInstruct\u003c/span\u003e ëª¨ë¸ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.\n\u003cspan class=\"hljs-title function_\"\u003esnapshot_download\u003c/span\u003e(repo_id=\u003cspan class=\"hljs-string\"\u003e\"meta-llama/Meta-Llama-3-8B-Instruct\"\u003c/span\u003e, local_dir=\u003cspan class=\"hljs-string\"\u003e\"/content/Llama-3-8B-Instruct/\"\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eStep 4: GPUê°€ í™œì„±í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e!nvidia-smi\n\n# \u003cspan class=\"hljs-variable constant_\"\u003eCUDA\u003c/span\u003eê°€ ì‚¬ìš© ê°€ëŠ¥í•œì§€ í™•ì¸í•©ë‹ˆë‹¤.\ntorch.\u003cspan class=\"hljs-property\"\u003ecuda\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eis_available\u003c/span\u003e()\n\ndevice = torch.\u003cspan class=\"hljs-title function_\"\u003edevice\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"cuda:0\"\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e torch.\u003cspan class=\"hljs-property\"\u003ecuda\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eis_available\u003c/span\u003e() \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"cpu\"\u003c/span\u003e)\ndevice\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eStep 5: ëª¨ë¸ ì´ë¦„ê³¼ ì–‘ìí™” ìœ í˜• êµ¬ì„±\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable constant_\"\u003eMODEL_NAME\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\"Llama-3-8B-Instruct\"\u003c/span\u003e;\n\u003cspan class=\"hljs-variable constant_\"\u003eQUANTIZATION\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\"q4f16_1\"\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eStep 6: Llama-3-8B-Insruct ëª¨ë¸ì„ MLC í˜¸í™˜ ê°€ì¤‘ì¹˜ë¡œ ë³€í™˜\u003c/p\u003e\n\u003cp\u003eë‹¤ìŒ ì½”ë“œëŠ” q4f16_1 ì–‘ìí™”ë¥¼ ì‚¬ìš©í•˜ì—¬ Llama-3-8B-Instruct ëª¨ë¸ì„ ì–‘ìí™” ë° ìƒ¤ë”©í•˜ì—¬ ì—¬ëŸ¬ ì²­í¬ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ Llama-3-8B-Instruct-q4f16_1-androidì´ë€ ë””ë ‰í„°ë¦¬ì— ë³€í™˜í•˜ê³  ì €ì¥í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e!python -m mlc_llm convert_weight /content/$MODEL_NAME/ --quantization $QUANTIZATION -o /content/$MODEL_NAME-$QUANTIZATION-android/\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e7ë‹¨ê³„: í† í° íŒŒì¼ ìƒì„±\u003c/p\u003e\n\u003cp\u003eì´ ì½”ë“œ ë¼ì¸ì€ conv-template, context-window, prefill-chunk-sizeì™€ ê°™ì€ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í† í° íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ë•Œ conv-templateì€ llama-3ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë©°, ì´ëŠ” ì‘ì—… ì¤‘ì¸ Llama-3 ëª¨ë¸ ë³€í˜•ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e!python -m mlc_llm gen_config /content/$MODEL_NAME/ --quantization $QUANTIZATION \\\n    --conv-template llama-\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e --context-\u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e-size \u003cspan class=\"hljs-number\"\u003e8192\u003c/span\u003e --prefill-chunk-size \u003cspan class=\"hljs-number\"\u003e1024\u003c/span\u003e  \\\n    -o /content/$MODEL_NAME-$QUANTIZATION-android/\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e8ë‹¨ê³„: Android í˜•ì‹ìœ¼ë¡œ ëª¨ë¸ ì»´íŒŒì¼í•˜ê¸°\u003c/p\u003e\n\u003cp\u003eì—¬ê¸°ì„œëŠ” ì¥ì¹˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ Android í˜¸í™˜ í˜•ì‹ìœ¼ë¡œ ì»´íŒŒì¼í•˜ë©°, ì´ëŠ” Llama3â€“8B-Instruct-q4f16_1-android.tar íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ .tar íŒŒì¼ì€ ëª¨ë¸ì„ ê¸°ê¸°ì— ë°°í¬í•˜ê¸° ìœ„í•´ ì´í›„ ë‹¨ê³„ì—ì„œ ì‚¬ìš©ë  ê²ƒì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e!python -m mlc_llm compile /content/$MODEL_NAME-$QUANTIZATION-android/mlc-chat-config.\u003cspan class=\"hljs-property\"\u003ejson\u003c/span\u003e \\\n    --device android -o /content/$MODEL_NAME-$QUANTIZATION-android/$MODEL_NAME-$QUANTIZATION-android.\u003cspan class=\"hljs-property\"\u003etar\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e9ë‹¨ê³„: ëª¨ë¸ì„ Hugging Faceì— ì˜¬ë¦¬ê¸° ğŸ¤—\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eë§ˆì§€ë§‰ìœ¼ë¡œ, ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ HFì— ì €ì¥í•˜ì„¸ìš”. ì´ëŸ¬í•œ ê°€ì¤‘ì¹˜ëŠ” ì¶”ë¡  ì¤‘ì— ëª¨ë°”ì¼ í°ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œë  ê²ƒì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e huggingface_hub \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e whoami\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e pathlib \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePath\u003c/span\u003e\n\n# ì¶œë ¥ ë””ë ‰í† ë¦¬.\noutput_dir = \u003cspan class=\"hljs-string\"\u003e\"/content/\"\u003c/span\u003e + \u003cspan class=\"hljs-variable constant_\"\u003eMODEL_NAME\u003c/span\u003e + \u003cspan class=\"hljs-string\"\u003e\"-\"\u003c/span\u003e + \u003cspan class=\"hljs-variable constant_\"\u003eQUANTIZATION\u003c/span\u003e + \u003cspan class=\"hljs-string\"\u003e\"-android/\"\u003c/span\u003e\nrepo_name = \u003cspan class=\"hljs-string\"\u003e\"Llama-3-8B-q4f16_1-android\"\u003c/span\u003e\nusername = \u003cspan class=\"hljs-title function_\"\u003ewhoami\u003c/span\u003e(token=\u003cspan class=\"hljs-title class_\"\u003ePath\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"/root/.cache/huggingface/\"\u003c/span\u003e))[\u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e]\nrepo_id = f\u003cspan class=\"hljs-string\"\u003e\"{username}/{repo_name}\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e huggingface_hub \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e upload_folder, create_repo\n\nrepo_id = \u003cspan class=\"hljs-title function_\"\u003ecreate_repo\u003c/span\u003e(repo_id, exist_ok=\u003cspan class=\"hljs-title class_\"\u003eTrue\u003c/span\u003e).\u003cspan class=\"hljs-property\"\u003erepo_id\u003c/span\u003e\n\u003cspan class=\"hljs-title function_\"\u003eprint\u003c/span\u003e(output_dir)\n\n\u003cspan class=\"hljs-title function_\"\u003eupload_folder\u003c/span\u003e(\n    repo_id=repo_id,\n    folder_path=output_dir,\n    commit_message=\u003cspan class=\"hljs-string\"\u003e\"Quantized Llama-3-8B-Instruct model for Android.\"\u003c/span\u003e,\n    ignore_patterns=[\u003cspan class=\"hljs-string\"\u003e\"step_*\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"epoch_*\"\u003c/span\u003e],\n)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eë‹¤ìŒ HF ğŸ¤— ë¦¬í¬ì§€í† ë¦¬ì—ì„œ ìƒ¤ë“œëœ ëª¨ë¸ ê°€ì¤‘ì¹˜ ë° í† í¬ë‚˜ì´ì €ë¥¼ ì§ì ‘ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\u003ca href=\"https://huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android\u003c/a\u003e\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì—¬ê¸° ì™„ì „í•œ Colab ë…¸íŠ¸ë¶ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì¢‹ì•„ìš”. ìš°ë¦¬ëŠ” ì–‘ìí™”ì™€ ëª¨ë¸ ê°€ì¤‘ì¹˜ ë³€í™˜ì˜ ì´ˆê¸° ë‹¨ê³„ë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. ì´ì œ ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” GCP ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì¶”ê°€ë¡œ ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ì»´íŒŒì¼í•˜ê¸° ìœ„í•œ í™˜ê²½ì„ ì„¤ì •í•  ê²ƒì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003ch2\u003eSection II: ì•ˆë“œë¡œì´ë“œìš© ë¹Œë“œ íŒŒì¼ ìƒì„±ì„ ìœ„í•œ GCP í™˜ê²½ ì„¤ì •(ì˜µì…˜)\u003c/h2\u003e\n\u003cp\u003eì´ ë‹¨ê³„ëŠ” ì„ íƒ ì‚¬í•­ì´ë©° ì´ë¯¸ Linux ë˜ëŠ” MacOSì™€ ê°™ì€ UNIX ê¸°ë°˜ ì‹œìŠ¤í…œì„ ê°€ì§€ê³  ìˆë‹¤ë©´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eìœˆë„ìš° ê¸°ê¸°ë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— í˜¸í™˜ì„± ë¬¸ì œë¡œ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ì¢…ì†ì„±ì„ ì„¤ì¹˜í•˜ëŠ” ê²ƒì´ ê·€ì°®ì•˜ì–´ìš”. ê·¸ë˜ì„œ ê·€ì°¨ë‹ˆì¦˜ì„ í”¼í•˜ê¸° ìœ„í•´ GCPì—ì„œ Linux VM ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë ŒíŠ¸í•˜ê¸°ë¡œ ê²°ì •í–ˆì–´ìš”.\u003c/p\u003e\n\u003cp\u003eì €ëŠ” GCP VM ì¸ìŠ¤í„´ìŠ¤ì—ì„œ í™˜ê²½ì„ ì„¤ì •í•˜ê³  Android Studioë¥¼ ì„¤ì¹˜í•˜ëŠ” ë‹¨ê³„ë¥¼ ì•ˆë‚´í•˜ëŠ” ë³„ë„ì˜ ë¸”ë¡œê·¸ë¥¼ ì‘ì„±í–ˆì–´ìš”.\u003c/p\u003e\n\u003cp\u003eë¹„ìŠ·í•œ ë¬¸ì œë¥¼ ê²ªê³  ê³„ì‹  ë¶„ì´ë¼ë©´, ì—¬ê¸°ì„œ í™•ì¸í•´ë³´ì„¸ìš”. ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ê±´ë„ˆë›°ì…”ë„ ë¼ìš”.\u003c/p\u003e\n\u003ch2\u003eì„¹ì…˜ III: ë¹Œë“œ ì¢…ì†ì„± ì„¤ì¹˜\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch3\u003eë‹¨ê³„ 1: Rust ì„¤ì¹˜í•˜ê¸°\u003c/h3\u003e\n\u003cp\u003eì•ˆë“œë¡œì´ë“œë¡œ HuggingFace í† í¬ë‚˜ì´ì €ë¥¼ í¬ë¡œìŠ¤ ì»´íŒŒì¼í•˜ê¸° ìœ„í•´ì„œëŠ” Rustê°€ í•„ìš”í•©ë‹ˆë‹¤. Rustë¥¼ ì„¤ì¹˜í•˜ë ¤ë©´ ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_2.png\" alt=\"ì´ë¯¸ì§€\"\u003e\u003c/p\u003e\n\u003cp\u003eí‘œì¤€ ì„¤ì¹˜ë¥¼ ê³„ì†í•˜ë ¤ë©´ ì˜µì…˜ 1ì„ ì„ íƒí•˜ì„¸ìš”.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_3.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003esudo curl --proto \u003cspan class=\"hljs-string\"\u003e'=https'\u003c/span\u003e --tlsv1\u003cspan class=\"hljs-number\"\u003e.2\u003c/span\u003e -sSf \u003cspan class=\"hljs-attr\"\u003ehttps\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//sh.rustup.rs | sh\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eStep 2: Install NDK and CMake in Android Studio\u003c/p\u003e\n\u003cp\u003eOpen Android Studio â†’ Tools â†’ SDK Manager â†’ SDK Tools â†’ Install CMake and NDK.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_4.png\"\u003e\n\u003cp\u003eì œ 3 ë‹¨ê³„: MLC LLM Python íŒ¨í‚¤ì§€ ë° TVM Unity ì»´íŒŒì¼ëŸ¬ ì„¤ì¹˜\u003c/p\u003e\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_5.png\"\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# \u003cspan class=\"hljs-variable constant_\"\u003eMLC\u003c/span\u003e-\u003cspan class=\"hljs-variable constant_\"\u003eLLM\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePython\u003c/span\u003e íŒ¨í‚¤ì§€ì™€ \u003cspan class=\"hljs-variable constant_\"\u003eTVM\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eUnity\u003c/span\u003e ì»´íŒŒì¼ëŸ¬ ì„¤ì¹˜.\npython3 -m pip install --pre -U -f \u003cspan class=\"hljs-attr\"\u003ehttps\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//mlc.ai/wheels mlc-llm-nightly mlc-ai-nightly\u003c/span\u003e\n\n# ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¤ì¹˜ í™•ì¸:\npython3 -c \u003cspan class=\"hljs-string\"\u003e\"import mlc_llm; print(mlc_llm)\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e\u003cstrong\u003eë‹¨ê³„ 4: CMake ì„¤ì¹˜í•˜ê¸°\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_6.png\" alt=\"ì´ë¯¸ì§€\"\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# \u003cspan class=\"hljs-title class_\"\u003eCMake\u003c/span\u003e ì„¤ì¹˜í•˜ê¸°.\nsudo apt-get install cmake\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eë‹¨ê³„ 5: MLC-LLM ë° Llama3-on-Mobile ì €ì¥ì†Œ ë³µì œí•˜ê¸°\u003c/strong\u003e\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_7.png\"\u003e\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_8.png\"\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003ecd /home/tiwarinitin1999/\n\n# \u003cspan class=\"hljs-variable constant_\"\u003eMLC\u003c/span\u003e-\u003cspan class=\"hljs-variable constant_\"\u003eLLM\u003c/span\u003e ì €ì¥ì†Œë¥¼ ë³µì œí•©ë‹ˆë‹¤.\ngit clone \u003cspan class=\"hljs-attr\"\u003ehttps\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//github.com/mlc-ai/mlc-llm.git\u003c/span\u003e\ncd mlc-llm\n\n# ì €ì¥ì†Œì˜ ì„œë¸Œëª¨ë“ˆì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.\ngit submodule update --init --recursive\n\n# \u003cspan class=\"hljs-title class_\"\u003eLlama3\u003c/span\u003e-on-\u003cspan class=\"hljs-title class_\"\u003eMobile\u003c/span\u003e ì €ì¥ì†Œë¥¼ ë³µì œí•©ë‹ˆë‹¤.\ncd /home/tiwarinitin1999/\ngit clone \u003cspan class=\"hljs-attr\"\u003ehttps\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//github.com/NSTiwari/Llama3-on-Mobile.git\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eë‹¨ê³„ 6: ë³€í™˜ëœ ëª¨ë¸ ê°€ì¤‘ì¹˜ì˜ HuggingFace ì €ì¥ì†Œë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eMLCChat ë””ë ‰í† ë¦¬ ë‚´ì— ìƒˆ í´ë” distë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”. dist í´ë” ì•ˆì— prebuiltë¼ëŠ” í•˜ìœ„ í´ë”ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_9.png\" alt=\"ì´ë¯¸ì§€\"\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003ecd /home/tiwarinitin1999/mlc-llm/android/\u003cspan class=\"hljs-title class_\"\u003eMLCChat\u003c/span\u003e\nmkdir dist\ncd dist\nmkdir prebuilt\ncd prebuilt\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eê·¸ë¦¬ê³  prebuilt í´ë”ì— HF repository(ì„¹ì…˜ 1ì˜ ë‹¨ê³„ 9ì—ì„œ ìƒì„±ëœ)ë¥¼ í´ë¡ í•´ì£¼ì„¸ìš”.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_10.png\"\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# í€€í„°ì´ì¦ˆëœ \u003cspan class=\"hljs-title class_\"\u003eLlama3\u003c/span\u003e-8B-\u003cspan class=\"hljs-title class_\"\u003eInstruct\u003c/span\u003e ê°€ì¤‘ì¹˜ì˜ \u003cspan class=\"hljs-variable constant_\"\u003eHF\u003c/span\u003e ë¦¬í¬ì§€í† ë¦¬ë¥¼ ë³µì œí•©ë‹ˆë‹¤.\ngit clone \u003cspan class=\"hljs-attr\"\u003ehttps\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android.git\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e7ë‹¨ê³„: Llama3â€“8B-Instruct-q4f16_1-android.tar íŒŒì¼ì„ ë³µì‚¬í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003edist í´ë” ë‚´ì— libë¼ëŠ” ìƒˆ í´ë”ë¥¼ ë§Œë“¤ì–´ì„œ Llama3â€“8B-Instruct-q4f16_1-android.tar íŒŒì¼ (Section Iì˜ ë‹¨ê³„ 8ì—ì„œ ìƒì„±ëœ íŒŒì¼)ì„ lib ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_11.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e /home/tiwarinitin1999/mlc-llm/android/MLCChat/dist\n\u003cspan class=\"hljs-built_in\"\u003emkdir\u003c/span\u003e lib\n\u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e lib/\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_12.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003eStep 8: mlc-package-config.json íŒŒì¼ êµ¬ì„±í•˜ê¸°\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eMLCChat í´ë” ë‚´ì˜ mlc-package-config.json íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•˜ì„¸ìš”:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e{\n    \u003cspan class=\"hljs-string\"\u003e\"device\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"android\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"model_list\"\u003c/span\u003e: [\n        {\n            \u003cspan class=\"hljs-string\"\u003e\"model\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Llama-3-8B-q4f16_1-android\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"bundle_weight\"\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"model_id\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"llama-3-8b-q4f16_1\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"model_lib\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"llama-q4f16_1\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"estimated_vram_bytes\"\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e4348727787\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"overrides\"\u003c/span\u003e: {\n                \u003cspan class=\"hljs-string\"\u003e\"context_window_size\"\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e768\u003c/span\u003e,\n                \u003cspan class=\"hljs-string\"\u003e\"prefill_chunk_size\"\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e256\u003c/span\u003e\n            }\n        }\n    ],\n    \u003cspan class=\"hljs-string\"\u003e\"model_lib_path_for_prepare_libs\"\u003c/span\u003e: {\n        \u003cspan class=\"hljs-string\"\u003e\"llama-q4f16_1\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"./dist/lib/Llama-3-8B-Instruct-q4f16_1-android.tar\"\u003c/span\u003e\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_13.png\" alt=\"ì´ë¯¸ì§€\"\u003e\u003c/p\u003e\n\u003cp\u003e9ë‹¨ê³„: ê²½ë¡œì— í™˜ê²½ ë³€ìˆ˜ ì„¤ì •í•˜ê¸°\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_14.png\"\u003e\n\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eANDROID_NDK\u003c/span\u003e=\u003cspan class=\"hljs-regexp\"\u003e/home/\u003c/span\u003etiwarinitin1999/\u003cspan class=\"hljs-title class_\"\u003eAndroid\u003c/span\u003e/\u003cspan class=\"hljs-title class_\"\u003eSdk\u003c/span\u003e/ndk/\u003cspan class=\"hljs-number\"\u003e27.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.11718014\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eTVM_NDK_CC\u003c/span\u003e=$ANDROID_NDK/toolchains/llvm/prebuilt/linux-x86_64/bin/aarch64-linux-android24-clang\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eTVM_HOME\u003c/span\u003e=\u003cspan class=\"hljs-regexp\"\u003e/home/\u003c/span\u003etiwarinitin1999/mlc-llm/3rdparty/tvm\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eJAVA_HOME\u003c/span\u003e=\u003cspan class=\"hljs-regexp\"\u003e/home/\u003c/span\u003etiwarinitin1999/\u003cspan class=\"hljs-title class_\"\u003eDownloads\u003c/span\u003e/android-studio/jbr\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eMLC_LLM_HOME\u003c/span\u003e=\u003cspan class=\"hljs-regexp\"\u003e/home/\u003c/span\u003etiwarinitin1999/mlc-llm\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eStep 10: ì•ˆë“œë¡œì´ë“œ ë¹Œë“œ íŒŒì¼ ìƒì„±\u003c/p\u003e\n\u003cp\u003eë§ˆì§€ë§‰ìœ¼ë¡œ, ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ on-device ë°°í¬ë¥¼ ìœ„í•œ Llama3-8B-Instruct ëª¨ë¸ì˜ .JAR íŒŒì¼ì„ ë¹Œë“œí•˜ì‹­ì‹œì˜¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-sh\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e /home/tiwarinitin1999/mlc-llm/android/MLCChat\npython3 -m mlc_llm package\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_15.png\" alt=\"Screenshot\"\u003e\u003c/p\u003e\n\u003cp\u003eëª…ë ¹ì–´ê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ëœ í›„, ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_16.png\" alt=\"Screenshot\"\u003e\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eìœ„ ëª…ë ¹ì€ ë‹¤ìŒ íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_17.png\" alt=\"ì´ë¯¸ì§€\"\u003e\u003c/p\u003e\n\u003cp\u003eì†ŒìŠ¤ ë””ë ‰í† ë¦¬ì˜ ì¶œë ¥ í´ë” ë‚´ìš©ì„ ëŒ€ìƒ ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬í•˜ì„¸ìš”:\u003c/p\u003e\n\u003cp\u003eì†ŒìŠ¤ ë””ë ‰í† ë¦¬:\n/home/tiwarinitin1999/mlc-llm/android/MLCChat/dist/lib/mlc4j/output\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eëª©ì ì§€ ë””ë ‰í† ë¦¬:\n/home/tiwarinitin1999/Llama3-on-Mobile/mobile-llama3/MobileLlama3/dist/lib/mlc4j/output\u003c/p\u003e\n\u003cp\u003eì´ì œ, home/tiwarinitin1999/Llama3-on-Mobile/mobile-llama3/MobileLlama3/dist/lib/mlc4j/src/main/assets í´ë”ì— ìˆëŠ” mlc-app-config.json íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•˜ì„¸ìš”:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e{\n  \u003cspan class=\"hljs-string\"\u003e\"model_list\"\u003c/span\u003e: [\n    {\n      \u003cspan class=\"hljs-string\"\u003e\"model_id\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"llama-3-8b-q4f16_1\"\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\"model_lib\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"llama-q4f16_1\"\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\"model_url\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"https://huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android\"\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\"estimated_vram_bytes\"\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e4348727787\u003c/span\u003e\n    }\n  ]\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì„¤ì • íŒŒì¼ì˜ model_url í‚¤ëŠ” ëª¨ë°”ì¼í°ì—ì„œ HF ì €ì¥ì†Œë¡œë¶€í„° ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_18.png\"\u003e\n\u003cp\u003eëª¨ë“  êµ¬ì„±ì´ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003ch2\u003eì„¹ì…˜ IV: ì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ì—ì„œ ì•± ë¹Œë“œí•˜ê¸°\u003c/h2\u003e\n\u003cp\u003eì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ì—ì„œ MobileLlama3 ì•±ì„ ì—´ê³  ì–´ëŠ ì •ë„ ì‹œê°„ì„ ë“¤ì—¬ ë¹Œë“œí•˜ë„ë¡ í•©ì‹œë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e[\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_19.png\" alt=\"image\"\u003e]\n(\u003ca href=\"https://miro.medium.com/v2/resize:fit:700/1*wdN1DDl127dzmjIal0FHig.gif\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://miro.medium.com/v2/resize:fit:700/1*wdN1DDl127dzmjIal0FHig.gif\u003c/a\u003e)\u003c/p\u003e\n\u003cp\u003eëª¨ë°”ì¼ ì•±ì´ ì„±ê³µì ìœ¼ë¡œ ë¹Œë“œë˜ë©´ APKë¥¼ ëª¨ë°”ì¼ í°ì— ì„¤ì¹˜í•˜ì„¸ìš”. ë°”ë¡œ ì„¤ì¹˜í•  ìˆ˜ ìˆëŠ” APKê°€ ì—¬ê¸°ì— ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì˜¤í”„ë¼ì¸ ì‚¬ìš©ì„ ìœ„í•´ Llama3â€“8B-Instruct ëª¨ë¸ì„ ëª¨ë°”ì¼ ê¸°ê¸°ì— êµ¬ë™í•˜ëŠ” ë° ì„±ê³µí•œ ê²ƒì„ ì¶•í•˜ë“œë¦½ë‹ˆë‹¤. ì´ ê¸°ì‚¬ì—ì„œ ê°€ì¹˜ ìˆëŠ” í†µì°°ì„ ì–»ì—ˆê¸°ë¥¼ ê¸°ëŒ€í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eìœ„ì˜ GitHub ì €ì¥ì†Œì—ì„œ ì „ì²´ í”„ë¡œì íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\u003ca href=\"https://github.com/NSTiwari/Llama3-on-Mobile\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://github.com/NSTiwari/Llama3-on-Mobile\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eì‘í’ˆì„ ì¢‹ì•„í•˜ì…¨ë‹¤ë©´ ì €ì¥ì†Œì— â­ì„ ë‚¨ê²¨ì£¼ì‹œê³ , ë™ë£Œ ì˜¨ë””ë°”ì´ìŠ¤ AI ê°œë°œìë“¤ ì‚¬ì´ì— ì†Œì‹ì„ ì „íŒŒí•´ì£¼ì„¸ìš”. ì•ìœ¼ë¡œ ë”ìš± í¥ë¯¸ë¡œìš´ í”„ë¡œì íŠ¸ì™€ ë¸”ë¡œê·¸ë¥¼ ê¸°ëŒ€í•´ì£¼ì„¸ìš”.\u003c/p\u003e\n\u003ch2\u003eê°ì‚¬ì˜ ê¸€\u003c/h2\u003e\n\u003cp\u003eMobileLlama3ëŠ” MLC-LLMì„ ì˜ê°ì„ ë°›ì•„ ì œì‘ë˜ì—ˆìœ¼ë©°, ì´ í”„ë¡œì íŠ¸ë¥¼ ì˜¤í”ˆ ì†ŒìŠ¤ë¡œ ë§Œë“¤ì–´ì£¼ì‹  MLC-LLMì—ê²Œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003eì°¸ê³  ìë£Œ ë° ìì›\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eLlama-3-8B-Instruct ëª¨ë¸ì„ ì–‘ìí™”í•˜ê³  ë³€í™˜í•˜ëŠ” Colab ë…¸íŠ¸ë¶\u003c/li\u003e\n\u003cli\u003eMobileLlama3 GitHub ì €ì¥ì†Œ\u003c/li\u003e\n\u003cli\u003eë³€í™˜ëœ ê°€ì¤‘ì¹˜ë¥¼ ìœ„í•œ HuggingFace ì €ì¥ì†Œ\u003c/li\u003e\n\u003cli\u003eMetaì‚¬ì˜ Llama3 ëª¨ë¸ë“¤\u003c/li\u003e\n\u003cli\u003eMLC-LLM\u003c/li\u003e\n\u003cli\u003eMLC-LLMìš© Android SDK\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile"},"buildId":"JlBEgQDLGRx6DYlBnT8eD","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>