<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>ML ì´ì•¼ê¸° MobileLlama3 ëª¨ë°”ì¼ì—ì„œ Llama3ë¥¼ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê¸° | ui-station</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://ui-station.github.io///post/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="ML ì´ì•¼ê¸° MobileLlama3 ëª¨ë°”ì¼ì—ì„œ Llama3ë¥¼ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê¸° | ui-station" data-gatsby-head="true"/><meta property="og:title" content="ML ì´ì•¼ê¸° MobileLlama3 ëª¨ë°”ì¼ì—ì„œ Llama3ë¥¼ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê¸° | ui-station" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://ui-station.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://ui-station.github.io///post/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile" data-gatsby-head="true"/><meta name="twitter:title" content="ML ì´ì•¼ê¸° MobileLlama3 ëª¨ë°”ì¼ì—ì„œ Llama3ë¥¼ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê¸° | ui-station" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | ui-station" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-18 20:07" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-V5DKFTZ6BX"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-V5DKFTZ6BX');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/cd012fc8787133d0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cd012fc8787133d0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/_next/static/chunks/348-d11c34b645b13f5b.js" defer=""></script><script src="/_next/static/chunks/551-3069cf29fe274aab.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-561ae49ab5aab7f5.js" defer=""></script><script src="/_next/static/PgdIX9e0tvkvkdAmDT6qR/_buildManifest.js" defer=""></script><script src="/_next/static/PgdIX9e0tvkvkdAmDT6qR/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">UI STATION</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">ML ì´ì•¼ê¸° MobileLlama3 ëª¨ë°”ì¼ì—ì„œ Llama3ë¥¼ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê¸°</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="ML ì´ì•¼ê¸° MobileLlama3 ëª¨ë°”ì¼ì—ì„œ Llama3ë¥¼ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê¸°" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">UI STATION</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 18, 2024</span><span class="posts_reading_time__f7YPP">12<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><h1>ì†Œê°œ</h1>
<p>2024ë…„ 4ì›”, Metaê°€ ìƒˆë¡œìš´ ì˜¤í”ˆ ì–¸ì–´ ëª¨ë¸ íŒ¨ë°€ë¦¬ì¸ Llama 3ì„ ì¶œì‹œí–ˆìŠµë‹ˆë‹¤. ì´ì „ ëª¨ë¸ì„ ë°œì „ì‹œí‚¨ Llama 3ì€ ê°œì„ ëœ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°, 8B ë° 70Bì˜ ì‚¬ì „ í›ˆë ¨ëœ ë²„ì „ê³¼ ëª…ë ¹ì–´ íŠœë‹ëœ ë³€í˜•ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
<p>ì–¸ì–´ ëª¨ë¸ì˜ ì§€ì†ì ì¸ íŠ¸ë Œë“œì—ì„œ, ê°œë°œìë“¤ì€ ê°œì¸ ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•´ API ëŒ€ì‹  ë¡œì»¬ ë˜ëŠ” ì˜¤í”„ë¼ì¸ ì‚¬ìš©ì„ ì„ í˜¸í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì˜¬ë¼ë§ˆëŠ” macOS ë° Linux OSì—ì„œ ì˜¤í”„ë¼ì¸ìœ¼ë¡œ LLMsë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ë„êµ¬ ì¤‘ í•˜ë‚˜ë¡œ, ë¡œì»¬ ì‹¤í–‰ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ìŠ¤ë§ˆíŠ¸í°ì˜ ì œí•œëœ í•˜ë“œì›¨ì–´ ì„±ëŠ¥ìœ¼ë¡œ ì¸í•´ ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ LLMsë¥¼ ë¡œì»¬ë¡œ ì‹¤í–‰í•˜ëŠ” ê¸°ëŠ¥ì€ ì•„ì§ ì œí•œì ì…ë‹ˆë‹¤.</p>
<p>í•˜ì§€ë§Œ ì´ì œëŠ” ë‹¤ë¦…ë‹ˆë‹¤. MLC ë•ë¶„ì— ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ ì´ëŸ¬í•œ ëŒ€í˜• ëª¨ë¸ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤. ì´ ë¸”ë¡œê·¸ëŠ” MLC LLMì„ ì‚¬ìš©í•˜ì—¬ ì˜¤í”„ë¼ì¸ ì¶”ë¡ ì„ ìœ„í•´ Llama3-8B-Instruction ëª¨ë¸ì„ ëª¨ë°”ì¼ í°ì— ì§ì ‘ ì–‘ìí™”, ë³€í™˜ ë° ë°°í¬í•˜ëŠ” ì™„ì „í•œ íŠœí† ë¦¬ì–¼ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
<div class="content-ad"></div>
<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_0.png"/>
<p>ì‹œì‘í•˜ê¸° ì „ì—, ë¨¼ì € íŒŒì´í”„ë¼ì¸ì„ ì´í•´í•´ ë´…ì‹œë‹¤.</p>
<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_1.png"/>
<p>ì, ë” ì´ìƒ ì§€ì²´í•˜ì§€ ë§ê³ , ë‹¨ê³„ë³„ êµ¬í˜„ì„ ìœ„í•œ ì½”ë“œë¡œ ë°”ë¡œ ë„˜ì–´ê°€ ë³´ê² ìŠµë‹ˆë‹¤.</p>
<div class="content-ad"></div>
<h2>ì„¹ì…˜ I: ì›ë³¸ ë¼ë§ˆ-3-8B-ì¸ìŠ¤íŠ¸ëŸ­íŠ¸ ëª¨ë¸ì„ MLC í˜¸í™˜ ê°€ì¤‘ì¹˜ë¡œ ì–‘ìí™” ë° ë³€í™˜í•˜ê¸°</h2>
<p>ë‹¨ê³„ 0: ì•„ë˜ ì €ì¥ì†Œë¥¼ ë¡œì»¬ ë¨¸ì‹ ì— ë³µì œí•˜ê³  Google Colabì— Llama3_on_Mobile.ipynb ë…¸íŠ¸ë¶ì„ ì—…ë¡œë“œí•˜ì„¸ìš”.</p>
<pre><code class="hljs language-js"># ì €ì¥ì†Œë¥¼ ë³µì œí•©ë‹ˆë‹¤.
git clone <span class="hljs-attr">https</span>:<span class="hljs-comment">//github.com/NSTiwari/Llama3-on-Mobile</span>
</code></pre>
<p>ë‹¨ê³„ 1: MLC-LLM ì„¤ì¹˜í•˜ê¸°</p>
<div class="content-ad"></div>
<p>ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ë³€í™˜í•˜ë ¤ë©´ MLC-LLM ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤. ë…¸íŠ¸ë¶ì„ ì‹¤í–‰í•˜ëŠ” ë° íŠ¹íˆ NumPy ë²„ì „ 1.23.5ê°€ í•„ìš”í•˜ë©°, ë‹¤ë¥¸ ë²„ì „ì—ì„œ ë³€í™˜ í”„ë¡œì„¸ìŠ¤ì— ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">!pip install --pre --force-reinstall mlc-ai-nightly-cu122 mlc-llm-nightly-cu122 -f <span class="hljs-attr">https</span>:<span class="hljs-comment">//mlc.ai/wheels</span>
!pip install numpy==<span class="hljs-number">1.23</span><span class="hljs-number">.5</span>
</code></pre>
<p>ë‹¨ê³„ 2: ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> mlc_llm
<span class="hljs-keyword">import</span> torch
<span class="hljs-keyword">from</span> huggingface_hub <span class="hljs-keyword">import</span> snapshot_download
</code></pre>
<div class="content-ad"></div>
<p>Step 3: HF ê³„ì •ì— ë¡œê·¸ì¸í•˜ê³  ì›ë³¸ Llama-3-8B-Instruct ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”</p>
<pre><code class="hljs language-js"># <span class="hljs-variable constant_">HF</span> ê³„ì •ì— ë¡œê·¸ì¸í•©ë‹ˆë‹¤.
<span class="hljs-keyword">from</span> huggingface_hub <span class="hljs-keyword">import</span> notebook_login
<span class="hljs-title function_">notebook_login</span>()

# <span class="hljs-title class_">Llama</span>-<span class="hljs-number">3</span>-8B-<span class="hljs-title class_">Instruct</span> ëª¨ë¸ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.
<span class="hljs-title function_">snapshot_download</span>(repo_id=<span class="hljs-string">&quot;meta-llama/Meta-Llama-3-8B-Instruct&quot;</span>, local_dir=<span class="hljs-string">&quot;/content/Llama-3-8B-Instruct/&quot;</span>)
</code></pre>
<p>Step 4: GPUê°€ í™œì„±í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”</p>
<pre><code class="hljs language-js">!nvidia-smi

# <span class="hljs-variable constant_">CUDA</span>ê°€ ì‚¬ìš© ê°€ëŠ¥í•œì§€ í™•ì¸í•©ë‹ˆë‹¤.
torch.<span class="hljs-property">cuda</span>.<span class="hljs-title function_">is_available</span>()

device = torch.<span class="hljs-title function_">device</span>(<span class="hljs-string">&quot;cuda:0&quot;</span> <span class="hljs-keyword">if</span> torch.<span class="hljs-property">cuda</span>.<span class="hljs-title function_">is_available</span>() <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;cpu&quot;</span>)
device
</code></pre>
<div class="content-ad"></div>
<p>Step 5: ëª¨ë¸ ì´ë¦„ê³¼ ì–‘ìí™” ìœ í˜• êµ¬ì„±</p>
<pre><code class="hljs language-js"><span class="hljs-variable constant_">MODEL_NAME</span> = <span class="hljs-string">&quot;Llama-3-8B-Instruct&quot;</span>
<span class="hljs-variable constant_">QUANTIZATION</span>= <span class="hljs-string">&quot;q4f16_1&quot;</span>
</code></pre>
<p>Step 6: Llama-3-8B-Insruct ëª¨ë¸ì„ MLC í˜¸í™˜ ê°€ì¤‘ì¹˜ë¡œ ë³€í™˜</p>
<p>ë‹¤ìŒ ì½”ë“œëŠ” q4f16_1 ì–‘ìí™”ë¥¼ ì‚¬ìš©í•˜ì—¬ Llama-3-8B-Instruct ëª¨ë¸ì„ ì–‘ìí™” ë° ìƒ¤ë”©í•˜ì—¬ ì—¬ëŸ¬ ì²­í¬ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ Llama-3-8B-Instruct-q4f16_1-androidì´ë€ ë””ë ‰í„°ë¦¬ì— ë³€í™˜í•˜ê³  ì €ì¥í•©ë‹ˆë‹¤.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js">!python -m mlc_llm convert_weight /content/$MODEL_NAME/ --quantization $QUANTIZATION -o /content/$MODEL_NAME-$QUANTIZATION-android/
</code></pre>
<p>7ë‹¨ê³„: í† í° íŒŒì¼ ìƒì„±</p>
<p>ì´ ì½”ë“œ ë¼ì¸ì€ conv-template, context-window, prefill-chunk-sizeì™€ ê°™ì€ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í† í° íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ë•Œ conv-templateì€ llama-3ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë©°, ì´ëŠ” ì‘ì—… ì¤‘ì¸ Llama-3 ëª¨ë¸ ë³€í˜•ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">!python -m mlc_llm gen_config /content/$MODEL_NAME/ --quantization $QUANTIZATION \
    --conv-template llama-<span class="hljs-number">3</span> --context-<span class="hljs-variable language_">window</span>-size <span class="hljs-number">8192</span> --prefill-chunk-size <span class="hljs-number">1024</span>  \
    -o /content/$MODEL_NAME-$QUANTIZATION-android/
</code></pre>
<div class="content-ad"></div>
<p>8ë‹¨ê³„: Android í˜•ì‹ìœ¼ë¡œ ëª¨ë¸ ì»´íŒŒì¼í•˜ê¸°</p>
<p>ì—¬ê¸°ì„œëŠ” ì¥ì¹˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ Android í˜¸í™˜ í˜•ì‹ìœ¼ë¡œ ì»´íŒŒì¼í•˜ë©°, ì´ëŠ” Llama3â€“8B-Instruct-q4f16_1-android.tar íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ .tar íŒŒì¼ì€ ëª¨ë¸ì„ ê¸°ê¸°ì— ë°°í¬í•˜ê¸° ìœ„í•´ ì´í›„ ë‹¨ê³„ì—ì„œ ì‚¬ìš©ë  ê²ƒì…ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">!python -m mlc_llm compile /content/$MODEL_NAME-$QUANTIZATION-android/mlc-chat-config.<span class="hljs-property">json</span> \
    --device android -o /content/$MODEL_NAME-$QUANTIZATION-android/$MODEL_NAME-$QUANTIZATION-android.<span class="hljs-property">tar</span>
</code></pre>
<p>9ë‹¨ê³„: ëª¨ë¸ì„ Hugging Faceì— ì˜¬ë¦¬ê¸° ğŸ¤—</p>
<div class="content-ad"></div>
<p>ë§ˆì§€ë§‰ìœ¼ë¡œ, ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ HFì— ì €ì¥í•˜ì„¸ìš”. ì´ëŸ¬í•œ ê°€ì¤‘ì¹˜ëŠ” ì¶”ë¡  ì¤‘ì— ëª¨ë°”ì¼ í°ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œë  ê²ƒì…ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">from</span> huggingface_hub <span class="hljs-keyword">import</span> whoami
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> <span class="hljs-title class_">Path</span>

# ì¶œë ¥ ë””ë ‰í† ë¦¬.
output_dir = <span class="hljs-string">&quot;/content/&quot;</span> + <span class="hljs-variable constant_">MODEL_NAME</span> + <span class="hljs-string">&quot;-&quot;</span> + <span class="hljs-variable constant_">QUANTIZATION</span> + <span class="hljs-string">&quot;-android/&quot;</span>
repo_name = <span class="hljs-string">&quot;Llama-3-8B-q4f16_1-android&quot;</span>
username = <span class="hljs-title function_">whoami</span>(token=<span class="hljs-title class_">Path</span>(<span class="hljs-string">&quot;/root/.cache/huggingface/&quot;</span>))[<span class="hljs-string">&quot;name&quot;</span>]
repo_id = f<span class="hljs-string">&quot;{username}/{repo_name}&quot;</span>
</code></pre>
<pre><code class="hljs language-js"><span class="hljs-keyword">from</span> huggingface_hub <span class="hljs-keyword">import</span> upload_folder, create_repo

repo_id = <span class="hljs-title function_">create_repo</span>(repo_id, exist_ok=<span class="hljs-title class_">True</span>).<span class="hljs-property">repo_id</span>
<span class="hljs-title function_">print</span>(output_dir)

<span class="hljs-title function_">upload_folder</span>(
    repo_id=repo_id,
    folder_path=output_dir,
    commit_message=<span class="hljs-string">&quot;Quantized Llama-3-8B-Instruct model for Android.&quot;</span>,
    ignore_patterns=[<span class="hljs-string">&quot;step_*&quot;</span>, <span class="hljs-string">&quot;epoch_*&quot;</span>],
)
</code></pre>
<p>ë‹¤ìŒ HF ğŸ¤— ë¦¬í¬ì§€í† ë¦¬ì—ì„œ ìƒ¤ë“œëœ ëª¨ë¸ ê°€ì¤‘ì¹˜ ë° í† í¬ë‚˜ì´ì €ë¥¼ ì§ì ‘ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
https://huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android</p>
<div class="content-ad"></div>
<p>ì—¬ê¸° ì™„ì „í•œ Colab ë…¸íŠ¸ë¶ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì¢‹ì•„ìš”. ìš°ë¦¬ëŠ” ì–‘ìí™”ì™€ ëª¨ë¸ ê°€ì¤‘ì¹˜ ë³€í™˜ì˜ ì´ˆê¸° ë‹¨ê³„ë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. ì´ì œ ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” GCP ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì¶”ê°€ë¡œ ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ì»´íŒŒì¼í•˜ê¸° ìœ„í•œ í™˜ê²½ì„ ì„¤ì •í•  ê²ƒì…ë‹ˆë‹¤.</p>
<h2>Section II: ì•ˆë“œë¡œì´ë“œìš© ë¹Œë“œ íŒŒì¼ ìƒì„±ì„ ìœ„í•œ GCP í™˜ê²½ ì„¤ì •(ì˜µì…˜)</h2>
<p>ì´ ë‹¨ê³„ëŠ” ì„ íƒ ì‚¬í•­ì´ë©° ì´ë¯¸ Linux ë˜ëŠ” MacOSì™€ ê°™ì€ UNIX ê¸°ë°˜ ì‹œìŠ¤í…œì„ ê°€ì§€ê³  ìˆë‹¤ë©´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
<div class="content-ad"></div>
<p>ìœˆë„ìš° ê¸°ê¸°ë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— í˜¸í™˜ì„± ë¬¸ì œë¡œ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ì¢…ì†ì„±ì„ ì„¤ì¹˜í•˜ëŠ” ê²ƒì´ ê·€ì°®ì•˜ì–´ìš”. ê·¸ë˜ì„œ ê·€ì°¨ë‹ˆì¦˜ì„ í”¼í•˜ê¸° ìœ„í•´ GCPì—ì„œ Linux VM ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë ŒíŠ¸í•˜ê¸°ë¡œ ê²°ì •í–ˆì–´ìš”.</p>
<p>ì €ëŠ” GCP VM ì¸ìŠ¤í„´ìŠ¤ì—ì„œ í™˜ê²½ì„ ì„¤ì •í•˜ê³  Android Studioë¥¼ ì„¤ì¹˜í•˜ëŠ” ë‹¨ê³„ë¥¼ ì•ˆë‚´í•˜ëŠ” ë³„ë„ì˜ ë¸”ë¡œê·¸ë¥¼ ì‘ì„±í–ˆì–´ìš”.</p>
<p>ë¹„ìŠ·í•œ ë¬¸ì œë¥¼ ê²ªê³  ê³„ì‹  ë¶„ì´ë¼ë©´, ì—¬ê¸°ì„œ í™•ì¸í•´ë³´ì„¸ìš”. ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ê±´ë„ˆë›°ì…”ë„ ë¼ìš”.</p>
<h2>ì„¹ì…˜ III: ë¹Œë“œ ì¢…ì†ì„± ì„¤ì¹˜</h2>
<div class="content-ad"></div>
<h3>ë‹¨ê³„ 1: Rust ì„¤ì¹˜í•˜ê¸°</h3>
<p>ì•ˆë“œë¡œì´ë“œë¡œ HuggingFace í† í¬ë‚˜ì´ì €ë¥¼ í¬ë¡œìŠ¤ ì»´íŒŒì¼í•˜ê¸° ìœ„í•´ì„œëŠ” Rustê°€ í•„ìš”í•©ë‹ˆë‹¤. Rustë¥¼ ì„¤ì¹˜í•˜ë ¤ë©´ ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”.</p>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_2.png" alt="ì´ë¯¸ì§€"/></p>
<p>í‘œì¤€ ì„¤ì¹˜ë¥¼ ê³„ì†í•˜ë ¤ë©´ ì˜µì…˜ 1ì„ ì„ íƒí•˜ì„¸ìš”.</p>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_3.png" alt="image"/></p>
<pre><code class="hljs language-js">sudo curl --proto <span class="hljs-string">&#x27;=https&#x27;</span> --tlsv1<span class="hljs-number">.2</span> -sSf <span class="hljs-attr">https</span>:<span class="hljs-comment">//sh.rustup.rs | sh</span>
</code></pre>
<p>Step 2: Install NDK and CMake in Android Studio</p>
<p>Open Android Studio â†’ Tools â†’ SDK Manager â†’ SDK Tools â†’ Install CMake and NDK.</p>
<div class="content-ad"></div>
<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_4.png"/>
<p>ì œ 3 ë‹¨ê³„: MLC LLM Python íŒ¨í‚¤ì§€ ë° TVM Unity ì»´íŒŒì¼ëŸ¬ ì„¤ì¹˜</p>
<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_5.png"/>
<pre><code class="hljs language-js"># <span class="hljs-variable constant_">MLC</span>-<span class="hljs-variable constant_">LLM</span> <span class="hljs-title class_">Python</span> íŒ¨í‚¤ì§€ì™€ <span class="hljs-variable constant_">TVM</span> <span class="hljs-title class_">Unity</span> ì»´íŒŒì¼ëŸ¬ ì„¤ì¹˜.
python3 -m pip install --pre -U -f <span class="hljs-attr">https</span>:<span class="hljs-comment">//mlc.ai/wheels mlc-llm-nightly mlc-ai-nightly</span>

# ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¤ì¹˜ í™•ì¸:
python3 -c <span class="hljs-string">&quot;import mlc_llm; print(mlc_llm)&quot;</span>
</code></pre>
<div class="content-ad"></div>
<p><strong>ë‹¨ê³„ 4: CMake ì„¤ì¹˜í•˜ê¸°</strong></p>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_6.png" alt="ì´ë¯¸ì§€"/></p>
<pre><code class="hljs language-js"># <span class="hljs-title class_">CMake</span> ì„¤ì¹˜í•˜ê¸°.
sudo apt-get install cmake
</code></pre>
<p><strong>ë‹¨ê³„ 5: MLC-LLM ë° Llama3-on-Mobile ì €ì¥ì†Œ ë³µì œí•˜ê¸°</strong></p>
<div class="content-ad"></div>
<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_7.png"/>
<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_8.png"/>
<pre><code class="hljs language-js">cd /home/tiwarinitin1999/  

# <span class="hljs-variable constant_">MLC</span>-<span class="hljs-variable constant_">LLM</span> ì €ì¥ì†Œë¥¼ ë³µì œí•©ë‹ˆë‹¤.
git clone <span class="hljs-attr">https</span>:<span class="hljs-comment">//github.com/mlc-ai/mlc-llm.git</span>
cd mlc-llm

# ì €ì¥ì†Œì˜ ì„œë¸Œëª¨ë“ˆì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
git submodule update --init --recursive

# <span class="hljs-title class_">Llama3</span>-on-<span class="hljs-title class_">Mobile</span> ì €ì¥ì†Œë¥¼ ë³µì œí•©ë‹ˆë‹¤.
cd /home/tiwarinitin1999/
git clone <span class="hljs-attr">https</span>:<span class="hljs-comment">//github.com/NSTiwari/Llama3-on-Mobile.git</span>
</code></pre>
<p>ë‹¨ê³„ 6: ë³€í™˜ëœ ëª¨ë¸ ê°€ì¤‘ì¹˜ì˜ HuggingFace ì €ì¥ì†Œë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”.</p>
<div class="content-ad"></div>
<p>MLCChat ë””ë ‰í† ë¦¬ ë‚´ì— ìƒˆ í´ë” distë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”. dist í´ë” ì•ˆì— prebuiltë¼ëŠ” í•˜ìœ„ í´ë”ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.</p>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_9.png" alt="ì´ë¯¸ì§€"/></p>
<pre><code class="hljs language-js">cd /home/tiwarinitin1999/mlc-llm/android/<span class="hljs-title class_">MLCChat</span>
mkdir dist
cd dist
mkdir prebuilt
cd prebuilt
</code></pre>
<p>ê·¸ë¦¬ê³  prebuilt í´ë”ì— HF repository(ì„¹ì…˜ 1ì˜ ë‹¨ê³„ 9ì—ì„œ ìƒì„±ëœ)ë¥¼ í´ë¡ í•´ì£¼ì„¸ìš”.</p>
<div class="content-ad"></div>
<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_10.png"/>
<pre><code class="hljs language-js"># í€€í„°ì´ì¦ˆëœ <span class="hljs-title class_">Llama3</span>-8B-<span class="hljs-title class_">Instruct</span> ê°€ì¤‘ì¹˜ì˜ <span class="hljs-variable constant_">HF</span> ë¦¬í¬ì§€í† ë¦¬ë¥¼ ë³µì œí•©ë‹ˆë‹¤.
git clone <span class="hljs-attr">https</span>:<span class="hljs-comment">//huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android.git</span>
</code></pre>
<p>7ë‹¨ê³„: Llama3â€“8B-Instruct-q4f16_1-android.tar íŒŒì¼ì„ ë³µì‚¬í•©ë‹ˆë‹¤.</p>
<p>dist í´ë” ë‚´ì— libë¼ëŠ” ìƒˆ í´ë”ë¥¼ ë§Œë“¤ì–´ì„œ Llama3â€“8B-Instruct-q4f16_1-android.tar íŒŒì¼ (Section Iì˜ ë‹¨ê³„ 8ì—ì„œ ìƒì„±ëœ íŒŒì¼)ì„ lib ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤.</p>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_11.png" alt="image"/></p>
<pre><code class="hljs language-bash"><span class="hljs-built_in">cd</span> /home/tiwarinitin1999/mlc-llm/android/MLCChat/dist
<span class="hljs-built_in">mkdir</span> lib
<span class="hljs-built_in">cd</span> lib/
</code></pre>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_12.png" alt="image"/></p>
<p>Step 8: mlc-package-config.json íŒŒì¼ êµ¬ì„±í•˜ê¸°</p>
<div class="content-ad"></div>
<p>MLCChat í´ë” ë‚´ì˜ mlc-package-config.json íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•˜ì„¸ìš”:</p>
<pre><code class="hljs language-js">{
    <span class="hljs-string">&quot;device&quot;</span>: <span class="hljs-string">&quot;android&quot;</span>,
    <span class="hljs-string">&quot;model_list&quot;</span>: [
        {
            <span class="hljs-string">&quot;model&quot;</span>: <span class="hljs-string">&quot;Llama-3-8B-q4f16_1-android&quot;</span>,
            <span class="hljs-string">&quot;bundle_weight&quot;</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-string">&quot;model_id&quot;</span>: <span class="hljs-string">&quot;llama-3-8b-q4f16_1&quot;</span>,
            <span class="hljs-string">&quot;model_lib&quot;</span>: <span class="hljs-string">&quot;llama-q4f16_1&quot;</span>,
            <span class="hljs-string">&quot;estimated_vram_bytes&quot;</span>: <span class="hljs-number">4348727787</span>,
            <span class="hljs-string">&quot;overrides&quot;</span>: {
                <span class="hljs-string">&quot;context_window_size&quot;</span>:<span class="hljs-number">768</span>,
                <span class="hljs-string">&quot;prefill_chunk_size&quot;</span>:<span class="hljs-number">256</span>
            }         
        }
    ],
    <span class="hljs-string">&quot;model_lib_path_for_prepare_libs&quot;</span>: {
        <span class="hljs-string">&quot;llama-q4f16_1&quot;</span>: <span class="hljs-string">&quot;./dist/lib/Llama-3-8B-Instruct-q4f16_1-android.tar&quot;</span>
    }
}
</code></pre>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_13.png" alt="ì´ë¯¸ì§€"/></p>
<p>9ë‹¨ê³„: ê²½ë¡œì— í™˜ê²½ ë³€ìˆ˜ ì„¤ì •í•˜ê¸°</p>
<div class="content-ad"></div>
<html><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_14.png"/></html>
<pre><code class="hljs language-js"><span class="hljs-keyword">export</span> <span class="hljs-variable constant_">ANDROID_NDK</span>=<span class="hljs-regexp">/home/</span>tiwarinitin1999/<span class="hljs-title class_">Android</span>/<span class="hljs-title class_">Sdk</span>/ndk/<span class="hljs-number">27.0</span><span class="hljs-number">.11718014</span>
<span class="hljs-keyword">export</span> <span class="hljs-variable constant_">TVM_NDK_CC</span>=$ANDROID_NDK/toolchains/llvm/prebuilt/linux-x86_64/bin/aarch64-linux-android24-clang
<span class="hljs-keyword">export</span> <span class="hljs-variable constant_">TVM_HOME</span>=<span class="hljs-regexp">/home/</span>tiwarinitin1999/mlc-llm/3rdparty/tvm
<span class="hljs-keyword">export</span> <span class="hljs-variable constant_">JAVA_HOME</span>=<span class="hljs-regexp">/home/</span>tiwarinitin1999/<span class="hljs-title class_">Downloads</span>/android-studio/jbr
<span class="hljs-keyword">export</span> <span class="hljs-variable constant_">MLC_LLM_HOME</span>=<span class="hljs-regexp">/home/</span>tiwarinitin1999/mlc-llm
</code></pre>
<p>Step 10: ì•ˆë“œë¡œì´ë“œ ë¹Œë“œ íŒŒì¼ ìƒì„±</p>
<p>ë§ˆì§€ë§‰ìœ¼ë¡œ, ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ on-device ë°°í¬ë¥¼ ìœ„í•œ Llama3-8B-Instruct ëª¨ë¸ì˜ .JAR íŒŒì¼ì„ ë¹Œë“œí•˜ì‹­ì‹œì˜¤.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-sh"><span class="hljs-built_in">cd</span> /home/tiwarinitin1999/mlc-llm/android/MLCChat
python3 -m mlc_llm package
</code></pre>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_15.png" alt="Screenshot"/></p>
<p>ëª…ë ¹ì–´ê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ëœ í›„, ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p><img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_16.png" alt="Screenshot"/></p>
<pre><code>
&lt;div class=&quot;content-ad&quot;&gt;&lt;/div&gt;

ìœ„ ëª…ë ¹ì€ ë‹¤ìŒ íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤:

![ì´ë¯¸ì§€](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_17.png)

ì†ŒìŠ¤ ë””ë ‰í† ë¦¬ì˜ ì¶œë ¥ í´ë” ë‚´ìš©ì„ ëŒ€ìƒ ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬í•˜ì„¸ìš”:

ì†ŒìŠ¤ ë””ë ‰í† ë¦¬:
/home/tiwarinitin1999/mlc-llm/android/MLCChat/dist/lib/mlc4j/output

&lt;div class=&quot;content-ad&quot;&gt;&lt;/div&gt;

ëª©ì ì§€ ë””ë ‰í† ë¦¬:
/home/tiwarinitin1999/Llama3-on-Mobile/mobile-llama3/MobileLlama3/dist/lib/mlc4j/output

ì´ì œ, home/tiwarinitin1999/Llama3-on-Mobile/mobile-llama3/MobileLlama3/dist/lib/mlc4j/src/main/assets í´ë”ì— ìˆëŠ” mlc-app-config.json íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•˜ì„¸ìš”:

```js
{
  &quot;model_list&quot;: [
    {
      &quot;model_id&quot;: &quot;llama-3-8b-q4f16_1&quot;,
      &quot;model_lib&quot;: &quot;llama-q4f16_1&quot;,
      &quot;model_url&quot;: &quot;https://huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android&quot;,
      &quot;estimated_vram_bytes&quot;: 4348727787
    }
  ]
}
</code></pre>
<p>ì„¤ì • íŒŒì¼ì˜ model_url í‚¤ëŠ” ëª¨ë°”ì¼í°ì—ì„œ HF ì €ì¥ì†Œë¡œë¶€í„° ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.</p>
<div class="content-ad"></div>
<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_18.png"/>
<p>ëª¨ë“  êµ¬ì„±ì´ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<h2>ì„¹ì…˜ IV: ì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ì—ì„œ ì•± ë¹Œë“œí•˜ê¸°</h2>
<p>ì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ì—ì„œ MobileLlama3 ì•±ì„ ì—´ê³  ì–´ëŠ ì •ë„ ì‹œê°„ì„ ë“¤ì—¬ ë¹Œë“œí•˜ë„ë¡ í•©ì‹œë‹¤.</p>
<div class="content-ad"></div>
<p>[<img src="/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_19.png" alt="image"/>]
(https://miro.medium.com/v2/resize:fit:700/1*wdN1DDl127dzmjIal0FHig.gif)</p>
<p>ëª¨ë°”ì¼ ì•±ì´ ì„±ê³µì ìœ¼ë¡œ ë¹Œë“œë˜ë©´ APKë¥¼ ëª¨ë°”ì¼ í°ì— ì„¤ì¹˜í•˜ì„¸ìš”. ë°”ë¡œ ì„¤ì¹˜í•  ìˆ˜ ìˆëŠ” APKê°€ ì—¬ê¸°ì— ìˆìŠµë‹ˆë‹¤.</p>
<p>ì˜¤í”„ë¼ì¸ ì‚¬ìš©ì„ ìœ„í•´ Llama3â€“8B-Instruct ëª¨ë¸ì„ ëª¨ë°”ì¼ ê¸°ê¸°ì— êµ¬ë™í•˜ëŠ” ë° ì„±ê³µí•œ ê²ƒì„ ì¶•í•˜ë“œë¦½ë‹ˆë‹¤. ì´ ê¸°ì‚¬ì—ì„œ ê°€ì¹˜ ìˆëŠ” í†µì°°ì„ ì–»ì—ˆê¸°ë¥¼ ê¸°ëŒ€í•©ë‹ˆë‹¤.</p>
<div class="content-ad"></div>
<p>ìœ„ì˜ GitHub ì €ì¥ì†Œì—ì„œ ì „ì²´ í”„ë¡œì íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
https://github.com/NSTiwari/Llama3-on-Mobile</p>
<p>ì‘í’ˆì„ ì¢‹ì•„í•˜ì…¨ë‹¤ë©´ ì €ì¥ì†Œì— â­ì„ ë‚¨ê²¨ì£¼ì‹œê³ , ë™ë£Œ ì˜¨ë””ë°”ì´ìŠ¤ AI ê°œë°œìë“¤ ì‚¬ì´ì— ì†Œì‹ì„ ì „íŒŒí•´ì£¼ì„¸ìš”. ì•ìœ¼ë¡œ ë”ìš± í¥ë¯¸ë¡œìš´ í”„ë¡œì íŠ¸ì™€ ë¸”ë¡œê·¸ë¥¼ ê¸°ëŒ€í•´ì£¼ì„¸ìš”.</p>
<h2>ê°ì‚¬ì˜ ê¸€</h2>
<p>MobileLlama3ëŠ” MLC-LLMì„ ì˜ê°ì„ ë°›ì•„ ì œì‘ë˜ì—ˆìœ¼ë©°, ì´ í”„ë¡œì íŠ¸ë¥¼ ì˜¤í”ˆ ì†ŒìŠ¤ë¡œ ë§Œë“¤ì–´ì£¼ì‹  MLC-LLMì—ê²Œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.</p>
<div class="content-ad"></div>
<h2>ì°¸ê³  ìë£Œ ë° ìì›</h2>
<ul>
<li>Llama-3-8B-Instruct ëª¨ë¸ì„ ì–‘ìí™”í•˜ê³  ë³€í™˜í•˜ëŠ” Colab ë…¸íŠ¸ë¶</li>
<li>MobileLlama3 GitHub ì €ì¥ì†Œ</li>
<li>ë³€í™˜ëœ ê°€ì¤‘ì¹˜ë¥¼ ìœ„í•œ HuggingFace ì €ì¥ì†Œ</li>
<li>Metaì‚¬ì˜ Llama3 ëª¨ë¸ë“¤</li>
<li>MLC-LLM</li>
<li>MLC-LLMìš© Android SDK</li>
</ul></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"ML ì´ì•¼ê¸° MobileLlama3 ëª¨ë°”ì¼ì—ì„œ Llama3ë¥¼ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê¸°","description":"","date":"2024-05-18 20:07","slug":"2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile","content":"\n\n# ì†Œê°œ\n\n2024ë…„ 4ì›”, Metaê°€ ìƒˆë¡œìš´ ì˜¤í”ˆ ì–¸ì–´ ëª¨ë¸ íŒ¨ë°€ë¦¬ì¸ Llama 3ì„ ì¶œì‹œí–ˆìŠµë‹ˆë‹¤. ì´ì „ ëª¨ë¸ì„ ë°œì „ì‹œí‚¨ Llama 3ì€ ê°œì„ ëœ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°, 8B ë° 70Bì˜ ì‚¬ì „ í›ˆë ¨ëœ ë²„ì „ê³¼ ëª…ë ¹ì–´ íŠœë‹ëœ ë³€í˜•ì„ ì œê³µí•©ë‹ˆë‹¤.\n\nì–¸ì–´ ëª¨ë¸ì˜ ì§€ì†ì ì¸ íŠ¸ë Œë“œì—ì„œ, ê°œë°œìë“¤ì€ ê°œì¸ ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•´ API ëŒ€ì‹  ë¡œì»¬ ë˜ëŠ” ì˜¤í”„ë¼ì¸ ì‚¬ìš©ì„ ì„ í˜¸í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì˜¬ë¼ë§ˆëŠ” macOS ë° Linux OSì—ì„œ ì˜¤í”„ë¼ì¸ìœ¼ë¡œ LLMsë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ë„êµ¬ ì¤‘ í•˜ë‚˜ë¡œ, ë¡œì»¬ ì‹¤í–‰ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ìŠ¤ë§ˆíŠ¸í°ì˜ ì œí•œëœ í•˜ë“œì›¨ì–´ ì„±ëŠ¥ìœ¼ë¡œ ì¸í•´ ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ LLMsë¥¼ ë¡œì»¬ë¡œ ì‹¤í–‰í•˜ëŠ” ê¸°ëŠ¥ì€ ì•„ì§ ì œí•œì ì…ë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ì´ì œëŠ” ë‹¤ë¦…ë‹ˆë‹¤. MLC ë•ë¶„ì— ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ ì´ëŸ¬í•œ ëŒ€í˜• ëª¨ë¸ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤. ì´ ë¸”ë¡œê·¸ëŠ” MLC LLMì„ ì‚¬ìš©í•˜ì—¬ ì˜¤í”„ë¼ì¸ ì¶”ë¡ ì„ ìœ„í•´ Llama3-8B-Instruction ëª¨ë¸ì„ ëª¨ë°”ì¼ í°ì— ì§ì ‘ ì–‘ìí™”, ë³€í™˜ ë° ë°°í¬í•˜ëŠ” ì™„ì „í•œ íŠœí† ë¦¬ì–¼ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_0.png\" /\u003e\n\nì‹œì‘í•˜ê¸° ì „ì—, ë¨¼ì € íŒŒì´í”„ë¼ì¸ì„ ì´í•´í•´ ë´…ì‹œë‹¤.\n\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_1.png\" /\u003e\n\nì, ë” ì´ìƒ ì§€ì²´í•˜ì§€ ë§ê³ , ë‹¨ê³„ë³„ êµ¬í˜„ì„ ìœ„í•œ ì½”ë“œë¡œ ë°”ë¡œ ë„˜ì–´ê°€ ë³´ê² ìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## ì„¹ì…˜ I: ì›ë³¸ ë¼ë§ˆ-3-8B-ì¸ìŠ¤íŠ¸ëŸ­íŠ¸ ëª¨ë¸ì„ MLC í˜¸í™˜ ê°€ì¤‘ì¹˜ë¡œ ì–‘ìí™” ë° ë³€í™˜í•˜ê¸°\n\në‹¨ê³„ 0: ì•„ë˜ ì €ì¥ì†Œë¥¼ ë¡œì»¬ ë¨¸ì‹ ì— ë³µì œí•˜ê³  Google Colabì— Llama3_on_Mobile.ipynb ë…¸íŠ¸ë¶ì„ ì—…ë¡œë“œí•˜ì„¸ìš”.\n\n```js\n# ì €ì¥ì†Œë¥¼ ë³µì œí•©ë‹ˆë‹¤.\ngit clone https://github.com/NSTiwari/Llama3-on-Mobile\n```\n\në‹¨ê³„ 1: MLC-LLM ì„¤ì¹˜í•˜ê¸°\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ë³€í™˜í•˜ë ¤ë©´ MLC-LLM ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤. ë…¸íŠ¸ë¶ì„ ì‹¤í–‰í•˜ëŠ” ë° íŠ¹íˆ NumPy ë²„ì „ 1.23.5ê°€ í•„ìš”í•˜ë©°, ë‹¤ë¥¸ ë²„ì „ì—ì„œ ë³€í™˜ í”„ë¡œì„¸ìŠ¤ì— ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\n\n```js\n!pip install --pre --force-reinstall mlc-ai-nightly-cu122 mlc-llm-nightly-cu122 -f https://mlc.ai/wheels\n!pip install numpy==1.23.5\n```\n\në‹¨ê³„ 2: ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°\n\n```js\nimport mlc_llm\nimport torch\nfrom huggingface_hub import snapshot_download\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nStep 3: HF ê³„ì •ì— ë¡œê·¸ì¸í•˜ê³  ì›ë³¸ Llama-3-8B-Instruct ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”\n\n```js\n# HF ê³„ì •ì— ë¡œê·¸ì¸í•©ë‹ˆë‹¤.\nfrom huggingface_hub import notebook_login\nnotebook_login()\n\n# Llama-3-8B-Instruct ëª¨ë¸ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.\nsnapshot_download(repo_id=\"meta-llama/Meta-Llama-3-8B-Instruct\", local_dir=\"/content/Llama-3-8B-Instruct/\")\n```\n\nStep 4: GPUê°€ í™œì„±í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”\n\n```js\n!nvidia-smi\n\n# CUDAê°€ ì‚¬ìš© ê°€ëŠ¥í•œì§€ í™•ì¸í•©ë‹ˆë‹¤.\ntorch.cuda.is_available()\n\ndevice = torch.device(\"cuda:0\" if torch.cuda.is_available() else \"cpu\")\ndevice\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nStep 5: ëª¨ë¸ ì´ë¦„ê³¼ ì–‘ìí™” ìœ í˜• êµ¬ì„±\n\n```js\nMODEL_NAME = \"Llama-3-8B-Instruct\"\nQUANTIZATION= \"q4f16_1\"\n```\n\nStep 6: Llama-3-8B-Insruct ëª¨ë¸ì„ MLC í˜¸í™˜ ê°€ì¤‘ì¹˜ë¡œ ë³€í™˜\n\në‹¤ìŒ ì½”ë“œëŠ” q4f16_1 ì–‘ìí™”ë¥¼ ì‚¬ìš©í•˜ì—¬ Llama-3-8B-Instruct ëª¨ë¸ì„ ì–‘ìí™” ë° ìƒ¤ë”©í•˜ì—¬ ì—¬ëŸ¬ ì²­í¬ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ Llama-3-8B-Instruct-q4f16_1-androidì´ë€ ë””ë ‰í„°ë¦¬ì— ë³€í™˜í•˜ê³  ì €ì¥í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n!python -m mlc_llm convert_weight /content/$MODEL_NAME/ --quantization $QUANTIZATION -o /content/$MODEL_NAME-$QUANTIZATION-android/\n```\n\n7ë‹¨ê³„: í† í° íŒŒì¼ ìƒì„±\n\nì´ ì½”ë“œ ë¼ì¸ì€ conv-template, context-window, prefill-chunk-sizeì™€ ê°™ì€ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í† í° íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ë•Œ conv-templateì€ llama-3ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë©°, ì´ëŠ” ì‘ì—… ì¤‘ì¸ Llama-3 ëª¨ë¸ ë³€í˜•ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\n\n```js\n!python -m mlc_llm gen_config /content/$MODEL_NAME/ --quantization $QUANTIZATION \\\n    --conv-template llama-3 --context-window-size 8192 --prefill-chunk-size 1024  \\\n    -o /content/$MODEL_NAME-$QUANTIZATION-android/\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n8ë‹¨ê³„: Android í˜•ì‹ìœ¼ë¡œ ëª¨ë¸ ì»´íŒŒì¼í•˜ê¸°\n\nì—¬ê¸°ì„œëŠ” ì¥ì¹˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ Android í˜¸í™˜ í˜•ì‹ìœ¼ë¡œ ì»´íŒŒì¼í•˜ë©°, ì´ëŠ” Llama3â€“8B-Instruct-q4f16_1-android.tar íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ .tar íŒŒì¼ì€ ëª¨ë¸ì„ ê¸°ê¸°ì— ë°°í¬í•˜ê¸° ìœ„í•´ ì´í›„ ë‹¨ê³„ì—ì„œ ì‚¬ìš©ë  ê²ƒì…ë‹ˆë‹¤.\n\n```js\n!python -m mlc_llm compile /content/$MODEL_NAME-$QUANTIZATION-android/mlc-chat-config.json \\\n    --device android -o /content/$MODEL_NAME-$QUANTIZATION-android/$MODEL_NAME-$QUANTIZATION-android.tar\n```\n\n9ë‹¨ê³„: ëª¨ë¸ì„ Hugging Faceì— ì˜¬ë¦¬ê¸° ğŸ¤—\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në§ˆì§€ë§‰ìœ¼ë¡œ, ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ HFì— ì €ì¥í•˜ì„¸ìš”. ì´ëŸ¬í•œ ê°€ì¤‘ì¹˜ëŠ” ì¶”ë¡  ì¤‘ì— ëª¨ë°”ì¼ í°ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œë  ê²ƒì…ë‹ˆë‹¤.\n\n```js\nfrom huggingface_hub import whoami\nfrom pathlib import Path\n\n# ì¶œë ¥ ë””ë ‰í† ë¦¬.\noutput_dir = \"/content/\" + MODEL_NAME + \"-\" + QUANTIZATION + \"-android/\"\nrepo_name = \"Llama-3-8B-q4f16_1-android\"\nusername = whoami(token=Path(\"/root/.cache/huggingface/\"))[\"name\"]\nrepo_id = f\"{username}/{repo_name}\"\n```\n  \n```js\nfrom huggingface_hub import upload_folder, create_repo\n\nrepo_id = create_repo(repo_id, exist_ok=True).repo_id\nprint(output_dir)\n\nupload_folder(\n    repo_id=repo_id,\n    folder_path=output_dir,\n    commit_message=\"Quantized Llama-3-8B-Instruct model for Android.\",\n    ignore_patterns=[\"step_*\", \"epoch_*\"],\n)\n```\n\në‹¤ìŒ HF ğŸ¤— ë¦¬í¬ì§€í† ë¦¬ì—ì„œ ìƒ¤ë“œëœ ëª¨ë¸ ê°€ì¤‘ì¹˜ ë° í† í¬ë‚˜ì´ì €ë¥¼ ì§ì ‘ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\nhttps://huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì—¬ê¸° ì™„ì „í•œ Colab ë…¸íŠ¸ë¶ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì¢‹ì•„ìš”. ìš°ë¦¬ëŠ” ì–‘ìí™”ì™€ ëª¨ë¸ ê°€ì¤‘ì¹˜ ë³€í™˜ì˜ ì´ˆê¸° ë‹¨ê³„ë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. ì´ì œ ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” GCP ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì¶”ê°€ë¡œ ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ì»´íŒŒì¼í•˜ê¸° ìœ„í•œ í™˜ê²½ì„ ì„¤ì •í•  ê²ƒì…ë‹ˆë‹¤.\n\n## Section II: ì•ˆë“œë¡œì´ë“œìš© ë¹Œë“œ íŒŒì¼ ìƒì„±ì„ ìœ„í•œ GCP í™˜ê²½ ì„¤ì •(ì˜µì…˜)\n\nì´ ë‹¨ê³„ëŠ” ì„ íƒ ì‚¬í•­ì´ë©° ì´ë¯¸ Linux ë˜ëŠ” MacOSì™€ ê°™ì€ UNIX ê¸°ë°˜ ì‹œìŠ¤í…œì„ ê°€ì§€ê³  ìˆë‹¤ë©´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìœˆë„ìš° ê¸°ê¸°ë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— í˜¸í™˜ì„± ë¬¸ì œë¡œ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ì¢…ì†ì„±ì„ ì„¤ì¹˜í•˜ëŠ” ê²ƒì´ ê·€ì°®ì•˜ì–´ìš”. ê·¸ë˜ì„œ ê·€ì°¨ë‹ˆì¦˜ì„ í”¼í•˜ê¸° ìœ„í•´ GCPì—ì„œ Linux VM ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë ŒíŠ¸í•˜ê¸°ë¡œ ê²°ì •í–ˆì–´ìš”.\n\nì €ëŠ” GCP VM ì¸ìŠ¤í„´ìŠ¤ì—ì„œ í™˜ê²½ì„ ì„¤ì •í•˜ê³  Android Studioë¥¼ ì„¤ì¹˜í•˜ëŠ” ë‹¨ê³„ë¥¼ ì•ˆë‚´í•˜ëŠ” ë³„ë„ì˜ ë¸”ë¡œê·¸ë¥¼ ì‘ì„±í–ˆì–´ìš”.\n\në¹„ìŠ·í•œ ë¬¸ì œë¥¼ ê²ªê³  ê³„ì‹  ë¶„ì´ë¼ë©´, ì—¬ê¸°ì„œ í™•ì¸í•´ë³´ì„¸ìš”. ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ê±´ë„ˆë›°ì…”ë„ ë¼ìš”.\n\n## ì„¹ì…˜ III: ë¹Œë“œ ì¢…ì†ì„± ì„¤ì¹˜\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n### ë‹¨ê³„ 1: Rust ì„¤ì¹˜í•˜ê¸°\n\nì•ˆë“œë¡œì´ë“œë¡œ HuggingFace í† í¬ë‚˜ì´ì €ë¥¼ í¬ë¡œìŠ¤ ì»´íŒŒì¼í•˜ê¸° ìœ„í•´ì„œëŠ” Rustê°€ í•„ìš”í•©ë‹ˆë‹¤. Rustë¥¼ ì„¤ì¹˜í•˜ë ¤ë©´ ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_2.png)\n\ní‘œì¤€ ì„¤ì¹˜ë¥¼ ê³„ì†í•˜ë ¤ë©´ ì˜µì…˜ 1ì„ ì„ íƒí•˜ì„¸ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![image](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_3.png)\n\n```js\nsudo curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n```\n\nStep 2: Install NDK and CMake in Android Studio\n\nOpen Android Studio â†’ Tools â†’ SDK Manager â†’ SDK Tools â†’ Install CMake and NDK.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_4.png\" /\u003e\n\nì œ 3 ë‹¨ê³„: MLC LLM Python íŒ¨í‚¤ì§€ ë° TVM Unity ì»´íŒŒì¼ëŸ¬ ì„¤ì¹˜\n\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_5.png\" /\u003e\n\n```js\n# MLC-LLM Python íŒ¨í‚¤ì§€ì™€ TVM Unity ì»´íŒŒì¼ëŸ¬ ì„¤ì¹˜.\npython3 -m pip install --pre -U -f https://mlc.ai/wheels mlc-llm-nightly mlc-ai-nightly\n\n# ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¤ì¹˜ í™•ì¸:\npython3 -c \"import mlc_llm; print(mlc_llm)\"\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n**ë‹¨ê³„ 4: CMake ì„¤ì¹˜í•˜ê¸°**\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_6.png)\n\n```js\n# CMake ì„¤ì¹˜í•˜ê¸°.\nsudo apt-get install cmake\n```\n\n**ë‹¨ê³„ 5: MLC-LLM ë° Llama3-on-Mobile ì €ì¥ì†Œ ë³µì œí•˜ê¸°**  \n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_7.png\" /\u003e\n\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_8.png\" /\u003e\n\n```js\ncd /home/tiwarinitin1999/  \n\n# MLC-LLM ì €ì¥ì†Œë¥¼ ë³µì œí•©ë‹ˆë‹¤.\ngit clone https://github.com/mlc-ai/mlc-llm.git\ncd mlc-llm\n\n# ì €ì¥ì†Œì˜ ì„œë¸Œëª¨ë“ˆì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.\ngit submodule update --init --recursive\n\n# Llama3-on-Mobile ì €ì¥ì†Œë¥¼ ë³µì œí•©ë‹ˆë‹¤.\ncd /home/tiwarinitin1999/\ngit clone https://github.com/NSTiwari/Llama3-on-Mobile.git\n```\n\në‹¨ê³„ 6: ë³€í™˜ëœ ëª¨ë¸ ê°€ì¤‘ì¹˜ì˜ HuggingFace ì €ì¥ì†Œë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nMLCChat ë””ë ‰í† ë¦¬ ë‚´ì— ìƒˆ í´ë” distë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”. dist í´ë” ì•ˆì— prebuiltë¼ëŠ” í•˜ìœ„ í´ë”ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_9.png)\n\n```js\ncd /home/tiwarinitin1999/mlc-llm/android/MLCChat\nmkdir dist\ncd dist\nmkdir prebuilt\ncd prebuilt\n```\n\nê·¸ë¦¬ê³  prebuilt í´ë”ì— HF repository(ì„¹ì…˜ 1ì˜ ë‹¨ê³„ 9ì—ì„œ ìƒì„±ëœ)ë¥¼ í´ë¡ í•´ì£¼ì„¸ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_10.png\" /\u003e\n\n```js\n# í€€í„°ì´ì¦ˆëœ Llama3-8B-Instruct ê°€ì¤‘ì¹˜ì˜ HF ë¦¬í¬ì§€í† ë¦¬ë¥¼ ë³µì œí•©ë‹ˆë‹¤.\ngit clone https://huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android.git\n```\n\n7ë‹¨ê³„: Llama3â€“8B-Instruct-q4f16_1-android.tar íŒŒì¼ì„ ë³µì‚¬í•©ë‹ˆë‹¤.\n\ndist í´ë” ë‚´ì— libë¼ëŠ” ìƒˆ í´ë”ë¥¼ ë§Œë“¤ì–´ì„œ Llama3â€“8B-Instruct-q4f16_1-android.tar íŒŒì¼ (Section Iì˜ ë‹¨ê³„ 8ì—ì„œ ìƒì„±ëœ íŒŒì¼)ì„ lib ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n![image](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_11.png)\n\n```bash\ncd /home/tiwarinitin1999/mlc-llm/android/MLCChat/dist\nmkdir lib\ncd lib/\n```\n\n![image](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_12.png)\n\nStep 8: mlc-package-config.json íŒŒì¼ êµ¬ì„±í•˜ê¸°\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nMLCChat í´ë” ë‚´ì˜ mlc-package-config.json íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•˜ì„¸ìš”:\n\n```js\n{\n    \"device\": \"android\",\n    \"model_list\": [\n        {\n            \"model\": \"Llama-3-8B-q4f16_1-android\",\n            \"bundle_weight\": true,\n            \"model_id\": \"llama-3-8b-q4f16_1\",\n            \"model_lib\": \"llama-q4f16_1\",\n            \"estimated_vram_bytes\": 4348727787,\n            \"overrides\": {\n                \"context_window_size\":768,\n                \"prefill_chunk_size\":256\n            }         \n        }\n    ],\n    \"model_lib_path_for_prepare_libs\": {\n        \"llama-q4f16_1\": \"./dist/lib/Llama-3-8B-Instruct-q4f16_1-android.tar\"\n    }\n}\n```\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_13.png)\n\n9ë‹¨ê³„: ê²½ë¡œì— í™˜ê²½ ë³€ìˆ˜ ì„¤ì •í•˜ê¸°\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003chtml\u003e\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_14.png\" /\u003e\n\u003c/html\u003e\n\n```js\nexport ANDROID_NDK=/home/tiwarinitin1999/Android/Sdk/ndk/27.0.11718014\nexport TVM_NDK_CC=$ANDROID_NDK/toolchains/llvm/prebuilt/linux-x86_64/bin/aarch64-linux-android24-clang\nexport TVM_HOME=/home/tiwarinitin1999/mlc-llm/3rdparty/tvm\nexport JAVA_HOME=/home/tiwarinitin1999/Downloads/android-studio/jbr\nexport MLC_LLM_HOME=/home/tiwarinitin1999/mlc-llm\n```\n\nStep 10: ì•ˆë“œë¡œì´ë“œ ë¹Œë“œ íŒŒì¼ ìƒì„±\n\në§ˆì§€ë§‰ìœ¼ë¡œ, ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ on-device ë°°í¬ë¥¼ ìœ„í•œ Llama3-8B-Instruct ëª¨ë¸ì˜ .JAR íŒŒì¼ì„ ë¹Œë“œí•˜ì‹­ì‹œì˜¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```sh\ncd /home/tiwarinitin1999/mlc-llm/android/MLCChat\npython3 -m mlc_llm package\n```\n\n![Screenshot](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_15.png)\n\nëª…ë ¹ì–´ê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ëœ í›„, ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![Screenshot](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_16.png)\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìœ„ ëª…ë ¹ì€ ë‹¤ìŒ íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤:\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_17.png)\n\nì†ŒìŠ¤ ë””ë ‰í† ë¦¬ì˜ ì¶œë ¥ í´ë” ë‚´ìš©ì„ ëŒ€ìƒ ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬í•˜ì„¸ìš”:\n\nì†ŒìŠ¤ ë””ë ‰í† ë¦¬:\n/home/tiwarinitin1999/mlc-llm/android/MLCChat/dist/lib/mlc4j/output\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nëª©ì ì§€ ë””ë ‰í† ë¦¬:\n/home/tiwarinitin1999/Llama3-on-Mobile/mobile-llama3/MobileLlama3/dist/lib/mlc4j/output\n\nì´ì œ, home/tiwarinitin1999/Llama3-on-Mobile/mobile-llama3/MobileLlama3/dist/lib/mlc4j/src/main/assets í´ë”ì— ìˆëŠ” mlc-app-config.json íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•˜ì„¸ìš”:\n\n```js\n{\n  \"model_list\": [\n    {\n      \"model_id\": \"llama-3-8b-q4f16_1\",\n      \"model_lib\": \"llama-q4f16_1\",\n      \"model_url\": \"https://huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android\",\n      \"estimated_vram_bytes\": 4348727787\n    }\n  ]\n}\n```\n\nì„¤ì • íŒŒì¼ì˜ model_url í‚¤ëŠ” ëª¨ë°”ì¼í°ì—ì„œ HF ì €ì¥ì†Œë¡œë¶€í„° ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_18.png\" /\u003e\n\nëª¨ë“  êµ¬ì„±ì´ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n## ì„¹ì…˜ IV: ì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ì—ì„œ ì•± ë¹Œë“œí•˜ê¸°\n\nì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ì—ì„œ MobileLlama3 ì•±ì„ ì—´ê³  ì–´ëŠ ì •ë„ ì‹œê°„ì„ ë“¤ì—¬ ë¹Œë“œí•˜ë„ë¡ í•©ì‹œë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n[![image](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_19.png)]\n(https://miro.medium.com/v2/resize:fit:700/1*wdN1DDl127dzmjIal0FHig.gif)\n\nëª¨ë°”ì¼ ì•±ì´ ì„±ê³µì ìœ¼ë¡œ ë¹Œë“œë˜ë©´ APKë¥¼ ëª¨ë°”ì¼ í°ì— ì„¤ì¹˜í•˜ì„¸ìš”. ë°”ë¡œ ì„¤ì¹˜í•  ìˆ˜ ìˆëŠ” APKê°€ ì—¬ê¸°ì— ìˆìŠµë‹ˆë‹¤.\n\nì˜¤í”„ë¼ì¸ ì‚¬ìš©ì„ ìœ„í•´ Llama3â€“8B-Instruct ëª¨ë¸ì„ ëª¨ë°”ì¼ ê¸°ê¸°ì— êµ¬ë™í•˜ëŠ” ë° ì„±ê³µí•œ ê²ƒì„ ì¶•í•˜ë“œë¦½ë‹ˆë‹¤. ì´ ê¸°ì‚¬ì—ì„œ ê°€ì¹˜ ìˆëŠ” í†µì°°ì„ ì–»ì—ˆê¸°ë¥¼ ê¸°ëŒ€í•©ë‹ˆë‹¤.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìœ„ì˜ GitHub ì €ì¥ì†Œì—ì„œ ì „ì²´ í”„ë¡œì íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nhttps://github.com/NSTiwari/Llama3-on-Mobile\n\nì‘í’ˆì„ ì¢‹ì•„í•˜ì…¨ë‹¤ë©´ ì €ì¥ì†Œì— â­ì„ ë‚¨ê²¨ì£¼ì‹œê³ , ë™ë£Œ ì˜¨ë””ë°”ì´ìŠ¤ AI ê°œë°œìë“¤ ì‚¬ì´ì— ì†Œì‹ì„ ì „íŒŒí•´ì£¼ì„¸ìš”. ì•ìœ¼ë¡œ ë”ìš± í¥ë¯¸ë¡œìš´ í”„ë¡œì íŠ¸ì™€ ë¸”ë¡œê·¸ë¥¼ ê¸°ëŒ€í•´ì£¼ì„¸ìš”.\n\n## ê°ì‚¬ì˜ ê¸€\n\nMobileLlama3ëŠ” MLC-LLMì„ ì˜ê°ì„ ë°›ì•„ ì œì‘ë˜ì—ˆìœ¼ë©°, ì´ í”„ë¡œì íŠ¸ë¥¼ ì˜¤í”ˆ ì†ŒìŠ¤ë¡œ ë§Œë“¤ì–´ì£¼ì‹  MLC-LLMì—ê²Œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## ì°¸ê³  ìë£Œ ë° ìì›\n\n- Llama-3-8B-Instruct ëª¨ë¸ì„ ì–‘ìí™”í•˜ê³  ë³€í™˜í•˜ëŠ” Colab ë…¸íŠ¸ë¶\n- MobileLlama3 GitHub ì €ì¥ì†Œ\n- ë³€í™˜ëœ ê°€ì¤‘ì¹˜ë¥¼ ìœ„í•œ HuggingFace ì €ì¥ì†Œ\n- Metaì‚¬ì˜ Llama3 ëª¨ë¸ë“¤\n- MLC-LLM\n- MLC-LLMìš© Android SDK","ogImage":{"url":"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_0.png"},"coverImage":"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_0.png","tag":["Tech"],"readingTime":12},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    h2: \"h2\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\",\n    h3: \"h3\",\n    img: \"img\",\n    strong: \"strong\",\n    ul: \"ul\",\n    li: \"li\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h1, {\n      children: \"ì†Œê°œ\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"2024ë…„ 4ì›”, Metaê°€ ìƒˆë¡œìš´ ì˜¤í”ˆ ì–¸ì–´ ëª¨ë¸ íŒ¨ë°€ë¦¬ì¸ Llama 3ì„ ì¶œì‹œí–ˆìŠµë‹ˆë‹¤. ì´ì „ ëª¨ë¸ì„ ë°œì „ì‹œí‚¨ Llama 3ì€ ê°œì„ ëœ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°, 8B ë° 70Bì˜ ì‚¬ì „ í›ˆë ¨ëœ ë²„ì „ê³¼ ëª…ë ¹ì–´ íŠœë‹ëœ ë³€í˜•ì„ ì œê³µí•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì–¸ì–´ ëª¨ë¸ì˜ ì§€ì†ì ì¸ íŠ¸ë Œë“œì—ì„œ, ê°œë°œìë“¤ì€ ê°œì¸ ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•´ API ëŒ€ì‹  ë¡œì»¬ ë˜ëŠ” ì˜¤í”„ë¼ì¸ ì‚¬ìš©ì„ ì„ í˜¸í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì˜¬ë¼ë§ˆëŠ” macOS ë° Linux OSì—ì„œ ì˜¤í”„ë¼ì¸ìœ¼ë¡œ LLMsë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ë„êµ¬ ì¤‘ í•˜ë‚˜ë¡œ, ë¡œì»¬ ì‹¤í–‰ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ìŠ¤ë§ˆíŠ¸í°ì˜ ì œí•œëœ í•˜ë“œì›¨ì–´ ì„±ëŠ¥ìœ¼ë¡œ ì¸í•´ ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ LLMsë¥¼ ë¡œì»¬ë¡œ ì‹¤í–‰í•˜ëŠ” ê¸°ëŠ¥ì€ ì•„ì§ ì œí•œì ì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"í•˜ì§€ë§Œ ì´ì œëŠ” ë‹¤ë¦…ë‹ˆë‹¤. MLC ë•ë¶„ì— ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ ì´ëŸ¬í•œ ëŒ€í˜• ëª¨ë¸ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤. ì´ ë¸”ë¡œê·¸ëŠ” MLC LLMì„ ì‚¬ìš©í•˜ì—¬ ì˜¤í”„ë¼ì¸ ì¶”ë¡ ì„ ìœ„í•´ Llama3-8B-Instruction ëª¨ë¸ì„ ëª¨ë°”ì¼ í°ì— ì§ì ‘ ì–‘ìí™”, ë³€í™˜ ë° ë°°í¬í•˜ëŠ” ì™„ì „í•œ íŠœí† ë¦¬ì–¼ì„ ì œê³µí•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_0.png\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì‹œì‘í•˜ê¸° ì „ì—, ë¨¼ì € íŒŒì´í”„ë¼ì¸ì„ ì´í•´í•´ ë´…ì‹œë‹¤.\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_1.png\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì, ë” ì´ìƒ ì§€ì²´í•˜ì§€ ë§ê³ , ë‹¨ê³„ë³„ êµ¬í˜„ì„ ìœ„í•œ ì½”ë“œë¡œ ë°”ë¡œ ë„˜ì–´ê°€ ë³´ê² ìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ì„¹ì…˜ I: ì›ë³¸ ë¼ë§ˆ-3-8B-ì¸ìŠ¤íŠ¸ëŸ­íŠ¸ ëª¨ë¸ì„ MLC í˜¸í™˜ ê°€ì¤‘ì¹˜ë¡œ ì–‘ìí™” ë° ë³€í™˜í•˜ê¸°\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë‹¨ê³„ 0: ì•„ë˜ ì €ì¥ì†Œë¥¼ ë¡œì»¬ ë¨¸ì‹ ì— ë³µì œí•˜ê³  Google Colabì— Llama3_on_Mobile.ipynb ë…¸íŠ¸ë¶ì„ ì—…ë¡œë“œí•˜ì„¸ìš”.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"# ì €ì¥ì†Œë¥¼ ë³µì œí•©ë‹ˆë‹¤.\\ngit clone \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"https\"\n        }), \":\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"//github.com/NSTiwari/Llama3-on-Mobile\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë‹¨ê³„ 1: MLC-LLM ì„¤ì¹˜í•˜ê¸°\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ë³€í™˜í•˜ë ¤ë©´ MLC-LLM ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤. ë…¸íŠ¸ë¶ì„ ì‹¤í–‰í•˜ëŠ” ë° íŠ¹íˆ NumPy ë²„ì „ 1.23.5ê°€ í•„ìš”í•˜ë©°, ë‹¤ë¥¸ ë²„ì „ì—ì„œ ë³€í™˜ í”„ë¡œì„¸ìŠ¤ì— ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"!pip install --pre --force-reinstall mlc-ai-nightly-cu122 mlc-llm-nightly-cu122 -f \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"https\"\n        }), \":\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"//mlc.ai/wheels\"\n        }), \"\\n!pip install numpy==\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1.23\"\n        }), _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \".5\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë‹¨ê³„ 2: ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" mlc_llm\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" torch\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" huggingface_hub \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" snapshot_download\\n\"]\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Step 3: HF ê³„ì •ì— ë¡œê·¸ì¸í•˜ê³  ì›ë³¸ Llama-3-8B-Instruct ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"# \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"HF\"\n        }), \" ê³„ì •ì— ë¡œê·¸ì¸í•©ë‹ˆë‹¤.\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" huggingface_hub \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" notebook_login\\n\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"notebook_login\"\n        }), \"()\\n\\n# \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Llama\"\n        }), \"-\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"3\"\n        }), \"-8B-\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Instruct\"\n        }), \" ëª¨ë¸ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.\\n\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"snapshot_download\"\n        }), \"(repo_id=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"meta-llama/Meta-Llama-3-8B-Instruct\\\"\"\n        }), \", local_dir=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/content/Llama-3-8B-Instruct/\\\"\"\n        }), \")\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Step 4: GPUê°€ í™œì„±í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"!nvidia-smi\\n\\n# \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"CUDA\"\n        }), \"ê°€ ì‚¬ìš© ê°€ëŠ¥í•œì§€ í™•ì¸í•©ë‹ˆë‹¤.\\ntorch.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"cuda\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"is_available\"\n        }), \"()\\n\\ndevice = torch.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"device\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"cuda:0\\\"\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" torch.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"cuda\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"is_available\"\n        }), \"() \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"else\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"cpu\\\"\"\n        }), \")\\ndevice\\n\"]\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Step 5: ëª¨ë¸ ì´ë¦„ê³¼ ì–‘ìí™” ìœ í˜• êµ¬ì„±\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"MODEL_NAME\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Llama-3-8B-Instruct\\\"\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"QUANTIZATION\"\n        }), \"= \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"q4f16_1\\\"\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Step 6: Llama-3-8B-Insruct ëª¨ë¸ì„ MLC í˜¸í™˜ ê°€ì¤‘ì¹˜ë¡œ ë³€í™˜\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë‹¤ìŒ ì½”ë“œëŠ” q4f16_1 ì–‘ìí™”ë¥¼ ì‚¬ìš©í•˜ì—¬ Llama-3-8B-Instruct ëª¨ë¸ì„ ì–‘ìí™” ë° ìƒ¤ë”©í•˜ì—¬ ì—¬ëŸ¬ ì²­í¬ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ Llama-3-8B-Instruct-q4f16_1-androidì´ë€ ë””ë ‰í„°ë¦¬ì— ë³€í™˜í•˜ê³  ì €ì¥í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-js\",\n        children: \"!python -m mlc_llm convert_weight /content/$MODEL_NAME/ --quantization $QUANTIZATION -o /content/$MODEL_NAME-$QUANTIZATION-android/\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"7ë‹¨ê³„: í† í° íŒŒì¼ ìƒì„±\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ ì½”ë“œ ë¼ì¸ì€ conv-template, context-window, prefill-chunk-sizeì™€ ê°™ì€ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í† í° íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ë•Œ conv-templateì€ llama-3ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë©°, ì´ëŠ” ì‘ì—… ì¤‘ì¸ Llama-3 ëª¨ë¸ ë³€í˜•ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"!python -m mlc_llm gen_config /content/$MODEL_NAME/ --quantization $QUANTIZATION \\\\\\n    --conv-template llama-\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"3\"\n        }), \" --context-\", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"window\"\n        }), \"-size \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"8192\"\n        }), \" --prefill-chunk-size \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1024\"\n        }), \"  \\\\\\n    -o /content/$MODEL_NAME-$QUANTIZATION-android/\\n\"]\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"8ë‹¨ê³„: Android í˜•ì‹ìœ¼ë¡œ ëª¨ë¸ ì»´íŒŒì¼í•˜ê¸°\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì—¬ê¸°ì„œëŠ” ì¥ì¹˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ Android í˜¸í™˜ í˜•ì‹ìœ¼ë¡œ ì»´íŒŒì¼í•˜ë©°, ì´ëŠ” Llama3â€“8B-Instruct-q4f16_1-android.tar íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ .tar íŒŒì¼ì€ ëª¨ë¸ì„ ê¸°ê¸°ì— ë°°í¬í•˜ê¸° ìœ„í•´ ì´í›„ ë‹¨ê³„ì—ì„œ ì‚¬ìš©ë  ê²ƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"!python -m mlc_llm compile /content/$MODEL_NAME-$QUANTIZATION-android/mlc-chat-config.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"json\"\n        }), \" \\\\\\n    --device android -o /content/$MODEL_NAME-$QUANTIZATION-android/$MODEL_NAME-$QUANTIZATION-android.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tar\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"9ë‹¨ê³„: ëª¨ë¸ì„ Hugging Faceì— ì˜¬ë¦¬ê¸° ğŸ¤—\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë§ˆì§€ë§‰ìœ¼ë¡œ, ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ HFì— ì €ì¥í•˜ì„¸ìš”. ì´ëŸ¬í•œ ê°€ì¤‘ì¹˜ëŠ” ì¶”ë¡  ì¤‘ì— ëª¨ë°”ì¼ í°ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œë  ê²ƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" huggingface_hub \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" whoami\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" pathlib \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Path\"\n        }), \"\\n\\n# ì¶œë ¥ ë””ë ‰í† ë¦¬.\\noutput_dir = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/content/\\\"\"\n        }), \" + \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"MODEL_NAME\"\n        }), \" + \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"-\\\"\"\n        }), \" + \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"QUANTIZATION\"\n        }), \" + \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"-android/\\\"\"\n        }), \"\\nrepo_name = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Llama-3-8B-q4f16_1-android\\\"\"\n        }), \"\\nusername = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"whoami\"\n        }), \"(token=\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Path\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/root/.cache/huggingface/\\\"\"\n        }), \"))[\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"name\\\"\"\n        }), \"]\\nrepo_id = f\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"{username}/{repo_name}\\\"\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" huggingface_hub \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" upload_folder, create_repo\\n\\nrepo_id = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"create_repo\"\n        }), \"(repo_id, exist_ok=\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"True\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"repo_id\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"print\"\n        }), \"(output_dir)\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"upload_folder\"\n        }), \"(\\n    repo_id=repo_id,\\n    folder_path=output_dir,\\n    commit_message=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Quantized Llama-3-8B-Instruct model for Android.\\\"\"\n        }), \",\\n    ignore_patterns=[\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"step_*\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"epoch_*\\\"\"\n        }), \"],\\n)\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë‹¤ìŒ HF ğŸ¤— ë¦¬í¬ì§€í† ë¦¬ì—ì„œ ìƒ¤ë“œëœ ëª¨ë¸ ê°€ì¤‘ì¹˜ ë° í† í¬ë‚˜ì´ì €ë¥¼ ì§ì ‘ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\\nhttps://huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì—¬ê¸° ì™„ì „í•œ Colab ë…¸íŠ¸ë¶ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì¢‹ì•„ìš”. ìš°ë¦¬ëŠ” ì–‘ìí™”ì™€ ëª¨ë¸ ê°€ì¤‘ì¹˜ ë³€í™˜ì˜ ì´ˆê¸° ë‹¨ê³„ë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. ì´ì œ ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” GCP ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì¶”ê°€ë¡œ ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ì»´íŒŒì¼í•˜ê¸° ìœ„í•œ í™˜ê²½ì„ ì„¤ì •í•  ê²ƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Section II: ì•ˆë“œë¡œì´ë“œìš© ë¹Œë“œ íŒŒì¼ ìƒì„±ì„ ìœ„í•œ GCP í™˜ê²½ ì„¤ì •(ì˜µì…˜)\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ ë‹¨ê³„ëŠ” ì„ íƒ ì‚¬í•­ì´ë©° ì´ë¯¸ Linux ë˜ëŠ” MacOSì™€ ê°™ì€ UNIX ê¸°ë°˜ ì‹œìŠ¤í…œì„ ê°€ì§€ê³  ìˆë‹¤ë©´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìœˆë„ìš° ê¸°ê¸°ë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— í˜¸í™˜ì„± ë¬¸ì œë¡œ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ì¢…ì†ì„±ì„ ì„¤ì¹˜í•˜ëŠ” ê²ƒì´ ê·€ì°®ì•˜ì–´ìš”. ê·¸ë˜ì„œ ê·€ì°¨ë‹ˆì¦˜ì„ í”¼í•˜ê¸° ìœ„í•´ GCPì—ì„œ Linux VM ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë ŒíŠ¸í•˜ê¸°ë¡œ ê²°ì •í–ˆì–´ìš”.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì €ëŠ” GCP VM ì¸ìŠ¤í„´ìŠ¤ì—ì„œ í™˜ê²½ì„ ì„¤ì •í•˜ê³  Android Studioë¥¼ ì„¤ì¹˜í•˜ëŠ” ë‹¨ê³„ë¥¼ ì•ˆë‚´í•˜ëŠ” ë³„ë„ì˜ ë¸”ë¡œê·¸ë¥¼ ì‘ì„±í–ˆì–´ìš”.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë¹„ìŠ·í•œ ë¬¸ì œë¥¼ ê²ªê³  ê³„ì‹  ë¶„ì´ë¼ë©´, ì—¬ê¸°ì„œ í™•ì¸í•´ë³´ì„¸ìš”. ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ê±´ë„ˆë›°ì…”ë„ ë¼ìš”.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ì„¹ì…˜ III: ë¹Œë“œ ì¢…ì†ì„± ì„¤ì¹˜\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"ë‹¨ê³„ 1: Rust ì„¤ì¹˜í•˜ê¸°\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì•ˆë“œë¡œì´ë“œë¡œ HuggingFace í† í¬ë‚˜ì´ì €ë¥¼ í¬ë¡œìŠ¤ ì»´íŒŒì¼í•˜ê¸° ìœ„í•´ì„œëŠ” Rustê°€ í•„ìš”í•©ë‹ˆë‹¤. Rustë¥¼ ì„¤ì¹˜í•˜ë ¤ë©´ ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_2.png\",\n        alt: \"ì´ë¯¸ì§€\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"í‘œì¤€ ì„¤ì¹˜ë¥¼ ê³„ì†í•˜ë ¤ë©´ ì˜µì…˜ 1ì„ ì„ íƒí•˜ì„¸ìš”.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_3.png\",\n        alt: \"image\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"sudo curl --proto \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'=https'\"\n        }), \" --tlsv1\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \".2\"\n        }), \" -sSf \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"https\"\n        }), \":\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"//sh.rustup.rs | sh\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Step 2: Install NDK and CMake in Android Studio\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Open Android Studio â†’ Tools â†’ SDK Manager â†’ SDK Tools â†’ Install CMake and NDK.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_4.png\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì œ 3 ë‹¨ê³„: MLC LLM Python íŒ¨í‚¤ì§€ ë° TVM Unity ì»´íŒŒì¼ëŸ¬ ì„¤ì¹˜\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_5.png\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"# \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"MLC\"\n        }), \"-\", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"LLM\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Python\"\n        }), \" íŒ¨í‚¤ì§€ì™€ \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"TVM\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Unity\"\n        }), \" ì»´íŒŒì¼ëŸ¬ ì„¤ì¹˜.\\npython3 -m pip install --pre -U -f \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"https\"\n        }), \":\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"//mlc.ai/wheels mlc-llm-nightly mlc-ai-nightly\"\n        }), \"\\n\\n# ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¤ì¹˜ í™•ì¸:\\npython3 -c \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"import mlc_llm; print(mlc_llm)\\\"\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"ë‹¨ê³„ 4: CMake ì„¤ì¹˜í•˜ê¸°\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_6.png\",\n        alt: \"ì´ë¯¸ì§€\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"# \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"CMake\"\n        }), \" ì„¤ì¹˜í•˜ê¸°.\\nsudo apt-get install cmake\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"ë‹¨ê³„ 5: MLC-LLM ë° Llama3-on-Mobile ì €ì¥ì†Œ ë³µì œí•˜ê¸°\"\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_7.png\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_8.png\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"cd /home/tiwarinitin1999/  \\n\\n# \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"MLC\"\n        }), \"-\", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"LLM\"\n        }), \" ì €ì¥ì†Œë¥¼ ë³µì œí•©ë‹ˆë‹¤.\\ngit clone \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"https\"\n        }), \":\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"//github.com/mlc-ai/mlc-llm.git\"\n        }), \"\\ncd mlc-llm\\n\\n# ì €ì¥ì†Œì˜ ì„œë¸Œëª¨ë“ˆì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.\\ngit submodule update --init --recursive\\n\\n# \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Llama3\"\n        }), \"-on-\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Mobile\"\n        }), \" ì €ì¥ì†Œë¥¼ ë³µì œí•©ë‹ˆë‹¤.\\ncd /home/tiwarinitin1999/\\ngit clone \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"https\"\n        }), \":\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"//github.com/NSTiwari/Llama3-on-Mobile.git\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë‹¨ê³„ 6: ë³€í™˜ëœ ëª¨ë¸ ê°€ì¤‘ì¹˜ì˜ HuggingFace ì €ì¥ì†Œë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"MLCChat ë””ë ‰í† ë¦¬ ë‚´ì— ìƒˆ í´ë” distë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”. dist í´ë” ì•ˆì— prebuiltë¼ëŠ” í•˜ìœ„ í´ë”ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_9.png\",\n        alt: \"ì´ë¯¸ì§€\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"cd /home/tiwarinitin1999/mlc-llm/android/\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"MLCChat\"\n        }), \"\\nmkdir dist\\ncd dist\\nmkdir prebuilt\\ncd prebuilt\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê·¸ë¦¬ê³  prebuilt í´ë”ì— HF repository(ì„¹ì…˜ 1ì˜ ë‹¨ê³„ 9ì—ì„œ ìƒì„±ëœ)ë¥¼ í´ë¡ í•´ì£¼ì„¸ìš”.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_10.png\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"# í€€í„°ì´ì¦ˆëœ \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Llama3\"\n        }), \"-8B-\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Instruct\"\n        }), \" ê°€ì¤‘ì¹˜ì˜ \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"HF\"\n        }), \" ë¦¬í¬ì§€í† ë¦¬ë¥¼ ë³µì œí•©ë‹ˆë‹¤.\\ngit clone \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"https\"\n        }), \":\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"//huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android.git\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"7ë‹¨ê³„: Llama3â€“8B-Instruct-q4f16_1-android.tar íŒŒì¼ì„ ë³µì‚¬í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"dist í´ë” ë‚´ì— libë¼ëŠ” ìƒˆ í´ë”ë¥¼ ë§Œë“¤ì–´ì„œ Llama3â€“8B-Instruct-q4f16_1-android.tar íŒŒì¼ (Section Iì˜ ë‹¨ê³„ 8ì—ì„œ ìƒì„±ëœ íŒŒì¼)ì„ lib ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_11.png\",\n        alt: \"image\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-bash\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-built_in\",\n          children: \"cd\"\n        }), \" /home/tiwarinitin1999/mlc-llm/android/MLCChat/dist\\n\", _jsx(_components.span, {\n          className: \"hljs-built_in\",\n          children: \"mkdir\"\n        }), \" lib\\n\", _jsx(_components.span, {\n          className: \"hljs-built_in\",\n          children: \"cd\"\n        }), \" lib/\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_12.png\",\n        alt: \"image\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Step 8: mlc-package-config.json íŒŒì¼ êµ¬ì„±í•˜ê¸°\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"MLCChat í´ë” ë‚´ì˜ mlc-package-config.json íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•˜ì„¸ìš”:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"{\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"device\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"android\\\"\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"model_list\\\"\"\n        }), \": [\\n        {\\n            \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"model\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Llama-3-8B-q4f16_1-android\\\"\"\n        }), \",\\n            \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"bundle_weight\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \",\\n            \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"model_id\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"llama-3-8b-q4f16_1\\\"\"\n        }), \",\\n            \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"model_lib\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"llama-q4f16_1\\\"\"\n        }), \",\\n            \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"estimated_vram_bytes\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"4348727787\"\n        }), \",\\n            \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"overrides\\\"\"\n        }), \": {\\n                \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"context_window_size\\\"\"\n        }), \":\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"768\"\n        }), \",\\n                \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"prefill_chunk_size\\\"\"\n        }), \":\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"256\"\n        }), \"\\n            }         \\n        }\\n    ],\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"model_lib_path_for_prepare_libs\\\"\"\n        }), \": {\\n        \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"llama-q4f16_1\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./dist/lib/Llama-3-8B-Instruct-q4f16_1-android.tar\\\"\"\n        }), \"\\n    }\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_13.png\",\n        alt: \"ì´ë¯¸ì§€\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"9ë‹¨ê³„: ê²½ë¡œì— í™˜ê²½ ë³€ìˆ˜ ì„¤ì •í•˜ê¸°\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(\"html\", {\n      children: _jsx(\"img\", {\n        src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_14.png\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"ANDROID_NDK\"\n        }), \"=\", _jsx(_components.span, {\n          className: \"hljs-regexp\",\n          children: \"/home/\"\n        }), \"tiwarinitin1999/\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Android\"\n        }), \"/\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Sdk\"\n        }), \"/ndk/\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"27.0\"\n        }), _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \".11718014\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"TVM_NDK_CC\"\n        }), \"=$ANDROID_NDK/toolchains/llvm/prebuilt/linux-x86_64/bin/aarch64-linux-android24-clang\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"TVM_HOME\"\n        }), \"=\", _jsx(_components.span, {\n          className: \"hljs-regexp\",\n          children: \"/home/\"\n        }), \"tiwarinitin1999/mlc-llm/3rdparty/tvm\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"JAVA_HOME\"\n        }), \"=\", _jsx(_components.span, {\n          className: \"hljs-regexp\",\n          children: \"/home/\"\n        }), \"tiwarinitin1999/\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Downloads\"\n        }), \"/android-studio/jbr\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"MLC_LLM_HOME\"\n        }), \"=\", _jsx(_components.span, {\n          className: \"hljs-regexp\",\n          children: \"/home/\"\n        }), \"tiwarinitin1999/mlc-llm\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Step 10: ì•ˆë“œë¡œì´ë“œ ë¹Œë“œ íŒŒì¼ ìƒì„±\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë§ˆì§€ë§‰ìœ¼ë¡œ, ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ on-device ë°°í¬ë¥¼ ìœ„í•œ Llama3-8B-Instruct ëª¨ë¸ì˜ .JAR íŒŒì¼ì„ ë¹Œë“œí•˜ì‹­ì‹œì˜¤.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-sh\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-built_in\",\n          children: \"cd\"\n        }), \" /home/tiwarinitin1999/mlc-llm/android/MLCChat\\npython3 -m mlc_llm package\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_15.png\",\n        alt: \"Screenshot\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ëª…ë ¹ì–´ê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ëœ í›„, ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_16.png\",\n        alt: \"Screenshot\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"\\n\u003cdiv class=\\\"content-ad\\\"\u003e\u003c/div\u003e\\n\\nìœ„ ëª…ë ¹ì€ ë‹¤ìŒ íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤:\\n\\n![ì´ë¯¸ì§€](/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_17.png)\\n\\nì†ŒìŠ¤ ë””ë ‰í† ë¦¬ì˜ ì¶œë ¥ í´ë” ë‚´ìš©ì„ ëŒ€ìƒ ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬í•˜ì„¸ìš”:\\n\\nì†ŒìŠ¤ ë””ë ‰í† ë¦¬:\\n/home/tiwarinitin1999/mlc-llm/android/MLCChat/dist/lib/mlc4j/output\\n\\n\u003cdiv class=\\\"content-ad\\\"\u003e\u003c/div\u003e\\n\\nëª©ì ì§€ ë””ë ‰í† ë¦¬:\\n/home/tiwarinitin1999/Llama3-on-Mobile/mobile-llama3/MobileLlama3/dist/lib/mlc4j/output\\n\\nì´ì œ, home/tiwarinitin1999/Llama3-on-Mobile/mobile-llama3/MobileLlama3/dist/lib/mlc4j/src/main/assets í´ë”ì— ìˆëŠ” mlc-app-config.json íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•˜ì„¸ìš”:\\n\\n```js\\n{\\n  \\\"model_list\\\": [\\n    {\\n      \\\"model_id\\\": \\\"llama-3-8b-q4f16_1\\\",\\n      \\\"model_lib\\\": \\\"llama-q4f16_1\\\",\\n      \\\"model_url\\\": \\\"https://huggingface.co/NSTiwari/Llama-3-8B-q4f16_1-android\\\",\\n      \\\"estimated_vram_bytes\\\": 4348727787\\n    }\\n  ]\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì„¤ì • íŒŒì¼ì˜ model_url í‚¤ëŠ” ëª¨ë°”ì¼í°ì—ì„œ HF ì €ì¥ì†Œë¡œë¶€í„° ëª¨ë¸ ê°€ì¤‘ì¹˜ë¥¼ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_18.png\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ëª¨ë“  êµ¬ì„±ì´ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ì„¹ì…˜ IV: ì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ì—ì„œ ì•± ë¹Œë“œí•˜ê¸°\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ì—ì„œ MobileLlama3 ì•±ì„ ì—´ê³  ì–´ëŠ ì •ë„ ì‹œê°„ì„ ë“¤ì—¬ ë¹Œë“œí•˜ë„ë¡ í•©ì‹œë‹¤.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"[\", _jsx(_components.img, {\n        src: \"/assets/img/2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile_19.png\",\n        alt: \"image\"\n      }), \"]\\n(https://miro.medium.com/v2/resize:fit:700/1*wdN1DDl127dzmjIal0FHig.gif)\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ëª¨ë°”ì¼ ì•±ì´ ì„±ê³µì ìœ¼ë¡œ ë¹Œë“œë˜ë©´ APKë¥¼ ëª¨ë°”ì¼ í°ì— ì„¤ì¹˜í•˜ì„¸ìš”. ë°”ë¡œ ì„¤ì¹˜í•  ìˆ˜ ìˆëŠ” APKê°€ ì—¬ê¸°ì— ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì˜¤í”„ë¼ì¸ ì‚¬ìš©ì„ ìœ„í•´ Llama3â€“8B-Instruct ëª¨ë¸ì„ ëª¨ë°”ì¼ ê¸°ê¸°ì— êµ¬ë™í•˜ëŠ” ë° ì„±ê³µí•œ ê²ƒì„ ì¶•í•˜ë“œë¦½ë‹ˆë‹¤. ì´ ê¸°ì‚¬ì—ì„œ ê°€ì¹˜ ìˆëŠ” í†µì°°ì„ ì–»ì—ˆê¸°ë¥¼ ê¸°ëŒ€í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìœ„ì˜ GitHub ì €ì¥ì†Œì—ì„œ ì „ì²´ í”„ë¡œì íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\\nhttps://github.com/NSTiwari/Llama3-on-Mobile\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì‘í’ˆì„ ì¢‹ì•„í•˜ì…¨ë‹¤ë©´ ì €ì¥ì†Œì— â­ì„ ë‚¨ê²¨ì£¼ì‹œê³ , ë™ë£Œ ì˜¨ë””ë°”ì´ìŠ¤ AI ê°œë°œìë“¤ ì‚¬ì´ì— ì†Œì‹ì„ ì „íŒŒí•´ì£¼ì„¸ìš”. ì•ìœ¼ë¡œ ë”ìš± í¥ë¯¸ë¡œìš´ í”„ë¡œì íŠ¸ì™€ ë¸”ë¡œê·¸ë¥¼ ê¸°ëŒ€í•´ì£¼ì„¸ìš”.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ê°ì‚¬ì˜ ê¸€\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"MobileLlama3ëŠ” MLC-LLMì„ ì˜ê°ì„ ë°›ì•„ ì œì‘ë˜ì—ˆìœ¼ë©°, ì´ í”„ë¡œì íŠ¸ë¥¼ ì˜¤í”ˆ ì†ŒìŠ¤ë¡œ ë§Œë“¤ì–´ì£¼ì‹  MLC-LLMì—ê²Œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ì°¸ê³  ìë£Œ ë° ìì›\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Llama-3-8B-Instruct ëª¨ë¸ì„ ì–‘ìí™”í•˜ê³  ë³€í™˜í•˜ëŠ” Colab ë…¸íŠ¸ë¶\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"MobileLlama3 GitHub ì €ì¥ì†Œ\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ë³€í™˜ëœ ê°€ì¤‘ì¹˜ë¥¼ ìœ„í•œ HuggingFace ì €ì¥ì†Œ\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Metaì‚¬ì˜ Llama3 ëª¨ë¸ë“¤\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"MLC-LLM\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"MLC-LLMìš© Android SDK\"\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-18-MLStoryMobileLlama3RunLlama3locallyonmobile"},"buildId":"PgdIX9e0tvkvkdAmDT6qR","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>