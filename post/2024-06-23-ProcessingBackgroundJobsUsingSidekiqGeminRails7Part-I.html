<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>Rails 7에서 Sidekiq Gem을 사용한 백그라운드 작업 처리 Part-I | ui-station</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://ui-station.github.io///post/2024-06-23-ProcessingBackgroundJobsUsingSidekiqGeminRails7Part-I" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="Rails 7에서 Sidekiq Gem을 사용한 백그라운드 작업 처리 Part-I | ui-station" data-gatsby-head="true"/><meta property="og:title" content="Rails 7에서 Sidekiq Gem을 사용한 백그라운드 작업 처리 Part-I | ui-station" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-23-ProcessingBackgroundJobsUsingSidekiqGeminRails7Part-I_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://ui-station.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://ui-station.github.io///post/2024-06-23-ProcessingBackgroundJobsUsingSidekiqGeminRails7Part-I" data-gatsby-head="true"/><meta name="twitter:title" content="Rails 7에서 Sidekiq Gem을 사용한 백그라운드 작업 처리 Part-I | ui-station" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-23-ProcessingBackgroundJobsUsingSidekiqGeminRails7Part-I_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | ui-station" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-23 20:52" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BHFR6GTH9P"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-BHFR6GTH9P');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-70e5ce89f3d962ac.js" defer=""></script><script src="/_next/static/JlBEgQDLGRx6DYlBnT8eD/_buildManifest.js" defer=""></script><script src="/_next/static/JlBEgQDLGRx6DYlBnT8eD/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">UI STATION</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">Rails 7에서 Sidekiq Gem을 사용한 백그라운드 작업 처리 Part-I</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="Rails 7에서 Sidekiq Gem을 사용한 백그라운드 작업 처리 Part-I" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">UI STATION</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 23, 2024</span><span class="posts_reading_time__f7YPP">7<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-23-ProcessingBackgroundJobsUsingSidekiqGeminRails7Part-I&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<img src="/assets/img/2024-06-23-ProcessingBackgroundJobsUsingSidekiqGeminRails7Part-I_0.png">
<p>레일즈 개발자로서, 백엔드 개발자들이 거의 모든 시간에 수행하는 일로 비동기적으로 백그라운드에서 실행되는 코드를 작성하는 것은 매우 흔한 작업입니다.</p>
<p>예를 들어, 새로운 고객에게 환영 이메일을 보내거나 수천 건의 레코드를 통해 복잡한 계산을 위해 백그라운드 처리를 사용합니다.</p>
<p>다행히도, 모든 무거운 작업을 처리하고 간단한 인터페이스를 제공하여 우리의 시간을 아낄 수 있는 도구들이 있습니다. 그 중 하나인 Sidekiq를 살펴보겠습니다!</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>Sidekiq이란 무엇인가요?</h1>
<p>Sidekiq은 루비 온 레일즈(Ruby on Rails) 애플리케이션을 위한 인기 있는 백그라운드 작업 처리 라이브러리입니다. Sidekiq은 주요 요청-응답 주기(main request-response cycle)에서 시간이 많이 소요되는 작업들을 간편하고 효율적으로 처리할 수 있는 방법을 제공합니다.</p>
<p>Sidekiq이 의존하는 세 가지 주요 구성 요소가 있습니다:</p>
<ul>
<li>Redis</li>
</ul>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>Sidekiq은 작업자에 의해 처리되는 작업을 저장하는 데 메모리 데이터 저장소인 Redis를 사용합니다.</p>
<p>클라이언트</p>
<p>백그라운드에서 처리되는 작업을 생성하는 Ruby 또는 Rails 프로세스입니다.</p>
<p>서버</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>이 작업은 Redis 대기열에서 작업을 가져와 실행하는 데 책임이 있어요.</p>
<p>너무 많은 텍스트인가요? 지금 무언가를 만들어보죠!</p>
<h2>전제 조건</h2>
<p>언급했듯이 Sidekiq는 백그라운드 작업을 대기열에 넣기 위해 Redis에 의존합니다. 따라서 로컬에 Redis 서버가 실행 중인지 확인해주세요.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>단계 1</h1>
<p>새 프로젝트를 만들거나 이미 설정된 프로젝트가 있다면이 단계를 건너 뛰세요.</p>
<pre><code class="hljs language-js">$ rails <span class="hljs-keyword">new</span> sidekiq_tutorial
</code></pre>
<h1>단계 2</h1>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>이 프로젝트 안으로 들어오신 것을 환영합니다:</p>
<pre><code class="hljs language-js">$ bundle add sidekiq
</code></pre>
<h1>단계 3</h1>
<p>이제, 새 작업을 생성하고 Sidekiq 워커로 푸시할 준비가 되었습니다. 새 작업을 생성해봅시다.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js">$ rails generate <span class="hljs-attr">sidekiq</span>:job my_first_job
</code></pre>
<p>여기에 원하는 내용을 입력하고 app/sidekiq/my_first_job.rb과 테스트 파일이 생성됩니다. 작업 파일의 내용을 다음과 같이 편집해 봅시다:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyFirstJob</span>
  include <span class="hljs-title class_">Sidekiq</span>::<span class="hljs-title class_">Job</span>

  def <span class="hljs-title function_">perform</span>(name,age)
    puts <span class="hljs-string">"나는 #{name}이고, 나이가 #{age}살인 첫 작업을 실행 중입니다."</span>
    #여기에는 다른 유효한 루비/레일스 코드를 넣을 수 있어요!
  end
end
</code></pre>
<p>여기서는 콘솔에 텍스트를 로깅하긴 하지만, 여기에서는 거의 모든 유효한 코드를 실행할 수 있습니다.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>이 작업을 실행하기 전에 Redis가 올바르게 구성되어 있는지 확인해야 합니다.</p>
<h2>Redis 구성</h2>
<p>이 작업을 실행하기 전에 Redis가 올바르게 구성되어 있는지 확인해야 합니다.</p>
<p>두 가지 방법이 있습니다. 하나는 REDIS_URL 환경 변수(<code>dotenv-rails gem</code>을 사용하여)를 사용하는 방법이며, 더 복잡한 설정이 필요한 경우에는 config/initializers에 있는 sidekiq.rb 파일을 만들 수 있습니다.</p>
<h3>.env 파일 사용하기</h3>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js"><span class="hljs-variable constant_">REDIS_URL</span>=<span class="hljs-attr">redis</span>:<span class="hljs-comment">//redis.example.com:7372/0</span>
</code></pre>
<h2>config/initializers/sidekiq.rb 파일을 사용하기</h2>
<pre><code class="hljs language-js"><span class="hljs-title class_">Sidekiq</span>.<span class="hljs-property">configure_server</span> <span class="hljs-keyword">do</span> |config|
  config.<span class="hljs-property">redis</span> = { <span class="hljs-attr">url</span>: <span class="hljs-string">'redis://redis.example.com:7372/0'</span> }
end

<span class="hljs-title class_">Sidekiq</span>.<span class="hljs-property">configure_client</span> <span class="hljs-keyword">do</span> |config|
  config.<span class="hljs-property">redis</span> = { <span class="hljs-attr">url</span>: <span class="hljs-string">'redis://redis.example.com:7372/0'</span> }
end
</code></pre>
<p>참고: Redis와 연결하려면 위의 설정 중 하나를 사용해야 합니다.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>만약 당신이 Docker에 능숙하다면, 간단한 Redis 컨테이너를 사용하여 Redis를 실행하고 Rails 앱과 연결할 수 있습니다.</p>
<h1>작업을 대기열에 넣기</h1>
<p>Rails 콘솔에서 작업을 실행해 봅시다:</p>
<pre><code class="hljs language-js">$ rails c

<span class="hljs-number">3.0</span><span class="hljs-number">.0</span> :<span class="hljs-number">001</span> > <span class="hljs-title class_">MyFirstJob</span>.<span class="hljs-property">perform_async</span> <span class="hljs-string">"Affan"</span>, <span class="hljs-number">31</span>
=> <span class="hljs-string">"5a4c435ddd2295a6104c8fcb"</span>
</code></pre>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>작업이 성공적으로 생성되었습니다.</p>
<h1>작업 실행하기</h1>
<p>이제 작업이 대기열에 들어 있으므로 Sidekiq 워커를 실행하여 작업을 실행해야 합니다. 다른 터미널 창을 열고 다음을 실행하세요:</p>
<pre><code class="hljs language-js">$ bundle exec sidekiq
</code></pre>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>모든 것이 잘 작동되면 다음과 같은 내용을 볼 수 있을 거예요.</p>
<p><img src="/assets/img/2024-06-23-ProcessingBackgroundJobsUsingSidekiqGeminRails7Part-I_1.png" alt="image"></p>
<p>작업을 마치면 ctrl+c를 사용하여 워커를 종료할 수 있어요.</p>
<h1>결론</h1>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>이 튜토리얼의 첫 번째 부분에서는 Sidekiq에 대해 어떻게 백그라운드 작업을 처리하는지, 새로운 Rails 프로젝트에서 간단한 작업을 만드는 방법에 대해 설명했습니다. 또한 Sidekiq를 Rails 앱에 연결하는 구성 옵션에 대해 알아보았습니다. 다음 이야기의 2부에서는 이 주제와 관련된 고급 내용에 대해 논의할 예정입니다 :)</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Rails 7에서 Sidekiq Gem을 사용한 백그라운드 작업 처리 Part-I","description":"","date":"2024-06-23 20:52","slug":"2024-06-23-ProcessingBackgroundJobsUsingSidekiqGeminRails7Part-I","content":"\n\u003cimg src=\"/assets/img/2024-06-23-ProcessingBackgroundJobsUsingSidekiqGeminRails7Part-I_0.png\" /\u003e\n\n레일즈 개발자로서, 백엔드 개발자들이 거의 모든 시간에 수행하는 일로 비동기적으로 백그라운드에서 실행되는 코드를 작성하는 것은 매우 흔한 작업입니다.\n\n예를 들어, 새로운 고객에게 환영 이메일을 보내거나 수천 건의 레코드를 통해 복잡한 계산을 위해 백그라운드 처리를 사용합니다.\n\n다행히도, 모든 무거운 작업을 처리하고 간단한 인터페이스를 제공하여 우리의 시간을 아낄 수 있는 도구들이 있습니다. 그 중 하나인 Sidekiq를 살펴보겠습니다!\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# Sidekiq이란 무엇인가요?\n\nSidekiq은 루비 온 레일즈(Ruby on Rails) 애플리케이션을 위한 인기 있는 백그라운드 작업 처리 라이브러리입니다. Sidekiq은 주요 요청-응답 주기(main request-response cycle)에서 시간이 많이 소요되는 작업들을 간편하고 효율적으로 처리할 수 있는 방법을 제공합니다.\n\nSidekiq이 의존하는 세 가지 주요 구성 요소가 있습니다:\n\n- Redis\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nSidekiq은 작업자에 의해 처리되는 작업을 저장하는 데 메모리 데이터 저장소인 Redis를 사용합니다.\n\n클라이언트\n\n백그라운드에서 처리되는 작업을 생성하는 Ruby 또는 Rails 프로세스입니다.\n\n서버\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이 작업은 Redis 대기열에서 작업을 가져와 실행하는 데 책임이 있어요.\n\n너무 많은 텍스트인가요? 지금 무언가를 만들어보죠!\n\n## 전제 조건\n\n언급했듯이 Sidekiq는 백그라운드 작업을 대기열에 넣기 위해 Redis에 의존합니다. 따라서 로컬에 Redis 서버가 실행 중인지 확인해주세요.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 단계 1\n\n새 프로젝트를 만들거나 이미 설정된 프로젝트가 있다면이 단계를 건너 뛰세요.\n\n```js\n$ rails new sidekiq_tutorial\n```\n\n# 단계 2\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이 프로젝트 안으로 들어오신 것을 환영합니다:\n\n```js\n$ bundle add sidekiq\n```\n\n# 단계 3\n\n이제, 새 작업을 생성하고 Sidekiq 워커로 푸시할 준비가 되었습니다. 새 작업을 생성해봅시다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n$ rails generate sidekiq:job my_first_job\n```\n\n여기에 원하는 내용을 입력하고 app/sidekiq/my_first_job.rb과 테스트 파일이 생성됩니다. 작업 파일의 내용을 다음과 같이 편집해 봅시다:\n\n```js\nclass MyFirstJob\n  include Sidekiq::Job\n\n  def perform(name,age)\n    puts \"나는 #{name}이고, 나이가 #{age}살인 첫 작업을 실행 중입니다.\"\n    #여기에는 다른 유효한 루비/레일스 코드를 넣을 수 있어요!\n  end\nend\n```\n\n여기서는 콘솔에 텍스트를 로깅하긴 하지만, 여기에서는 거의 모든 유효한 코드를 실행할 수 있습니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이 작업을 실행하기 전에 Redis가 올바르게 구성되어 있는지 확인해야 합니다.\n\n## Redis 구성\n\n이 작업을 실행하기 전에 Redis가 올바르게 구성되어 있는지 확인해야 합니다.\n\n두 가지 방법이 있습니다. 하나는 REDIS_URL 환경 변수(`dotenv-rails gem`을 사용하여)를 사용하는 방법이며, 더 복잡한 설정이 필요한 경우에는 config/initializers에 있는 sidekiq.rb 파일을 만들 수 있습니다.\n\n### .env 파일 사용하기\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nREDIS_URL=redis://redis.example.com:7372/0\n```\n\n## config/initializers/sidekiq.rb 파일을 사용하기\n\n```js\nSidekiq.configure_server do |config|\n  config.redis = { url: 'redis://redis.example.com:7372/0' }\nend\n\nSidekiq.configure_client do |config|\n  config.redis = { url: 'redis://redis.example.com:7372/0' }\nend\n```\n\n참고: Redis와 연결하려면 위의 설정 중 하나를 사용해야 합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n만약 당신이 Docker에 능숙하다면, 간단한 Redis 컨테이너를 사용하여 Redis를 실행하고 Rails 앱과 연결할 수 있습니다.\n\n# 작업을 대기열에 넣기\n\nRails 콘솔에서 작업을 실행해 봅시다:\n\n```js\n$ rails c\n\n3.0.0 :001 \u003e MyFirstJob.perform_async \"Affan\", 31\n=\u003e \"5a4c435ddd2295a6104c8fcb\"\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n작업이 성공적으로 생성되었습니다.\n\n# 작업 실행하기\n\n이제 작업이 대기열에 들어 있으므로 Sidekiq 워커를 실행하여 작업을 실행해야 합니다. 다른 터미널 창을 열고 다음을 실행하세요:\n\n```js\n$ bundle exec sidekiq\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n모든 것이 잘 작동되면 다음과 같은 내용을 볼 수 있을 거예요.\n\n![image](/assets/img/2024-06-23-ProcessingBackgroundJobsUsingSidekiqGeminRails7Part-I_1.png)\n\n작업을 마치면 ctrl+c를 사용하여 워커를 종료할 수 있어요.\n\n# 결론\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이 튜토리얼의 첫 번째 부분에서는 Sidekiq에 대해 어떻게 백그라운드 작업을 처리하는지, 새로운 Rails 프로젝트에서 간단한 작업을 만드는 방법에 대해 설명했습니다. 또한 Sidekiq를 Rails 앱에 연결하는 구성 옵션에 대해 알아보았습니다. 다음 이야기의 2부에서는 이 주제와 관련된 고급 내용에 대해 논의할 예정입니다 :)\n","ogImage":{"url":"/assets/img/2024-06-23-ProcessingBackgroundJobsUsingSidekiqGeminRails7Part-I_0.png"},"coverImage":"/assets/img/2024-06-23-ProcessingBackgroundJobsUsingSidekiqGeminRails7Part-I_0.png","tag":["Tech"],"readingTime":7},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cimg src=\"/assets/img/2024-06-23-ProcessingBackgroundJobsUsingSidekiqGeminRails7Part-I_0.png\"\u003e\n\u003cp\u003e레일즈 개발자로서, 백엔드 개발자들이 거의 모든 시간에 수행하는 일로 비동기적으로 백그라운드에서 실행되는 코드를 작성하는 것은 매우 흔한 작업입니다.\u003c/p\u003e\n\u003cp\u003e예를 들어, 새로운 고객에게 환영 이메일을 보내거나 수천 건의 레코드를 통해 복잡한 계산을 위해 백그라운드 처리를 사용합니다.\u003c/p\u003e\n\u003cp\u003e다행히도, 모든 무거운 작업을 처리하고 간단한 인터페이스를 제공하여 우리의 시간을 아낄 수 있는 도구들이 있습니다. 그 중 하나인 Sidekiq를 살펴보겠습니다!\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003eSidekiq이란 무엇인가요?\u003c/h1\u003e\n\u003cp\u003eSidekiq은 루비 온 레일즈(Ruby on Rails) 애플리케이션을 위한 인기 있는 백그라운드 작업 처리 라이브러리입니다. Sidekiq은 주요 요청-응답 주기(main request-response cycle)에서 시간이 많이 소요되는 작업들을 간편하고 효율적으로 처리할 수 있는 방법을 제공합니다.\u003c/p\u003e\n\u003cp\u003eSidekiq이 의존하는 세 가지 주요 구성 요소가 있습니다:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRedis\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eSidekiq은 작업자에 의해 처리되는 작업을 저장하는 데 메모리 데이터 저장소인 Redis를 사용합니다.\u003c/p\u003e\n\u003cp\u003e클라이언트\u003c/p\u003e\n\u003cp\u003e백그라운드에서 처리되는 작업을 생성하는 Ruby 또는 Rails 프로세스입니다.\u003c/p\u003e\n\u003cp\u003e서버\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e이 작업은 Redis 대기열에서 작업을 가져와 실행하는 데 책임이 있어요.\u003c/p\u003e\n\u003cp\u003e너무 많은 텍스트인가요? 지금 무언가를 만들어보죠!\u003c/p\u003e\n\u003ch2\u003e전제 조건\u003c/h2\u003e\n\u003cp\u003e언급했듯이 Sidekiq는 백그라운드 작업을 대기열에 넣기 위해 Redis에 의존합니다. 따라서 로컬에 Redis 서버가 실행 중인지 확인해주세요.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003e단계 1\u003c/h1\u003e\n\u003cp\u003e새 프로젝트를 만들거나 이미 설정된 프로젝트가 있다면이 단계를 건너 뛰세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ rails \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e sidekiq_tutorial\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e단계 2\u003c/h1\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e이 프로젝트 안으로 들어오신 것을 환영합니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ bundle add sidekiq\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e단계 3\u003c/h1\u003e\n\u003cp\u003e이제, 새 작업을 생성하고 Sidekiq 워커로 푸시할 준비가 되었습니다. 새 작업을 생성해봅시다.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ rails generate \u003cspan class=\"hljs-attr\"\u003esidekiq\u003c/span\u003e:job my_first_job\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e여기에 원하는 내용을 입력하고 app/sidekiq/my_first_job.rb과 테스트 파일이 생성됩니다. 작업 파일의 내용을 다음과 같이 편집해 봅시다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMyFirstJob\u003c/span\u003e\n  include \u003cspan class=\"hljs-title class_\"\u003eSidekiq\u003c/span\u003e::\u003cspan class=\"hljs-title class_\"\u003eJob\u003c/span\u003e\n\n  def \u003cspan class=\"hljs-title function_\"\u003eperform\u003c/span\u003e(name,age)\n    puts \u003cspan class=\"hljs-string\"\u003e\"나는 #{name}이고, 나이가 #{age}살인 첫 작업을 실행 중입니다.\"\u003c/span\u003e\n    #여기에는 다른 유효한 루비/레일스 코드를 넣을 수 있어요!\n  end\nend\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e여기서는 콘솔에 텍스트를 로깅하긴 하지만, 여기에서는 거의 모든 유효한 코드를 실행할 수 있습니다.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e이 작업을 실행하기 전에 Redis가 올바르게 구성되어 있는지 확인해야 합니다.\u003c/p\u003e\n\u003ch2\u003eRedis 구성\u003c/h2\u003e\n\u003cp\u003e이 작업을 실행하기 전에 Redis가 올바르게 구성되어 있는지 확인해야 합니다.\u003c/p\u003e\n\u003cp\u003e두 가지 방법이 있습니다. 하나는 REDIS_URL 환경 변수(\u003ccode\u003edotenv-rails gem\u003c/code\u003e을 사용하여)를 사용하는 방법이며, 더 복잡한 설정이 필요한 경우에는 config/initializers에 있는 sidekiq.rb 파일을 만들 수 있습니다.\u003c/p\u003e\n\u003ch3\u003e.env 파일 사용하기\u003c/h3\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable constant_\"\u003eREDIS_URL\u003c/span\u003e=\u003cspan class=\"hljs-attr\"\u003eredis\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//redis.example.com:7372/0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003econfig/initializers/sidekiq.rb 파일을 사용하기\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eSidekiq\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003econfigure_server\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edo\u003c/span\u003e |config|\n  config.\u003cspan class=\"hljs-property\"\u003eredis\u003c/span\u003e = { \u003cspan class=\"hljs-attr\"\u003eurl\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'redis://redis.example.com:7372/0'\u003c/span\u003e }\nend\n\n\u003cspan class=\"hljs-title class_\"\u003eSidekiq\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003econfigure_client\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edo\u003c/span\u003e |config|\n  config.\u003cspan class=\"hljs-property\"\u003eredis\u003c/span\u003e = { \u003cspan class=\"hljs-attr\"\u003eurl\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'redis://redis.example.com:7372/0'\u003c/span\u003e }\nend\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e참고: Redis와 연결하려면 위의 설정 중 하나를 사용해야 합니다.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e만약 당신이 Docker에 능숙하다면, 간단한 Redis 컨테이너를 사용하여 Redis를 실행하고 Rails 앱과 연결할 수 있습니다.\u003c/p\u003e\n\u003ch1\u003e작업을 대기열에 넣기\u003c/h1\u003e\n\u003cp\u003eRails 콘솔에서 작업을 실행해 봅시다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ rails c\n\n\u003cspan class=\"hljs-number\"\u003e3.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e :\u003cspan class=\"hljs-number\"\u003e001\u003c/span\u003e \u003e \u003cspan class=\"hljs-title class_\"\u003eMyFirstJob\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eperform_async\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Affan\"\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e31\u003c/span\u003e\n=\u003e \u003cspan class=\"hljs-string\"\u003e\"5a4c435ddd2295a6104c8fcb\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e작업이 성공적으로 생성되었습니다.\u003c/p\u003e\n\u003ch1\u003e작업 실행하기\u003c/h1\u003e\n\u003cp\u003e이제 작업이 대기열에 들어 있으므로 Sidekiq 워커를 실행하여 작업을 실행해야 합니다. 다른 터미널 창을 열고 다음을 실행하세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e$ bundle exec sidekiq\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e모든 것이 잘 작동되면 다음과 같은 내용을 볼 수 있을 거예요.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-23-ProcessingBackgroundJobsUsingSidekiqGeminRails7Part-I_1.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003e작업을 마치면 ctrl+c를 사용하여 워커를 종료할 수 있어요.\u003c/p\u003e\n\u003ch1\u003e결론\u003c/h1\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e이 튜토리얼의 첫 번째 부분에서는 Sidekiq에 대해 어떻게 백그라운드 작업을 처리하는지, 새로운 Rails 프로젝트에서 간단한 작업을 만드는 방법에 대해 설명했습니다. 또한 Sidekiq를 Rails 앱에 연결하는 구성 옵션에 대해 알아보았습니다. 다음 이야기의 2부에서는 이 주제와 관련된 고급 내용에 대해 논의할 예정입니다 :)\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-23-ProcessingBackgroundJobsUsingSidekiqGeminRails7Part-I"},"buildId":"JlBEgQDLGRx6DYlBnT8eD","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>