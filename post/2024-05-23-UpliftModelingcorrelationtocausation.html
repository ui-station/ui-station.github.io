<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>업리프트 모델링 상관관계에서 인과관계로 | ui-station</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://ui-station.github.io///post/2024-05-23-UpliftModelingcorrelationtocausation" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="업리프트 모델링 상관관계에서 인과관계로 | ui-station" data-gatsby-head="true"/><meta property="og:title" content="업리프트 모델링 상관관계에서 인과관계로 | ui-station" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-23-UpliftModelingcorrelationtocausation_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://ui-station.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://ui-station.github.io///post/2024-05-23-UpliftModelingcorrelationtocausation" data-gatsby-head="true"/><meta name="twitter:title" content="업리프트 모델링 상관관계에서 인과관계로 | ui-station" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-23-UpliftModelingcorrelationtocausation_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | ui-station" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-23 18:01" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BHFR6GTH9P"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-BHFR6GTH9P');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/_next/static/chunks/348-d11c34b645b13f5b.js" defer=""></script><script src="/_next/static/chunks/162-4172e84c8e2aa747.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-4f7b40c1114f0d09.js" defer=""></script><script src="/_next/static/YUMR4jSyk_WlOHHc7UfOk/_buildManifest.js" defer=""></script><script src="/_next/static/YUMR4jSyk_WlOHHc7UfOk/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">UI STATION</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">업리프트 모델링 상관관계에서 인과관계로</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="업리프트 모델링 상관관계에서 인과관계로" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">UI STATION</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 23, 2024</span><span class="posts_reading_time__f7YPP">11<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-23-UpliftModelingcorrelationtocausation&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>대부분의 기업이 새로운 캠페인이나 프로모션을 도입했을 때 해당 캠페인이나 프로모션이 사용자 베이스에 효과가 있는지를 예측하는 ML 모델이 필요한 경우가 많습니다. 이러한 노력의 궁극적인 목표는 해당 캠페인들을 통해 더 많은 사용자를 전환하거나 CTR과 같은 특정 비즈니스 지표를 향상시키는 것일 수 있습니다. 물론 비즈니스 유형에 따라, 캠페인은 할인이나 충성도 프로그램과 같은 다양한 형태로 나타날 수 있습니다.</p>
<p>간편함을 위해 이렇게 설명해 보겠습니다. 우리는 전자 상거래 웹사이트의 투자 수익률(ROI)을 높이기 위해 할인 캠페인을 진행 중이라고 상상해 봅시다. 이 문제를 간단하고 직관적인 방식으로 정식화하는 방법은 머신 러닝 모델을 훈련시켜 제품이 곧 판매될지 여부를 예측하는 것입니다. 비즈니스는 이러한 예측을 스마트하게 활용하여 ROI 지표를 높일 수 있으며, 할인을 적용해야 할 제품은 그렇지 않을 확률이 높은 제품에만 적용할 수 있습니다. 이러한 모델의 경우, 훈련 방법론은 매우 직관적입니다. 우리는 모든 과거 거래(구매) 데이터를 사용해야 할 것입니다. 웹사이트에 제품이 게시된 후 7일 동안 아직 판매되지 않은 경우, 대상 변수는 0(판매되지 않음)이 됩니다. 그렇지 않으면 우리의 레이블은 1(판매됨)입니다. 이것은 기본적으로 알려진 ML 모델인 "제품 판매 가능성" 모델입니다. 이 확률을 계산합니다 → P( Y: 1 | x ), 여기서 Y는 대상 변수(1 — 판매됨)이며 x는 제품, 사용자, 거래 기능의 조합과 같은 기능의 집합입니다.</p>
<h1>소개</h1>
<p>본질적으로, uplift 모델링은 다른 방식으로 동일한 문제에 접근하는 방법론입니다. 여기서 우리가 정말 원하는 것은 제품을 판매하기 위해 할인이 필요한지 여부를 알 수 있는 능력입니다. 다시 말해, 우리는 적용한 할인이 제품의 성공적 거래에 "인과적" 요인이 될지를 알고 싶어합니다. 이는 ML 영역에서 "상관"에서 "인과"로의 전환 지점입니다. 이전 문제 정의에서 우리는 팔 확률이 낮은 제품에 할인을 적용하면 항상 전환을 긍정적으로 영향을 줄 것이라는 강한 가정을 했습니다. 이것이 "할인"과 "구매"의 수 사이의 가정되는 "상관관계"라고 부르는 것입니다.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>그러나 Uplift 모델링은 판매될 가능성이 낮은 제품에 할인을 적용하지 않는 것을 원칙으로 합니다. 이는 "판매될 가능성이 낮은" 제품을 다양한 대상 하위 그룹으로 만듭니다. Uplift 모델링의 궁극적인 목표는 할인을 적용할 경우에만 판매될 수 있는 특정 제품 하위 그룹을 찾는 것입니다. 우리가 "할인 적용"을 Uplift 모델링 공식에 외부 요인으로 추가했기 때문에, 이제 2 (판매-판매되지 않음) x 2 (할인 적용-할인 적용하지 않음) = 4개의 레이블 데이터 그룹이 있습니다.</p>
<p><img src="/assets/img/2024-05-23-UpliftModelingcorrelationtocausation_0.png" alt="Uplift Modeling"></p>
<h2>1. 유기적으로 구매 — 할인 적용 후 구매:</h2>
<p>이 집합은 때때로 "확실한 것"이라고 불립니다. 할인을 적용하든 말든, 해당 제품은 어찌되었든 팔릴 것입니다. 분명히 여기서 할인을 적용하지 않는 것이 논리적입니다. 이 제품 그룹에 예산을 낭비해서 ROI를 높이는 것은 우리가 원하지 않을 것입니다.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>2. 할인 적용 전에 구매하지 않은 경우 - 할인 적용 후 구매:</h2>
<p>이 집합은 때때로 "설득 가능한"이라고 불립니다. 이것은 업리프트 모델링이 찾고 있는 특정 제품 그룹입니다. 우리가 이러한 제품에만 할인을 적용한다면, 변환율과 ROI에 긍정적인 영향을 줄 수 있습니다.</p>
<h2>3. 자연적으로 구매한 경우 - 할인 적용 후에 구매하지 않은 경우:</h2>
<p>이 집합은 때때로 "무시해야 할 대상"이라고 불립니다. 조금 역설적으로 들릴 수 있지만, 때로는 할인에 부정적으로 반응하는 사용자 또는 제품 그룹이 있을 수 있습니다. 이 그룹에 대해 합리적으로 해야 할 일은 ROI 지표를 손상시키지 않기 위해 할인을 적용하지 않고 넘어가는 것입니다.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>4. 구매되지 않은 유기적 상품 — 할인 적용 후 구매되지 않은 경우:</h2>
<p>이 집합은 때때로 "잃어버린 원인"이라고도 불립니다. 이 그룹은 이탈한 것으로 생각할 수 있습니다. 이 제품에 할인을 적용해도 결과를 바꾸어 판매로 전환할 수는 없습니다. 그러나 최종 목표가 ROI 지표를 최적화하는 것이므로, 이 제품 그룹에 어떤 할인도 적용하고 싶지 않습니다.</p>
<h1>할인 캠페인의 ROI</h1>
<p>할인 캠페인의 성능을 측정하기 위해 증분성, 치킨넬라이즈이션이나 투자의 증분된 수익(iROI)과 같은 용어가 종종 사용됩니다.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>위 용어들에 대한 정의를 하나씩 하기 전에, 이 예시를 위해 몇 가지 숫자에 이름을 붙여보겠습니다:</p>
<ul>
<li>N: 할인이 적용된 총 구매 건수 (예: 10000)</li>
<li>T: 실험군의 총 구매 건수 (예: 25000)</li>
<li>C: 대조군의 총 구매 건수 (예: 21000)</li>
</ul>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>R_t: 치료 그룹의 총 수익 (예: $2.5백만)</p>
<p>R_c: 대조 그룹의 총 수익 (예: $2.1백만)</p>
<p>L: 적용된 할인으로 인한 총 매출 손실 (예: $300천)</p>
<p>간편을 위해, 치료 그룹과 대조 그룹의 규모가 동일하다고 가정하고 경우에 따라 계산이 진행됩니다 →</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>할인 캠페인의 저효요 구매 비율:</p>
<p>▶▶ 증가율 구매 비율 [(T - C) / N] → (25000 – 21000) / 10000 = 4000/10000 = 0.4 = 40%</p>
<p>할인 캠페인의 카니발리제이션 구매 비율:</p>
<p>할인 구매 중 증가치 없이 발생한 부분은 카니발리제이션으로 인한 것입니다. 이들은 할인이 없어도 발생했을 구매입니다. 이 경우, 카니발리제이션 구매의 수는 [N - (T - C)]입니다. 그 비율은 기본적으로 (1 - 증가율 비율)이며, 이는 (1 – 0.4) = 0.6 = 60% 입니다.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>수익증대비율 (iROI):</p>
<p>이는 적용된 할인으로 인한 총 수익 손실에 대한 치료 및 통제 사이의 증가 수익액의 비율입니다.</p>
<p>[(R_t - R_c) / L] → ($2.5M - $2.1M) / $300K = 1.33</p>
<p>이 비율이 1보다 크면 이 캠페인을 수익성 있는 것으로 볼 수 있습니다.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>모델 파트</h1>
<p>주로 얼리프트 모델링은 다음 확률을 계산합니다:</p>
<p>P(Y=1 | x, T=1) - P(Y=1 | x, T=0)</p>
<p>여기서 Y는 우리의 대상 변수입니다 (0 — 판매되지 않음, 1 — 판매됨), x는 특징들의 집합이며, T는 할인이 적용되었는지 (T=1) 아닌지 (T=0)의 처리기본을 나타냅니다. 이 공식은 해당 제품을 할인을 적용하고 판매할 가능성의 차이 (얼프트)를 계산합니다. 다시 말해, 할인을 적용하면 어떻게 이 제품의 판매 기회가 높아질 수 있을까요? (인과관계)</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>이 상승 점수를 계산하기 위한 모델링 접근 방식은 주로 다음과 같이 나열됩니다. 이 블로그 글에서는 이미 많은 정보가 있기 때문에 이러한 접근 방식의 세부 사항에 대해 깊이 파고들지 않겠습니다. 중요한 점 하나는 아래에 나열된 것을 '모델'이 아니라 '접근 방식'로 일컬어주고 있다는 것입니다. 그것은 이러한 접근 방식에서 선호하는 ML 모델을 기본 모델로 사용할 수 있기 때문입니다.</p>
<h2>접근 방식</h2>
<p>이것은 단일 모델 접근 방식으로, 처리 (T)를 다른 특성으로 사용하여 제품의 상승 점수를 계산합니다. 처리 특성 (T)이 1 및 0일 때의 예측 값 차이를 가져와 상승 점수를 계산합니다. 이 방법론의 주요 단점은 처리 (T) 특성이 단일 모델 (m)에서 가장 중요한 특성 중 하나로 편입되지 않는다는 것입니다.</p>
<p>이것은 두 개의 모델 접근 방식으로, 할인 적용 그룹 데이터를 사용하여 하나의 모델을 훈련시키고, 통제 그룹 (할인을 적용하지 않음 - T=0) 데이터를 사용하여 다른 모델을 훈련시킵니다. 제품의 상승을 계산할 때, 이 두 모델 (m1 및 m0)의 결과를 차이를 가져와 상승을 계산합니다. 이 방법론의 주요 단점은 두 모델이 서로 다른 데이터 특성과 분포를 가지고 있기 때문에 비교되지 않은, 동기화되지 않은 점수를 받을 위험이 있다는 것입니다.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>M1은 처리 그룹 데이터로 훈련된 모델이며, M0는 대조 그룹 데이터만으로 훈련된 다른 모델입니다.</p>
<p>이것은 각 모델이 개별적인 처리 효과(ITE)를 학습하는 두 모델 접근법입니다. 첫 번째 단계는 T-러너와 동일하며, 두 번째 단계는 각 모델을 상대 그룹에 적용하고 다음과 같이 ITE를 계산하는 것입니다:</p>
<p>그런 다음 마지막 단계는 앞서 계산된 ITE로 새로운 대상 변수로 사용하여 그 ITE로 다른 2개 모델을 훈련시키는 것입니다. 이 2개의 새로운 모델을 m1_ITE와 m0_ITE로 지정해봅시다. 최종 업리프트 점수를 계산하는 방법은 다음과 같습니다:</p>
<p>여기서 g(x)는 경향 점수 가중 함수입니다. 예를 들어, 처리 그룹과 대조 그룹이 동일한 크기를 가지고 있다면, g(x)에 0.5 값을 사용할 수 있습니다.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>기본적으로 uplift 알고리즘은 분할 기준으로 uplift의 차이를 사용하는 트리 기반 알고리즘입니다. 각 분할은 부모 노드와 비교하여 자식 노드에서 처리 및 대조 그룹 간 결과 분포의 차이를 증가시키는 것을 목적으로 합니다.</p>
<h2>Uplift 근사치</h2>
<p>실제 uplift 값을 계산하려면 아래의 uplift 공식에 표시된 대로 가능하지만, 동일한 제품에 동시에 할인 적용하거나 적용하지 않는 것 또는 동일한 사용자에게 동시에 할인 가격을 적용하거나 적용하지 않는 것은 실제로 현실 시나리오에서 항상 가능한 것은 아닙니다. 게다가 "구매하지 않음"이라는 정의가 명확하지 않은 경우, 손에 "구매하지 않음" 데이터가 없을 수 있습니다. 이 경우 실제 uplift 값을 대신할 근사치를 도입할 수 있습니다. 이 근사치를 실제 uplift 값 대신으로 생각할 수 있습니다. 손에 있는 것은 성공적인 구매 거래(Y=1) 데이터 뿐이며 이전 거래에 할인이 적용되었는지 여부를 알고 있는 경우입니다. (T=1 또는 T=0).</p>
<p>다음은 성공적인 구매 거래만 사용하여 실제 uplift 값을 평가하기 위한 간단한 설명입니다 →</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>Uplift Formula: P(Y=1 | x, T=1) - P(Y=1 | x, T=0)</h1>
<h2>Step I:</h2>
<ul>
<li>
<p>P(Y=1 | x, T=1) = [P(T=1 | Y=1, x) * P(Y=1 | x)] / P(T=1 | x)</p>
</li>
<li>
<p>P(Y=1 | x, T=0) = [P(T=0 | Y=1, x) * P(Y=1 | x)] / P(T=0 | x)</p>
</li>
</ul>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>Step II:</p>
<p>P(Y=1 | x, T=1) / P(Y=1 | x, T=0) = P(T=1 | Y=1, x) / P(T=0 | Y=1, x)</p>
<p>where P(T=1 | x) and P(T=0 | x) are 0.5 since we assume that the chance of a product which is treated (apply discount) or not treated (no apply discount) is equal.</p>
<p>Step III:</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>P(Y=1 | x, T=1) - P(Y=1 | x, T=0) = P(T=1 | Y=1, x) - [1-P(T=1 | Y=1, x)] = 2*P(T=1 | Y=1, x) - 1</p>
<p>위 식은 II 단계에서 오른쪽 식을 사용하여 uplift 공식의 두 부분을 대체하는 데 사용됩니다.</p>
<p>실제 uplift 공식의 최종 추정은 다음과 같습니다:</p>
<p>P(Y=1 | x, T=1) - P(Y=1 | x, T=0) = 2*P(T=1 | Y=1, x) - 1</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>과거 성공한 거래 데이터만 사용하여 Y=1인 모델을 교육하면 해당 성공적 거래에 할인이 적용된 확률을 예측할 수 있습니다. 이제 이러한 데이터가 이미 존재하므로 이러한 모델을 교육하는 것은 더 현실적이고 실현 가능한 목표입니다.</p>
<p>요약하면, 이 작은 응축 근사화 기법을 사용하여 할인이 판매에 미치는 인과 효과를 추정할 수 있습니다. 이러한 방식으로 거래의 인과 요인이 우리가 적용한 할인인지 여부에 대한 답을 얻게 됩니다. 내 의견으로는, 할인과 매출 사이에 강한 상관 관계 가정을 하는 주류 접근 방식보다 더 효과적인 모델링 접근 방식입니다.</p>
<p><img src="/assets/img/2024-05-23-UpliftModelingcorrelationtocausation_1.png" alt="Uplift Modeling"></p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"업리프트 모델링 상관관계에서 인과관계로","description":"","date":"2024-05-23 18:01","slug":"2024-05-23-UpliftModelingcorrelationtocausation","content":"\n대부분의 기업이 새로운 캠페인이나 프로모션을 도입했을 때 해당 캠페인이나 프로모션이 사용자 베이스에 효과가 있는지를 예측하는 ML 모델이 필요한 경우가 많습니다. 이러한 노력의 궁극적인 목표는 해당 캠페인들을 통해 더 많은 사용자를 전환하거나 CTR과 같은 특정 비즈니스 지표를 향상시키는 것일 수 있습니다. 물론 비즈니스 유형에 따라, 캠페인은 할인이나 충성도 프로그램과 같은 다양한 형태로 나타날 수 있습니다.\n\n간편함을 위해 이렇게 설명해 보겠습니다. 우리는 전자 상거래 웹사이트의 투자 수익률(ROI)을 높이기 위해 할인 캠페인을 진행 중이라고 상상해 봅시다. 이 문제를 간단하고 직관적인 방식으로 정식화하는 방법은 머신 러닝 모델을 훈련시켜 제품이 곧 판매될지 여부를 예측하는 것입니다. 비즈니스는 이러한 예측을 스마트하게 활용하여 ROI 지표를 높일 수 있으며, 할인을 적용해야 할 제품은 그렇지 않을 확률이 높은 제품에만 적용할 수 있습니다. 이러한 모델의 경우, 훈련 방법론은 매우 직관적입니다. 우리는 모든 과거 거래(구매) 데이터를 사용해야 할 것입니다. 웹사이트에 제품이 게시된 후 7일 동안 아직 판매되지 않은 경우, 대상 변수는 0(판매되지 않음)이 됩니다. 그렇지 않으면 우리의 레이블은 1(판매됨)입니다. 이것은 기본적으로 알려진 ML 모델인 \"제품 판매 가능성\" 모델입니다. 이 확률을 계산합니다 → P( Y: 1 | x ), 여기서 Y는 대상 변수(1 — 판매됨)이며 x는 제품, 사용자, 거래 기능의 조합과 같은 기능의 집합입니다.\n\n# 소개\n\n본질적으로, uplift 모델링은 다른 방식으로 동일한 문제에 접근하는 방법론입니다. 여기서 우리가 정말 원하는 것은 제품을 판매하기 위해 할인이 필요한지 여부를 알 수 있는 능력입니다. 다시 말해, 우리는 적용한 할인이 제품의 성공적 거래에 \"인과적\" 요인이 될지를 알고 싶어합니다. 이는 ML 영역에서 \"상관\"에서 \"인과\"로의 전환 지점입니다. 이전 문제 정의에서 우리는 팔 확률이 낮은 제품에 할인을 적용하면 항상 전환을 긍정적으로 영향을 줄 것이라는 강한 가정을 했습니다. 이것이 \"할인\"과 \"구매\"의 수 사이의 가정되는 \"상관관계\"라고 부르는 것입니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n그러나 Uplift 모델링은 판매될 가능성이 낮은 제품에 할인을 적용하지 않는 것을 원칙으로 합니다. 이는 \"판매될 가능성이 낮은\" 제품을 다양한 대상 하위 그룹으로 만듭니다. Uplift 모델링의 궁극적인 목표는 할인을 적용할 경우에만 판매될 수 있는 특정 제품 하위 그룹을 찾는 것입니다. 우리가 \"할인 적용\"을 Uplift 모델링 공식에 외부 요인으로 추가했기 때문에, 이제 2 (판매-판매되지 않음) x 2 (할인 적용-할인 적용하지 않음) = 4개의 레이블 데이터 그룹이 있습니다.\n\n![Uplift Modeling](/assets/img/2024-05-23-UpliftModelingcorrelationtocausation_0.png)\n\n## 1. 유기적으로 구매 — 할인 적용 후 구매:\n\n이 집합은 때때로 \"확실한 것\"이라고 불립니다. 할인을 적용하든 말든, 해당 제품은 어찌되었든 팔릴 것입니다. 분명히 여기서 할인을 적용하지 않는 것이 논리적입니다. 이 제품 그룹에 예산을 낭비해서 ROI를 높이는 것은 우리가 원하지 않을 것입니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 2. 할인 적용 전에 구매하지 않은 경우 - 할인 적용 후 구매:\n\n이 집합은 때때로 \"설득 가능한\"이라고 불립니다. 이것은 업리프트 모델링이 찾고 있는 특정 제품 그룹입니다. 우리가 이러한 제품에만 할인을 적용한다면, 변환율과 ROI에 긍정적인 영향을 줄 수 있습니다.\n\n## 3. 자연적으로 구매한 경우 - 할인 적용 후에 구매하지 않은 경우:\n\n이 집합은 때때로 \"무시해야 할 대상\"이라고 불립니다. 조금 역설적으로 들릴 수 있지만, 때로는 할인에 부정적으로 반응하는 사용자 또는 제품 그룹이 있을 수 있습니다. 이 그룹에 대해 합리적으로 해야 할 일은 ROI 지표를 손상시키지 않기 위해 할인을 적용하지 않고 넘어가는 것입니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 4. 구매되지 않은 유기적 상품 — 할인 적용 후 구매되지 않은 경우:\n\n이 집합은 때때로 \"잃어버린 원인\"이라고도 불립니다. 이 그룹은 이탈한 것으로 생각할 수 있습니다. 이 제품에 할인을 적용해도 결과를 바꾸어 판매로 전환할 수는 없습니다. 그러나 최종 목표가 ROI 지표를 최적화하는 것이므로, 이 제품 그룹에 어떤 할인도 적용하고 싶지 않습니다.\n\n# 할인 캠페인의 ROI\n\n할인 캠페인의 성능을 측정하기 위해 증분성, 치킨넬라이즈이션이나 투자의 증분된 수익(iROI)과 같은 용어가 종종 사용됩니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n위 용어들에 대한 정의를 하나씩 하기 전에, 이 예시를 위해 몇 가지 숫자에 이름을 붙여보겠습니다:\n\n- N: 할인이 적용된 총 구매 건수 (예: 10000)\n- T: 실험군의 총 구매 건수 (예: 25000)\n- C: 대조군의 총 구매 건수 (예: 21000)\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nR_t: 치료 그룹의 총 수익 (예: $2.5백만)\n\nR_c: 대조 그룹의 총 수익 (예: $2.1백만)\n\nL: 적용된 할인으로 인한 총 매출 손실 (예: $300천)\n\n간편을 위해, 치료 그룹과 대조 그룹의 규모가 동일하다고 가정하고 경우에 따라 계산이 진행됩니다 →\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n할인 캠페인의 저효요 구매 비율:\n\n▶▶ 증가율 구매 비율 [(T - C) / N] → (25000 – 21000) / 10000 = 4000/10000 = 0.4 = 40%\n\n할인 캠페인의 카니발리제이션 구매 비율:\n\n할인 구매 중 증가치 없이 발생한 부분은 카니발리제이션으로 인한 것입니다. 이들은 할인이 없어도 발생했을 구매입니다. 이 경우, 카니발리제이션 구매의 수는 [N - (T - C)]입니다. 그 비율은 기본적으로 (1 - 증가율 비율)이며, 이는 (1 – 0.4) = 0.6 = 60% 입니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n수익증대비율 (iROI):\n\n이는 적용된 할인으로 인한 총 수익 손실에 대한 치료 및 통제 사이의 증가 수익액의 비율입니다.\n\n[(R_t - R_c) / L] → ($2.5M - $2.1M) / $300K = 1.33\n\n이 비율이 1보다 크면 이 캠페인을 수익성 있는 것으로 볼 수 있습니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 모델 파트\n\n주로 얼리프트 모델링은 다음 확률을 계산합니다:\n\nP(Y=1 | x, T=1) - P(Y=1 | x, T=0)\n\n여기서 Y는 우리의 대상 변수입니다 (0 — 판매되지 않음, 1 — 판매됨), x는 특징들의 집합이며, T는 할인이 적용되었는지 (T=1) 아닌지 (T=0)의 처리기본을 나타냅니다. 이 공식은 해당 제품을 할인을 적용하고 판매할 가능성의 차이 (얼프트)를 계산합니다. 다시 말해, 할인을 적용하면 어떻게 이 제품의 판매 기회가 높아질 수 있을까요? (인과관계)\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이 상승 점수를 계산하기 위한 모델링 접근 방식은 주로 다음과 같이 나열됩니다. 이 블로그 글에서는 이미 많은 정보가 있기 때문에 이러한 접근 방식의 세부 사항에 대해 깊이 파고들지 않겠습니다. 중요한 점 하나는 아래에 나열된 것을 '모델'이 아니라 '접근 방식'로 일컬어주고 있다는 것입니다. 그것은 이러한 접근 방식에서 선호하는 ML 모델을 기본 모델로 사용할 수 있기 때문입니다.\n\n## 접근 방식\n\n이것은 단일 모델 접근 방식으로, 처리 (T)를 다른 특성으로 사용하여 제품의 상승 점수를 계산합니다. 처리 특성 (T)이 1 및 0일 때의 예측 값 차이를 가져와 상승 점수를 계산합니다. 이 방법론의 주요 단점은 처리 (T) 특성이 단일 모델 (m)에서 가장 중요한 특성 중 하나로 편입되지 않는다는 것입니다.\n\n이것은 두 개의 모델 접근 방식으로, 할인 적용 그룹 데이터를 사용하여 하나의 모델을 훈련시키고, 통제 그룹 (할인을 적용하지 않음 - T=0) 데이터를 사용하여 다른 모델을 훈련시킵니다. 제품의 상승을 계산할 때, 이 두 모델 (m1 및 m0)의 결과를 차이를 가져와 상승을 계산합니다. 이 방법론의 주요 단점은 두 모델이 서로 다른 데이터 특성과 분포를 가지고 있기 때문에 비교되지 않은, 동기화되지 않은 점수를 받을 위험이 있다는 것입니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nM1은 처리 그룹 데이터로 훈련된 모델이며, M0는 대조 그룹 데이터만으로 훈련된 다른 모델입니다.\n\n이것은 각 모델이 개별적인 처리 효과(ITE)를 학습하는 두 모델 접근법입니다. 첫 번째 단계는 T-러너와 동일하며, 두 번째 단계는 각 모델을 상대 그룹에 적용하고 다음과 같이 ITE를 계산하는 것입니다:\n\n그런 다음 마지막 단계는 앞서 계산된 ITE로 새로운 대상 변수로 사용하여 그 ITE로 다른 2개 모델을 훈련시키는 것입니다. 이 2개의 새로운 모델을 m1_ITE와 m0_ITE로 지정해봅시다. 최종 업리프트 점수를 계산하는 방법은 다음과 같습니다:\n\n여기서 g(x)는 경향 점수 가중 함수입니다. 예를 들어, 처리 그룹과 대조 그룹이 동일한 크기를 가지고 있다면, g(x)에 0.5 값을 사용할 수 있습니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n기본적으로 uplift 알고리즘은 분할 기준으로 uplift의 차이를 사용하는 트리 기반 알고리즘입니다. 각 분할은 부모 노드와 비교하여 자식 노드에서 처리 및 대조 그룹 간 결과 분포의 차이를 증가시키는 것을 목적으로 합니다.\n\n## Uplift 근사치\n\n실제 uplift 값을 계산하려면 아래의 uplift 공식에 표시된 대로 가능하지만, 동일한 제품에 동시에 할인 적용하거나 적용하지 않는 것 또는 동일한 사용자에게 동시에 할인 가격을 적용하거나 적용하지 않는 것은 실제로 현실 시나리오에서 항상 가능한 것은 아닙니다. 게다가 \"구매하지 않음\"이라는 정의가 명확하지 않은 경우, 손에 \"구매하지 않음\" 데이터가 없을 수 있습니다. 이 경우 실제 uplift 값을 대신할 근사치를 도입할 수 있습니다. 이 근사치를 실제 uplift 값 대신으로 생각할 수 있습니다. 손에 있는 것은 성공적인 구매 거래(Y=1) 데이터 뿐이며 이전 거래에 할인이 적용되었는지 여부를 알고 있는 경우입니다. (T=1 또는 T=0).\n\n다음은 성공적인 구매 거래만 사용하여 실제 uplift 값을 평가하기 위한 간단한 설명입니다 →\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# Uplift Formula: P(Y=1 | x, T=1) - P(Y=1 | x, T=0)\n\n## Step I:\n\n- P(Y=1 | x, T=1) = [P(T=1 | Y=1, x) * P(Y=1 | x)] / P(T=1 | x)\n\n- P(Y=1 | x, T=0) = [P(T=0 | Y=1, x) * P(Y=1 | x)] / P(T=0 | x)\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nStep II:\n\nP(Y=1 | x, T=1) / P(Y=1 | x, T=0) = P(T=1 | Y=1, x) / P(T=0 | Y=1, x)\n\nwhere P(T=1 | x) and P(T=0 | x) are 0.5 since we assume that the chance of a product which is treated (apply discount) or not treated (no apply discount) is equal.\n\nStep III:\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nP(Y=1 | x, T=1) - P(Y=1 | x, T=0) = P(T=1 | Y=1, x) - [1-P(T=1 | Y=1, x)] = 2\\*P(T=1 | Y=1, x) - 1\n\n위 식은 II 단계에서 오른쪽 식을 사용하여 uplift 공식의 두 부분을 대체하는 데 사용됩니다.\n\n실제 uplift 공식의 최종 추정은 다음과 같습니다:\n\nP(Y=1 | x, T=1) - P(Y=1 | x, T=0) = 2\\*P(T=1 | Y=1, x) - 1\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n과거 성공한 거래 데이터만 사용하여 Y=1인 모델을 교육하면 해당 성공적 거래에 할인이 적용된 확률을 예측할 수 있습니다. 이제 이러한 데이터가 이미 존재하므로 이러한 모델을 교육하는 것은 더 현실적이고 실현 가능한 목표입니다.\n\n요약하면, 이 작은 응축 근사화 기법을 사용하여 할인이 판매에 미치는 인과 효과를 추정할 수 있습니다. 이러한 방식으로 거래의 인과 요인이 우리가 적용한 할인인지 여부에 대한 답을 얻게 됩니다. 내 의견으로는, 할인과 매출 사이에 강한 상관 관계 가정을 하는 주류 접근 방식보다 더 효과적인 모델링 접근 방식입니다.\n\n![Uplift Modeling](/assets/img/2024-05-23-UpliftModelingcorrelationtocausation_1.png)\n","ogImage":{"url":"/assets/img/2024-05-23-UpliftModelingcorrelationtocausation_0.png"},"coverImage":"/assets/img/2024-05-23-UpliftModelingcorrelationtocausation_0.png","tag":["Tech"],"readingTime":11},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e대부분의 기업이 새로운 캠페인이나 프로모션을 도입했을 때 해당 캠페인이나 프로모션이 사용자 베이스에 효과가 있는지를 예측하는 ML 모델이 필요한 경우가 많습니다. 이러한 노력의 궁극적인 목표는 해당 캠페인들을 통해 더 많은 사용자를 전환하거나 CTR과 같은 특정 비즈니스 지표를 향상시키는 것일 수 있습니다. 물론 비즈니스 유형에 따라, 캠페인은 할인이나 충성도 프로그램과 같은 다양한 형태로 나타날 수 있습니다.\u003c/p\u003e\n\u003cp\u003e간편함을 위해 이렇게 설명해 보겠습니다. 우리는 전자 상거래 웹사이트의 투자 수익률(ROI)을 높이기 위해 할인 캠페인을 진행 중이라고 상상해 봅시다. 이 문제를 간단하고 직관적인 방식으로 정식화하는 방법은 머신 러닝 모델을 훈련시켜 제품이 곧 판매될지 여부를 예측하는 것입니다. 비즈니스는 이러한 예측을 스마트하게 활용하여 ROI 지표를 높일 수 있으며, 할인을 적용해야 할 제품은 그렇지 않을 확률이 높은 제품에만 적용할 수 있습니다. 이러한 모델의 경우, 훈련 방법론은 매우 직관적입니다. 우리는 모든 과거 거래(구매) 데이터를 사용해야 할 것입니다. 웹사이트에 제품이 게시된 후 7일 동안 아직 판매되지 않은 경우, 대상 변수는 0(판매되지 않음)이 됩니다. 그렇지 않으면 우리의 레이블은 1(판매됨)입니다. 이것은 기본적으로 알려진 ML 모델인 \"제품 판매 가능성\" 모델입니다. 이 확률을 계산합니다 → P( Y: 1 | x ), 여기서 Y는 대상 변수(1 — 판매됨)이며 x는 제품, 사용자, 거래 기능의 조합과 같은 기능의 집합입니다.\u003c/p\u003e\n\u003ch1\u003e소개\u003c/h1\u003e\n\u003cp\u003e본질적으로, uplift 모델링은 다른 방식으로 동일한 문제에 접근하는 방법론입니다. 여기서 우리가 정말 원하는 것은 제품을 판매하기 위해 할인이 필요한지 여부를 알 수 있는 능력입니다. 다시 말해, 우리는 적용한 할인이 제품의 성공적 거래에 \"인과적\" 요인이 될지를 알고 싶어합니다. 이는 ML 영역에서 \"상관\"에서 \"인과\"로의 전환 지점입니다. 이전 문제 정의에서 우리는 팔 확률이 낮은 제품에 할인을 적용하면 항상 전환을 긍정적으로 영향을 줄 것이라는 강한 가정을 했습니다. 이것이 \"할인\"과 \"구매\"의 수 사이의 가정되는 \"상관관계\"라고 부르는 것입니다.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e그러나 Uplift 모델링은 판매될 가능성이 낮은 제품에 할인을 적용하지 않는 것을 원칙으로 합니다. 이는 \"판매될 가능성이 낮은\" 제품을 다양한 대상 하위 그룹으로 만듭니다. Uplift 모델링의 궁극적인 목표는 할인을 적용할 경우에만 판매될 수 있는 특정 제품 하위 그룹을 찾는 것입니다. 우리가 \"할인 적용\"을 Uplift 모델링 공식에 외부 요인으로 추가했기 때문에, 이제 2 (판매-판매되지 않음) x 2 (할인 적용-할인 적용하지 않음) = 4개의 레이블 데이터 그룹이 있습니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-23-UpliftModelingcorrelationtocausation_0.png\" alt=\"Uplift Modeling\"\u003e\u003c/p\u003e\n\u003ch2\u003e1. 유기적으로 구매 — 할인 적용 후 구매:\u003c/h2\u003e\n\u003cp\u003e이 집합은 때때로 \"확실한 것\"이라고 불립니다. 할인을 적용하든 말든, 해당 제품은 어찌되었든 팔릴 것입니다. 분명히 여기서 할인을 적용하지 않는 것이 논리적입니다. 이 제품 그룹에 예산을 낭비해서 ROI를 높이는 것은 우리가 원하지 않을 것입니다.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003e2. 할인 적용 전에 구매하지 않은 경우 - 할인 적용 후 구매:\u003c/h2\u003e\n\u003cp\u003e이 집합은 때때로 \"설득 가능한\"이라고 불립니다. 이것은 업리프트 모델링이 찾고 있는 특정 제품 그룹입니다. 우리가 이러한 제품에만 할인을 적용한다면, 변환율과 ROI에 긍정적인 영향을 줄 수 있습니다.\u003c/p\u003e\n\u003ch2\u003e3. 자연적으로 구매한 경우 - 할인 적용 후에 구매하지 않은 경우:\u003c/h2\u003e\n\u003cp\u003e이 집합은 때때로 \"무시해야 할 대상\"이라고 불립니다. 조금 역설적으로 들릴 수 있지만, 때로는 할인에 부정적으로 반응하는 사용자 또는 제품 그룹이 있을 수 있습니다. 이 그룹에 대해 합리적으로 해야 할 일은 ROI 지표를 손상시키지 않기 위해 할인을 적용하지 않고 넘어가는 것입니다.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003e4. 구매되지 않은 유기적 상품 — 할인 적용 후 구매되지 않은 경우:\u003c/h2\u003e\n\u003cp\u003e이 집합은 때때로 \"잃어버린 원인\"이라고도 불립니다. 이 그룹은 이탈한 것으로 생각할 수 있습니다. 이 제품에 할인을 적용해도 결과를 바꾸어 판매로 전환할 수는 없습니다. 그러나 최종 목표가 ROI 지표를 최적화하는 것이므로, 이 제품 그룹에 어떤 할인도 적용하고 싶지 않습니다.\u003c/p\u003e\n\u003ch1\u003e할인 캠페인의 ROI\u003c/h1\u003e\n\u003cp\u003e할인 캠페인의 성능을 측정하기 위해 증분성, 치킨넬라이즈이션이나 투자의 증분된 수익(iROI)과 같은 용어가 종종 사용됩니다.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e위 용어들에 대한 정의를 하나씩 하기 전에, 이 예시를 위해 몇 가지 숫자에 이름을 붙여보겠습니다:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eN: 할인이 적용된 총 구매 건수 (예: 10000)\u003c/li\u003e\n\u003cli\u003eT: 실험군의 총 구매 건수 (예: 25000)\u003c/li\u003e\n\u003cli\u003eC: 대조군의 총 구매 건수 (예: 21000)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eR_t: 치료 그룹의 총 수익 (예: $2.5백만)\u003c/p\u003e\n\u003cp\u003eR_c: 대조 그룹의 총 수익 (예: $2.1백만)\u003c/p\u003e\n\u003cp\u003eL: 적용된 할인으로 인한 총 매출 손실 (예: $300천)\u003c/p\u003e\n\u003cp\u003e간편을 위해, 치료 그룹과 대조 그룹의 규모가 동일하다고 가정하고 경우에 따라 계산이 진행됩니다 →\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e할인 캠페인의 저효요 구매 비율:\u003c/p\u003e\n\u003cp\u003e▶▶ 증가율 구매 비율 [(T - C) / N] → (25000 – 21000) / 10000 = 4000/10000 = 0.4 = 40%\u003c/p\u003e\n\u003cp\u003e할인 캠페인의 카니발리제이션 구매 비율:\u003c/p\u003e\n\u003cp\u003e할인 구매 중 증가치 없이 발생한 부분은 카니발리제이션으로 인한 것입니다. 이들은 할인이 없어도 발생했을 구매입니다. 이 경우, 카니발리제이션 구매의 수는 [N - (T - C)]입니다. 그 비율은 기본적으로 (1 - 증가율 비율)이며, 이는 (1 – 0.4) = 0.6 = 60% 입니다.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e수익증대비율 (iROI):\u003c/p\u003e\n\u003cp\u003e이는 적용된 할인으로 인한 총 수익 손실에 대한 치료 및 통제 사이의 증가 수익액의 비율입니다.\u003c/p\u003e\n\u003cp\u003e[(R_t - R_c) / L] → ($2.5M - $2.1M) / $300K = 1.33\u003c/p\u003e\n\u003cp\u003e이 비율이 1보다 크면 이 캠페인을 수익성 있는 것으로 볼 수 있습니다.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003e모델 파트\u003c/h1\u003e\n\u003cp\u003e주로 얼리프트 모델링은 다음 확률을 계산합니다:\u003c/p\u003e\n\u003cp\u003eP(Y=1 | x, T=1) - P(Y=1 | x, T=0)\u003c/p\u003e\n\u003cp\u003e여기서 Y는 우리의 대상 변수입니다 (0 — 판매되지 않음, 1 — 판매됨), x는 특징들의 집합이며, T는 할인이 적용되었는지 (T=1) 아닌지 (T=0)의 처리기본을 나타냅니다. 이 공식은 해당 제품을 할인을 적용하고 판매할 가능성의 차이 (얼프트)를 계산합니다. 다시 말해, 할인을 적용하면 어떻게 이 제품의 판매 기회가 높아질 수 있을까요? (인과관계)\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e이 상승 점수를 계산하기 위한 모델링 접근 방식은 주로 다음과 같이 나열됩니다. 이 블로그 글에서는 이미 많은 정보가 있기 때문에 이러한 접근 방식의 세부 사항에 대해 깊이 파고들지 않겠습니다. 중요한 점 하나는 아래에 나열된 것을 '모델'이 아니라 '접근 방식'로 일컬어주고 있다는 것입니다. 그것은 이러한 접근 방식에서 선호하는 ML 모델을 기본 모델로 사용할 수 있기 때문입니다.\u003c/p\u003e\n\u003ch2\u003e접근 방식\u003c/h2\u003e\n\u003cp\u003e이것은 단일 모델 접근 방식으로, 처리 (T)를 다른 특성으로 사용하여 제품의 상승 점수를 계산합니다. 처리 특성 (T)이 1 및 0일 때의 예측 값 차이를 가져와 상승 점수를 계산합니다. 이 방법론의 주요 단점은 처리 (T) 특성이 단일 모델 (m)에서 가장 중요한 특성 중 하나로 편입되지 않는다는 것입니다.\u003c/p\u003e\n\u003cp\u003e이것은 두 개의 모델 접근 방식으로, 할인 적용 그룹 데이터를 사용하여 하나의 모델을 훈련시키고, 통제 그룹 (할인을 적용하지 않음 - T=0) 데이터를 사용하여 다른 모델을 훈련시킵니다. 제품의 상승을 계산할 때, 이 두 모델 (m1 및 m0)의 결과를 차이를 가져와 상승을 계산합니다. 이 방법론의 주요 단점은 두 모델이 서로 다른 데이터 특성과 분포를 가지고 있기 때문에 비교되지 않은, 동기화되지 않은 점수를 받을 위험이 있다는 것입니다.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eM1은 처리 그룹 데이터로 훈련된 모델이며, M0는 대조 그룹 데이터만으로 훈련된 다른 모델입니다.\u003c/p\u003e\n\u003cp\u003e이것은 각 모델이 개별적인 처리 효과(ITE)를 학습하는 두 모델 접근법입니다. 첫 번째 단계는 T-러너와 동일하며, 두 번째 단계는 각 모델을 상대 그룹에 적용하고 다음과 같이 ITE를 계산하는 것입니다:\u003c/p\u003e\n\u003cp\u003e그런 다음 마지막 단계는 앞서 계산된 ITE로 새로운 대상 변수로 사용하여 그 ITE로 다른 2개 모델을 훈련시키는 것입니다. 이 2개의 새로운 모델을 m1_ITE와 m0_ITE로 지정해봅시다. 최종 업리프트 점수를 계산하는 방법은 다음과 같습니다:\u003c/p\u003e\n\u003cp\u003e여기서 g(x)는 경향 점수 가중 함수입니다. 예를 들어, 처리 그룹과 대조 그룹이 동일한 크기를 가지고 있다면, g(x)에 0.5 값을 사용할 수 있습니다.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e기본적으로 uplift 알고리즘은 분할 기준으로 uplift의 차이를 사용하는 트리 기반 알고리즘입니다. 각 분할은 부모 노드와 비교하여 자식 노드에서 처리 및 대조 그룹 간 결과 분포의 차이를 증가시키는 것을 목적으로 합니다.\u003c/p\u003e\n\u003ch2\u003eUplift 근사치\u003c/h2\u003e\n\u003cp\u003e실제 uplift 값을 계산하려면 아래의 uplift 공식에 표시된 대로 가능하지만, 동일한 제품에 동시에 할인 적용하거나 적용하지 않는 것 또는 동일한 사용자에게 동시에 할인 가격을 적용하거나 적용하지 않는 것은 실제로 현실 시나리오에서 항상 가능한 것은 아닙니다. 게다가 \"구매하지 않음\"이라는 정의가 명확하지 않은 경우, 손에 \"구매하지 않음\" 데이터가 없을 수 있습니다. 이 경우 실제 uplift 값을 대신할 근사치를 도입할 수 있습니다. 이 근사치를 실제 uplift 값 대신으로 생각할 수 있습니다. 손에 있는 것은 성공적인 구매 거래(Y=1) 데이터 뿐이며 이전 거래에 할인이 적용되었는지 여부를 알고 있는 경우입니다. (T=1 또는 T=0).\u003c/p\u003e\n\u003cp\u003e다음은 성공적인 구매 거래만 사용하여 실제 uplift 값을 평가하기 위한 간단한 설명입니다 →\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003eUplift Formula: P(Y=1 | x, T=1) - P(Y=1 | x, T=0)\u003c/h1\u003e\n\u003ch2\u003eStep I:\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eP(Y=1 | x, T=1) = [P(T=1 | Y=1, x) * P(Y=1 | x)] / P(T=1 | x)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eP(Y=1 | x, T=0) = [P(T=0 | Y=1, x) * P(Y=1 | x)] / P(T=0 | x)\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eStep II:\u003c/p\u003e\n\u003cp\u003eP(Y=1 | x, T=1) / P(Y=1 | x, T=0) = P(T=1 | Y=1, x) / P(T=0 | Y=1, x)\u003c/p\u003e\n\u003cp\u003ewhere P(T=1 | x) and P(T=0 | x) are 0.5 since we assume that the chance of a product which is treated (apply discount) or not treated (no apply discount) is equal.\u003c/p\u003e\n\u003cp\u003eStep III:\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eP(Y=1 | x, T=1) - P(Y=1 | x, T=0) = P(T=1 | Y=1, x) - [1-P(T=1 | Y=1, x)] = 2*P(T=1 | Y=1, x) - 1\u003c/p\u003e\n\u003cp\u003e위 식은 II 단계에서 오른쪽 식을 사용하여 uplift 공식의 두 부분을 대체하는 데 사용됩니다.\u003c/p\u003e\n\u003cp\u003e실제 uplift 공식의 최종 추정은 다음과 같습니다:\u003c/p\u003e\n\u003cp\u003eP(Y=1 | x, T=1) - P(Y=1 | x, T=0) = 2*P(T=1 | Y=1, x) - 1\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e과거 성공한 거래 데이터만 사용하여 Y=1인 모델을 교육하면 해당 성공적 거래에 할인이 적용된 확률을 예측할 수 있습니다. 이제 이러한 데이터가 이미 존재하므로 이러한 모델을 교육하는 것은 더 현실적이고 실현 가능한 목표입니다.\u003c/p\u003e\n\u003cp\u003e요약하면, 이 작은 응축 근사화 기법을 사용하여 할인이 판매에 미치는 인과 효과를 추정할 수 있습니다. 이러한 방식으로 거래의 인과 요인이 우리가 적용한 할인인지 여부에 대한 답을 얻게 됩니다. 내 의견으로는, 할인과 매출 사이에 강한 상관 관계 가정을 하는 주류 접근 방식보다 더 효과적인 모델링 접근 방식입니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-23-UpliftModelingcorrelationtocausation_1.png\" alt=\"Uplift Modeling\"\u003e\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-23-UpliftModelingcorrelationtocausation"},"buildId":"YUMR4jSyk_WlOHHc7UfOk","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>