<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>AWS Step Function을 사용한 직원 온보딩 프로세스 구축 방법 | ui-station</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://ui-station.github.io///post/2024-06-30-BuildinganAWSStepFunctionforEmployeeOnboardingProcess" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="AWS Step Function을 사용한 직원 온보딩 프로세스 구축 방법 | ui-station" data-gatsby-head="true"/><meta property="og:title" content="AWS Step Function을 사용한 직원 온보딩 프로세스 구축 방법 | ui-station" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-30-BuildinganAWSStepFunctionforEmployeeOnboardingProcess_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://ui-station.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://ui-station.github.io///post/2024-06-30-BuildinganAWSStepFunctionforEmployeeOnboardingProcess" data-gatsby-head="true"/><meta name="twitter:title" content="AWS Step Function을 사용한 직원 온보딩 프로세스 구축 방법 | ui-station" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-30-BuildinganAWSStepFunctionforEmployeeOnboardingProcess_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | ui-station" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-30 19:26" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BHFR6GTH9P"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-BHFR6GTH9P');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-70e5ce89f3d962ac.js" defer=""></script><script src="/_next/static/GsgRekSb--BvxYwv9FPn6/_buildManifest.js" defer=""></script><script src="/_next/static/GsgRekSb--BvxYwv9FPn6/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">UI STATION</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">AWS Step Function을 사용한 직원 온보딩 프로세스 구축 방법</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="AWS Step Function을 사용한 직원 온보딩 프로세스 구축 방법" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">UI STATION</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 30, 2024</span><span class="posts_reading_time__f7YPP">10<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-30-BuildinganAWSStepFunctionforEmployeeOnboardingProcess&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>이번 튜토리얼에서는 직원 입사 절차를 자동화하기 위해 AWS Step Function을 만들어보겠습니다. 이 과정에는 직원 레코드 작성, 문서 확인, 환영 이메일 발송, 필요 장비 할당 등이 포함됩니다.</p>
<h1>단계 1: 서버리스 프로젝트 설정하기</h1>
<p>먼저, Serverless Framework가 설치되어 있는지 확인하세요. 만약 없다면 npm을 사용하여 설치할 수 있습니다:</p>
<pre><code class="hljs language-js">npm install -g serverless
</code></pre>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>다음으로 새로운 Serverless 프로젝트를 만들어보세요:</p>
<pre><code class="hljs language-js">serverless create --template aws-nodejs --path employee-onboarding
cd employee-onboarding
</code></pre>
<h1>단계 2: Serverless Step Functions 플러그인 설치하기</h1>
<p>프로젝트에 Serverless Step Functions 플러그인을 추가해보세요. 이 플러그인은 Serverless Framework를 사용하여 Step Functions을 정의하고 배포하는 데 필요합니다.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js">npm install --save serverless-step-functions
</code></pre>
<h1>단계 3: Serverless Framework 구성</h1>
<p>serverless.yml 파일에서 서비스를 Step Functions 플러그인을 사용하도록 구성하고 AWS 리소스와 함수를 정의합니다.</p>
<pre><code class="hljs language-js"><span class="hljs-attr">service</span>: employee-onboarding
<span class="hljs-attr">frameworkVersion</span>: <span class="hljs-string">'3'</span>
<span class="hljs-attr">provider</span>:
  <span class="hljs-attr">name</span>: aws
  <span class="hljs-attr">runtime</span>: nodejs18.<span class="hljs-property">x</span>
  <span class="hljs-attr">stage</span>: ${<span class="hljs-attr">opt</span>:stage, <span class="hljs-string">'dev'</span>}
  <span class="hljs-attr">region</span>: us-east-<span class="hljs-number">1</span>
  <span class="hljs-attr">iamRoleStatements</span>:
    - <span class="hljs-title class_">Effect</span>: <span class="hljs-string">"Allow"</span>
      <span class="hljs-title class_">Action</span>:
        - <span class="hljs-string">"dynamodb:*"</span>
      <span class="hljs-title class_">Resource</span>: !<span class="hljs-title class_">GetAtt</span> <span class="hljs-title class_">EmployeeTable</span>.<span class="hljs-property">Arn</span>
    - <span class="hljs-title class_">Effect</span>: <span class="hljs-string">"Allow"</span>
      <span class="hljs-title class_">Action</span>:
        - <span class="hljs-string">"sns:*"</span>
      <span class="hljs-title class_">Resource</span>: <span class="hljs-string">"arn:aws:sns:us-east-1:*:NotifyEmployee"</span>
<span class="hljs-attr">functions</span>:
  <span class="hljs-attr">createEmployeeRecord</span>:
    <span class="hljs-attr">handler</span>: handler.<span class="hljs-property">createEmployeeRecord</span>
    <span class="hljs-attr">environment</span>:
      <span class="hljs-attr">EMPLOYEE_TABLE</span>: !<span class="hljs-title class_">Ref</span> <span class="hljs-title class_">EmployeeTable</span>
  <span class="hljs-attr">verifyDocuments</span>:
    <span class="hljs-attr">handler</span>: handler.<span class="hljs-property">verifyDocuments</span>
  <span class="hljs-attr">sendWelcomeEmail</span>:
    <span class="hljs-attr">handler</span>: handler.<span class="hljs-property">sendWelcomeEmail</span>
  <span class="hljs-attr">assignEquipment</span>:
    <span class="hljs-attr">handler</span>: handler.<span class="hljs-property">assignEquipment</span>
<span class="hljs-attr">plugins</span>:
  - serverless-step-functions
<span class="hljs-attr">stepFunctions</span>:
  <span class="hljs-attr">stateMachines</span>:
    <span class="hljs-title class_">EmployeeOnboardingStateMachine</span>:
      <span class="hljs-attr">name</span>: <span class="hljs-title class_">EmployeeOnboardingStateMachine</span>
      <span class="hljs-attr">definition</span>:
        <span class="hljs-title class_">Comment</span>: <span class="hljs-string">"A state machine for onboarding new employees."</span>
        <span class="hljs-title class_">StartAt</span>: <span class="hljs-title class_">CreateEmployeeRecord</span>
        <span class="hljs-title class_">States</span>:
          <span class="hljs-title class_">CreateEmployeeRecord</span>:
            <span class="hljs-title class_">Type</span>: <span class="hljs-title class_">Task</span>
            <span class="hljs-title class_">Resource</span>: !<span class="hljs-title class_">GetAtt</span> createEmployeeRecord.<span class="hljs-property">Arn</span>
            <span class="hljs-title class_">ResultPath</span>: <span class="hljs-string">"$.employee"</span>
            <span class="hljs-title class_">Next</span>: <span class="hljs-title class_">VerifyDocuments</span>
          <span class="hljs-title class_">VerifyDocuments</span>:
            <span class="hljs-title class_">Type</span>: <span class="hljs-title class_">Task</span>
            <span class="hljs-title class_">Resource</span>: !<span class="hljs-title class_">GetAtt</span> verifyDocuments.<span class="hljs-property">Arn</span>
            <span class="hljs-title class_">ResultPath</span>: <span class="hljs-string">"$.documentVerification"</span>
            <span class="hljs-title class_">Next</span>: <span class="hljs-title class_">DocumentCheck</span>
          <span class="hljs-title class_">DocumentCheck</span>:
            <span class="hljs-title class_">Type</span>: <span class="hljs-title class_">Choice</span>
            <span class="hljs-title class_">Choices</span>:
              - <span class="hljs-title class_">Variable</span>: <span class="hljs-string">"$.documentVerification.status"</span>
                <span class="hljs-title class_">StringEquals</span>: <span class="hljs-string">"verified"</span>
                <span class="hljs-title class_">Next</span>: <span class="hljs-title class_">SendWelcomeEmail</span>
            <span class="hljs-title class_">Default</span>: <span class="hljs-title class_">DocumentError</span>
          <span class="hljs-title class_">DocumentError</span>:
            <span class="hljs-title class_">Type</span>: <span class="hljs-title class_">Pass</span>
            <span class="hljs-title class_">Result</span>: <span class="hljs-string">"Document verification failed"</span>
            <span class="hljs-title class_">End</span>: <span class="hljs-literal">true</span>
          <span class="hljs-title class_">SendWelcomeEmail</span>:
            <span class="hljs-title class_">Type</span>: <span class="hljs-title class_">Task</span>
            <span class="hljs-title class_">Resource</span>: !<span class="hljs-title class_">GetAtt</span> sendWelcomeEmail.<span class="hljs-property">Arn</span>
            <span class="hljs-title class_">ResultPath</span>: <span class="hljs-string">"$.emailStatus"</span>
            <span class="hljs-title class_">Next</span>: <span class="hljs-title class_">AssignEquipment</span>
          <span class="hljs-title class_">AssignEquipment</span>:
            <span class="hljs-title class_">Type</span>: <span class="hljs-title class_">Task</span>
            <span class="hljs-title class_">Resource</span>: !<span class="hljs-title class_">GetAtt</span> assignEquipment.<span class="hljs-property">Arn</span>
            <span class="hljs-title class_">ResultPath</span>: <span class="hljs-string">"$.equipmentStatus"</span>
            <span class="hljs-title class_">End</span>: <span class="hljs-literal">true</span>
<span class="hljs-attr">resources</span>:
  <span class="hljs-title class_">Resources</span>:
    <span class="hljs-title class_">EmployeeTable</span>:
      <span class="hljs-title class_">Type</span>: <span class="hljs-attr">AWS</span>::<span class="hljs-title class_">DynamoDB</span>::<span class="hljs-title class_">Table</span>
      <span class="hljs-title class_">Properties</span>:
        <span class="hljs-title class_">TableName</span>: <span class="hljs-title class_">EmployeeTable</span>-${<span class="hljs-attr">self</span>:provider.<span class="hljs-property">stage</span>}
        <span class="hljs-title class_">AttributeDefinitions</span>:
          - <span class="hljs-title class_">AttributeName</span>: employeeId
            <span class="hljs-title class_">AttributeType</span>: S
        <span class="hljs-title class_">KeySchema</span>:
          - <span class="hljs-title class_">AttributeName</span>: employeeId
            <span class="hljs-title class_">KeyType</span>: <span class="hljs-variable constant_">HASH</span>
        <span class="hljs-title class_">BillingMode</span>: <span class="hljs-variable constant_">PAY_PER_REQUEST</span>
</code></pre>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>상태 머신의 자세한 설명</h1>
<h2>1. CreateEmployeeRecord</h2>
<ul>
<li>
<p>유형: 작업</p>
</li>
<li>
<p>createEmployeeRecord 람다 함수를 호출하여 작업 수행</p>
</li>
<li>
<p>리소스: !GetAtt createEmployeeRecord.Arn</p>
</li>
<li>
<p>createEmployeeRecord 람다 함수의 ARN</p>
</li>
<li>
<p>ResultPath: $.employee</p>
</li>
<li>
<p>이 작업의 출력을 상태 입력의 employee 필드에 저장</p>
</li>
<li>
<p>다음: VerifyDocuments</p>
</li>
<li>
<p>이 작업이 완료된 후 VerifyDocuments 상태로 전환</p>
</li>
</ul>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>2. VerifyDocuments</h2>
<ul>
<li>verifyDocuments Lambda 기능을 호출하여 작업을 수행합니다.</li>
</ul>
<h2>3. DocumentCheck</h2>
<ul>
<li>유형: Choice</li>
<li>변수 값에 따라 분기 로직을 추가합니다.</li>
<li>선택지:
<ul>
<li>documentVerification.status 필드를 평가합니다.</li>
<li>값이 확인된 경우 SendWelcomeEmail 상태로 전환합니다.</li>
<li>기본값: DocumentError</li>
<li>선택지와 일치하는 것이 없는 경우 DocumentError 상태로 전환합니다.</li>
</ul>
</li>
</ul>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>4. DocumentError</h2>
<ul>
<li>유형: Pass</li>
<li>입력을 수정하지 않고 출력으로 전달합니다.</li>
<li>결과: "문서 검증 실패"</li>
<li>이 상태의 출력 값입니다.</li>
<li>종료: true</li>
<li>이 상태를 최종 상태로 표시합니다.</li>
</ul>
<h2>5. SendWelcomeEmail</h2>
<ul>
<li>sendWelcomeEmail Lambda 함수를 호출하여 작업을 수행합니다.</li>
</ul>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>6. 장비할당</h2>
<ul>
<li>assignEquipment 람다 함수를 호출하여 작업을 수행합니다.</li>
</ul>
<h1>단계 4: 람다 함수 구현</h1>
<p>handler.js 파일을 만들어 람다 함수를 정의하세요.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>직원 레코드 생성</p>
<pre><code class="hljs language-js"><span class="hljs-meta">'use strict'</span>;
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">AWS</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'aws-sdk'</span>);
<span class="hljs-keyword">const</span> docClient = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">AWS</span>.<span class="hljs-property">DynamoDB</span>.<span class="hljs-title class_">DocumentClient</span>();
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>.<span class="hljs-property">createEmployeeRecord</span> = <span class="hljs-keyword">async</span> (event) => {
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">EMPLOYEE_TABLE</span> = process.<span class="hljs-property">env</span>.<span class="hljs-property">EMPLOYEE_TABLE</span>;
  <span class="hljs-keyword">const</span> employee = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">body</span>);
  <span class="hljs-keyword">const</span> params = {
    <span class="hljs-title class_">TableName</span>: <span class="hljs-variable constant_">EMPLOYEE_TABLE</span>,
    <span class="hljs-title class_">Item</span>: {
      <span class="hljs-attr">employeeId</span>: employee.<span class="hljs-property">employeeId</span>,
      <span class="hljs-attr">name</span>: employee.<span class="hljs-property">name</span>,
      <span class="hljs-attr">role</span>: employee.<span class="hljs-property">role</span>,
      <span class="hljs-attr">email</span>: employee.<span class="hljs-property">email</span>,
    },
  };
  <span class="hljs-keyword">await</span> docClient.<span class="hljs-title function_">put</span>(params).<span class="hljs-title function_">promise</span>();
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">statusCode</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(employee),
  };
};
</code></pre>
<p>문서 확인</p>
<pre><code class="hljs language-js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>.<span class="hljs-property">verifyDocuments</span> = <span class="hljs-keyword">async</span> (event) => {
  <span class="hljs-keyword">const</span> { employeeId, documents } = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">body</span>);
  <span class="hljs-keyword">const</span> status = documents &#x26;&#x26; documents.<span class="hljs-property">length</span> > <span class="hljs-number">0</span> ? <span class="hljs-string">'verified'</span> : <span class="hljs-string">'unverified'</span>;
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">statusCode</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ employeeId, status }),
  };
};
</code></pre>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>↓</p>
<p>웰컴 이메일 전송</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> sns = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">AWS</span>.<span class="hljs-title function_">SNS</span>();
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>.<span class="hljs-property">sendWelcomeEmail</span> = <span class="hljs-keyword">async</span> (event) => {
  <span class="hljs-keyword">const</span> { email } = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">body</span>).<span class="hljs-property">employee</span>;
  <span class="hljs-keyword">const</span> params = {
    <span class="hljs-title class_">Message</span>: <span class="hljs-string">'회사에 오신 것을 환영합니다!'</span>,
    <span class="hljs-title class_">Subject</span>: <span class="hljs-string">'환영합니다'</span>,
    <span class="hljs-title class_">TopicArn</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">SNS_TOPIC_ARN</span>,
  };
  <span class="hljs-keyword">await</span> sns.<span class="hljs-title function_">publish</span>(params).<span class="hljs-title function_">promise</span>();
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">statusCode</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">status</span>: <span class="hljs-string">'이메일 전송됨'</span> }),
  };
};
</code></pre>
<p>장비 할당</p>
<pre><code class="hljs language-js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>.<span class="hljs-property">assignEquipment</span> = <span class="hljs-keyword">async</span> (event) => {
  <span class="hljs-keyword">const</span> { employeeId } = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">body</span>);
  <span class="hljs-comment">// 장비 로직 여기에 작성</span>
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">statusCode</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">status</span>: <span class="hljs-string">'장비 할당됨'</span>, employeeId }),
  };
};
</code></pre>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>단계 4: 서버리스 서비스 배포하기</h1>
<p>서버리스.yml 파일 구성을 완료한 후 서버리스 서비스를 배포하세요. 이 단계에서는 람다 함수를 배포하고, DynamoDB 테이블과 같은 필요한 AWS 리소스를 생성하며, Step Functions 스테이트 머신을 배포합니다.</p>
<pre><code class="hljs language-js">serverless deploy
</code></pre>
<p>배포 중에는 서버리스 프레임워크가 제공된 설정에 따라 Step Functions 스테이트 머신을 만듭니다.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>단계 5: 상태 머신의 ARN 가져오기</h1>
<p>배포된 후에는 AWS 관리 콘솔 또는 CLI에서 Step Functions 상태 머신의 ARN (Amazon 리소스 이름)을 얻을 수 있습니다.</p>
<h1>단계 6: IAM 역할 문장 업데이트</h1>
<p>serverless.yml 파일의 IAM 역할 문장을 Step Functions 상태 머신의 ARN으로 업데이트하세요.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-yaml"><span class="hljs-attr">iamRoleStatements:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">Effect:</span> <span class="hljs-string">"Allow"</span>
    <span class="hljs-attr">Action:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"states:*"</span>
    <span class="hljs-attr">Resource:</span> <span class="hljs-string">"arn:aws:states:us-east-1:123456789012:stateMachine:EmployeeOnboardingStateMachine"</span>
</code></pre>
<h1>단계 7: 서버리스 서비스 다시 배포하기</h1>
<p>IAM 역할 문장을 업데이트한 후에 변경 사항을 적용하기 위해 서버리스 서비스를 다시 배포하세요.</p>
<pre><code class="hljs language-sh">serverless deploy
</code></pre>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>요약</h1>
<p>이 튜토리얼은 직원 온보딩 프로세스를 자동화하기 위한 AWS Step Function을 생성하는 방법을 보여줍니다. Serverless Framework와 Serverless Step Functions 플러그인을 활용하여 작업, 분기 논리, 오류 처리를 포함한 복잡한 워크플로우를 정의하고 배포하여 온보딩 프로세스를 효율적이고 확장 가능하게 만들 수 있습니다.</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"AWS Step Function을 사용한 직원 온보딩 프로세스 구축 방법","description":"","date":"2024-06-30 19:26","slug":"2024-06-30-BuildinganAWSStepFunctionforEmployeeOnboardingProcess","content":"\n\n이번 튜토리얼에서는 직원 입사 절차를 자동화하기 위해 AWS Step Function을 만들어보겠습니다. 이 과정에는 직원 레코드 작성, 문서 확인, 환영 이메일 발송, 필요 장비 할당 등이 포함됩니다.\n\n# 단계 1: 서버리스 프로젝트 설정하기\n\n먼저, Serverless Framework가 설치되어 있는지 확인하세요. 만약 없다면 npm을 사용하여 설치할 수 있습니다:\n\n```js\nnpm install -g serverless\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n다음으로 새로운 Serverless 프로젝트를 만들어보세요:\n\n```js\nserverless create --template aws-nodejs --path employee-onboarding\ncd employee-onboarding\n```\n\n# 단계 2: Serverless Step Functions 플러그인 설치하기\n\n프로젝트에 Serverless Step Functions 플러그인을 추가해보세요. 이 플러그인은 Serverless Framework를 사용하여 Step Functions을 정의하고 배포하는 데 필요합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nnpm install --save serverless-step-functions\n```\n\n# 단계 3: Serverless Framework 구성\n\nserverless.yml 파일에서 서비스를 Step Functions 플러그인을 사용하도록 구성하고 AWS 리소스와 함수를 정의합니다.\n```js\nservice: employee-onboarding\nframeworkVersion: '3'\nprovider:\n  name: aws\n  runtime: nodejs18.x\n  stage: ${opt:stage, 'dev'}\n  region: us-east-1\n  iamRoleStatements:\n    - Effect: \"Allow\"\n      Action:\n        - \"dynamodb:*\"\n      Resource: !GetAtt EmployeeTable.Arn\n    - Effect: \"Allow\"\n      Action:\n        - \"sns:*\"\n      Resource: \"arn:aws:sns:us-east-1:*:NotifyEmployee\"\nfunctions:\n  createEmployeeRecord:\n    handler: handler.createEmployeeRecord\n    environment:\n      EMPLOYEE_TABLE: !Ref EmployeeTable\n  verifyDocuments:\n    handler: handler.verifyDocuments\n  sendWelcomeEmail:\n    handler: handler.sendWelcomeEmail\n  assignEquipment:\n    handler: handler.assignEquipment\nplugins:\n  - serverless-step-functions\nstepFunctions:\n  stateMachines:\n    EmployeeOnboardingStateMachine:\n      name: EmployeeOnboardingStateMachine\n      definition:\n        Comment: \"A state machine for onboarding new employees.\"\n        StartAt: CreateEmployeeRecord\n        States:\n          CreateEmployeeRecord:\n            Type: Task\n            Resource: !GetAtt createEmployeeRecord.Arn\n            ResultPath: \"$.employee\"\n            Next: VerifyDocuments\n          VerifyDocuments:\n            Type: Task\n            Resource: !GetAtt verifyDocuments.Arn\n            ResultPath: \"$.documentVerification\"\n            Next: DocumentCheck\n          DocumentCheck:\n            Type: Choice\n            Choices:\n              - Variable: \"$.documentVerification.status\"\n                StringEquals: \"verified\"\n                Next: SendWelcomeEmail\n            Default: DocumentError\n          DocumentError:\n            Type: Pass\n            Result: \"Document verification failed\"\n            End: true\n          SendWelcomeEmail:\n            Type: Task\n            Resource: !GetAtt sendWelcomeEmail.Arn\n            ResultPath: \"$.emailStatus\"\n            Next: AssignEquipment\n          AssignEquipment:\n            Type: Task\n            Resource: !GetAtt assignEquipment.Arn\n            ResultPath: \"$.equipmentStatus\"\n            End: true\nresources:\n  Resources:\n    EmployeeTable:\n      Type: AWS::DynamoDB::Table\n      Properties:\n        TableName: EmployeeTable-${self:provider.stage}\n        AttributeDefinitions:\n          - AttributeName: employeeId\n            AttributeType: S\n        KeySchema:\n          - AttributeName: employeeId\n            KeyType: HASH\n        BillingMode: PAY_PER_REQUEST\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 상태 머신의 자세한 설명\n\n## 1. CreateEmployeeRecord\n\n- 유형: 작업\n- createEmployeeRecord 람다 함수를 호출하여 작업 수행\n- 리소스: !GetAtt createEmployeeRecord.Arn\n- createEmployeeRecord 람다 함수의 ARN\n- ResultPath: $.employee\n- 이 작업의 출력을 상태 입력의 employee 필드에 저장\n\n- 다음: VerifyDocuments\n- 이 작업이 완료된 후 VerifyDocuments 상태로 전환\n\n\u003c!-- ui-station 사각형 --\u003e\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 2. VerifyDocuments\n\n- verifyDocuments Lambda 기능을 호출하여 작업을 수행합니다.\n\n## 3. DocumentCheck\n\n- 유형: Choice\n- 변수 값에 따라 분기 로직을 추가합니다.\n- 선택지:\n  - documentVerification.status 필드를 평가합니다.\n  - 값이 확인된 경우 SendWelcomeEmail 상태로 전환합니다.\n  - 기본값: DocumentError\n  - 선택지와 일치하는 것이 없는 경우 DocumentError 상태로 전환합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 4. DocumentError\n\n- 유형: Pass\n- 입력을 수정하지 않고 출력으로 전달합니다.\n- 결과: \"문서 검증 실패\"\n- 이 상태의 출력 값입니다.\n- 종료: true\n- 이 상태를 최종 상태로 표시합니다.\n\n## 5. SendWelcomeEmail\n\n- sendWelcomeEmail Lambda 함수를 호출하여 작업을 수행합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 6. 장비할당\n\n- assignEquipment 람다 함수를 호출하여 작업을 수행합니다.\n\n# 단계 4: 람다 함수 구현\n\nhandler.js 파일을 만들어 람다 함수를 정의하세요.\n\n\u003c!-- ui-station 사각형 --\u003e\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n직원 레코드 생성\n\n```js\n'use strict';\nconst AWS = require('aws-sdk');\nconst docClient = new AWS.DynamoDB.DocumentClient();\nmodule.exports.createEmployeeRecord = async (event) =\u003e {\n  const EMPLOYEE_TABLE = process.env.EMPLOYEE_TABLE;\n  const employee = JSON.parse(event.body);\n  const params = {\n    TableName: EMPLOYEE_TABLE,\n    Item: {\n      employeeId: employee.employeeId,\n      name: employee.name,\n      role: employee.role,\n      email: employee.email,\n    },\n  };\n  await docClient.put(params).promise();\n  return {\n    statusCode: 200,\n    body: JSON.stringify(employee),\n  };\n};\n```\n\n문서 확인\n\n```js\nmodule.exports.verifyDocuments = async (event) =\u003e {\n  const { employeeId, documents } = JSON.parse(event.body);\n  const status = documents \u0026\u0026 documents.length \u003e 0 ? 'verified' : 'unverified';\n  return {\n    statusCode: 200,\n    body: JSON.stringify({ employeeId, status }),\n  };\n};\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n↓\n\n웰컴 이메일 전송\n\n```js\nconst sns = new AWS.SNS();\nmodule.exports.sendWelcomeEmail = async (event) =\u003e {\n  const { email } = JSON.parse(event.body).employee;\n  const params = {\n    Message: '회사에 오신 것을 환영합니다!',\n    Subject: '환영합니다',\n    TopicArn: process.env.SNS_TOPIC_ARN,\n  };\n  await sns.publish(params).promise();\n  return {\n    statusCode: 200,\n    body: JSON.stringify({ status: '이메일 전송됨' }),\n  };\n};\n```\n\n장비 할당\n\n```js\nmodule.exports.assignEquipment = async (event) =\u003e {\n  const { employeeId } = JSON.parse(event.body);\n  // 장비 로직 여기에 작성\n  return {\n    statusCode: 200,\n    body: JSON.stringify({ status: '장비 할당됨', employeeId }),\n  };\n};\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 단계 4: 서버리스 서비스 배포하기\n\n서버리스.yml 파일 구성을 완료한 후 서버리스 서비스를 배포하세요. 이 단계에서는 람다 함수를 배포하고, DynamoDB 테이블과 같은 필요한 AWS 리소스를 생성하며, Step Functions 스테이트 머신을 배포합니다.\n\n```js\nserverless deploy\n```\n\n배포 중에는 서버리스 프레임워크가 제공된 설정에 따라 Step Functions 스테이트 머신을 만듭니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 단계 5: 상태 머신의 ARN 가져오기\n\n배포된 후에는 AWS 관리 콘솔 또는 CLI에서 Step Functions 상태 머신의 ARN (Amazon 리소스 이름)을 얻을 수 있습니다.\n\n# 단계 6: IAM 역할 문장 업데이트\n\nserverless.yml 파일의 IAM 역할 문장을 Step Functions 상태 머신의 ARN으로 업데이트하세요.\n\n\u003c!-- ui-station 사각형 --\u003e\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```yaml\niamRoleStatements:\n  - Effect: \"Allow\"\n    Action:\n      - \"states:*\"\n    Resource: \"arn:aws:states:us-east-1:123456789012:stateMachine:EmployeeOnboardingStateMachine\"\n```\n\n# 단계 7: 서버리스 서비스 다시 배포하기\n\nIAM 역할 문장을 업데이트한 후에 변경 사항을 적용하기 위해 서버리스 서비스를 다시 배포하세요.\n\n```sh\nserverless deploy\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 요약\n\n이 튜토리얼은 직원 온보딩 프로세스를 자동화하기 위한 AWS Step Function을 생성하는 방법을 보여줍니다. Serverless Framework와 Serverless Step Functions 플러그인을 활용하여 작업, 분기 논리, 오류 처리를 포함한 복잡한 워크플로우를 정의하고 배포하여 온보딩 프로세스를 효율적이고 확장 가능하게 만들 수 있습니다.","ogImage":{"url":"/assets/img/2024-06-30-BuildinganAWSStepFunctionforEmployeeOnboardingProcess_0.png"},"coverImage":"/assets/img/2024-06-30-BuildinganAWSStepFunctionforEmployeeOnboardingProcess_0.png","tag":["Tech"],"readingTime":10},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e이번 튜토리얼에서는 직원 입사 절차를 자동화하기 위해 AWS Step Function을 만들어보겠습니다. 이 과정에는 직원 레코드 작성, 문서 확인, 환영 이메일 발송, 필요 장비 할당 등이 포함됩니다.\u003c/p\u003e\n\u003ch1\u003e단계 1: 서버리스 프로젝트 설정하기\u003c/h1\u003e\n\u003cp\u003e먼저, Serverless Framework가 설치되어 있는지 확인하세요. 만약 없다면 npm을 사용하여 설치할 수 있습니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003enpm install -g serverless\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e다음으로 새로운 Serverless 프로젝트를 만들어보세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eserverless create --template aws-nodejs --path employee-onboarding\ncd employee-onboarding\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e단계 2: Serverless Step Functions 플러그인 설치하기\u003c/h1\u003e\n\u003cp\u003e프로젝트에 Serverless Step Functions 플러그인을 추가해보세요. 이 플러그인은 Serverless Framework를 사용하여 Step Functions을 정의하고 배포하는 데 필요합니다.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003enpm install --save serverless-step-functions\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e단계 3: Serverless Framework 구성\u003c/h1\u003e\n\u003cp\u003eserverless.yml 파일에서 서비스를 Step Functions 플러그인을 사용하도록 구성하고 AWS 리소스와 함수를 정의합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-attr\"\u003eservice\u003c/span\u003e: employee-onboarding\n\u003cspan class=\"hljs-attr\"\u003eframeworkVersion\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'3'\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eprovider\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: aws\n  \u003cspan class=\"hljs-attr\"\u003eruntime\u003c/span\u003e: nodejs18.\u003cspan class=\"hljs-property\"\u003ex\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003estage\u003c/span\u003e: ${\u003cspan class=\"hljs-attr\"\u003eopt\u003c/span\u003e:stage, \u003cspan class=\"hljs-string\"\u003e'dev'\u003c/span\u003e}\n  \u003cspan class=\"hljs-attr\"\u003eregion\u003c/span\u003e: us-east-\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003eiamRoleStatements\u003c/span\u003e:\n    - \u003cspan class=\"hljs-title class_\"\u003eEffect\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Allow\"\u003c/span\u003e\n      \u003cspan class=\"hljs-title class_\"\u003eAction\u003c/span\u003e:\n        - \u003cspan class=\"hljs-string\"\u003e\"dynamodb:*\"\u003c/span\u003e\n      \u003cspan class=\"hljs-title class_\"\u003eResource\u003c/span\u003e: !\u003cspan class=\"hljs-title class_\"\u003eGetAtt\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eEmployeeTable\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eArn\u003c/span\u003e\n    - \u003cspan class=\"hljs-title class_\"\u003eEffect\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Allow\"\u003c/span\u003e\n      \u003cspan class=\"hljs-title class_\"\u003eAction\u003c/span\u003e:\n        - \u003cspan class=\"hljs-string\"\u003e\"sns:*\"\u003c/span\u003e\n      \u003cspan class=\"hljs-title class_\"\u003eResource\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"arn:aws:sns:us-east-1:*:NotifyEmployee\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003efunctions\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003ecreateEmployeeRecord\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003ehandler\u003c/span\u003e: handler.\u003cspan class=\"hljs-property\"\u003ecreateEmployeeRecord\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eenvironment\u003c/span\u003e:\n      \u003cspan class=\"hljs-attr\"\u003eEMPLOYEE_TABLE\u003c/span\u003e: !\u003cspan class=\"hljs-title class_\"\u003eRef\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eEmployeeTable\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003everifyDocuments\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003ehandler\u003c/span\u003e: handler.\u003cspan class=\"hljs-property\"\u003everifyDocuments\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003esendWelcomeEmail\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003ehandler\u003c/span\u003e: handler.\u003cspan class=\"hljs-property\"\u003esendWelcomeEmail\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003eassignEquipment\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003ehandler\u003c/span\u003e: handler.\u003cspan class=\"hljs-property\"\u003eassignEquipment\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eplugins\u003c/span\u003e:\n  - serverless-step-functions\n\u003cspan class=\"hljs-attr\"\u003estepFunctions\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003estateMachines\u003c/span\u003e:\n    \u003cspan class=\"hljs-title class_\"\u003eEmployeeOnboardingStateMachine\u003c/span\u003e:\n      \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eEmployeeOnboardingStateMachine\u003c/span\u003e\n      \u003cspan class=\"hljs-attr\"\u003edefinition\u003c/span\u003e:\n        \u003cspan class=\"hljs-title class_\"\u003eComment\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"A state machine for onboarding new employees.\"\u003c/span\u003e\n        \u003cspan class=\"hljs-title class_\"\u003eStartAt\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eCreateEmployeeRecord\u003c/span\u003e\n        \u003cspan class=\"hljs-title class_\"\u003eStates\u003c/span\u003e:\n          \u003cspan class=\"hljs-title class_\"\u003eCreateEmployeeRecord\u003c/span\u003e:\n            \u003cspan class=\"hljs-title class_\"\u003eType\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eTask\u003c/span\u003e\n            \u003cspan class=\"hljs-title class_\"\u003eResource\u003c/span\u003e: !\u003cspan class=\"hljs-title class_\"\u003eGetAtt\u003c/span\u003e createEmployeeRecord.\u003cspan class=\"hljs-property\"\u003eArn\u003c/span\u003e\n            \u003cspan class=\"hljs-title class_\"\u003eResultPath\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"$.employee\"\u003c/span\u003e\n            \u003cspan class=\"hljs-title class_\"\u003eNext\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eVerifyDocuments\u003c/span\u003e\n          \u003cspan class=\"hljs-title class_\"\u003eVerifyDocuments\u003c/span\u003e:\n            \u003cspan class=\"hljs-title class_\"\u003eType\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eTask\u003c/span\u003e\n            \u003cspan class=\"hljs-title class_\"\u003eResource\u003c/span\u003e: !\u003cspan class=\"hljs-title class_\"\u003eGetAtt\u003c/span\u003e verifyDocuments.\u003cspan class=\"hljs-property\"\u003eArn\u003c/span\u003e\n            \u003cspan class=\"hljs-title class_\"\u003eResultPath\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"$.documentVerification\"\u003c/span\u003e\n            \u003cspan class=\"hljs-title class_\"\u003eNext\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eDocumentCheck\u003c/span\u003e\n          \u003cspan class=\"hljs-title class_\"\u003eDocumentCheck\u003c/span\u003e:\n            \u003cspan class=\"hljs-title class_\"\u003eType\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eChoice\u003c/span\u003e\n            \u003cspan class=\"hljs-title class_\"\u003eChoices\u003c/span\u003e:\n              - \u003cspan class=\"hljs-title class_\"\u003eVariable\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"$.documentVerification.status\"\u003c/span\u003e\n                \u003cspan class=\"hljs-title class_\"\u003eStringEquals\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"verified\"\u003c/span\u003e\n                \u003cspan class=\"hljs-title class_\"\u003eNext\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eSendWelcomeEmail\u003c/span\u003e\n            \u003cspan class=\"hljs-title class_\"\u003eDefault\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eDocumentError\u003c/span\u003e\n          \u003cspan class=\"hljs-title class_\"\u003eDocumentError\u003c/span\u003e:\n            \u003cspan class=\"hljs-title class_\"\u003eType\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003ePass\u003c/span\u003e\n            \u003cspan class=\"hljs-title class_\"\u003eResult\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Document verification failed\"\u003c/span\u003e\n            \u003cspan class=\"hljs-title class_\"\u003eEnd\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e\n          \u003cspan class=\"hljs-title class_\"\u003eSendWelcomeEmail\u003c/span\u003e:\n            \u003cspan class=\"hljs-title class_\"\u003eType\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eTask\u003c/span\u003e\n            \u003cspan class=\"hljs-title class_\"\u003eResource\u003c/span\u003e: !\u003cspan class=\"hljs-title class_\"\u003eGetAtt\u003c/span\u003e sendWelcomeEmail.\u003cspan class=\"hljs-property\"\u003eArn\u003c/span\u003e\n            \u003cspan class=\"hljs-title class_\"\u003eResultPath\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"$.emailStatus\"\u003c/span\u003e\n            \u003cspan class=\"hljs-title class_\"\u003eNext\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eAssignEquipment\u003c/span\u003e\n          \u003cspan class=\"hljs-title class_\"\u003eAssignEquipment\u003c/span\u003e:\n            \u003cspan class=\"hljs-title class_\"\u003eType\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eTask\u003c/span\u003e\n            \u003cspan class=\"hljs-title class_\"\u003eResource\u003c/span\u003e: !\u003cspan class=\"hljs-title class_\"\u003eGetAtt\u003c/span\u003e assignEquipment.\u003cspan class=\"hljs-property\"\u003eArn\u003c/span\u003e\n            \u003cspan class=\"hljs-title class_\"\u003eResultPath\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"$.equipmentStatus\"\u003c/span\u003e\n            \u003cspan class=\"hljs-title class_\"\u003eEnd\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eresources\u003c/span\u003e:\n  \u003cspan class=\"hljs-title class_\"\u003eResources\u003c/span\u003e:\n    \u003cspan class=\"hljs-title class_\"\u003eEmployeeTable\u003c/span\u003e:\n      \u003cspan class=\"hljs-title class_\"\u003eType\u003c/span\u003e: \u003cspan class=\"hljs-attr\"\u003eAWS\u003c/span\u003e::\u003cspan class=\"hljs-title class_\"\u003eDynamoDB\u003c/span\u003e::\u003cspan class=\"hljs-title class_\"\u003eTable\u003c/span\u003e\n      \u003cspan class=\"hljs-title class_\"\u003eProperties\u003c/span\u003e:\n        \u003cspan class=\"hljs-title class_\"\u003eTableName\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eEmployeeTable\u003c/span\u003e-${\u003cspan class=\"hljs-attr\"\u003eself\u003c/span\u003e:provider.\u003cspan class=\"hljs-property\"\u003estage\u003c/span\u003e}\n        \u003cspan class=\"hljs-title class_\"\u003eAttributeDefinitions\u003c/span\u003e:\n          - \u003cspan class=\"hljs-title class_\"\u003eAttributeName\u003c/span\u003e: employeeId\n            \u003cspan class=\"hljs-title class_\"\u003eAttributeType\u003c/span\u003e: S\n        \u003cspan class=\"hljs-title class_\"\u003eKeySchema\u003c/span\u003e:\n          - \u003cspan class=\"hljs-title class_\"\u003eAttributeName\u003c/span\u003e: employeeId\n            \u003cspan class=\"hljs-title class_\"\u003eKeyType\u003c/span\u003e: \u003cspan class=\"hljs-variable constant_\"\u003eHASH\u003c/span\u003e\n        \u003cspan class=\"hljs-title class_\"\u003eBillingMode\u003c/span\u003e: \u003cspan class=\"hljs-variable constant_\"\u003ePAY_PER_REQUEST\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003e상태 머신의 자세한 설명\u003c/h1\u003e\n\u003ch2\u003e1. CreateEmployeeRecord\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e유형: 작업\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ecreateEmployeeRecord 람다 함수를 호출하여 작업 수행\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e리소스: !GetAtt createEmployeeRecord.Arn\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ecreateEmployeeRecord 람다 함수의 ARN\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eResultPath: $.employee\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e이 작업의 출력을 상태 입력의 employee 필드에 저장\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e다음: VerifyDocuments\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e이 작업이 완료된 후 VerifyDocuments 상태로 전환\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003e2. VerifyDocuments\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003everifyDocuments Lambda 기능을 호출하여 작업을 수행합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e3. DocumentCheck\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e유형: Choice\u003c/li\u003e\n\u003cli\u003e변수 값에 따라 분기 로직을 추가합니다.\u003c/li\u003e\n\u003cli\u003e선택지:\n\u003cul\u003e\n\u003cli\u003edocumentVerification.status 필드를 평가합니다.\u003c/li\u003e\n\u003cli\u003e값이 확인된 경우 SendWelcomeEmail 상태로 전환합니다.\u003c/li\u003e\n\u003cli\u003e기본값: DocumentError\u003c/li\u003e\n\u003cli\u003e선택지와 일치하는 것이 없는 경우 DocumentError 상태로 전환합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003e4. DocumentError\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e유형: Pass\u003c/li\u003e\n\u003cli\u003e입력을 수정하지 않고 출력으로 전달합니다.\u003c/li\u003e\n\u003cli\u003e결과: \"문서 검증 실패\"\u003c/li\u003e\n\u003cli\u003e이 상태의 출력 값입니다.\u003c/li\u003e\n\u003cli\u003e종료: true\u003c/li\u003e\n\u003cli\u003e이 상태를 최종 상태로 표시합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e5. SendWelcomeEmail\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003esendWelcomeEmail Lambda 함수를 호출하여 작업을 수행합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003e6. 장비할당\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eassignEquipment 람다 함수를 호출하여 작업을 수행합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e단계 4: 람다 함수 구현\u003c/h1\u003e\n\u003cp\u003ehandler.js 파일을 만들어 람다 함수를 정의하세요.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e직원 레코드 생성\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-meta\"\u003e'use strict'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eAWS\u003c/span\u003e = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'aws-sdk'\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e docClient = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eAWS\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eDynamoDB\u003c/span\u003e.\u003cspan class=\"hljs-title class_\"\u003eDocumentClient\u003c/span\u003e();\n\u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eexports\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ecreateEmployeeRecord\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (event) =\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eEMPLOYEE_TABLE\u003c/span\u003e = process.\u003cspan class=\"hljs-property\"\u003eenv\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eEMPLOYEE_TABLE\u003c/span\u003e;\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e employee = \u003cspan class=\"hljs-title class_\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eparse\u003c/span\u003e(event.\u003cspan class=\"hljs-property\"\u003ebody\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e params = {\n    \u003cspan class=\"hljs-title class_\"\u003eTableName\u003c/span\u003e: \u003cspan class=\"hljs-variable constant_\"\u003eEMPLOYEE_TABLE\u003c/span\u003e,\n    \u003cspan class=\"hljs-title class_\"\u003eItem\u003c/span\u003e: {\n      \u003cspan class=\"hljs-attr\"\u003eemployeeId\u003c/span\u003e: employee.\u003cspan class=\"hljs-property\"\u003eemployeeId\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: employee.\u003cspan class=\"hljs-property\"\u003ename\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003erole\u003c/span\u003e: employee.\u003cspan class=\"hljs-property\"\u003erole\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003eemail\u003c/span\u003e: employee.\u003cspan class=\"hljs-property\"\u003eemail\u003c/span\u003e,\n    },\n  };\n  \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e docClient.\u003cspan class=\"hljs-title function_\"\u003eput\u003c/span\u003e(params).\u003cspan class=\"hljs-title function_\"\u003epromise\u003c/span\u003e();\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n    \u003cspan class=\"hljs-attr\"\u003estatusCode\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ebody\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003estringify\u003c/span\u003e(employee),\n  };\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e문서 확인\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eexports\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003everifyDocuments\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (event) =\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { employeeId, documents } = \u003cspan class=\"hljs-title class_\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eparse\u003c/span\u003e(event.\u003cspan class=\"hljs-property\"\u003ebody\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e status = documents \u0026#x26;\u0026#x26; documents.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e \u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e ? \u003cspan class=\"hljs-string\"\u003e'verified'\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e'unverified'\u003c/span\u003e;\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n    \u003cspan class=\"hljs-attr\"\u003estatusCode\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ebody\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003estringify\u003c/span\u003e({ employeeId, status }),\n  };\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e↓\u003c/p\u003e\n\u003cp\u003e웰컴 이메일 전송\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e sns = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eAWS\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eSNS\u003c/span\u003e();\n\u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eexports\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003esendWelcomeEmail\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (event) =\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { email } = \u003cspan class=\"hljs-title class_\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eparse\u003c/span\u003e(event.\u003cspan class=\"hljs-property\"\u003ebody\u003c/span\u003e).\u003cspan class=\"hljs-property\"\u003eemployee\u003c/span\u003e;\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e params = {\n    \u003cspan class=\"hljs-title class_\"\u003eMessage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'회사에 오신 것을 환영합니다!'\u003c/span\u003e,\n    \u003cspan class=\"hljs-title class_\"\u003eSubject\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'환영합니다'\u003c/span\u003e,\n    \u003cspan class=\"hljs-title class_\"\u003eTopicArn\u003c/span\u003e: process.\u003cspan class=\"hljs-property\"\u003eenv\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eSNS_TOPIC_ARN\u003c/span\u003e,\n  };\n  \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e sns.\u003cspan class=\"hljs-title function_\"\u003epublish\u003c/span\u003e(params).\u003cspan class=\"hljs-title function_\"\u003epromise\u003c/span\u003e();\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n    \u003cspan class=\"hljs-attr\"\u003estatusCode\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ebody\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003estringify\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'이메일 전송됨'\u003c/span\u003e }),\n  };\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e장비 할당\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eexports\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eassignEquipment\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (event) =\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { employeeId } = \u003cspan class=\"hljs-title class_\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eparse\u003c/span\u003e(event.\u003cspan class=\"hljs-property\"\u003ebody\u003c/span\u003e);\n  \u003cspan class=\"hljs-comment\"\u003e// 장비 로직 여기에 작성\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n    \u003cspan class=\"hljs-attr\"\u003estatusCode\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ebody\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003estringify\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'장비 할당됨'\u003c/span\u003e, employeeId }),\n  };\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003e단계 4: 서버리스 서비스 배포하기\u003c/h1\u003e\n\u003cp\u003e서버리스.yml 파일 구성을 완료한 후 서버리스 서비스를 배포하세요. 이 단계에서는 람다 함수를 배포하고, DynamoDB 테이블과 같은 필요한 AWS 리소스를 생성하며, Step Functions 스테이트 머신을 배포합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eserverless deploy\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e배포 중에는 서버리스 프레임워크가 제공된 설정에 따라 Step Functions 스테이트 머신을 만듭니다.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003e단계 5: 상태 머신의 ARN 가져오기\u003c/h1\u003e\n\u003cp\u003e배포된 후에는 AWS 관리 콘솔 또는 CLI에서 Step Functions 상태 머신의 ARN (Amazon 리소스 이름)을 얻을 수 있습니다.\u003c/p\u003e\n\u003ch1\u003e단계 6: IAM 역할 문장 업데이트\u003c/h1\u003e\n\u003cp\u003eserverless.yml 파일의 IAM 역할 문장을 Step Functions 상태 머신의 ARN으로 업데이트하세요.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-yaml\"\u003e\u003cspan class=\"hljs-attr\"\u003eiamRoleStatements:\u003c/span\u003e\n  \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eEffect:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Allow\"\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eAction:\u003c/span\u003e\n      \u003cspan class=\"hljs-bullet\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"states:*\"\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eResource:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"arn:aws:states:us-east-1:123456789012:stateMachine:EmployeeOnboardingStateMachine\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e단계 7: 서버리스 서비스 다시 배포하기\u003c/h1\u003e\n\u003cp\u003eIAM 역할 문장을 업데이트한 후에 변경 사항을 적용하기 위해 서버리스 서비스를 다시 배포하세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-sh\"\u003eserverless deploy\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003e요약\u003c/h1\u003e\n\u003cp\u003e이 튜토리얼은 직원 온보딩 프로세스를 자동화하기 위한 AWS Step Function을 생성하는 방법을 보여줍니다. Serverless Framework와 Serverless Step Functions 플러그인을 활용하여 작업, 분기 논리, 오류 처리를 포함한 복잡한 워크플로우를 정의하고 배포하여 온보딩 프로세스를 효율적이고 확장 가능하게 만들 수 있습니다.\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-30-BuildinganAWSStepFunctionforEmployeeOnboardingProcess"},"buildId":"GsgRekSb--BvxYwv9FPn6","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>