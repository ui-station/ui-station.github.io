<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>테라폼 DevOps 안내서 보안 최상의 실천 방안 | ui-station</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://ui-station.github.io///post/2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="테라폼 DevOps 안내서 보안 최상의 실천 방안 | ui-station" data-gatsby-head="true"/><meta property="og:title" content="테라폼 DevOps 안내서 보안 최상의 실천 방안 | ui-station" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://ui-station.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://ui-station.github.io///post/2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices" data-gatsby-head="true"/><meta name="twitter:title" content="테라폼 DevOps 안내서 보안 최상의 실천 방안 | ui-station" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | ui-station" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-17 18:29" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BHFR6GTH9P"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-BHFR6GTH9P');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-70e5ce89f3d962ac.js" defer=""></script><script src="/_next/static/wOkGEDZCvEs3S_XaNsdwr/_buildManifest.js" defer=""></script><script src="/_next/static/wOkGEDZCvEs3S_XaNsdwr/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">UI STATION</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">테라폼 DevOps 안내서 보안 최상의 실천 방안</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="테라폼 DevOps 안내서 보안 최상의 실천 방안" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">UI STATION</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 17, 2024</span><span class="posts_reading_time__f7YPP">16<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<img src="/assets/img/2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices_0.png">
<h1>요약</h1>
<p>전통적으로, 인프라 구축은 수동 구성을 포함하는 시간이 많이 소요되고 오류 발생 가능성이 있는 프로세스였습니다. Terraform은 코드로 인프라를 정의할 수 있도록 함으로써 이러한 관행을 바꿉니다. HashiCorp Configuration Language (HCL)로 작성된 코드는 필요한 리소스(서버, 네트워크, 데이터베이스)와 이들의 구성을 구체화합니다. 경험이 풍부한 실무자든 초보자든, 본 안내서는 현대적인 DevOps 방법론에 대한 Terraform의 패러다임 전환적인 영향에 대한 귀중한 통찰을 제공합니다.</p>
<h1>목차</h1>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<ul>
<li>Terraform DevOps 안내서: 보안 모범 사례</li>
<li>요약</li>
<li>목차</li>
<li>소개</li>
<li>전제 조건
<ul>
<li>💡해결책💡</li>
</ul>
</li>
<li>Terraform 상태를 안전하게 유지 🫶</li>
<li>비밀 정보 안전하게 관리하기 🫶</li>
<li>역할 기반 액세스 제어 (RBAC) 구현</li>
<li>코드 리뷰와 협업 🫶</li>
<li>CI/CD 파이프라인 구현 💣</li>
<li>Terraform 모듈 및 제공업체 안전하게 사용하기 💣</li>
<li>로깅 및 모니터링 🫶</li>
<li>네트워크 보안 🫶</li>
<li>감사 및 규정 준수 👀</li>
<li>재해 복구 및 백업 👀</li>
<li>결론</li>
<li>내 정보</li>
<li>참고 문헌</li>
</ul>
<h1>소개</h1>
<p>Terraform은 인프라스트럭처의 코드 (IaC)에 대한 필수 도구로, 여러 클라우드 제공업체 간에 자원을 통합적으로 관리할 수 있게 해줍니다. 그러나 큰 권한에는 큰 책임이 따릅니다. 어떠한 구성 오류도 전체 인프라스트럭처에 영향을 줄 수 있기 때문에 보안이 매우 중요합니다.</p>
<p>전통적으로 인프라스트럭처 프로비저닝은 수동 구성을 필요로 하며, 시간이 많이 걸리고 오류가 발생하기 쉬운 과정이었습니다. Terraform은 이에 도전하여 인프라스트럭처를 코드로 정의할 수 있도록 해주는 접근법을 제공합니다. HashiCorp Configuration Language (HCL)로 작성된 코드는 필요한 리소스 (서버, 네트워크, 데이터베이스)와 그 구성을 지정합니다.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>이 기사는 Terraform의 이점에 대해 탐구하고 IaC 배포가 안전하고 신뢰할 수 있도록 보장하기 위한 필수 보안 모범 사례를 제공합니다. 우리는 다음과 같은 주요 영역을 탐색할 것입니다:</p>
<p>💣 취약점 감사: Terraform 구성에서 취약성을 예방적으로 식별하고 제거하는 방법을 배웁니다.</p>
<p>💣 접근 제어 모범 사례: 접근 자격 증명을 안전하게 관리하고 최소 권한 원칙을 시행하는 전략을 발견합니다.</p>
<p>💣 안전한 Terraform 모듈: 모듈을 안전하게 활용하고 보안을 염두에 두고 자체 모듈을 생성하는 방법을 이해합니다.</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>"IBM와 HashiCorp의 병합된 포트폴리오는 고객이 증가하는 애플리케이션 및 인프라 복잡성을 관리하고 AI 시대를 위해 설계된 포괄적인 하이브리드 클라우드 플랫폼을 만들 수 있도록 도와줍니다." - IBM 회장이자 최고 경영자인 아빈드 크리슈나가 말했습니다.</p>
<h1>준비 사항</h1>
<p>우리가 본격적인 작업에 들어가기 전에, 먼저 로컬 머신이나 개발 서버에 필요한 서비스가 있는지 확인해야 합니다:</p>
<ul>
<li>React 및 Terraform에 대한 기본 지식.</li>
<li>AWS 계정</li>
<li>GitHub 계정</li>
<li>AWS CLI 설치 및 구성 완료.</li>
<li>로컬에 Docker 설치.</li>
<li>Terraform</li>
</ul>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>💡 솔루션 💡</h2>
<p>데브옵스 환경에서 Terraform을 구현하려면 인프라스트럭처 코드(IaC) 방법론이 취약점을 도입하지 않도록 보안에 중점을 두어야 합니다.</p>
<img src="/assets/img/2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices_1.png">
<p>다음은 Terraform을 사용할 때 보안을 유지하기 위한 모베스트 프랙티스입니다:</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>테라폼 상태 보안을 강화하세요 🫶</h1>
<ul>
<li>원격 상태 저장소 사용: 상태 파일을 AWS S3, Azure Blob Storage 또는 Google Cloud Storage와 같은 원격 백엔드에 저장하여 무단 액세스를 방지하는 적절한 액세스 제어를 적용하세요.</li>
<li>상태 파일 암호화: 원격 백엔드에 저장된 상태 파일에 대해 서버 측 암호화를 활성화하세요.</li>
<li>액세스 제한: IAM 역할 및 정책을 사용하여 상태 파일에 대한 액세스를 필요한 사용자에게로 제한하세요.</li>
</ul>
<p>예시:</p>
<pre><code class="hljs language-js">variable <span class="hljs-string">"db_password"</span> {
  type    = string
  sensitive = <span class="hljs-literal">true</span>
}

data <span class="hljs-string">"terraform_remote_state"</span> <span class="hljs-string">"foo"</span> {
  backend = <span class="hljs-string">"http"</span>
  config = {
    address = <span class="hljs-string">"http://my.rest.api.com"</span>
  }
}
</code></pre>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>여기에서 더 많은 정보를 얻을 수 있습니다:</p>
<h1><strong>보안적으로 비밀을 관리하기 🫶</strong></h1>
<ul>
<li><strong>비밀 직접 코딩 피하기</strong>: Terraform 파일에 비밀번호, API 키 또는 기밀 정보와 같은 중요한 정보를 직접 코딩하지 마세요.</li>
<li><strong>시크릿 관리 도구 사용하기</strong>: HashiCorp Vault, AWS Secrets Manager 또는 Azure Key Vault와 같은 시크릿 관리 도구를 통합하여 Terraform 구성에 안전하게 시크릿을 관리하고 주입하세요.</li>
</ul>
<p>예를 들어 Azure Key Vault를 사용하여 비밀을 안전하게 관리하는 방법:</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>provider.tf</p>
<pre><code class="hljs language-js">terraform {
  required_version = <span class="hljs-string">">=1.0"</span>
  required_providers {
    azurerm = {
      source  = <span class="hljs-string">"hashicorp/azurerm"</span>
      version = <span class="hljs-string">"~>3.0"</span>
    }
    random = {
      source  = <span class="hljs-string">"hashicorp/random"</span>
      version = <span class="hljs-string">"~>3.0"</span>
    }
  }
}

provider <span class="hljs-string">"azurerm"</span> {
  features {}
}
</code></pre>
<p>main.tf</p>
<pre><code class="hljs language-js">resource <span class="hljs-string">"random_string"</span> <span class="hljs-string">"secret_value"</span> {
  length  = <span class="hljs-number">20</span>
  special = <span class="hljs-literal">true</span>
}

resource <span class="hljs-string">"azurerm_key_vault"</span> <span class="hljs-string">"vault"</span> {
  name                       = <span class="hljs-string">"my-key-vault"</span>
  location                   = <span class="hljs-string">"East US"</span>
  resource_group_name        = <span class="hljs-string">"my-resource-group"</span>
  tenant_id                  = data.<span class="hljs-property">azurerm_client_config</span>.<span class="hljs-property">current</span>.<span class="hljs-property">tenant_id</span>
  sku_name                   = <span class="hljs-string">"standard"</span>
  soft_delete_retention_days = <span class="hljs-number">7</span>

  access_policy {
    tenant_id = data.<span class="hljs-property">azurerm_client_config</span>.<span class="hljs-property">current</span>.<span class="hljs-property">tenant_id</span>
    object_id = local.<span class="hljs-property">current_user_id</span>
    secret_permissions = [<span class="hljs-string">"get"</span>, <span class="hljs-string">"list"</span>]
  }
}

resource <span class="hljs-string">"azurerm_key_vault_secret"</span> <span class="hljs-string">"my_secret"</span> {
  name         = <span class="hljs-string">"my-secret"</span>
  value        = random_string.<span class="hljs-property">secret_value</span>.<span class="hljs-property">result</span>
  key_vault_id = azurerm_key_vault.<span class="hljs-property">vault</span>.<span class="hljs-property">id</span>
}

data <span class="hljs-string">"azurerm_client_config"</span> <span class="hljs-string">"current"</span> {}
</code></pre>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>Role-Based Access Control (RBAC) 구현</h1>
<ul>
<li>IAM 정책 사용: 사용자 및 서비스가 필요한 권한만 갖도록 IAM 정책을 정의하고 강제합니다.</li>
<li>역할 분리: 각 단계 (개발, 스테이징, 프로덕션)에 대해 서로 다른 역할을 사용하고 최소 권한의 원칙을 적용합니다.</li>
</ul>
<p>예를 들어 Azure 리소스를 위한 Role-Based Access Control (RBAC) :</p>
<pre><code class="hljs language-js">terraform {
  required_providers {
    azurerm = {
      source  = <span class="hljs-string">"hashicorp/azurerm"</span>
      version = <span class="hljs-string">"~>2.0"</span>
    }
    azuread = {
      source = <span class="hljs-string">"hashicorp/azuread"</span>
    }
  }
}

provider <span class="hljs-string">"azurerm"</span> {
  features {}
}

<span class="hljs-comment">// main.tf</span>
data <span class="hljs-string">"azuread_user"</span> <span class="hljs-string">"aad_user"</span> {
  for_each            = <span class="hljs-title function_">toset</span>(<span class="hljs-keyword">var</span>.<span class="hljs-property">avd_users</span>)
  user_principal_name = <span class="hljs-title function_">format</span>(<span class="hljs-string">"%s"</span>, each.<span class="hljs-property">key</span>)
}

data <span class="hljs-string">"azurerm_role_definition"</span> <span class="hljs-string">"role"</span> {
  name = <span class="hljs-string">"Desktop Virtualization User"</span>
}

resource <span class="hljs-string">"azuread_group"</span> <span class="hljs-string">"aad_group"</span> {
  display_name     = <span class="hljs-keyword">var</span>.<span class="hljs-property">aad_group_name</span>
  security_enabled = <span class="hljs-literal">true</span>
}

resource <span class="hljs-string">"azuread_group_member"</span> <span class="hljs-string">"aad_group_member"</span> {
  for_each         = data.<span class="hljs-property">azuread_user</span>.<span class="hljs-property">aad_user</span>
  group_object_id  = azuread_group.<span class="hljs-property">aad_group</span>.<span class="hljs-property">id</span>
  member_object_id = each.<span class="hljs-property">value</span>[<span class="hljs-string">"id"</span>]
}

resource <span class="hljs-string">"azurerm_role_assignment"</span> <span class="hljs-string">"role"</span> {
  scope              = azurerm_virtual_desktop_application_group.<span class="hljs-property">dag</span>.<span class="hljs-property">id</span>
  role_definition_id = data.<span class="hljs-property">azurerm_role_definition</span>.<span class="hljs-property">role</span>.<span class="hljs-property">id</span>
  principal_id       = azuread_group.<span class="hljs-property">aad_group</span>.<span class="hljs-property">id</span>
}
</code></pre>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>코드 리뷰 및 협업 🫶</h1>
<ul>
<li>버전 관리 사용: 테라폼 구성을 Git과 같은 버전 관리 시스템(VCS)에 저장하세요.</li>
<li>코드 리뷰: 잠재적인 보안 문제를 미리 발견하기 위해 테라폼 구성에 대한 모든 변경에 대해 필수 코드 리뷰를 실시하세요.</li>
<li>풀 리퀘스트: 변경 사항을 본 브랜치로 병합하기 전에 리뷰 및 토론하기 위해 풀 리퀘스트를 사용하세요.</li>
</ul>
<h1>CI/CD 파이프라인 구현 💣</h1>
<pre><code class="hljs language-js"><span class="hljs-attr">name</span>: 테라폼 <span class="hljs-variable constant_">CI</span>/<span class="hljs-variable constant_">CD</span>

<span class="hljs-attr">on</span>:
  <span class="hljs-attr">push</span>:
    <span class="hljs-attr">branches</span>:
      - main
  <span class="hljs-attr">pull_request</span>:
    <span class="hljs-attr">branches</span>:
      - main

<span class="hljs-attr">env</span>:
  <span class="hljs-attr">ARM_CLIENT_ID</span>: ${ secrets.<span class="hljs-property">ARM_CLIENT_ID</span> }
  <span class="hljs-attr">ARM_CLIENT_SECRET</span>: ${ secrets.<span class="hljs-property">ARM_CLIENT_SECRET</span> }
  <span class="hljs-attr">ARM_SUBSCRIPTION_ID</span>: ${ secrets.<span class="hljs-property">ARM_SUBSCRIPTION_ID</span> }
  <span class="hljs-attr">ARM_TENANT_ID</span>: ${ secrets.<span class="hljs-property">ARM_TENANT_ID</span> }
  <span class="hljs-attr">TF_VAR_client_id</span>: ${ secrets.<span class="hljs-property">ARM_CLIENT_ID</span> }
  <span class="hljs-attr">TF_VAR_client_secret</span>: ${ secrets.<span class="hljs-property">ARM_CLIENT_SECRET</span> }
  <span class="hljs-attr">TF_VAR_subscription_id</span>: ${ secrets.<span class="hljs-property">ARM_SUBSCRIPTION_ID</span> }
  <span class="hljs-attr">TF_VAR_tenant_id</span>: ${ secrets.<span class="hljs-property">ARM_TENANT_ID</span> }

<span class="hljs-attr">jobs</span>:
  <span class="hljs-attr">terraform</span>:
    <span class="hljs-attr">name</span>: <span class="hljs-string">'테라폼'</span>
    runs-<span class="hljs-attr">on</span>: ubuntu-latest

    <span class="hljs-attr">steps</span>:
      - <span class="hljs-attr">name</span>: 코드 체크아웃
        <span class="hljs-attr">uses</span>: actions/checkout@v2

      - <span class="hljs-attr">name</span>: 테라폼 설정
        <span class="hljs-attr">uses</span>: hashicorp/setup-terraform@v2
        <span class="hljs-attr">with</span>:
          <span class="hljs-attr">terraform_version</span>: <span class="hljs-number">1.3</span><span class="hljs-number">.7</span>

      - <span class="hljs-attr">name</span>: 테라폼 초기화
        <span class="hljs-attr">run</span>: terraform init

      - <span class="hljs-attr">name</span>: 테라폼 포맷
        <span class="hljs-attr">run</span>: terraform fmt -check

      - <span class="hljs-attr">name</span>: 테라폼 유효성 검사
        <span class="hljs-attr">run</span>: terraform validate

      - <span class="hljs-attr">name</span>: 테라폼 계획
        <span class="hljs-attr">id</span>: plan
        <span class="hljs-attr">run</span>: terraform plan -out=plan.<span class="hljs-property">tfplan</span>
        <span class="hljs-keyword">continue</span>-on-<span class="hljs-attr">error</span>: <span class="hljs-literal">true</span>

      - <span class="hljs-attr">name</span>: 테라폼 적용
        <span class="hljs-attr">if</span>: github.<span class="hljs-property">ref</span> == <span class="hljs-string">'refs/heads/main'</span> &#x26;&#x26; github.<span class="hljs-property">event_name</span> == <span class="hljs-string">'push'</span>
        <span class="hljs-attr">run</span>: terraform apply -auto-approve plan.<span class="hljs-property">tfplan</span>

      - <span class="hljs-attr">name</span>: 테라폼 삭제 (옵션)
        <span class="hljs-attr">if</span>: github.<span class="hljs-property">event_name</span> == <span class="hljs-string">'pull_request'</span> &#x26;&#x26; github.<span class="hljs-property">event</span>.<span class="hljs-property">action</span> == <span class="hljs-string">'closed'</span> &#x26;&#x26; github.<span class="hljs-property">event</span>.<span class="hljs-property">pull_request</span>.<span class="hljs-property">merged</span> == <span class="hljs-literal">false</span>
        <span class="hljs-attr">run</span>: terraform destroy -auto-approve
</code></pre>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<ul>
<li>배포 자동화: CI/CD 파이프라인을 사용하여 Terraform 배포를 자동화하여 일관성을 유지하고 인간 에러의 위험을 줄입니다.</li>
<li>취약점 검사: CI/CD 파이프라인에 보안 스캔 도구를 통합하여 배포 전에 Terraform 구성에서 취약점을 감지합니다.</li>
</ul>
<h1>Terraform 모듈과 프로바이더 안전하게 사용하기 💣</h1>
<ul>
<li>프로바이더 확인: Terraform 레지스트리 또는 신뢰할 수 있는 소스에서 확인된 프로바이더와 모듈만 사용합니다.</li>
<li>버전 핀: 프로바이더와 모듈의 버전을 핀하여 상위 업데이트로 인한 의도하지 않은 변경을 방지합니다.</li>
<li>코드 검토: 모듈과 프로바이더의 코드를 정기적으로 검토하고 감사하여 보안 위험을 방지합니다.</li>
</ul>
<p>예시:</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js"><span class="hljs-variable language_">module</span> <span class="hljs-string">"network"</span> {
  source  = <span class="hljs-string">"terraform-azure-modules/network/azurerm"</span>
  version = <span class="hljs-string">"2.0.0"</span>
  # 기타 모듈 입력 값
}
</code></pre>
<h1>로깅 및 모니터링 🫶</h1>
<ul>
<li>로깅 활성화: 테라폼에서 수행되는 모든 작업이 로깅되고, 이러한 로그가 이상 활동을 모니터링하는 데 사용될 수 있도록 합니다.</li>
<li>상태 변경 모니터링: 테라폼 상태 및 인프라 변경에 대한 경보를 설정하여 무단 수정에 신속하게 대응할 수 있도록 합니다.</li>
</ul>
<h1>네트워크 보안 🫶</h1>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<ul>
<li>VPC 및 서브넷 사용: 가상 사설 클라우드(VPC) 및 서브넷을 이용하여 리소스를 격리하도록 네트워크 아키텍처를 설계하세요.</li>
<li>보안 그룹 및 방화벽: 엄격한 보안 그룹 규칙과 네트워크 방화벽 정책을 적용하여 트래픽 흐름을 제어하고 노출을 제한하세요.</li>
</ul>
<h1>감사 및 규정 준수 👀</h1>
<ul>
<li>정기 감사: Terraform 구성 및 배포된 인프라의 보안 감사와 규정 준수 점검을 정기적으로 수행하세요.</li>
<li>규정 준수 코드: 규정 준수를 보장하기 위해 Terraform 구성에 규정 준수 점검을 통합하세요. regulatory and organizational standards을 준수합니다.</li>
</ul>
<h1>재해 복구 및 백업 👀</h1>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js">provider <span class="hljs-string">"azurerm"</span> {
  features {}
}

resource <span class="hljs-string">"azurerm_resource_group"</span> <span class="hljs-string">"rg"</span> {
  name     = <span class="hljs-keyword">var</span>.<span class="hljs-property">resource_group_name</span>
  location = <span class="hljs-keyword">var</span>.<span class="hljs-property">location</span>
}

resource <span class="hljs-string">"azurerm_recovery_services_vault"</span> <span class="hljs-string">"recovery_vault"</span> {
  name                = <span class="hljs-string">"myRecoveryServicesVault"</span>
  resource_group_name = azurerm_resource_group.<span class="hljs-property">rg</span>.<span class="hljs-property">name</span>
  location            = azurerm_resource_group.<span class="hljs-property">rg</span>.<span class="hljs-property">location</span>
  sku                 = <span class="hljs-string">"Standard"</span>
}

resource <span class="hljs-string">"azurerm_backup_policy_vm"</span> <span class="hljs-string">"backup_policy"</span> {
  name                = <span class="hljs-string">"myBackupPolicy"</span>
  resource_group_name = azurerm_resource_group.<span class="hljs-property">rg</span>.<span class="hljs-property">name</span>
  recovery_vault_name = azurerm_recovery_services_vault.<span class="hljs-property">recovery_vault</span>.<span class="hljs-property">name</span>

  backup {
    frequency = <span class="hljs-string">"Daily"</span>
    time      = <span class="hljs-string">"23:00"</span>
  }

  retention_daily {
    count = <span class="hljs-number">7</span>
  }
}

resource <span class="hljs-string">"azurerm_kubernetes_cluster"</span> <span class="hljs-string">"aks"</span> {
  name                = <span class="hljs-keyword">var</span>.<span class="hljs-property">aks_name</span>
  location            = azurerm_resource_group.<span class="hljs-property">rg</span>.<span class="hljs-property">location</span>
  resource_group_name = azurerm_resource_group.<span class="hljs-property">rg</span>.<span class="hljs-property">name</span>
  dns_prefix          = <span class="hljs-keyword">var</span>.<span class="hljs-property">dns_prefix</span>

  default_node_pool {
    name       = <span class="hljs-string">"default"</span>
    node_count = <span class="hljs-keyword">var</span>.<span class="hljs-property">node_count</span>
    vm_size    = <span class="hljs-keyword">var</span>.<span class="hljs-property">vm_size</span>
  }

  identity {
    type = <span class="hljs-string">"SystemAssigned"</span>
  }

  tags = {
    environment = <span class="hljs-string">"Production"</span>
  }
}

resource <span class="hljs-string">"azurerm_log_analytics_workspace"</span> <span class="hljs-string">"log_analytics"</span> {
  name                = <span class="hljs-keyword">var</span>.<span class="hljs-property">log_analytics_workspace_name</span>
  location            = azurerm_resource_group.<span class="hljs-property">rg</span>.<span class="hljs-property">location</span>
  resource_group_name = azurerm_resource_group.<span class="hljs-property">rg</span>.<span class="hljs-property">name</span>
  sku                 = <span class="hljs-string">"PerGB2018"</span>
  retention_in_days   = <span class="hljs-number">30</span>
}

resource <span class="hljs-string">"azurerm_kubernetes_cluster_node_pool"</span> <span class="hljs-string">"node_pool"</span> {
  name                  = <span class="hljs-string">"additionalpool"</span>
  kubernetes_cluster_id = azurerm_kubernetes_cluster.<span class="hljs-property">aks</span>.<span class="hljs-property">id</span>
  vm_size               = <span class="hljs-string">"Standard_DS2_v2"</span>
  node_count            = <span class="hljs-number">1</span>
}

resource <span class="hljs-string">"azurerm_backup_protected_vm"</span> <span class="hljs-string">"protected_vm"</span> {
  resource_group_name = azurerm_resource_group.<span class="hljs-property">rg</span>.<span class="hljs-property">name</span>
  recovery_vault_name = azurerm_recovery_services_vault.<span class="hljs-property">recovery_vault</span>.<span class="hljs-property">name</span>
  source_vm_id        = azurerm_kubernetes_cluster.<span class="hljs-property">aks</span>.<span class="hljs-property">id</span>
  backup_policy_id    = azurerm_backup_policy_vm.<span class="hljs-property">backup_policy</span>.<span class="hljs-property">id</span>
}
</code></pre>
<ul>
<li>백업 상태 파일: 우연한 삭제나 손상으로부터 회복할 수 있도록 Terraform 상태 파일을 정기적으로 백업합니다.</li>
<li>재해 복구 계획: 재해 복구 계획을 개발하고 테스트하여 치명적인 장애 발생 시 Terraform을 사용하여 인프라를 복원할 수 있도록 합니다.</li>
</ul>
<p>이런 모범 사례를 따르면 Terraform으로 관리되는 인프라의 보안을 크게 향상시키고 잠재적인 취약점과 잘못된 구성의 위험을 줄일 수 있습니다.</p>
<p>고려해야 할 몇 가지 부가 사항이 있습니다:</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<ul>
<li>데이터의 존속중 암호화 #1 — 서버 측 암호화는 데이터를 적절히 보호하지만, 특히 환경 간 전송 시 상태 파일을 암호화하는 것을 고려해보세요. 👑</li>
<li>서비스 계정에 대한 최소 권한 부여 #2 — Terraform과 서비스 계정을 사용할 때, 해당 계정이 특정 작업에 필요한 최소한의 권한을 갖도록하십시오.</li>
<li>인프라 제거 테스트 #3 — 자동화된 테스트를 CI/CD 파이프라인에 포함하여 Terraform이 인프라를 안전하게 제거할 수 있는지 확인하세요. 재해 복구 시나리오에 중요합니다. 👑</li>
<li>최신 유지 #3 — 정기적으로 Terraform 자체, 모듈 및 프로바이더를 업데이트하여 보안 패치와 버그 수정의 이점을 누리세요.</li>
</ul>
<h1>결론</h1>
<p>DevOps 환경에서 Terraform을 보안하는 데 이러한 모범 사례를 따르면 리스크를 최소화하고 인프라를 코드로 제어하는 강력한 방어수단을 확보할 수 있습니다. 안전한 상태 관리, 적절한 비밀 처리, 역할 기반 액세스 제어, 철저한 코드 리뷰, 자동화된 CI/CD 파이프라인, 주시적인 로깅 및 모니터링, 엄격한 감사 및 규정 준수 프로세스 등의 조치를 시행하여 취약점에 대응하는 인프라를 강화할 수 있습니다. 궁극적으로 보안에 대한 선제적인 접근은 시스템을 안전하게 지키는 데 도움이 되는 것뿐만 아니라 조직 내 신뢰와 신뢰성을 육성할 것입니다.</p>
<p>읽어 주셔서 감사합니다! 🙌🏻 구독하고 CLAP을 꼭 눌러주세요 👏 다음 기사에서 만나요.🤘</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>나에 대해</h1>
<p>“안녕하세요! 저는 조엘 오웜보이라고 합니다. AWS 인증 클라우드 아키텍트, 백엔드 개발자, 그리고 AWS 커뮤니티 빌더입니다. 필리핀에 거주하고 있어요. 제가 가지고 있는 강점은 클라우드 아키텍처, 데브옵스 실천 방법, 그리고 고가용성 (HA) 원칙에 대한 깊은 이해를 결합한 것입니다. 제 지식을 활용하여 효율적인 기업 배포를 위해 오픈 소스 도구를 사용하여 견고하고 확장 가능한 클라우드 애플리케이션을 만들어내고 있습니다.”</p>
<p>저자(Joel O. Wembo)에 대한 더 많은 정보를 원하시면 아래 링크를 확인해주세요:</p>
<!-- ui-station 사각형 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<ul>
<li>Linkedin: <a href="https://www.linkedin.com/in/joelotepawembo/" rel="nofollow" target="_blank">https://www.linkedin.com/in/joelotepawembo/</a></li>
<li>Website: <a href="https://joelwembo.com" rel="nofollow" target="_blank">https://joelwembo.com</a></li>
<li>Twitter: <a href="https://twitter.com/joelwembo1" rel="nofollow" target="_blank">https://twitter.com/joelwembo1</a></li>
<li>GitHub: <a href="https://github.com/joelwembo" rel="nofollow" target="_blank">https://github.com/joelwembo</a></li>
<li>Portfolio: <a href="joelwembo.github.io">joelwembo.github.io</a></li>
<li><a href="https://www.patreon.com/joelwembo" rel="nofollow" target="_blank">https://www.patreon.com/joelwembo</a></li>
</ul>
<h1>References</h1>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"테라폼 DevOps 안내서 보안 최상의 실천 방안","description":"","date":"2024-05-17 18:29","slug":"2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices","content":"\n\u003cimg src=\"/assets/img/2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices_0.png\" /\u003e\n\n# 요약\n\n전통적으로, 인프라 구축은 수동 구성을 포함하는 시간이 많이 소요되고 오류 발생 가능성이 있는 프로세스였습니다. Terraform은 코드로 인프라를 정의할 수 있도록 함으로써 이러한 관행을 바꿉니다. HashiCorp Configuration Language (HCL)로 작성된 코드는 필요한 리소스(서버, 네트워크, 데이터베이스)와 이들의 구성을 구체화합니다. 경험이 풍부한 실무자든 초보자든, 본 안내서는 현대적인 DevOps 방법론에 대한 Terraform의 패러다임 전환적인 영향에 대한 귀중한 통찰을 제공합니다.\n\n# 목차\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- Terraform DevOps 안내서: 보안 모범 사례\n- 요약\n- 목차\n- 소개\n- 전제 조건\n  - 💡해결책💡\n- Terraform 상태를 안전하게 유지 🫶\n- 비밀 정보 안전하게 관리하기 🫶\n- 역할 기반 액세스 제어 (RBAC) 구현\n- 코드 리뷰와 협업 🫶\n- CI/CD 파이프라인 구현 💣\n- Terraform 모듈 및 제공업체 안전하게 사용하기 💣\n- 로깅 및 모니터링 🫶\n- 네트워크 보안 🫶\n- 감사 및 규정 준수 👀\n- 재해 복구 및 백업 👀\n- 결론\n- 내 정보\n- 참고 문헌\n\n# 소개\n\nTerraform은 인프라스트럭처의 코드 (IaC)에 대한 필수 도구로, 여러 클라우드 제공업체 간에 자원을 통합적으로 관리할 수 있게 해줍니다. 그러나 큰 권한에는 큰 책임이 따릅니다. 어떠한 구성 오류도 전체 인프라스트럭처에 영향을 줄 수 있기 때문에 보안이 매우 중요합니다.\n\n전통적으로 인프라스트럭처 프로비저닝은 수동 구성을 필요로 하며, 시간이 많이 걸리고 오류가 발생하기 쉬운 과정이었습니다. Terraform은 이에 도전하여 인프라스트럭처를 코드로 정의할 수 있도록 해주는 접근법을 제공합니다. HashiCorp Configuration Language (HCL)로 작성된 코드는 필요한 리소스 (서버, 네트워크, 데이터베이스)와 그 구성을 지정합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이 기사는 Terraform의 이점에 대해 탐구하고 IaC 배포가 안전하고 신뢰할 수 있도록 보장하기 위한 필수 보안 모범 사례를 제공합니다. 우리는 다음과 같은 주요 영역을 탐색할 것입니다:\n\n💣 취약점 감사: Terraform 구성에서 취약성을 예방적으로 식별하고 제거하는 방법을 배웁니다.\n\n💣 접근 제어 모범 사례: 접근 자격 증명을 안전하게 관리하고 최소 권한 원칙을 시행하는 전략을 발견합니다.\n\n💣 안전한 Terraform 모듈: 모듈을 안전하게 활용하고 보안을 염두에 두고 자체 모듈을 생성하는 방법을 이해합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\"IBM와 HashiCorp의 병합된 포트폴리오는 고객이 증가하는 애플리케이션 및 인프라 복잡성을 관리하고 AI 시대를 위해 설계된 포괄적인 하이브리드 클라우드 플랫폼을 만들 수 있도록 도와줍니다.\" - IBM 회장이자 최고 경영자인 아빈드 크리슈나가 말했습니다.\n\n# 준비 사항\n\n우리가 본격적인 작업에 들어가기 전에, 먼저 로컬 머신이나 개발 서버에 필요한 서비스가 있는지 확인해야 합니다:\n\n- React 및 Terraform에 대한 기본 지식.\n- AWS 계정\n- GitHub 계정\n- AWS CLI 설치 및 구성 완료.\n- 로컬에 Docker 설치.\n- Terraform\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 💡 솔루션 💡\n\n데브옵스 환경에서 Terraform을 구현하려면 인프라스트럭처 코드(IaC) 방법론이 취약점을 도입하지 않도록 보안에 중점을 두어야 합니다.\n\n\u003cimg src=\"/assets/img/2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices_1.png\" /\u003e\n\n다음은 Terraform을 사용할 때 보안을 유지하기 위한 모베스트 프랙티스입니다:\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 테라폼 상태 보안을 강화하세요 🫶\n\n- 원격 상태 저장소 사용: 상태 파일을 AWS S3, Azure Blob Storage 또는 Google Cloud Storage와 같은 원격 백엔드에 저장하여 무단 액세스를 방지하는 적절한 액세스 제어를 적용하세요.\n- 상태 파일 암호화: 원격 백엔드에 저장된 상태 파일에 대해 서버 측 암호화를 활성화하세요.\n- 액세스 제한: IAM 역할 및 정책을 사용하여 상태 파일에 대한 액세스를 필요한 사용자에게로 제한하세요.\n\n예시:\n\n```js\nvariable \"db_password\" {\n  type    = string\n  sensitive = true\n}\n\ndata \"terraform_remote_state\" \"foo\" {\n  backend = \"http\"\n  config = {\n    address = \"http://my.rest.api.com\"\n  }\n}\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n여기에서 더 많은 정보를 얻을 수 있습니다:\n\n# **보안적으로 비밀을 관리하기 🫶**\n\n- **비밀 직접 코딩 피하기**: Terraform 파일에 비밀번호, API 키 또는 기밀 정보와 같은 중요한 정보를 직접 코딩하지 마세요.\n- **시크릿 관리 도구 사용하기**: HashiCorp Vault, AWS Secrets Manager 또는 Azure Key Vault와 같은 시크릿 관리 도구를 통합하여 Terraform 구성에 안전하게 시크릿을 관리하고 주입하세요.\n\n예를 들어 Azure Key Vault를 사용하여 비밀을 안전하게 관리하는 방법:\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nprovider.tf\n\n```js\nterraform {\n  required_version = \"\u003e=1.0\"\n  required_providers {\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \"~\u003e3.0\"\n    }\n    random = {\n      source  = \"hashicorp/random\"\n      version = \"~\u003e3.0\"\n    }\n  }\n}\n\nprovider \"azurerm\" {\n  features {}\n}\n```\n\nmain.tf\n\n```js\nresource \"random_string\" \"secret_value\" {\n  length  = 20\n  special = true\n}\n\nresource \"azurerm_key_vault\" \"vault\" {\n  name                       = \"my-key-vault\"\n  location                   = \"East US\"\n  resource_group_name        = \"my-resource-group\"\n  tenant_id                  = data.azurerm_client_config.current.tenant_id\n  sku_name                   = \"standard\"\n  soft_delete_retention_days = 7\n\n  access_policy {\n    tenant_id = data.azurerm_client_config.current.tenant_id\n    object_id = local.current_user_id\n    secret_permissions = [\"get\", \"list\"]\n  }\n}\n\nresource \"azurerm_key_vault_secret\" \"my_secret\" {\n  name         = \"my-secret\"\n  value        = random_string.secret_value.result\n  key_vault_id = azurerm_key_vault.vault.id\n}\n\ndata \"azurerm_client_config\" \"current\" {}\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# Role-Based Access Control (RBAC) 구현\n\n- IAM 정책 사용: 사용자 및 서비스가 필요한 권한만 갖도록 IAM 정책을 정의하고 강제합니다.\n- 역할 분리: 각 단계 (개발, 스테이징, 프로덕션)에 대해 서로 다른 역할을 사용하고 최소 권한의 원칙을 적용합니다.\n\n예를 들어 Azure 리소스를 위한 Role-Based Access Control (RBAC) :\n\n```js\nterraform {\n  required_providers {\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \"~\u003e2.0\"\n    }\n    azuread = {\n      source = \"hashicorp/azuread\"\n    }\n  }\n}\n\nprovider \"azurerm\" {\n  features {}\n}\n\n// main.tf\ndata \"azuread_user\" \"aad_user\" {\n  for_each            = toset(var.avd_users)\n  user_principal_name = format(\"%s\", each.key)\n}\n\ndata \"azurerm_role_definition\" \"role\" {\n  name = \"Desktop Virtualization User\"\n}\n\nresource \"azuread_group\" \"aad_group\" {\n  display_name     = var.aad_group_name\n  security_enabled = true\n}\n\nresource \"azuread_group_member\" \"aad_group_member\" {\n  for_each         = data.azuread_user.aad_user\n  group_object_id  = azuread_group.aad_group.id\n  member_object_id = each.value[\"id\"]\n}\n\nresource \"azurerm_role_assignment\" \"role\" {\n  scope              = azurerm_virtual_desktop_application_group.dag.id\n  role_definition_id = data.azurerm_role_definition.role.id\n  principal_id       = azuread_group.aad_group.id\n}\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 코드 리뷰 및 협업 🫶\n\n- 버전 관리 사용: 테라폼 구성을 Git과 같은 버전 관리 시스템(VCS)에 저장하세요.\n- 코드 리뷰: 잠재적인 보안 문제를 미리 발견하기 위해 테라폼 구성에 대한 모든 변경에 대해 필수 코드 리뷰를 실시하세요.\n- 풀 리퀘스트: 변경 사항을 본 브랜치로 병합하기 전에 리뷰 및 토론하기 위해 풀 리퀘스트를 사용하세요.\n\n# CI/CD 파이프라인 구현 💣\n\n```js\nname: 테라폼 CI/CD\n\non:\n  push:\n    branches:\n      - main\n  pull_request:\n    branches:\n      - main\n\nenv:\n  ARM_CLIENT_ID: ${ secrets.ARM_CLIENT_ID }\n  ARM_CLIENT_SECRET: ${ secrets.ARM_CLIENT_SECRET }\n  ARM_SUBSCRIPTION_ID: ${ secrets.ARM_SUBSCRIPTION_ID }\n  ARM_TENANT_ID: ${ secrets.ARM_TENANT_ID }\n  TF_VAR_client_id: ${ secrets.ARM_CLIENT_ID }\n  TF_VAR_client_secret: ${ secrets.ARM_CLIENT_SECRET }\n  TF_VAR_subscription_id: ${ secrets.ARM_SUBSCRIPTION_ID }\n  TF_VAR_tenant_id: ${ secrets.ARM_TENANT_ID }\n\njobs:\n  terraform:\n    name: '테라폼'\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: 코드 체크아웃\n        uses: actions/checkout@v2\n\n      - name: 테라폼 설정\n        uses: hashicorp/setup-terraform@v2\n        with:\n          terraform_version: 1.3.7\n\n      - name: 테라폼 초기화\n        run: terraform init\n\n      - name: 테라폼 포맷\n        run: terraform fmt -check\n\n      - name: 테라폼 유효성 검사\n        run: terraform validate\n\n      - name: 테라폼 계획\n        id: plan\n        run: terraform plan -out=plan.tfplan\n        continue-on-error: true\n\n      - name: 테라폼 적용\n        if: github.ref == 'refs/heads/main' \u0026\u0026 github.event_name == 'push'\n        run: terraform apply -auto-approve plan.tfplan\n\n      - name: 테라폼 삭제 (옵션)\n        if: github.event_name == 'pull_request' \u0026\u0026 github.event.action == 'closed' \u0026\u0026 github.event.pull_request.merged == false\n        run: terraform destroy -auto-approve\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- 배포 자동화: CI/CD 파이프라인을 사용하여 Terraform 배포를 자동화하여 일관성을 유지하고 인간 에러의 위험을 줄입니다.\n- 취약점 검사: CI/CD 파이프라인에 보안 스캔 도구를 통합하여 배포 전에 Terraform 구성에서 취약점을 감지합니다.\n\n# Terraform 모듈과 프로바이더 안전하게 사용하기 💣\n\n- 프로바이더 확인: Terraform 레지스트리 또는 신뢰할 수 있는 소스에서 확인된 프로바이더와 모듈만 사용합니다.\n- 버전 핀: 프로바이더와 모듈의 버전을 핀하여 상위 업데이트로 인한 의도하지 않은 변경을 방지합니다.\n- 코드 검토: 모듈과 프로바이더의 코드를 정기적으로 검토하고 감사하여 보안 위험을 방지합니다.\n\n예시:\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nmodule \"network\" {\n  source  = \"terraform-azure-modules/network/azurerm\"\n  version = \"2.0.0\"\n  # 기타 모듈 입력 값\n}\n```\n\n# 로깅 및 모니터링 🫶\n\n- 로깅 활성화: 테라폼에서 수행되는 모든 작업이 로깅되고, 이러한 로그가 이상 활동을 모니터링하는 데 사용될 수 있도록 합니다.\n- 상태 변경 모니터링: 테라폼 상태 및 인프라 변경에 대한 경보를 설정하여 무단 수정에 신속하게 대응할 수 있도록 합니다.\n\n# 네트워크 보안 🫶\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- VPC 및 서브넷 사용: 가상 사설 클라우드(VPC) 및 서브넷을 이용하여 리소스를 격리하도록 네트워크 아키텍처를 설계하세요.\n- 보안 그룹 및 방화벽: 엄격한 보안 그룹 규칙과 네트워크 방화벽 정책을 적용하여 트래픽 흐름을 제어하고 노출을 제한하세요.\n\n# 감사 및 규정 준수 👀\n\n- 정기 감사: Terraform 구성 및 배포된 인프라의 보안 감사와 규정 준수 점검을 정기적으로 수행하세요.\n- 규정 준수 코드: 규정 준수를 보장하기 위해 Terraform 구성에 규정 준수 점검을 통합하세요. regulatory and organizational standards을 준수합니다.\n\n# 재해 복구 및 백업 👀\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nprovider \"azurerm\" {\n  features {}\n}\n\nresource \"azurerm_resource_group\" \"rg\" {\n  name     = var.resource_group_name\n  location = var.location\n}\n\nresource \"azurerm_recovery_services_vault\" \"recovery_vault\" {\n  name                = \"myRecoveryServicesVault\"\n  resource_group_name = azurerm_resource_group.rg.name\n  location            = azurerm_resource_group.rg.location\n  sku                 = \"Standard\"\n}\n\nresource \"azurerm_backup_policy_vm\" \"backup_policy\" {\n  name                = \"myBackupPolicy\"\n  resource_group_name = azurerm_resource_group.rg.name\n  recovery_vault_name = azurerm_recovery_services_vault.recovery_vault.name\n\n  backup {\n    frequency = \"Daily\"\n    time      = \"23:00\"\n  }\n\n  retention_daily {\n    count = 7\n  }\n}\n\nresource \"azurerm_kubernetes_cluster\" \"aks\" {\n  name                = var.aks_name\n  location            = azurerm_resource_group.rg.location\n  resource_group_name = azurerm_resource_group.rg.name\n  dns_prefix          = var.dns_prefix\n\n  default_node_pool {\n    name       = \"default\"\n    node_count = var.node_count\n    vm_size    = var.vm_size\n  }\n\n  identity {\n    type = \"SystemAssigned\"\n  }\n\n  tags = {\n    environment = \"Production\"\n  }\n}\n\nresource \"azurerm_log_analytics_workspace\" \"log_analytics\" {\n  name                = var.log_analytics_workspace_name\n  location            = azurerm_resource_group.rg.location\n  resource_group_name = azurerm_resource_group.rg.name\n  sku                 = \"PerGB2018\"\n  retention_in_days   = 30\n}\n\nresource \"azurerm_kubernetes_cluster_node_pool\" \"node_pool\" {\n  name                  = \"additionalpool\"\n  kubernetes_cluster_id = azurerm_kubernetes_cluster.aks.id\n  vm_size               = \"Standard_DS2_v2\"\n  node_count            = 1\n}\n\nresource \"azurerm_backup_protected_vm\" \"protected_vm\" {\n  resource_group_name = azurerm_resource_group.rg.name\n  recovery_vault_name = azurerm_recovery_services_vault.recovery_vault.name\n  source_vm_id        = azurerm_kubernetes_cluster.aks.id\n  backup_policy_id    = azurerm_backup_policy_vm.backup_policy.id\n}\n```\n\n- 백업 상태 파일: 우연한 삭제나 손상으로부터 회복할 수 있도록 Terraform 상태 파일을 정기적으로 백업합니다.\n- 재해 복구 계획: 재해 복구 계획을 개발하고 테스트하여 치명적인 장애 발생 시 Terraform을 사용하여 인프라를 복원할 수 있도록 합니다.\n\n이런 모범 사례를 따르면 Terraform으로 관리되는 인프라의 보안을 크게 향상시키고 잠재적인 취약점과 잘못된 구성의 위험을 줄일 수 있습니다.\n\n고려해야 할 몇 가지 부가 사항이 있습니다:\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- 데이터의 존속중 암호화 #1 — 서버 측 암호화는 데이터를 적절히 보호하지만, 특히 환경 간 전송 시 상태 파일을 암호화하는 것을 고려해보세요. 👑\n- 서비스 계정에 대한 최소 권한 부여 #2 — Terraform과 서비스 계정을 사용할 때, 해당 계정이 특정 작업에 필요한 최소한의 권한을 갖도록하십시오.\n- 인프라 제거 테스트 #3 — 자동화된 테스트를 CI/CD 파이프라인에 포함하여 Terraform이 인프라를 안전하게 제거할 수 있는지 확인하세요. 재해 복구 시나리오에 중요합니다. 👑\n- 최신 유지 #3 — 정기적으로 Terraform 자체, 모듈 및 프로바이더를 업데이트하여 보안 패치와 버그 수정의 이점을 누리세요.\n\n# 결론\n\nDevOps 환경에서 Terraform을 보안하는 데 이러한 모범 사례를 따르면 리스크를 최소화하고 인프라를 코드로 제어하는 강력한 방어수단을 확보할 수 있습니다. 안전한 상태 관리, 적절한 비밀 처리, 역할 기반 액세스 제어, 철저한 코드 리뷰, 자동화된 CI/CD 파이프라인, 주시적인 로깅 및 모니터링, 엄격한 감사 및 규정 준수 프로세스 등의 조치를 시행하여 취약점에 대응하는 인프라를 강화할 수 있습니다. 궁극적으로 보안에 대한 선제적인 접근은 시스템을 안전하게 지키는 데 도움이 되는 것뿐만 아니라 조직 내 신뢰와 신뢰성을 육성할 것입니다.\n\n읽어 주셔서 감사합니다! 🙌🏻 구독하고 CLAP을 꼭 눌러주세요 👏 다음 기사에서 만나요.🤘\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 나에 대해\n\n“안녕하세요! 저는 조엘 오웜보이라고 합니다. AWS 인증 클라우드 아키텍트, 백엔드 개발자, 그리고 AWS 커뮤니티 빌더입니다. 필리핀에 거주하고 있어요. 제가 가지고 있는 강점은 클라우드 아키텍처, 데브옵스 실천 방법, 그리고 고가용성 (HA) 원칙에 대한 깊은 이해를 결합한 것입니다. 제 지식을 활용하여 효율적인 기업 배포를 위해 오픈 소스 도구를 사용하여 견고하고 확장 가능한 클라우드 애플리케이션을 만들어내고 있습니다.”\n\n저자(Joel O. Wembo)에 대한 더 많은 정보를 원하시면 아래 링크를 확인해주세요:\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- Linkedin: [https://www.linkedin.com/in/joelotepawembo/](https://www.linkedin.com/in/joelotepawembo/)\n- Website: [https://joelwembo.com](https://joelwembo.com)\n- Twitter: [https://twitter.com/joelwembo1](https://twitter.com/joelwembo1)\n- GitHub: [https://github.com/joelwembo](https://github.com/joelwembo)\n- Portfolio: [joelwembo.github.io](joelwembo.github.io)\n- [https://www.patreon.com/joelwembo](https://www.patreon.com/joelwembo)\n\n# References\n","ogImage":{"url":"/assets/img/2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices_0.png"},"coverImage":"/assets/img/2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices_0.png","tag":["Tech"],"readingTime":16},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cimg src=\"/assets/img/2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices_0.png\"\u003e\n\u003ch1\u003e요약\u003c/h1\u003e\n\u003cp\u003e전통적으로, 인프라 구축은 수동 구성을 포함하는 시간이 많이 소요되고 오류 발생 가능성이 있는 프로세스였습니다. Terraform은 코드로 인프라를 정의할 수 있도록 함으로써 이러한 관행을 바꿉니다. HashiCorp Configuration Language (HCL)로 작성된 코드는 필요한 리소스(서버, 네트워크, 데이터베이스)와 이들의 구성을 구체화합니다. 경험이 풍부한 실무자든 초보자든, 본 안내서는 현대적인 DevOps 방법론에 대한 Terraform의 패러다임 전환적인 영향에 대한 귀중한 통찰을 제공합니다.\u003c/p\u003e\n\u003ch1\u003e목차\u003c/h1\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cul\u003e\n\u003cli\u003eTerraform DevOps 안내서: 보안 모범 사례\u003c/li\u003e\n\u003cli\u003e요약\u003c/li\u003e\n\u003cli\u003e목차\u003c/li\u003e\n\u003cli\u003e소개\u003c/li\u003e\n\u003cli\u003e전제 조건\n\u003cul\u003e\n\u003cli\u003e💡해결책💡\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eTerraform 상태를 안전하게 유지 🫶\u003c/li\u003e\n\u003cli\u003e비밀 정보 안전하게 관리하기 🫶\u003c/li\u003e\n\u003cli\u003e역할 기반 액세스 제어 (RBAC) 구현\u003c/li\u003e\n\u003cli\u003e코드 리뷰와 협업 🫶\u003c/li\u003e\n\u003cli\u003eCI/CD 파이프라인 구현 💣\u003c/li\u003e\n\u003cli\u003eTerraform 모듈 및 제공업체 안전하게 사용하기 💣\u003c/li\u003e\n\u003cli\u003e로깅 및 모니터링 🫶\u003c/li\u003e\n\u003cli\u003e네트워크 보안 🫶\u003c/li\u003e\n\u003cli\u003e감사 및 규정 준수 👀\u003c/li\u003e\n\u003cli\u003e재해 복구 및 백업 👀\u003c/li\u003e\n\u003cli\u003e결론\u003c/li\u003e\n\u003cli\u003e내 정보\u003c/li\u003e\n\u003cli\u003e참고 문헌\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e소개\u003c/h1\u003e\n\u003cp\u003eTerraform은 인프라스트럭처의 코드 (IaC)에 대한 필수 도구로, 여러 클라우드 제공업체 간에 자원을 통합적으로 관리할 수 있게 해줍니다. 그러나 큰 권한에는 큰 책임이 따릅니다. 어떠한 구성 오류도 전체 인프라스트럭처에 영향을 줄 수 있기 때문에 보안이 매우 중요합니다.\u003c/p\u003e\n\u003cp\u003e전통적으로 인프라스트럭처 프로비저닝은 수동 구성을 필요로 하며, 시간이 많이 걸리고 오류가 발생하기 쉬운 과정이었습니다. Terraform은 이에 도전하여 인프라스트럭처를 코드로 정의할 수 있도록 해주는 접근법을 제공합니다. HashiCorp Configuration Language (HCL)로 작성된 코드는 필요한 리소스 (서버, 네트워크, 데이터베이스)와 그 구성을 지정합니다.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e이 기사는 Terraform의 이점에 대해 탐구하고 IaC 배포가 안전하고 신뢰할 수 있도록 보장하기 위한 필수 보안 모범 사례를 제공합니다. 우리는 다음과 같은 주요 영역을 탐색할 것입니다:\u003c/p\u003e\n\u003cp\u003e💣 취약점 감사: Terraform 구성에서 취약성을 예방적으로 식별하고 제거하는 방법을 배웁니다.\u003c/p\u003e\n\u003cp\u003e💣 접근 제어 모범 사례: 접근 자격 증명을 안전하게 관리하고 최소 권한 원칙을 시행하는 전략을 발견합니다.\u003c/p\u003e\n\u003cp\u003e💣 안전한 Terraform 모듈: 모듈을 안전하게 활용하고 보안을 염두에 두고 자체 모듈을 생성하는 방법을 이해합니다.\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e\"IBM와 HashiCorp의 병합된 포트폴리오는 고객이 증가하는 애플리케이션 및 인프라 복잡성을 관리하고 AI 시대를 위해 설계된 포괄적인 하이브리드 클라우드 플랫폼을 만들 수 있도록 도와줍니다.\" - IBM 회장이자 최고 경영자인 아빈드 크리슈나가 말했습니다.\u003c/p\u003e\n\u003ch1\u003e준비 사항\u003c/h1\u003e\n\u003cp\u003e우리가 본격적인 작업에 들어가기 전에, 먼저 로컬 머신이나 개발 서버에 필요한 서비스가 있는지 확인해야 합니다:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eReact 및 Terraform에 대한 기본 지식.\u003c/li\u003e\n\u003cli\u003eAWS 계정\u003c/li\u003e\n\u003cli\u003eGitHub 계정\u003c/li\u003e\n\u003cli\u003eAWS CLI 설치 및 구성 완료.\u003c/li\u003e\n\u003cli\u003e로컬에 Docker 설치.\u003c/li\u003e\n\u003cli\u003eTerraform\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003e💡 솔루션 💡\u003c/h2\u003e\n\u003cp\u003e데브옵스 환경에서 Terraform을 구현하려면 인프라스트럭처 코드(IaC) 방법론이 취약점을 도입하지 않도록 보안에 중점을 두어야 합니다.\u003c/p\u003e\n\u003cimg src=\"/assets/img/2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices_1.png\"\u003e\n\u003cp\u003e다음은 Terraform을 사용할 때 보안을 유지하기 위한 모베스트 프랙티스입니다:\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003e테라폼 상태 보안을 강화하세요 🫶\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e원격 상태 저장소 사용: 상태 파일을 AWS S3, Azure Blob Storage 또는 Google Cloud Storage와 같은 원격 백엔드에 저장하여 무단 액세스를 방지하는 적절한 액세스 제어를 적용하세요.\u003c/li\u003e\n\u003cli\u003e상태 파일 암호화: 원격 백엔드에 저장된 상태 파일에 대해 서버 측 암호화를 활성화하세요.\u003c/li\u003e\n\u003cli\u003e액세스 제한: IAM 역할 및 정책을 사용하여 상태 파일에 대한 액세스를 필요한 사용자에게로 제한하세요.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e예시:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003evariable \u003cspan class=\"hljs-string\"\u003e\"db_password\"\u003c/span\u003e {\n  type    = string\n  sensitive = \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e\n}\n\ndata \u003cspan class=\"hljs-string\"\u003e\"terraform_remote_state\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"foo\"\u003c/span\u003e {\n  backend = \u003cspan class=\"hljs-string\"\u003e\"http\"\u003c/span\u003e\n  config = {\n    address = \u003cspan class=\"hljs-string\"\u003e\"http://my.rest.api.com\"\u003c/span\u003e\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e여기에서 더 많은 정보를 얻을 수 있습니다:\u003c/p\u003e\n\u003ch1\u003e\u003cstrong\u003e보안적으로 비밀을 관리하기 🫶\u003c/strong\u003e\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e비밀 직접 코딩 피하기\u003c/strong\u003e: Terraform 파일에 비밀번호, API 키 또는 기밀 정보와 같은 중요한 정보를 직접 코딩하지 마세요.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e시크릿 관리 도구 사용하기\u003c/strong\u003e: HashiCorp Vault, AWS Secrets Manager 또는 Azure Key Vault와 같은 시크릿 관리 도구를 통합하여 Terraform 구성에 안전하게 시크릿을 관리하고 주입하세요.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e예를 들어 Azure Key Vault를 사용하여 비밀을 안전하게 관리하는 방법:\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eprovider.tf\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eterraform {\n  required_version = \u003cspan class=\"hljs-string\"\u003e\"\u003e=1.0\"\u003c/span\u003e\n  required_providers {\n    azurerm = {\n      source  = \u003cspan class=\"hljs-string\"\u003e\"hashicorp/azurerm\"\u003c/span\u003e\n      version = \u003cspan class=\"hljs-string\"\u003e\"~\u003e3.0\"\u003c/span\u003e\n    }\n    random = {\n      source  = \u003cspan class=\"hljs-string\"\u003e\"hashicorp/random\"\u003c/span\u003e\n      version = \u003cspan class=\"hljs-string\"\u003e\"~\u003e3.0\"\u003c/span\u003e\n    }\n  }\n}\n\nprovider \u003cspan class=\"hljs-string\"\u003e\"azurerm\"\u003c/span\u003e {\n  features {}\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003emain.tf\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eresource \u003cspan class=\"hljs-string\"\u003e\"random_string\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"secret_value\"\u003c/span\u003e {\n  length  = \u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e\n  special = \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e\n}\n\nresource \u003cspan class=\"hljs-string\"\u003e\"azurerm_key_vault\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"vault\"\u003c/span\u003e {\n  name                       = \u003cspan class=\"hljs-string\"\u003e\"my-key-vault\"\u003c/span\u003e\n  location                   = \u003cspan class=\"hljs-string\"\u003e\"East US\"\u003c/span\u003e\n  resource_group_name        = \u003cspan class=\"hljs-string\"\u003e\"my-resource-group\"\u003c/span\u003e\n  tenant_id                  = data.\u003cspan class=\"hljs-property\"\u003eazurerm_client_config\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etenant_id\u003c/span\u003e\n  sku_name                   = \u003cspan class=\"hljs-string\"\u003e\"standard\"\u003c/span\u003e\n  soft_delete_retention_days = \u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e\n\n  access_policy {\n    tenant_id = data.\u003cspan class=\"hljs-property\"\u003eazurerm_client_config\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etenant_id\u003c/span\u003e\n    object_id = local.\u003cspan class=\"hljs-property\"\u003ecurrent_user_id\u003c/span\u003e\n    secret_permissions = [\u003cspan class=\"hljs-string\"\u003e\"get\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"list\"\u003c/span\u003e]\n  }\n}\n\nresource \u003cspan class=\"hljs-string\"\u003e\"azurerm_key_vault_secret\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"my_secret\"\u003c/span\u003e {\n  name         = \u003cspan class=\"hljs-string\"\u003e\"my-secret\"\u003c/span\u003e\n  value        = random_string.\u003cspan class=\"hljs-property\"\u003esecret_value\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eresult\u003c/span\u003e\n  key_vault_id = azurerm_key_vault.\u003cspan class=\"hljs-property\"\u003evault\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eid\u003c/span\u003e\n}\n\ndata \u003cspan class=\"hljs-string\"\u003e\"azurerm_client_config\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"current\"\u003c/span\u003e {}\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003eRole-Based Access Control (RBAC) 구현\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eIAM 정책 사용: 사용자 및 서비스가 필요한 권한만 갖도록 IAM 정책을 정의하고 강제합니다.\u003c/li\u003e\n\u003cli\u003e역할 분리: 각 단계 (개발, 스테이징, 프로덕션)에 대해 서로 다른 역할을 사용하고 최소 권한의 원칙을 적용합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e예를 들어 Azure 리소스를 위한 Role-Based Access Control (RBAC) :\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eterraform {\n  required_providers {\n    azurerm = {\n      source  = \u003cspan class=\"hljs-string\"\u003e\"hashicorp/azurerm\"\u003c/span\u003e\n      version = \u003cspan class=\"hljs-string\"\u003e\"~\u003e2.0\"\u003c/span\u003e\n    }\n    azuread = {\n      source = \u003cspan class=\"hljs-string\"\u003e\"hashicorp/azuread\"\u003c/span\u003e\n    }\n  }\n}\n\nprovider \u003cspan class=\"hljs-string\"\u003e\"azurerm\"\u003c/span\u003e {\n  features {}\n}\n\n\u003cspan class=\"hljs-comment\"\u003e// main.tf\u003c/span\u003e\ndata \u003cspan class=\"hljs-string\"\u003e\"azuread_user\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"aad_user\"\u003c/span\u003e {\n  for_each            = \u003cspan class=\"hljs-title function_\"\u003etoset\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eavd_users\u003c/span\u003e)\n  user_principal_name = \u003cspan class=\"hljs-title function_\"\u003eformat\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"%s\"\u003c/span\u003e, each.\u003cspan class=\"hljs-property\"\u003ekey\u003c/span\u003e)\n}\n\ndata \u003cspan class=\"hljs-string\"\u003e\"azurerm_role_definition\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"role\"\u003c/span\u003e {\n  name = \u003cspan class=\"hljs-string\"\u003e\"Desktop Virtualization User\"\u003c/span\u003e\n}\n\nresource \u003cspan class=\"hljs-string\"\u003e\"azuread_group\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"aad_group\"\u003c/span\u003e {\n  display_name     = \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eaad_group_name\u003c/span\u003e\n  security_enabled = \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e\n}\n\nresource \u003cspan class=\"hljs-string\"\u003e\"azuread_group_member\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"aad_group_member\"\u003c/span\u003e {\n  for_each         = data.\u003cspan class=\"hljs-property\"\u003eazuread_user\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eaad_user\u003c/span\u003e\n  group_object_id  = azuread_group.\u003cspan class=\"hljs-property\"\u003eaad_group\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eid\u003c/span\u003e\n  member_object_id = each.\u003cspan class=\"hljs-property\"\u003evalue\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e\"id\"\u003c/span\u003e]\n}\n\nresource \u003cspan class=\"hljs-string\"\u003e\"azurerm_role_assignment\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"role\"\u003c/span\u003e {\n  scope              = azurerm_virtual_desktop_application_group.\u003cspan class=\"hljs-property\"\u003edag\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eid\u003c/span\u003e\n  role_definition_id = data.\u003cspan class=\"hljs-property\"\u003eazurerm_role_definition\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003erole\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eid\u003c/span\u003e\n  principal_id       = azuread_group.\u003cspan class=\"hljs-property\"\u003eaad_group\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eid\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003e코드 리뷰 및 협업 🫶\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e버전 관리 사용: 테라폼 구성을 Git과 같은 버전 관리 시스템(VCS)에 저장하세요.\u003c/li\u003e\n\u003cli\u003e코드 리뷰: 잠재적인 보안 문제를 미리 발견하기 위해 테라폼 구성에 대한 모든 변경에 대해 필수 코드 리뷰를 실시하세요.\u003c/li\u003e\n\u003cli\u003e풀 리퀘스트: 변경 사항을 본 브랜치로 병합하기 전에 리뷰 및 토론하기 위해 풀 리퀘스트를 사용하세요.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eCI/CD 파이프라인 구현 💣\u003c/h1\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: 테라폼 \u003cspan class=\"hljs-variable constant_\"\u003eCI\u003c/span\u003e/\u003cspan class=\"hljs-variable constant_\"\u003eCD\u003c/span\u003e\n\n\u003cspan class=\"hljs-attr\"\u003eon\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003epush\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003ebranches\u003c/span\u003e:\n      - main\n  \u003cspan class=\"hljs-attr\"\u003epull_request\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003ebranches\u003c/span\u003e:\n      - main\n\n\u003cspan class=\"hljs-attr\"\u003eenv\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003eARM_CLIENT_ID\u003c/span\u003e: ${ secrets.\u003cspan class=\"hljs-property\"\u003eARM_CLIENT_ID\u003c/span\u003e }\n  \u003cspan class=\"hljs-attr\"\u003eARM_CLIENT_SECRET\u003c/span\u003e: ${ secrets.\u003cspan class=\"hljs-property\"\u003eARM_CLIENT_SECRET\u003c/span\u003e }\n  \u003cspan class=\"hljs-attr\"\u003eARM_SUBSCRIPTION_ID\u003c/span\u003e: ${ secrets.\u003cspan class=\"hljs-property\"\u003eARM_SUBSCRIPTION_ID\u003c/span\u003e }\n  \u003cspan class=\"hljs-attr\"\u003eARM_TENANT_ID\u003c/span\u003e: ${ secrets.\u003cspan class=\"hljs-property\"\u003eARM_TENANT_ID\u003c/span\u003e }\n  \u003cspan class=\"hljs-attr\"\u003eTF_VAR_client_id\u003c/span\u003e: ${ secrets.\u003cspan class=\"hljs-property\"\u003eARM_CLIENT_ID\u003c/span\u003e }\n  \u003cspan class=\"hljs-attr\"\u003eTF_VAR_client_secret\u003c/span\u003e: ${ secrets.\u003cspan class=\"hljs-property\"\u003eARM_CLIENT_SECRET\u003c/span\u003e }\n  \u003cspan class=\"hljs-attr\"\u003eTF_VAR_subscription_id\u003c/span\u003e: ${ secrets.\u003cspan class=\"hljs-property\"\u003eARM_SUBSCRIPTION_ID\u003c/span\u003e }\n  \u003cspan class=\"hljs-attr\"\u003eTF_VAR_tenant_id\u003c/span\u003e: ${ secrets.\u003cspan class=\"hljs-property\"\u003eARM_TENANT_ID\u003c/span\u003e }\n\n\u003cspan class=\"hljs-attr\"\u003ejobs\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003eterraform\u003c/span\u003e:\n    \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'테라폼'\u003c/span\u003e\n    runs-\u003cspan class=\"hljs-attr\"\u003eon\u003c/span\u003e: ubuntu-latest\n\n    \u003cspan class=\"hljs-attr\"\u003esteps\u003c/span\u003e:\n      - \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: 코드 체크아웃\n        \u003cspan class=\"hljs-attr\"\u003euses\u003c/span\u003e: actions/checkout@v2\n\n      - \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: 테라폼 설정\n        \u003cspan class=\"hljs-attr\"\u003euses\u003c/span\u003e: hashicorp/setup-terraform@v2\n        \u003cspan class=\"hljs-attr\"\u003ewith\u003c/span\u003e:\n          \u003cspan class=\"hljs-attr\"\u003eterraform_version\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1.3\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.7\u003c/span\u003e\n\n      - \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: 테라폼 초기화\n        \u003cspan class=\"hljs-attr\"\u003erun\u003c/span\u003e: terraform init\n\n      - \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: 테라폼 포맷\n        \u003cspan class=\"hljs-attr\"\u003erun\u003c/span\u003e: terraform fmt -check\n\n      - \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: 테라폼 유효성 검사\n        \u003cspan class=\"hljs-attr\"\u003erun\u003c/span\u003e: terraform validate\n\n      - \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: 테라폼 계획\n        \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e: plan\n        \u003cspan class=\"hljs-attr\"\u003erun\u003c/span\u003e: terraform plan -out=plan.\u003cspan class=\"hljs-property\"\u003etfplan\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003econtinue\u003c/span\u003e-on-\u003cspan class=\"hljs-attr\"\u003eerror\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e\n\n      - \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: 테라폼 적용\n        \u003cspan class=\"hljs-attr\"\u003eif\u003c/span\u003e: github.\u003cspan class=\"hljs-property\"\u003eref\u003c/span\u003e == \u003cspan class=\"hljs-string\"\u003e'refs/heads/main'\u003c/span\u003e \u0026#x26;\u0026#x26; github.\u003cspan class=\"hljs-property\"\u003eevent_name\u003c/span\u003e == \u003cspan class=\"hljs-string\"\u003e'push'\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003erun\u003c/span\u003e: terraform apply -auto-approve plan.\u003cspan class=\"hljs-property\"\u003etfplan\u003c/span\u003e\n\n      - \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: 테라폼 삭제 (옵션)\n        \u003cspan class=\"hljs-attr\"\u003eif\u003c/span\u003e: github.\u003cspan class=\"hljs-property\"\u003eevent_name\u003c/span\u003e == \u003cspan class=\"hljs-string\"\u003e'pull_request'\u003c/span\u003e \u0026#x26;\u0026#x26; github.\u003cspan class=\"hljs-property\"\u003eevent\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eaction\u003c/span\u003e == \u003cspan class=\"hljs-string\"\u003e'closed'\u003c/span\u003e \u0026#x26;\u0026#x26; github.\u003cspan class=\"hljs-property\"\u003eevent\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003epull_request\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003emerged\u003c/span\u003e == \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003erun\u003c/span\u003e: terraform destroy -auto-approve\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cul\u003e\n\u003cli\u003e배포 자동화: CI/CD 파이프라인을 사용하여 Terraform 배포를 자동화하여 일관성을 유지하고 인간 에러의 위험을 줄입니다.\u003c/li\u003e\n\u003cli\u003e취약점 검사: CI/CD 파이프라인에 보안 스캔 도구를 통합하여 배포 전에 Terraform 구성에서 취약점을 감지합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eTerraform 모듈과 프로바이더 안전하게 사용하기 💣\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e프로바이더 확인: Terraform 레지스트리 또는 신뢰할 수 있는 소스에서 확인된 프로바이더와 모듈만 사용합니다.\u003c/li\u003e\n\u003cli\u003e버전 핀: 프로바이더와 모듈의 버전을 핀하여 상위 업데이트로 인한 의도하지 않은 변경을 방지합니다.\u003c/li\u003e\n\u003cli\u003e코드 검토: 모듈과 프로바이더의 코드를 정기적으로 검토하고 감사하여 보안 위험을 방지합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e예시:\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"network\"\u003c/span\u003e {\n  source  = \u003cspan class=\"hljs-string\"\u003e\"terraform-azure-modules/network/azurerm\"\u003c/span\u003e\n  version = \u003cspan class=\"hljs-string\"\u003e\"2.0.0\"\u003c/span\u003e\n  # 기타 모듈 입력 값\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e로깅 및 모니터링 🫶\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e로깅 활성화: 테라폼에서 수행되는 모든 작업이 로깅되고, 이러한 로그가 이상 활동을 모니터링하는 데 사용될 수 있도록 합니다.\u003c/li\u003e\n\u003cli\u003e상태 변경 모니터링: 테라폼 상태 및 인프라 변경에 대한 경보를 설정하여 무단 수정에 신속하게 대응할 수 있도록 합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e네트워크 보안 🫶\u003c/h1\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cul\u003e\n\u003cli\u003eVPC 및 서브넷 사용: 가상 사설 클라우드(VPC) 및 서브넷을 이용하여 리소스를 격리하도록 네트워크 아키텍처를 설계하세요.\u003c/li\u003e\n\u003cli\u003e보안 그룹 및 방화벽: 엄격한 보안 그룹 규칙과 네트워크 방화벽 정책을 적용하여 트래픽 흐름을 제어하고 노출을 제한하세요.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e감사 및 규정 준수 👀\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e정기 감사: Terraform 구성 및 배포된 인프라의 보안 감사와 규정 준수 점검을 정기적으로 수행하세요.\u003c/li\u003e\n\u003cli\u003e규정 준수 코드: 규정 준수를 보장하기 위해 Terraform 구성에 규정 준수 점검을 통합하세요. regulatory and organizational standards을 준수합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e재해 복구 및 백업 👀\u003c/h1\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eprovider \u003cspan class=\"hljs-string\"\u003e\"azurerm\"\u003c/span\u003e {\n  features {}\n}\n\nresource \u003cspan class=\"hljs-string\"\u003e\"azurerm_resource_group\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"rg\"\u003c/span\u003e {\n  name     = \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eresource_group_name\u003c/span\u003e\n  location = \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003elocation\u003c/span\u003e\n}\n\nresource \u003cspan class=\"hljs-string\"\u003e\"azurerm_recovery_services_vault\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"recovery_vault\"\u003c/span\u003e {\n  name                = \u003cspan class=\"hljs-string\"\u003e\"myRecoveryServicesVault\"\u003c/span\u003e\n  resource_group_name = azurerm_resource_group.\u003cspan class=\"hljs-property\"\u003erg\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ename\u003c/span\u003e\n  location            = azurerm_resource_group.\u003cspan class=\"hljs-property\"\u003erg\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003elocation\u003c/span\u003e\n  sku                 = \u003cspan class=\"hljs-string\"\u003e\"Standard\"\u003c/span\u003e\n}\n\nresource \u003cspan class=\"hljs-string\"\u003e\"azurerm_backup_policy_vm\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"backup_policy\"\u003c/span\u003e {\n  name                = \u003cspan class=\"hljs-string\"\u003e\"myBackupPolicy\"\u003c/span\u003e\n  resource_group_name = azurerm_resource_group.\u003cspan class=\"hljs-property\"\u003erg\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ename\u003c/span\u003e\n  recovery_vault_name = azurerm_recovery_services_vault.\u003cspan class=\"hljs-property\"\u003erecovery_vault\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ename\u003c/span\u003e\n\n  backup {\n    frequency = \u003cspan class=\"hljs-string\"\u003e\"Daily\"\u003c/span\u003e\n    time      = \u003cspan class=\"hljs-string\"\u003e\"23:00\"\u003c/span\u003e\n  }\n\n  retention_daily {\n    count = \u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e\n  }\n}\n\nresource \u003cspan class=\"hljs-string\"\u003e\"azurerm_kubernetes_cluster\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"aks\"\u003c/span\u003e {\n  name                = \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eaks_name\u003c/span\u003e\n  location            = azurerm_resource_group.\u003cspan class=\"hljs-property\"\u003erg\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003elocation\u003c/span\u003e\n  resource_group_name = azurerm_resource_group.\u003cspan class=\"hljs-property\"\u003erg\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ename\u003c/span\u003e\n  dns_prefix          = \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003edns_prefix\u003c/span\u003e\n\n  default_node_pool {\n    name       = \u003cspan class=\"hljs-string\"\u003e\"default\"\u003c/span\u003e\n    node_count = \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enode_count\u003c/span\u003e\n    vm_size    = \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003evm_size\u003c/span\u003e\n  }\n\n  identity {\n    type = \u003cspan class=\"hljs-string\"\u003e\"SystemAssigned\"\u003c/span\u003e\n  }\n\n  tags = {\n    environment = \u003cspan class=\"hljs-string\"\u003e\"Production\"\u003c/span\u003e\n  }\n}\n\nresource \u003cspan class=\"hljs-string\"\u003e\"azurerm_log_analytics_workspace\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"log_analytics\"\u003c/span\u003e {\n  name                = \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003elog_analytics_workspace_name\u003c/span\u003e\n  location            = azurerm_resource_group.\u003cspan class=\"hljs-property\"\u003erg\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003elocation\u003c/span\u003e\n  resource_group_name = azurerm_resource_group.\u003cspan class=\"hljs-property\"\u003erg\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ename\u003c/span\u003e\n  sku                 = \u003cspan class=\"hljs-string\"\u003e\"PerGB2018\"\u003c/span\u003e\n  retention_in_days   = \u003cspan class=\"hljs-number\"\u003e30\u003c/span\u003e\n}\n\nresource \u003cspan class=\"hljs-string\"\u003e\"azurerm_kubernetes_cluster_node_pool\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"node_pool\"\u003c/span\u003e {\n  name                  = \u003cspan class=\"hljs-string\"\u003e\"additionalpool\"\u003c/span\u003e\n  kubernetes_cluster_id = azurerm_kubernetes_cluster.\u003cspan class=\"hljs-property\"\u003eaks\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eid\u003c/span\u003e\n  vm_size               = \u003cspan class=\"hljs-string\"\u003e\"Standard_DS2_v2\"\u003c/span\u003e\n  node_count            = \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n}\n\nresource \u003cspan class=\"hljs-string\"\u003e\"azurerm_backup_protected_vm\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"protected_vm\"\u003c/span\u003e {\n  resource_group_name = azurerm_resource_group.\u003cspan class=\"hljs-property\"\u003erg\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ename\u003c/span\u003e\n  recovery_vault_name = azurerm_recovery_services_vault.\u003cspan class=\"hljs-property\"\u003erecovery_vault\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ename\u003c/span\u003e\n  source_vm_id        = azurerm_kubernetes_cluster.\u003cspan class=\"hljs-property\"\u003eaks\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eid\u003c/span\u003e\n  backup_policy_id    = azurerm_backup_policy_vm.\u003cspan class=\"hljs-property\"\u003ebackup_policy\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eid\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e백업 상태 파일: 우연한 삭제나 손상으로부터 회복할 수 있도록 Terraform 상태 파일을 정기적으로 백업합니다.\u003c/li\u003e\n\u003cli\u003e재해 복구 계획: 재해 복구 계획을 개발하고 테스트하여 치명적인 장애 발생 시 Terraform을 사용하여 인프라를 복원할 수 있도록 합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e이런 모범 사례를 따르면 Terraform으로 관리되는 인프라의 보안을 크게 향상시키고 잠재적인 취약점과 잘못된 구성의 위험을 줄일 수 있습니다.\u003c/p\u003e\n\u003cp\u003e고려해야 할 몇 가지 부가 사항이 있습니다:\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cul\u003e\n\u003cli\u003e데이터의 존속중 암호화 #1 — 서버 측 암호화는 데이터를 적절히 보호하지만, 특히 환경 간 전송 시 상태 파일을 암호화하는 것을 고려해보세요. 👑\u003c/li\u003e\n\u003cli\u003e서비스 계정에 대한 최소 권한 부여 #2 — Terraform과 서비스 계정을 사용할 때, 해당 계정이 특정 작업에 필요한 최소한의 권한을 갖도록하십시오.\u003c/li\u003e\n\u003cli\u003e인프라 제거 테스트 #3 — 자동화된 테스트를 CI/CD 파이프라인에 포함하여 Terraform이 인프라를 안전하게 제거할 수 있는지 확인하세요. 재해 복구 시나리오에 중요합니다. 👑\u003c/li\u003e\n\u003cli\u003e최신 유지 #3 — 정기적으로 Terraform 자체, 모듈 및 프로바이더를 업데이트하여 보안 패치와 버그 수정의 이점을 누리세요.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e결론\u003c/h1\u003e\n\u003cp\u003eDevOps 환경에서 Terraform을 보안하는 데 이러한 모범 사례를 따르면 리스크를 최소화하고 인프라를 코드로 제어하는 강력한 방어수단을 확보할 수 있습니다. 안전한 상태 관리, 적절한 비밀 처리, 역할 기반 액세스 제어, 철저한 코드 리뷰, 자동화된 CI/CD 파이프라인, 주시적인 로깅 및 모니터링, 엄격한 감사 및 규정 준수 프로세스 등의 조치를 시행하여 취약점에 대응하는 인프라를 강화할 수 있습니다. 궁극적으로 보안에 대한 선제적인 접근은 시스템을 안전하게 지키는 데 도움이 되는 것뿐만 아니라 조직 내 신뢰와 신뢰성을 육성할 것입니다.\u003c/p\u003e\n\u003cp\u003e읽어 주셔서 감사합니다! 🙌🏻 구독하고 CLAP을 꼭 눌러주세요 👏 다음 기사에서 만나요.🤘\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003e나에 대해\u003c/h1\u003e\n\u003cp\u003e“안녕하세요! 저는 조엘 오웜보이라고 합니다. AWS 인증 클라우드 아키텍트, 백엔드 개발자, 그리고 AWS 커뮤니티 빌더입니다. 필리핀에 거주하고 있어요. 제가 가지고 있는 강점은 클라우드 아키텍처, 데브옵스 실천 방법, 그리고 고가용성 (HA) 원칙에 대한 깊은 이해를 결합한 것입니다. 제 지식을 활용하여 효율적인 기업 배포를 위해 오픈 소스 도구를 사용하여 견고하고 확장 가능한 클라우드 애플리케이션을 만들어내고 있습니다.”\u003c/p\u003e\n\u003cp\u003e저자(Joel O. Wembo)에 대한 더 많은 정보를 원하시면 아래 링크를 확인해주세요:\u003c/p\u003e\n\u003c!-- ui-station 사각형 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cul\u003e\n\u003cli\u003eLinkedin: \u003ca href=\"https://www.linkedin.com/in/joelotepawembo/\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://www.linkedin.com/in/joelotepawembo/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eWebsite: \u003ca href=\"https://joelwembo.com\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://joelwembo.com\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eTwitter: \u003ca href=\"https://twitter.com/joelwembo1\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://twitter.com/joelwembo1\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eGitHub: \u003ca href=\"https://github.com/joelwembo\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://github.com/joelwembo\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003ePortfolio: \u003ca href=\"joelwembo.github.io\"\u003ejoelwembo.github.io\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.patreon.com/joelwembo\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://www.patreon.com/joelwembo\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eReferences\u003c/h1\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-17-TheGuidetoTerraformDevOpsSecurityBestPractices"},"buildId":"wOkGEDZCvEs3S_XaNsdwr","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>