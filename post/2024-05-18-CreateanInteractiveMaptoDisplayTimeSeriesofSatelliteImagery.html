<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>ìœ„ì¹˜ ê¸°ë°˜ì˜ ìœ„ì„± ì´ë¯¸ì§€ì˜ ì‹œê³„ì—´ì„ í‘œì‹œí•˜ëŠ” ëŒ€í™”í˜• ì§€ë„ ë§Œë“¤ê¸° | ui-station</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://ui-station.github.io///post/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="ìœ„ì¹˜ ê¸°ë°˜ì˜ ìœ„ì„± ì´ë¯¸ì§€ì˜ ì‹œê³„ì—´ì„ í‘œì‹œí•˜ëŠ” ëŒ€í™”í˜• ì§€ë„ ë§Œë“¤ê¸° | ui-station" data-gatsby-head="true"/><meta property="og:title" content="ìœ„ì¹˜ ê¸°ë°˜ì˜ ìœ„ì„± ì´ë¯¸ì§€ì˜ ì‹œê³„ì—´ì„ í‘œì‹œí•˜ëŠ” ëŒ€í™”í˜• ì§€ë„ ë§Œë“¤ê¸° | ui-station" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://ui-station.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://ui-station.github.io///post/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery" data-gatsby-head="true"/><meta name="twitter:title" content="ìœ„ì¹˜ ê¸°ë°˜ì˜ ìœ„ì„± ì´ë¯¸ì§€ì˜ ì‹œê³„ì—´ì„ í‘œì‹œí•˜ëŠ” ëŒ€í™”í˜• ì§€ë„ ë§Œë“¤ê¸° | ui-station" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | ui-station" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-18 17:58" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BHFR6GTH9P"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-BHFR6GTH9P');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-70e5ce89f3d962ac.js" defer=""></script><script src="/_next/static/wfHLuDA3kTGBYfaM5IGXk/_buildManifest.js" defer=""></script><script src="/_next/static/wfHLuDA3kTGBYfaM5IGXk/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">UI STATION</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">ìœ„ì¹˜ ê¸°ë°˜ì˜ ìœ„ì„± ì´ë¯¸ì§€ì˜ ì‹œê³„ì—´ì„ í‘œì‹œí•˜ëŠ” ëŒ€í™”í˜• ì§€ë„ ë§Œë“¤ê¸°</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="ìœ„ì¹˜ ê¸°ë°˜ì˜ ìœ„ì„± ì´ë¯¸ì§€ì˜ ì‹œê³„ì—´ì„ í‘œì‹œí•˜ëŠ” ëŒ€í™”í˜• ì§€ë„ ë§Œë“¤ê¸°" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">UI STATION</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 18, 2024</span><span class="posts_reading_time__f7YPP">16<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p><img src="/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_0.png" alt="image"></p>
<h1>Table of Contents</h1>
<ul>
<li>ğŸŒŸ Introduction</li>
<li>ğŸ“Œ Area of Interest (AOI)</li>
<li>ğŸ’¾ Loading Sentinel-2 Imagery</li>
<li>â³ Extracting Time Series from Satellite Imagery</li>
<li>ğŸŒ Developing an Interactive Map with Time Series</li>
<li>ğŸ“„ Conclusion</li>
<li>ğŸ“š References</li>
</ul>
<h2>ğŸŒŸ Introduction</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>í•œë™ì•ˆ ì‚¬ìš©ìê°€ íŠ¹ì • ìœ„ì¹˜ë¥¼ í´ë¦­í•  ë•Œ ìƒí˜¸ì‘ìš© ë§µì— ì‹œê³„ì—´ ë°ì´í„°ê°€ í‘œì‹œë˜ëŠ” ì‰½ê³  ì§ê´€ì ì¸ ë°©ë²•ì„ ì°¾ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ì €ëŠ” folium ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ íƒìƒ‰í•˜ê³  ìœ„ì„± ì´ë¯¸ì§€ì—ì„œ ì¶”ì¶œí•œ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ foliumê³¼ ì—°ê²°í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ëƒˆìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ì€ ë‚´ ë°©ë²•ì„ ê³µìœ í•˜ê² ìŠµë‹ˆë‹¤.</p>
<p>ì´ ê²Œì‹œë¬¼ì—ì„œëŠ” ë‘ ê°€ì§€ í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ í•¨ìˆ˜ëŠ” ìœ„ì„± ë°ì´í„°ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì§€ ì•Šê³  ë¡œë“œí•˜ê³ , ë‘ ë²ˆì§¸ í•¨ìˆ˜ëŠ” ë°ì´í„°ì™€ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ì¶”ì¶œí•˜ì—¬ ë°ì´í„° í˜•ì‹ì˜ ì‹œê³„ì—´ì„ ìƒì„±í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ AOIs(ê´€ì‹¬ ì§€ì—­)ë¥¼ ìˆœí™˜í•˜ì—¬ ë‘ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³  AOIì— ëŒ€í•œ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ì¶”ì¶œí•  ê²ƒì…ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ ìƒì„±ëœ ì‹œê³„ì—´ ë°ì´í„°ì™€ folium ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¥¼ ìƒí˜¸ì‘ìš©ì ì¸ ì§€ë„ì— ì§€ë¦¬ì ìœ¼ë¡œ í‘œì‹œí•  ê²ƒì…ë‹ˆë‹¤.</p>
<p>ì´ ê²Œì‹œë¬¼ì„ ë§ˆì¹˜ë©´ ì–´ë–¤ ë³€ìˆ˜ë‚˜ ë§¤ê°œë³€ìˆ˜ì— ëŒ€í•´ ì¶”ì¶œëœ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ìƒí˜¸ì‘ìš©ì ì¸ ë§µê³¼ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œí•  ìˆ˜ ìˆê²Œ ë  ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ìº˜ë¦¬í¬ë‹ˆì•„ í˜¸ìˆ˜ ë©´ì ì˜ ì‹œê³„ì—´ì„ ì¶”ì¶œí•˜ê³  ìƒí˜¸ì‘ìš©ì  ì§€ë„ì— í‘œì‹œí•˜ê² ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ í¥ë¯¸ë¥¼ ê°–ê±°ë‚˜ ì´ëŸ¬í•œ ì¡°ì–¸ê³¼ ê¿€íŒì„ ì°¾ê³  ìˆì—ˆë‹¤ë©´ ê³„ì† ì½ì–´ë³´ì„¸ìš”!</p>
<h2>ğŸ“Œ ê´€ì‹¬ ì§€ì—­ (AOI)</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì†Œê°œì—ì„œ ì–¸ê¸‰í•œ ëŒ€ë¡œ ìƒí˜¸ì‘ìš©ì  ì§€ë„ì—ì„œ ì–´ë–¤ ìœ„ì¹˜ì˜ ë³€ìˆ˜ì— ëŒ€í•œ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ í‘œì‹œí•˜ë ¤ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì˜ˆì‹œì—ì„œëŠ” ìº˜ë¦¬í¬ë‹ˆì•„ì˜ ëª‡ ê°œ í˜¸ìˆ˜ì˜ ë¬¼ í”½ì…€ì„ ê³„ìˆ˜í•˜ê³  2024ë…„ì— ì´¬ì˜ëœ ëª¨ë“  Sentinel-2 ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ í‘œë©´ì ì„ ê³„ì‚°í•  ê²ƒì…ë‹ˆë‹¤. QGISì—ì„œ ê·¸ í˜¸ìˆ˜ ì£¼ë³€ì— í´ë¦¬ê³¤ì„ ê·¸ë¦¬ê³  ê·¸ê²ƒë“¤ì„ shapefileë¡œ ì €ì¥í–ˆìŠµë‹ˆë‹¤. ê´€ì‹¬ ì˜ì—­ (AOI)ì— ëŒ€í•œ shapefileì„ ë§Œë“œëŠ” ë°©ë²•ì„ ë°°ìš°ê³  ì‹¶ë‹¤ë©´, Mediumì˜ ì²« ë²ˆì§¸ ìŠ¤í† ë¦¬ì—ì„œ "ğŸ› ï¸ QGISì—ì„œ Shapefile ìƒì„±"ì´ë¼ëŠ” ì„¹ì…˜ì„ ì°¸ì¡°í•´ì£¼ì„¸ìš”.</p>
<p>ë‹¤ìŒì€ QGISì—ì„œ í˜¸ìˆ˜ ì£¼ë³€ì— ê·¸ë¦° í´ë¦¬ê³¤ì˜ ìŠ¤ëƒ…ìƒ·ì…ë‹ˆë‹¤:</p>
<p><img src="/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_1.png" alt="lakes"></p>
<h2>ğŸ’¾ Sentinel-2 ì˜ìƒ ë¶ˆëŸ¬ì˜¤ê¸°</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì´ ì„¹ì…˜ì˜ ëª©í‘œëŠ” ë‹¤ìš´ë¡œë“œ ì—†ì´ ì•„ì¹´ì´ë¸Œëœ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ë©”ëª¨ë¦¬ì— ë¡œë“œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. íŠ¹ì • ì§€ì—­ì— ëŒ€í•œ ì˜¤ëœ ê¸°ê°„ì— ê±¸ì¹œ ìœ„ì„± ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œëŠ” ì‹œê°„ì´ ë§ì´ ì†Œìš”ë˜ë©° ê³„ì‚° ë¹„ìš©ì´ ë§ì´ ë“¤ë©° ë¹„íš¨ìœ¨ì ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì „ì²´ ì¥ë©´ì—ì„œ ì‘ì€ ì˜ì—­ì˜ ë³€í™”ë¥¼ íƒìƒ‰í•˜ë ¤ë©´ ë¬¸ì œê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ 12ì¤„ì˜ ì½”ë“œë§Œ ì‚¬ìš©í•˜ì—¬ ë‹¤ìš´ë¡œë“œ ì—†ì´ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ëŠ” í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. í•´ë‹¹ í¬ìŠ¤íŠ¸ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì´ ì„¹ì…˜ì—ì„œëŠ” í•´ë‹¹ í¬ìŠ¤íŠ¸ì—ì„œ ì œì‹œëœ í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ì—¬ í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¹ì • ê¸°ê°„ì— ëŒ€í•œ AOI ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ì‰½ê²Œ ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ê¸°ê°„ì´ ê¸¸ë“  ì§§ë“  ìƒê´€ì—†ì´:</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">from</span> pystac_client <span class="hljs-keyword">import</span> Client
<span class="hljs-keyword">from</span> odc.stac <span class="hljs-keyword">import</span> load

<span class="hljs-keyword">def</span> <span class="hljs-title function_">search_satellite_images</span>(<span class="hljs-params">collection=<span class="hljs-string">"sentinel-2-l2a"</span>,
                            bbox=[-<span class="hljs-number">120.15</span>,<span class="hljs-number">38.93</span>,-<span class="hljs-number">119.88</span>,<span class="hljs-number">39.25</span>],
                            date=<span class="hljs-string">"2023-01-01/2023-03-12"</span>,
                            cloud_cover=(<span class="hljs-params"><span class="hljs-number">0</span>, <span class="hljs-number">10</span></span>)</span>):
    <span class="hljs-string">"""
    Collection, ë²”ìœ„, ë‚ ì§œ ë²”ìœ„ ë° êµ¬ë¦„ ë®ê°œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.

    :param collection: Collection ì´ë¦„ (ê¸°ë³¸ê°’: "sentinel-2-l2a").
    :param bbox: ê²½ê³„ ìƒì [min_lon, min_lat, max_lon, max_lat] (ê¸°ë³¸ê°’: Lake Tahoe ì§€ì—­).
    :param date: ë‚ ì§œ ë²”ìœ„ "YYYY-MM-DD/YYYY-MM-DD" (ê¸°ë³¸ê°’: "2023-01-01/2023-12-30").
    :param cloud_cover: êµ¬ë¦„ ë®ê°œ ë²”ìœ„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” Tuple (ìµœì†Œ, ìµœëŒ€) (ê¸°ë³¸ê°’: (0, 10)).
    :return: ê²€ìƒ‰ ê¸°ì¤€ì— ë”°ë¼ ë¡œë“œëœ ë°ì´í„°.
    """</span>
    <span class="hljs-comment"># ê²€ìƒ‰ í´ë¼ì´ì–¸íŠ¸ ì •ì˜</span>
    client=Client.<span class="hljs-built_in">open</span>(<span class="hljs-string">"https://earth-search.aws.element84.com/v1"</span>)
    search = client.search(collections=[collection],
                            bbox=bbox,
                            datetime=date,
                            query=[<span class="hljs-string">f"eo:cloud_cover&#x3C;<span class="hljs-subst">{cloud_cover[<span class="hljs-number">1</span>]}</span>"</span>, <span class="hljs-string">f"eo:cloud_cover><span class="hljs-subst">{cloud_cover[<span class="hljs-number">0</span>]}</span>"</span>])

    <span class="hljs-comment"># ì¼ì¹˜í•˜ëŠ” í•­ëª© ìˆ˜ ì¶œë ¥</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ë°œê²¬ëœ ì´ë¯¸ì§€ ìˆ˜: <span class="hljs-subst">{search.matched()}</span>"</span>)

    data = load(search.items(), bbox=bbox, groupby=<span class="hljs-string">"solar_day"</span>, chunks={})

    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ë°ì´í„°ì—ì„œì˜ ë‚ ì§œ ìˆ˜: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(data.time)}</span>"</span>)

    <span class="hljs-keyword">return</span> data
</code></pre>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ìœ„ì„± ì´ë¯¸ì§€ ê²€ìƒ‰ì„ ìœ„í•œ ë§¤ê°œë³€ìˆ˜ë¥¼ ì§€ì •í•  ìˆ˜ ìˆì–´ì„œ ë‹¤ì–‘í•œ ê´€ì‹¬ ì˜ì—­ ë° ì‹œê°„ëŒ€ì— ìœ ì—°í•˜ê³  ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìˆ˜ì§‘, ê²½ê³„ ìƒì, ë‚ ì§œ ë²”ìœ„ ë° êµ¬ë¦„ ì–‘ ë“±ê³¼ ê°™ì€ ê¸°ì¤€ì— ë”°ë¼ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤. ì´ëŠ” ì´ë¯¸ì§€ë¥¼ ì°¾ê¸° ìœ„í•´ Earth Search APIë¥¼ ì‚¬ìš©í•˜ê³  ì¼ì¹˜í•˜ëŠ” ìˆ˜ë¥¼ ì¶œë ¥í•˜ë©° íë¸Œ í˜•ì‹ìœ¼ë¡œ í´ë¦½ ëœ ì´ë¯¸ì§€ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.</p>
<h2>â³ ìœ„ì„± ì˜ìƒì—ì„œ ì‹œê³„ì—´ ì¶”ì¶œ</h2>
<p>ì´ì œ AOIë¥¼ ìœ„í•´ í´ë¦½ ëœ ì´ë¯¸ì§€ë¥¼ë¡œë“œí•˜ëŠ” í•¨ìˆ˜ê°€ ìˆìœ¼ë¯€ë¡œ ì°¾ê³ ìˆëŠ” ì •ë³´ë¥¼ ì¶”ì¶œí•˜ëŠ” ë‘ ë²ˆì§¸ í•¨ìˆ˜ë¥¼ ì •ì˜í•´ì•¼í•©ë‹ˆë‹¤. ì´ë¯¸ì§€ì™€ í•¨ê»˜ í•„ìš”í•œ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ê³  ë§µì— í‘œì‹œí•˜ëŠ” ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ DataFrameì— ë„£ì–´ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ í•œ ë²ˆ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì¶”ì¶œ í•  ìˆ˜ ìˆì§€ë§Œ, ì „ì²´ ìº˜ë¦¬í¬ë‹ˆì•„ í˜¸ìˆ˜ì˜ í‘œë©´ì ì„ ë³¼ ìˆ˜ìˆëŠ” ê²ƒì´ í¥ë¯¸ë¡œìš¸ ê²ƒìœ¼ë¡œ ìƒê°ë˜ì–´ 2024 ë…„ì— Sentinel-2ë¡œ ì´¬ì˜ ëœ ëª¨ë“  ì´ë¯¸ì§€ì—ì„œ ìµœê·¼ ì´ë¯¸ì§€ë¥¼ í¬í•¨í•˜ì—¬ ì£¼ìš” ìº˜ë¦¬í¬ë‹ˆì•„ í˜¸ìˆ˜ì˜ í‘œë©´ì ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì´ë¥¼ ìœ„í•´ Sentinel-2 ì´ë¯¸ì§€ì˜ ì”¬ ë¶„ë¥˜ ë ˆì´ì–´ì— ìˆëŠ” ë¬¼ í”½ì…€ë¡œ ë¶„ë¥˜ ëœ í”½ì…€ì„ ì¶”ì¶œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë§í•´, ê° ì”¬ì—ì„œ ë¬¼ í”½ì…€ ìˆ˜ë¥¼ ì„¸ì–´ì•¼í•©ë‹ˆë‹¤. í”½ì…€ í•´ìƒë„ê°€ 10m x 10mì„ì„ ê°ì•ˆí•˜ë©´ ìˆ˜ë¥¼ 100 ì œê³± ë¯¸í„° (10m x 10m)ë¡œ ê³±í•˜ë©´ ê° í˜¸ìˆ˜ì˜ í‘œë©´ì ì´ ë‚˜ì˜¬ ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì—¬ê¸°ì„œëŠ” ìœ„ì„±ì— ì˜í•´ ì´¬ì˜ ëœ ì´ë¯¸ì§€ê°€ ê° ì”¬ì—ì„œ ì „ì²´ í˜¸ìˆ˜ë¥¼ ì»¤ë²„í•˜ë„ë¡í•´ì•¼í•©ë‹ˆë‹¤. ì´ë¥¼ ì„¤ëª…í•˜ê¸° ìœ„í•´ 1 ì›” 7 ì¼ê³¼ 1 ì›” 4 ì¼ì— ì´¬ì˜ ëœ ì´ ë‘ ì¥ì˜ ì´ë¯¸ì§€ ì¤‘ í•˜ë‚˜ì— ìº¡ì²˜ëœ í˜¸ìˆ˜ ì¤‘ í•˜ë‚˜ë¥¼ ì‚´í´ ë³´ê² ìŠµë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-keyword">def</span> <span class="hljs-title function_">count_water_pixels</span>(<span class="hljs-params">data,lake_id</span>):
    <span class="hljs-string">"""
    ê° ì‹œì ì˜ Sentinel-2 SCL ë°ì´í„°ì—ì„œ ë¬¼ í”½ì…€ ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.

    :param data: Sentinel-2 SCL ë°ì´í„°ê°€ í¬í•¨ëœ xarray Datasetì…ë‹ˆë‹¤.
    :return: ë‚ ì§œ, ë¬¼ íšŸìˆ˜ ë° ëˆˆ íšŸìˆ˜ê°€ í¬í•¨ëœ DataFrameì…ë‹ˆë‹¤.
    """</span>

    water_counts = []
    date_labels = []
    water_area = []
    coverage_ratio = []

    <span class="hljs-comment"># ì‹œê°„ ë‹¨ê³„ ìˆ˜ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</span>
    numb_days = <span class="hljs-built_in">len</span>(data.time)

    <span class="hljs-comment"># ê° ì‹œê°„ ë‹¨ê³„ë¥¼ ë°˜ë³µí•©ë‹ˆë‹¤.</span>
    <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(numb_days):
        scl_image = data[[<span class="hljs-string">"scl"</span>]].isel(time=t).to_array()
        dt = pd.to_datetime(scl_image.time.values)
        year = dt.year
        month = dt.month
        day = dt.day

        date_string = <span class="hljs-string">f"<span class="hljs-subst">{year}</span>-<span class="hljs-subst">{month:02d}</span>-<span class="hljs-subst">{day:02d}</span>"</span>
        <span class="hljs-built_in">print</span>(date_string)

        <span class="hljs-comment"># ë¬¼ì— í•´ë‹¹í•˜ëŠ” í”½ì…€ ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.</span>
        count_water = np.count_nonzero(scl_image == <span class="hljs-number">6</span>)  <span class="hljs-comment"># ë¬¼</span>

        surface_area = count_water * <span class="hljs-number">10</span> * <span class="hljs-number">10</span> / (<span class="hljs-number">10</span> ** <span class="hljs-number">6</span>)

        count_pixels = np.count_nonzero((scl_image == <span class="hljs-number">1</span>) | (scl_image == <span class="hljs-number">2</span>) | (scl_image == <span class="hljs-number">3</span>) | (scl_image == <span class="hljs-number">4</span>) | (
                    scl_image == <span class="hljs-number">5</span>) | (scl_image == <span class="hljs-number">6</span>) | (scl_image == <span class="hljs-number">7</span>) | (scl_image == <span class="hljs-number">8</span>) | (scl_image == <span class="hljs-number">9</span>) | (
                                               scl_image == <span class="hljs-number">10</span>) | (scl_image == <span class="hljs-number">11</span>))
        total_pixels = data.dims[<span class="hljs-string">'y'</span>] * data.dims[<span class="hljs-string">'x'</span>]

        coverage = count_pixels * <span class="hljs-number">10</span> * <span class="hljs-number">10</span> / <span class="hljs-number">1e6</span>
        lake_area = total_pixels * <span class="hljs-number">10</span> * <span class="hljs-number">10</span> / <span class="hljs-number">1e6</span>

        ratio = coverage / lake_area

        <span class="hljs-built_in">print</span>(coverage)
        <span class="hljs-built_in">print</span>(lake_area)
        <span class="hljs-built_in">print</span>(ratio)

        <span class="hljs-keyword">if</span> ratio &#x3C; <span class="hljs-number">0.8</span>:
            <span class="hljs-keyword">continue</span>

        <span class="hljs-comment"># ì¶”ê°€</span>
        water_counts.append(count_water)
        date_labels.append(date_string)
        water_area.append(surface_area)
        coverage_ratio.append(ratio)

    <span class="hljs-comment"># ë‚ ì§œ ë ˆì´ë¸”ì„ pandas datetime í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.</span>
    datetime_index = pd.to_datetime(date_labels)

    <span class="hljs-comment"># DataFrameì„ êµ¬ì„±í•˜ê¸° ìœ„í•œ ë”•ì…”ë„ˆë¦¬ ìƒì„±</span>
    data_dict = {
        <span class="hljs-string">'Date'</span>: datetime_index,
        <span class="hljs-string">'ID'</span>: lake_id,
        <span class="hljs-string">'Water Counts'</span>: water_counts,
        <span class="hljs-string">'Pixel Counts'</span>: count_pixels,
        <span class="hljs-string">'Total Pixels'</span>: total_pixels,
        <span class="hljs-string">'Coverage Ratio'</span>: coverage_ratio,
        <span class="hljs-string">'Water Surface Area'</span>: water_area
    }

    <span class="hljs-comment"># DataFrame ìƒì„±</span>
    df = pd.DataFrame(data_dict)

    <span class="hljs-keyword">return</span> df
</code></pre>
<p>ì´ í•¨ìˆ˜ëŠ” ë°ì´í„°ì…‹ì˜ ê° ì‹œê°„ ë‹¨ê³„ë¥¼ ë°˜ë³µí•˜ì—¬ ë¬¼ í”½ì…€ ìˆ˜ë¥¼ ê³„ì‚°í•˜ê³  í‘œë©´ì ì„ ê³„ì‚°í•˜ë©° ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì„ ê³„ì‚°í•©ë‹ˆë‹¤. ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì´ 80% ë¯¸ë§Œì´ë©´ ì‹œê°„ ë‹¨ê³„ê°€ ê±´ë„ˆëœë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ íšŸìˆ˜, ë‚ ì§œ, í‘œë©´ì  ë° ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì„ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•˜ê³  í•´ë‹¹ ê°’ê³¼ ë¬¼ ID ë° ì´ í”½ì…€ ìˆ˜ê°€ í¬í•¨ëœ DataFrameì„ ë°˜í™˜í•©ë‹ˆë‹¤.</p>
<p>ì»¤ë²„ë¦¬ì§€ ë¬¸ì œì™€ í•´ê²°í•˜ëŠ” ì†ì„ìˆ˜ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ë ¤ë©´ ì´ í¬ìŠ¤íŠ¸ì˜ ì„¹ì…˜ (ğŸ“ˆ í†µê³„ íŒŒì¼ì—ì„œ ëŒ€ì—¼í•´ ì§€ì—­ì˜ ì‹œê³„ì—´)ì„ ì°¸ì¡°í•´ì£¼ì„¸ìš”:</p>
<h2>ğŸŒ ì‹œê³„ì—´ê³¼ í•¨ê»˜ ìƒí˜¸ì‘ìš©í•˜ëŠ” ì§€ë„ ê°œë°œí•˜ê¸°</h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì´ ì„¹ì…˜ì—ì„œëŠ” ì„¸ ê°œì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¤ê°í˜•(AOI)ì˜ ë°”ìš´ë”© ë°•ìŠ¤ì™€ ì¤‘ì‹¬ ì¢Œí‘œë¥¼ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ í•¨ìˆ˜(search_satellite_images)ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ ë°”ìš´ë”© ë°•ìŠ¤ê°€ í•„ìš”í•˜ë©°, ë§µì— í˜¸ìˆ˜ë¥¼ í‘œì‹œí•˜ëŠ” ë° ì¤‘ì‹¬ ì¢Œí‘œê°€ í•„ìš”í•©ë‹ˆë‹¤. ë‹¤ìŒ ì½”ë“œë¡œ ì´ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> geopandas <span class="hljs-keyword">as</span> gpd
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

def <span class="hljs-title function_">get_centroids_and_bboxes</span>(shapefile_path):
    <span class="hljs-string">""</span><span class="hljs-string">"
    shapefileì„ ì²˜ë¦¬í•˜ì—¬ ê° ë‹¤ê°í˜•ì˜ ID, ì¤‘ì‹¬ì , ë°”ìš´ë”© ë°•ìŠ¤(bbox)ë¥¼ í¬í•¨í•˜ëŠ” DataFrameì„ ë°˜í™˜í•©ë‹ˆë‹¤.
    :param shapefile_path: shapefileì˜ ê²½ë¡œ.
    :return: ê° ë‹¤ê°í˜•ì˜ ID, ì¤‘ì‹¬ì , ë° bboxê°€ ìˆëŠ” pandas DataFrame.
    "</span><span class="hljs-string">""</span>

    # shapefile ë¶ˆëŸ¬ì˜¤ê¸°
    gdf = gpd.<span class="hljs-title function_">read_file</span>(shapefile_path)

    # <span class="hljs-attr">EPSG</span>:<span class="hljs-number">4326</span>ìœ¼ë¡œ ì¬íˆ¬ì˜
    gdf_proj = gdf.<span class="hljs-title function_">to_crs</span>(<span class="hljs-string">"EPSG:4326"</span>)

    centroids = []
    bboxes = []

    # ê° ë‹¤ê°í˜•ì„ ì²˜ë¦¬í•˜ì—¬ ì¤‘ì‹¬ì ê³¼ bbox ì–»ê¸°
    <span class="hljs-keyword">for</span> index, row <span class="hljs-keyword">in</span> gdf_proj.<span class="hljs-title function_">iterrows</span>():
        # ì¤‘ì‹¬ì 
        centroid_lat = row.<span class="hljs-property">geometry</span>.<span class="hljs-property">centroid</span>.<span class="hljs-property">y</span>
        centroid_lon = row.<span class="hljs-property">geometry</span>.<span class="hljs-property">centroid</span>.<span class="hljs-property">x</span>
        centroids.<span class="hljs-title function_">append</span>((centroid_lat, centroid_lon))

        # ë°”ìš´ë”© ë°•ìŠ¤
        minx, miny, maxx, maxy = row.<span class="hljs-property">geometry</span>.<span class="hljs-property">bounds</span>
        bbox = (minx, miny, maxx, maxy)
        bboxes.<span class="hljs-title function_">append</span>(bbox)

    # <span class="hljs-title class_">DataFrame</span> ìƒì„±
    df = pd.<span class="hljs-title class_">DataFrame</span>({
        <span class="hljs-string">'ID'</span>: gdf_proj.<span class="hljs-property">index</span>,
        <span class="hljs-string">'Centroid_Lat'</span>: [lat <span class="hljs-keyword">for</span> lat, lon <span class="hljs-keyword">in</span> centroids],
        <span class="hljs-string">'Centroid_Lon'</span>: [lon <span class="hljs-keyword">for</span> lat, lon <span class="hljs-keyword">in</span> centroids],
        <span class="hljs-string">'BBox_Min_Lon'</span>: [bbox[<span class="hljs-number">0</span>] <span class="hljs-keyword">for</span> bbox <span class="hljs-keyword">in</span> bboxes],
        <span class="hljs-string">'BBox_Min_Lat'</span>: [bbox[<span class="hljs-number">1</span>] <span class="hljs-keyword">for</span> bbox <span class="hljs-keyword">in</span> bboxes],
        <span class="hljs-string">'BBox_Max_Lon'</span>: [bbox[<span class="hljs-number">2</span>] <span class="hljs-keyword">for</span> bbox <span class="hljs-keyword">in</span> bboxes],
        <span class="hljs-string">'BBox_Max_Lat'</span>: [bbox[<span class="hljs-number">3</span>] <span class="hljs-keyword">for</span> bbox <span class="hljs-keyword">in</span> bboxes]
    })

    <span class="hljs-keyword">return</span> df

shapefile_path = <span class="hljs-string">"lakes_boundry.shp"</span>
lakes_df = <span class="hljs-title function_">get_centroids_and_bboxes</span>(shapefile_path)
<span class="hljs-title function_">print</span>(lakes_df)
</code></pre>
<p>ìœ„ ë‹¨ê³„ë¥¼ ë”°ë¥´ê³  ì½”ë“œë¥¼ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰í•˜ë©´, ë‹¤ìŒ í˜•ì‹ì˜ ë‹¤ê°í˜•ì— ëŒ€í•œ ìœ ì‚¬í•œ DataFrameì´ í‘œì‹œë  ê²ƒì…ë‹ˆë‹¤:</p>
<img src="/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_4.png">
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ë‹¤ìŒ ìŠ¤í¬ë¦½íŠ¸ëŠ” 2024ë…„ ì„¼í‹°ë„¬-2ì— ì˜í•´ ì´¬ì˜ëœ ëª¨ë“  ì´ë¯¸ì§€ë¥¼ í˜¸ìˆ˜ ìœ„ì—ì„œ ë£¨í•‘í•˜ê³  ë‘ ë²ˆì§¸ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ì—¬ ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì´ 80%ë³´ë‹¤ ë†’ì€ ê²½ìš° ê° ì´ë¯¸ì§€ì—ì„œ í‘œë©´ì ì„ ê³„ì‚°í•˜ë©° ê° í˜¸ìˆ˜ì˜ í‘œë©´ì ì„ ì‹œê³„ì—´ë¡œ ë³´ì—¬ì£¼ëŠ” DataFrameì„ ë³´ê³ í•˜ëŠ” ê²ƒì„ í¬í•¨í•©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

all_water_pixels_dfs = []

<span class="hljs-keyword">for</span> lake_id <span class="hljs-keyword">in</span> lakes_df.ID:
    <span class="hljs-built_in">print</span>(lake_id)
    lake_df = lakes_df[lakes_df[<span class="hljs-string">'ID'</span>] == lake_id]

    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> lake_df.empty:
        bbox = [lake_df.iloc[<span class="hljs-number">0</span>].BBox_Min_Lon, lake_df.iloc[<span class="hljs-number">0</span>].BBox_Min_Lat,
                lake_df.iloc[<span class="hljs-number">0</span>].BBox_Max_Lon, lake_df.iloc[<span class="hljs-number">0</span>].BBox_Max_Lat]

        data = search_satellite_images(collection=<span class="hljs-string">"sentinel-2-l2a"</span>,
                                       date=<span class="hljs-string">"2024-01-01/2024-05-14"</span>,
                                       cloud_cover=(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>),
                                       bbox=bbox)
        <span class="hljs-comment"># Pass the lake_id</span>
        water_pixels_df = count_water_pixels(data, lake_id)

        <span class="hljs-comment"># Append</span>
        all_water_pixels_dfs.append(water_pixels_df)

<span class="hljs-comment"># Concatenate all DataFrames into a single DataFrame</span>
final_df = pd.concat(all_water_pixels_dfs, ignore_index=<span class="hljs-literal">True</span>)
</code></pre>
<p>ìµœì¢… DataFrameì€ ì´ë¯¸ì§€ ë‚ ì§œ, ë¬¼ í”½ì…€ ìˆ˜, ì´ í”½ì…€ ìˆ˜, ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ ë° í‘œë©´ì ì„ ìš”ì•½í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ ë³´ì—¬ì§‘ë‹ˆë‹¤:</p>
<p><img src="/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_5.png" alt="ì´ë¯¸ì§€"></p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ê±°ì˜ ë‹¤ ì™”ì–´ìš”!</p>
<p>ì§€ë„ ìƒì—ì„œ ì‹œê³„ì—´ì„ ë³´ê¸° ìœ„í•´ ë§ˆì§€ë§‰ í•œ ë‹¨ê³„ê°€ ë‚¨ì•˜ìŠµë‹ˆë‹¤. ì´ì œ í‘œë©´ì ì˜ ì‹œê³„ì—´ ë°ì´í„°ê°€ ìˆìœ¼ë¯€ë¡œ Folium ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‘ ê°€ì§€ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: (1) ì§€ë„ìƒì˜ í˜¸ìˆ˜ ì¤‘ì‹¬ì„ ì§€ì ìœ¼ë¡œ í‘œì‹œí•˜ê³  (2) ê° í˜¸ìˆ˜ë¥¼ í´ë¦­í•˜ë©´ íŒì—…ìœ¼ë¡œ í‘œë©´ì ì˜ ì‹œê³„ì—´ì„ ë³´ì—¬ì£¼ëŠ” ê·¸ë˜í”„ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. ë‹¤ìŒ ì½”ë“œë¡œ ì´ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> folium
<span class="hljs-keyword">import</span> plotly.<span class="hljs-property">express</span> <span class="hljs-keyword">as</span> px
<span class="hljs-keyword">import</span> os

# ì‹œê³„ì—´ í”Œë¡¯ì„ ê·¸ë ¤ <span class="hljs-variable constant_">HTML</span>ë¡œ ì €ì¥í•˜ëŠ” í•¨ìˆ˜
def <span class="hljs-title function_">plot_timeseries_for_spot</span>(spot_id, ts_df):
    df_spot = ts_df[ts_df[<span class="hljs-string">'ID'</span>] == spot_id]
    <span class="hljs-title function_">print</span>(df_spot)
    fig = px.<span class="hljs-title function_">line</span>(df_spot, x=<span class="hljs-string">'Date'</span>, y=<span class="hljs-string">'Water Surface Area'</span>, title=f<span class="hljs-string">'Time Series for Lake {spot_id}'</span>)

     # X ë° Y ì¶• ë ˆì´ë¸” ì¶”ê°€
    fig.<span class="hljs-title function_">update_layout</span>(
        xaxis_title=<span class="hljs-string">"Date"</span>,
        yaxis_title=<span class="hljs-string">"Water Surface Area (sq km)"</span>
    )

    filepath = f<span class="hljs-string">'tmp_{int(spot_id)}.html'</span>
    fig.<span class="hljs-title function_">write_html</span>(filepath, include_plotlyjs=<span class="hljs-string">'cdn'</span>)
    <span class="hljs-keyword">return</span> filepath

# ì§€ë„ ìƒì„±
m = folium.<span class="hljs-title class_">Map</span>(location=[<span class="hljs-number">35.5</span>, -<span class="hljs-number">119.5</span>], zoom_start=<span class="hljs-number">7</span>)

# <span class="hljs-title class_">Plotly</span> ì‹œê³„ì—´ íŒì—…ì´ ìˆëŠ” ë§ˆì»¤ ì¶”ê°€
<span class="hljs-keyword">for</span> index, row <span class="hljs-keyword">in</span> lakes_df.<span class="hljs-title function_">iterrows</span>():
    html_path = <span class="hljs-title function_">plot_timeseries_for_spot</span>(row[<span class="hljs-string">'ID'</span>], final_df)
    iframe = folium.<span class="hljs-title class_">IFrame</span>(html=<span class="hljs-title function_">open</span>(html_path).<span class="hljs-title function_">read</span>(), width=<span class="hljs-number">500</span>, height=<span class="hljs-number">300</span>)
    popup = folium.<span class="hljs-title class_">Popup</span>(iframe, max_width=<span class="hljs-number">2650</span>)
    folium.<span class="hljs-title class_">Marker</span>([row[<span class="hljs-string">'Centroid_Lat'</span>], row[<span class="hljs-string">'Centroid_Lon'</span>]], popup=popup).<span class="hljs-title function_">add_to</span>(m)

m.<span class="hljs-title function_">save</span>(<span class="hljs-string">'map_with_timeseries.html'</span>)

# ì„ì‹œ <span class="hljs-variable constant_">HTML</span> íŒŒì¼ ì •ë¦¬
<span class="hljs-keyword">for</span> spot_id <span class="hljs-keyword">in</span> lakes_df[<span class="hljs-string">'ID'</span>]:
    os.<span class="hljs-title function_">remove</span>(f<span class="hljs-string">'tmp_{spot_id}.html'</span>)
</code></pre>
<p>ì´ ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” í•¨ìˆ˜ê°€ ê° í˜¸ìˆ˜ì˜ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ í•„í„°ë§í•˜ê³ , Plotlyë¥¼ ì‚¬ìš©í•˜ì—¬ ë¼ì¸ í”Œë¡¯ì„ ìƒì„±í•˜ê³ , í”Œë¡¯ì„ HTML íŒŒì¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤. ë‹¤ìŒìœ¼ë¡œ Foliumì„ ì‚¬ìš©í•˜ì—¬ ì§€ë„ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ í˜¸ìˆ˜ DataFrameì„ ë°˜ë³µí•˜ë©´ì„œ, ê° í˜¸ìˆ˜ì˜ ì¤‘ì‹¬ ì¢Œí‘œì— ë§ˆì»¤ë¥¼ ì¶”ê°€í•˜ê³ , ê° ë§ˆì»¤ì— íŒì—…ì„ ì—°ê²°í•˜ì—¬ ì‹œê³„ì—´ í”Œë¡¯ì„ í‘œì‹œí•©ë‹ˆë‹¤. ìµœì¢… ì§€ë„ëŠ” HTML íŒŒì¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ, Plotly í”Œë¡¯ì— ìƒì„±ëœ ì„ì‹œ HTML íŒŒì¼ì„ ì‚­ì œí•˜ì—¬ ì •ë¦¬í•©ë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</p>
<p>ì½˜í…ì¸  í´ë”ì— ìƒì„±ëœ HTML íŒŒì¼ì„ ì—´ë©´ ì§€ë„ì— í‘œì‹œëœ ê° í˜¸ìˆ˜ì˜ ì¤‘ì‹¬ ì¢Œí‘œë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p><img src="/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_6.png" alt="ì§€ë„"></p>
<p>ê° í˜¸ìˆ˜ë¥¼ í´ë¦­í•˜ì—¬ ì‹œê³„ì—´ì´ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì´ ëª¨ë“  ë…¸ë ¥ ëì— ì´ë ‡ê²Œ ì‹¤ìš©ì ì¸ ì§€ë„ê°€ ë§Œë“¤ì–´ì¡Œë„¤ìš”, ë§ë‚˜ìš”? :D</p>
<h2>ğŸ“„ ê²°ë¡ </h2>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ê±°ì˜ ë§¤ë‹¬ ìƒˆë¡œìš´ íŒ¨í‚¤ì§€ì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ ë‚˜ì™€ì„œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ê³  ë¶„ì„í•˜ë©° í‘œì‹œí•˜ê³  ì‹œê°í™”í•˜ëŠ” ë²•ì„ ì‹¤ìš©ì ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ë¶„ì•¼ì—ì„œ ì•„ì§ ë‚¨ì•„ ìˆëŠ” ë‘ ê°€ì§€ ê³¼ì œê°€ ìˆìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ëŠ” ë°ì´í„°ë¥¼ ì •í™•í•˜ê²Œ ë¶„ì„í•˜ê¸° ìœ„í•´ì„œëŠ” í…Œë¼ë°”ì´íŠ¸ ë˜ëŠ” í˜íƒ€ë°”ì´íŠ¸ì—ì„œ ì¶”ì¶œëœ ë°ì´í„°ê°€ ì •í™•í•œì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì¶©ë¶„í•œ ê²½í—˜ì´ í•„ìš”í•©ë‹ˆë‹¤. ë‘ ë²ˆì§¸ëŠ” ì´ëŸ¬í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ ì—°ê²°í•˜ì—¬ ì˜ë¯¸ ìˆëŠ” ê²ƒì„ ë§Œë“¤ì–´ë‚´ëŠ” ì•„í‚¤í…ì²˜ë¥¼ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤.</p>
<p>ì´ë¯¸ì§€ ì²˜ë¦¬ì—ì„œëŠ” ì²˜ë¦¬ëœ ë°ì´í„°ì—ì„œì˜ ê°„ë‹¨í•œ ì‹¤ìˆ˜ê°€ ì¤‘ëŒ€í•œ ì˜¤ë¥˜ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆëŠ” ì ì„ ê°•ì¡°í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ì‹œê°í™” ë¶€ë¶„ì—ì„œëŠ” Folium, Plotly, ê·¸ë¦¬ê³  ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ì¶”ì¶œí•˜ê¸° ìœ„í•œ APIë¥¼ ì—°ê²°í•˜ì—¬, ë¦¬ëª¨íŠ¸ ì„¼ì‹± ê´€ì¸¡ì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ì–‘í•œ í˜„ìƒì„ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ìœ ìš©í•œ ë„êµ¬ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŒì„ ë³´ì—¬ì£¼ì—ˆìŠµë‹ˆë‹¤. ì´ ê¸€ì„ ì½ëŠ” ë° ì¦ê±°ì›€ì„ ëŠë¼ì‹œê¸°ë¥¼ ë°”ë¼ë©°, ê¶ê¸ˆí•œ ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ì—°ë½ ì£¼ì„¸ìš”.</p>
<h2>ğŸ“š ì°¸ê³  ìë£Œ</h2>
<p><a href="https://github.com/stac-utils/pystac-client/blob/main/docs/quickstart.rst" rel="nofollow" target="_blank">https://github.com/stac-utils/pystac-client/blob/main/docs/quickstart.rst</a></p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p><a href="https://www.element84.com/earth-search/examples/" rel="nofollow" target="_blank">https://www.element84.com/earth-search/examples/</a></p>
<p>Sentinel ë°ì´í„°ìš© Copernicus Sentinel ë°ì´í„° [2024]</p>
<p>Copernicus ì„œë¹„ìŠ¤ ì •ë³´ìš© Copernicus ì„œë¹„ìŠ¤ ì •ë³´ [2024]</p>
<p>ğŸ“± ë” ë§ì€ í¥ë¯¸ë¡œìš´ ì½˜í…ì¸ ë¥¼ ì œê³µí•˜ëŠ” ë‹¤ë¥¸ í”Œë«í¼ì—ì„œ ì €ì™€ ì†Œí†µí•˜ì„¸ìš”! LinkedIn, ResearchGate, Github ë° Twitter.</p>
<!-- ui-station ì‚¬ê°í˜• -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="7249294152" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì´ ë§í¬ë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆëŠ” ê´€ë ¨ ê²Œì‹œë¬¼ì´ ìˆìŠµë‹ˆë‹¤:</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"ìœ„ì¹˜ ê¸°ë°˜ì˜ ìœ„ì„± ì´ë¯¸ì§€ì˜ ì‹œê³„ì—´ì„ í‘œì‹œí•˜ëŠ” ëŒ€í™”í˜• ì§€ë„ ë§Œë“¤ê¸°","description":"","date":"2024-05-18 17:58","slug":"2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery","content":"\n![image](/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_0.png)\n\n# Table of Contents\n\n- ğŸŒŸ Introduction\n- ğŸ“Œ Area of Interest (AOI)\n- ğŸ’¾ Loading Sentinel-2 Imagery\n- â³ Extracting Time Series from Satellite Imagery\n- ğŸŒ Developing an Interactive Map with Time Series\n- ğŸ“„ Conclusion\n- ğŸ“š References\n\n## ğŸŒŸ Introduction\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\ní•œë™ì•ˆ ì‚¬ìš©ìê°€ íŠ¹ì • ìœ„ì¹˜ë¥¼ í´ë¦­í•  ë•Œ ìƒí˜¸ì‘ìš© ë§µì— ì‹œê³„ì—´ ë°ì´í„°ê°€ í‘œì‹œë˜ëŠ” ì‰½ê³  ì§ê´€ì ì¸ ë°©ë²•ì„ ì°¾ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ì €ëŠ” folium ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ íƒìƒ‰í•˜ê³  ìœ„ì„± ì´ë¯¸ì§€ì—ì„œ ì¶”ì¶œí•œ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ foliumê³¼ ì—°ê²°í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ëƒˆìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ì€ ë‚´ ë°©ë²•ì„ ê³µìœ í•˜ê² ìŠµë‹ˆë‹¤.\n\nì´ ê²Œì‹œë¬¼ì—ì„œëŠ” ë‘ ê°€ì§€ í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ í•¨ìˆ˜ëŠ” ìœ„ì„± ë°ì´í„°ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì§€ ì•Šê³  ë¡œë“œí•˜ê³ , ë‘ ë²ˆì§¸ í•¨ìˆ˜ëŠ” ë°ì´í„°ì™€ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ì¶”ì¶œí•˜ì—¬ ë°ì´í„° í˜•ì‹ì˜ ì‹œê³„ì—´ì„ ìƒì„±í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ AOIs(ê´€ì‹¬ ì§€ì—­)ë¥¼ ìˆœí™˜í•˜ì—¬ ë‘ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³  AOIì— ëŒ€í•œ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ì¶”ì¶œí•  ê²ƒì…ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ ìƒì„±ëœ ì‹œê³„ì—´ ë°ì´í„°ì™€ folium ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¥¼ ìƒí˜¸ì‘ìš©ì ì¸ ì§€ë„ì— ì§€ë¦¬ì ìœ¼ë¡œ í‘œì‹œí•  ê²ƒì…ë‹ˆë‹¤.\n\nì´ ê²Œì‹œë¬¼ì„ ë§ˆì¹˜ë©´ ì–´ë–¤ ë³€ìˆ˜ë‚˜ ë§¤ê°œë³€ìˆ˜ì— ëŒ€í•´ ì¶”ì¶œëœ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ìƒí˜¸ì‘ìš©ì ì¸ ë§µê³¼ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œí•  ìˆ˜ ìˆê²Œ ë  ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ìº˜ë¦¬í¬ë‹ˆì•„ í˜¸ìˆ˜ ë©´ì ì˜ ì‹œê³„ì—´ì„ ì¶”ì¶œí•˜ê³  ìƒí˜¸ì‘ìš©ì  ì§€ë„ì— í‘œì‹œí•˜ê² ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ í¥ë¯¸ë¥¼ ê°–ê±°ë‚˜ ì´ëŸ¬í•œ ì¡°ì–¸ê³¼ ê¿€íŒì„ ì°¾ê³  ìˆì—ˆë‹¤ë©´ ê³„ì† ì½ì–´ë³´ì„¸ìš”!\n\n## ğŸ“Œ ê´€ì‹¬ ì§€ì—­ (AOI)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì†Œê°œì—ì„œ ì–¸ê¸‰í•œ ëŒ€ë¡œ ìƒí˜¸ì‘ìš©ì  ì§€ë„ì—ì„œ ì–´ë–¤ ìœ„ì¹˜ì˜ ë³€ìˆ˜ì— ëŒ€í•œ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ í‘œì‹œí•˜ë ¤ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì˜ˆì‹œì—ì„œëŠ” ìº˜ë¦¬í¬ë‹ˆì•„ì˜ ëª‡ ê°œ í˜¸ìˆ˜ì˜ ë¬¼ í”½ì…€ì„ ê³„ìˆ˜í•˜ê³  2024ë…„ì— ì´¬ì˜ëœ ëª¨ë“  Sentinel-2 ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ í‘œë©´ì ì„ ê³„ì‚°í•  ê²ƒì…ë‹ˆë‹¤. QGISì—ì„œ ê·¸ í˜¸ìˆ˜ ì£¼ë³€ì— í´ë¦¬ê³¤ì„ ê·¸ë¦¬ê³  ê·¸ê²ƒë“¤ì„ shapefileë¡œ ì €ì¥í–ˆìŠµë‹ˆë‹¤. ê´€ì‹¬ ì˜ì—­ (AOI)ì— ëŒ€í•œ shapefileì„ ë§Œë“œëŠ” ë°©ë²•ì„ ë°°ìš°ê³  ì‹¶ë‹¤ë©´, Mediumì˜ ì²« ë²ˆì§¸ ìŠ¤í† ë¦¬ì—ì„œ \"ğŸ› ï¸ QGISì—ì„œ Shapefile ìƒì„±\"ì´ë¼ëŠ” ì„¹ì…˜ì„ ì°¸ì¡°í•´ì£¼ì„¸ìš”.\n\në‹¤ìŒì€ QGISì—ì„œ í˜¸ìˆ˜ ì£¼ë³€ì— ê·¸ë¦° í´ë¦¬ê³¤ì˜ ìŠ¤ëƒ…ìƒ·ì…ë‹ˆë‹¤:\n\n![lakes](/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_1.png)\n\n## ğŸ’¾ Sentinel-2 ì˜ìƒ ë¶ˆëŸ¬ì˜¤ê¸°\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ì„¹ì…˜ì˜ ëª©í‘œëŠ” ë‹¤ìš´ë¡œë“œ ì—†ì´ ì•„ì¹´ì´ë¸Œëœ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ë©”ëª¨ë¦¬ì— ë¡œë“œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. íŠ¹ì • ì§€ì—­ì— ëŒ€í•œ ì˜¤ëœ ê¸°ê°„ì— ê±¸ì¹œ ìœ„ì„± ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œëŠ” ì‹œê°„ì´ ë§ì´ ì†Œìš”ë˜ë©° ê³„ì‚° ë¹„ìš©ì´ ë§ì´ ë“¤ë©° ë¹„íš¨ìœ¨ì ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì „ì²´ ì¥ë©´ì—ì„œ ì‘ì€ ì˜ì—­ì˜ ë³€í™”ë¥¼ íƒìƒ‰í•˜ë ¤ë©´ ë¬¸ì œê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ 12ì¤„ì˜ ì½”ë“œë§Œ ì‚¬ìš©í•˜ì—¬ ë‹¤ìš´ë¡œë“œ ì—†ì´ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ëŠ” í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. í•´ë‹¹ í¬ìŠ¤íŠ¸ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ ì„¹ì…˜ì—ì„œëŠ” í•´ë‹¹ í¬ìŠ¤íŠ¸ì—ì„œ ì œì‹œëœ í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ì—¬ í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¹ì • ê¸°ê°„ì— ëŒ€í•œ AOI ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ì‰½ê²Œ ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ê¸°ê°„ì´ ê¸¸ë“  ì§§ë“  ìƒê´€ì—†ì´:\n\n```python\nfrom pystac_client import Client\nfrom odc.stac import load\n\ndef search_satellite_images(collection=\"sentinel-2-l2a\",\n                            bbox=[-120.15,38.93,-119.88,39.25],\n                            date=\"2023-01-01/2023-03-12\",\n                            cloud_cover=(0, 10)):\n    \"\"\"\n    Collection, ë²”ìœ„, ë‚ ì§œ ë²”ìœ„ ë° êµ¬ë¦„ ë®ê°œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.\n\n    :param collection: Collection ì´ë¦„ (ê¸°ë³¸ê°’: \"sentinel-2-l2a\").\n    :param bbox: ê²½ê³„ ìƒì [min_lon, min_lat, max_lon, max_lat] (ê¸°ë³¸ê°’: Lake Tahoe ì§€ì—­).\n    :param date: ë‚ ì§œ ë²”ìœ„ \"YYYY-MM-DD/YYYY-MM-DD\" (ê¸°ë³¸ê°’: \"2023-01-01/2023-12-30\").\n    :param cloud_cover: êµ¬ë¦„ ë®ê°œ ë²”ìœ„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” Tuple (ìµœì†Œ, ìµœëŒ€) (ê¸°ë³¸ê°’: (0, 10)).\n    :return: ê²€ìƒ‰ ê¸°ì¤€ì— ë”°ë¼ ë¡œë“œëœ ë°ì´í„°.\n    \"\"\"\n    # ê²€ìƒ‰ í´ë¼ì´ì–¸íŠ¸ ì •ì˜\n    client=Client.open(\"https://earth-search.aws.element84.com/v1\")\n    search = client.search(collections=[collection],\n                            bbox=bbox,\n                            datetime=date,\n                            query=[f\"eo:cloud_cover\u003c{cloud_cover[1]}\", f\"eo:cloud_cover\u003e{cloud_cover[0]}\"])\n\n    # ì¼ì¹˜í•˜ëŠ” í•­ëª© ìˆ˜ ì¶œë ¥\n    print(f\"ë°œê²¬ëœ ì´ë¯¸ì§€ ìˆ˜: {search.matched()}\")\n\n    data = load(search.items(), bbox=bbox, groupby=\"solar_day\", chunks={})\n\n    print(f\"ë°ì´í„°ì—ì„œì˜ ë‚ ì§œ ìˆ˜: {len(data.time)}\")\n\n    return data\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ìœ„ì„± ì´ë¯¸ì§€ ê²€ìƒ‰ì„ ìœ„í•œ ë§¤ê°œë³€ìˆ˜ë¥¼ ì§€ì •í•  ìˆ˜ ìˆì–´ì„œ ë‹¤ì–‘í•œ ê´€ì‹¬ ì˜ì—­ ë° ì‹œê°„ëŒ€ì— ìœ ì—°í•˜ê³  ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìˆ˜ì§‘, ê²½ê³„ ìƒì, ë‚ ì§œ ë²”ìœ„ ë° êµ¬ë¦„ ì–‘ ë“±ê³¼ ê°™ì€ ê¸°ì¤€ì— ë”°ë¼ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤. ì´ëŠ” ì´ë¯¸ì§€ë¥¼ ì°¾ê¸° ìœ„í•´ Earth Search APIë¥¼ ì‚¬ìš©í•˜ê³  ì¼ì¹˜í•˜ëŠ” ìˆ˜ë¥¼ ì¶œë ¥í•˜ë©° íë¸Œ í˜•ì‹ìœ¼ë¡œ í´ë¦½ ëœ ì´ë¯¸ì§€ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\n\n## â³ ìœ„ì„± ì˜ìƒì—ì„œ ì‹œê³„ì—´ ì¶”ì¶œ\n\nì´ì œ AOIë¥¼ ìœ„í•´ í´ë¦½ ëœ ì´ë¯¸ì§€ë¥¼ë¡œë“œí•˜ëŠ” í•¨ìˆ˜ê°€ ìˆìœ¼ë¯€ë¡œ ì°¾ê³ ìˆëŠ” ì •ë³´ë¥¼ ì¶”ì¶œí•˜ëŠ” ë‘ ë²ˆì§¸ í•¨ìˆ˜ë¥¼ ì •ì˜í•´ì•¼í•©ë‹ˆë‹¤. ì´ë¯¸ì§€ì™€ í•¨ê»˜ í•„ìš”í•œ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ê³  ë§µì— í‘œì‹œí•˜ëŠ” ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ DataFrameì— ë„£ì–´ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ í•œ ë²ˆ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì¶”ì¶œ í•  ìˆ˜ ìˆì§€ë§Œ, ì „ì²´ ìº˜ë¦¬í¬ë‹ˆì•„ í˜¸ìˆ˜ì˜ í‘œë©´ì ì„ ë³¼ ìˆ˜ìˆëŠ” ê²ƒì´ í¥ë¯¸ë¡œìš¸ ê²ƒìœ¼ë¡œ ìƒê°ë˜ì–´ 2024 ë…„ì— Sentinel-2ë¡œ ì´¬ì˜ ëœ ëª¨ë“  ì´ë¯¸ì§€ì—ì„œ ìµœê·¼ ì´ë¯¸ì§€ë¥¼ í¬í•¨í•˜ì—¬ ì£¼ìš” ìº˜ë¦¬í¬ë‹ˆì•„ í˜¸ìˆ˜ì˜ í‘œë©´ì ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ë¥¼ ìœ„í•´ Sentinel-2 ì´ë¯¸ì§€ì˜ ì”¬ ë¶„ë¥˜ ë ˆì´ì–´ì— ìˆëŠ” ë¬¼ í”½ì…€ë¡œ ë¶„ë¥˜ ëœ í”½ì…€ì„ ì¶”ì¶œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë§í•´, ê° ì”¬ì—ì„œ ë¬¼ í”½ì…€ ìˆ˜ë¥¼ ì„¸ì–´ì•¼í•©ë‹ˆë‹¤. í”½ì…€ í•´ìƒë„ê°€ 10m x 10mì„ì„ ê°ì•ˆí•˜ë©´ ìˆ˜ë¥¼ 100 ì œê³± ë¯¸í„° (10m x 10m)ë¡œ ê³±í•˜ë©´ ê° í˜¸ìˆ˜ì˜ í‘œë©´ì ì´ ë‚˜ì˜¬ ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì—¬ê¸°ì„œëŠ” ìœ„ì„±ì— ì˜í•´ ì´¬ì˜ ëœ ì´ë¯¸ì§€ê°€ ê° ì”¬ì—ì„œ ì „ì²´ í˜¸ìˆ˜ë¥¼ ì»¤ë²„í•˜ë„ë¡í•´ì•¼í•©ë‹ˆë‹¤. ì´ë¥¼ ì„¤ëª…í•˜ê¸° ìœ„í•´ 1 ì›” 7 ì¼ê³¼ 1 ì›” 4 ì¼ì— ì´¬ì˜ ëœ ì´ ë‘ ì¥ì˜ ì´ë¯¸ì§€ ì¤‘ í•˜ë‚˜ì— ìº¡ì²˜ëœ í˜¸ìˆ˜ ì¤‘ í•˜ë‚˜ë¥¼ ì‚´í´ ë³´ê² ìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```python\nimport pandas as pd\nimport numpy as np\n\ndef count_water_pixels(data,lake_id):\n    \"\"\"\n    ê° ì‹œì ì˜ Sentinel-2 SCL ë°ì´í„°ì—ì„œ ë¬¼ í”½ì…€ ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.\n\n    :param data: Sentinel-2 SCL ë°ì´í„°ê°€ í¬í•¨ëœ xarray Datasetì…ë‹ˆë‹¤.\n    :return: ë‚ ì§œ, ë¬¼ íšŸìˆ˜ ë° ëˆˆ íšŸìˆ˜ê°€ í¬í•¨ëœ DataFrameì…ë‹ˆë‹¤.\n    \"\"\"\n\n    water_counts = []\n    date_labels = []\n    water_area = []\n    coverage_ratio = []\n\n    # ì‹œê°„ ë‹¨ê³„ ìˆ˜ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.\n    numb_days = len(data.time)\n\n    # ê° ì‹œê°„ ë‹¨ê³„ë¥¼ ë°˜ë³µí•©ë‹ˆë‹¤.\n    for t in range(numb_days):\n        scl_image = data[[\"scl\"]].isel(time=t).to_array()\n        dt = pd.to_datetime(scl_image.time.values)\n        year = dt.year\n        month = dt.month\n        day = dt.day\n\n        date_string = f\"{year}-{month:02d}-{day:02d}\"\n        print(date_string)\n\n        # ë¬¼ì— í•´ë‹¹í•˜ëŠ” í”½ì…€ ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.\n        count_water = np.count_nonzero(scl_image == 6)  # ë¬¼\n\n        surface_area = count_water * 10 * 10 / (10 ** 6)\n\n        count_pixels = np.count_nonzero((scl_image == 1) | (scl_image == 2) | (scl_image == 3) | (scl_image == 4) | (\n                    scl_image == 5) | (scl_image == 6) | (scl_image == 7) | (scl_image == 8) | (scl_image == 9) | (\n                                               scl_image == 10) | (scl_image == 11))\n        total_pixels = data.dims['y'] * data.dims['x']\n\n        coverage = count_pixels * 10 * 10 / 1e6\n        lake_area = total_pixels * 10 * 10 / 1e6\n\n        ratio = coverage / lake_area\n\n        print(coverage)\n        print(lake_area)\n        print(ratio)\n\n        if ratio \u003c 0.8:\n            continue\n\n        # ì¶”ê°€\n        water_counts.append(count_water)\n        date_labels.append(date_string)\n        water_area.append(surface_area)\n        coverage_ratio.append(ratio)\n\n    # ë‚ ì§œ ë ˆì´ë¸”ì„ pandas datetime í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.\n    datetime_index = pd.to_datetime(date_labels)\n\n    # DataFrameì„ êµ¬ì„±í•˜ê¸° ìœ„í•œ ë”•ì…”ë„ˆë¦¬ ìƒì„±\n    data_dict = {\n        'Date': datetime_index,\n        'ID': lake_id,\n        'Water Counts': water_counts,\n        'Pixel Counts': count_pixels,\n        'Total Pixels': total_pixels,\n        'Coverage Ratio': coverage_ratio,\n        'Water Surface Area': water_area\n    }\n\n    # DataFrame ìƒì„±\n    df = pd.DataFrame(data_dict)\n\n    return df\n```\n\nì´ í•¨ìˆ˜ëŠ” ë°ì´í„°ì…‹ì˜ ê° ì‹œê°„ ë‹¨ê³„ë¥¼ ë°˜ë³µí•˜ì—¬ ë¬¼ í”½ì…€ ìˆ˜ë¥¼ ê³„ì‚°í•˜ê³  í‘œë©´ì ì„ ê³„ì‚°í•˜ë©° ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì„ ê³„ì‚°í•©ë‹ˆë‹¤. ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì´ 80% ë¯¸ë§Œì´ë©´ ì‹œê°„ ë‹¨ê³„ê°€ ê±´ë„ˆëœë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ íšŸìˆ˜, ë‚ ì§œ, í‘œë©´ì  ë° ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì„ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•˜ê³  í•´ë‹¹ ê°’ê³¼ ë¬¼ ID ë° ì´ í”½ì…€ ìˆ˜ê°€ í¬í•¨ëœ DataFrameì„ ë°˜í™˜í•©ë‹ˆë‹¤.\n\nì»¤ë²„ë¦¬ì§€ ë¬¸ì œì™€ í•´ê²°í•˜ëŠ” ì†ì„ìˆ˜ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ë ¤ë©´ ì´ í¬ìŠ¤íŠ¸ì˜ ì„¹ì…˜ (ğŸ“ˆ í†µê³„ íŒŒì¼ì—ì„œ ëŒ€ì—¼í•´ ì§€ì—­ì˜ ì‹œê³„ì—´)ì„ ì°¸ì¡°í•´ì£¼ì„¸ìš”:\n\n## ğŸŒ ì‹œê³„ì—´ê³¼ í•¨ê»˜ ìƒí˜¸ì‘ìš©í•˜ëŠ” ì§€ë„ ê°œë°œí•˜ê¸°\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ì„¹ì…˜ì—ì„œëŠ” ì„¸ ê°œì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¤ê°í˜•(AOI)ì˜ ë°”ìš´ë”© ë°•ìŠ¤ì™€ ì¤‘ì‹¬ ì¢Œí‘œë¥¼ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ í•¨ìˆ˜(search_satellite_images)ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ ë°”ìš´ë”© ë°•ìŠ¤ê°€ í•„ìš”í•˜ë©°, ë§µì— í˜¸ìˆ˜ë¥¼ í‘œì‹œí•˜ëŠ” ë° ì¤‘ì‹¬ ì¢Œí‘œê°€ í•„ìš”í•©ë‹ˆë‹¤. ë‹¤ìŒ ì½”ë“œë¡œ ì´ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\nimport geopandas as gpd\nimport pandas as pd\n\ndef get_centroids_and_bboxes(shapefile_path):\n    \"\"\"\n    shapefileì„ ì²˜ë¦¬í•˜ì—¬ ê° ë‹¤ê°í˜•ì˜ ID, ì¤‘ì‹¬ì , ë°”ìš´ë”© ë°•ìŠ¤(bbox)ë¥¼ í¬í•¨í•˜ëŠ” DataFrameì„ ë°˜í™˜í•©ë‹ˆë‹¤.\n    :param shapefile_path: shapefileì˜ ê²½ë¡œ.\n    :return: ê° ë‹¤ê°í˜•ì˜ ID, ì¤‘ì‹¬ì , ë° bboxê°€ ìˆëŠ” pandas DataFrame.\n    \"\"\"\n\n    # shapefile ë¶ˆëŸ¬ì˜¤ê¸°\n    gdf = gpd.read_file(shapefile_path)\n\n    # EPSG:4326ìœ¼ë¡œ ì¬íˆ¬ì˜\n    gdf_proj = gdf.to_crs(\"EPSG:4326\")\n\n    centroids = []\n    bboxes = []\n\n    # ê° ë‹¤ê°í˜•ì„ ì²˜ë¦¬í•˜ì—¬ ì¤‘ì‹¬ì ê³¼ bbox ì–»ê¸°\n    for index, row in gdf_proj.iterrows():\n        # ì¤‘ì‹¬ì \n        centroid_lat = row.geometry.centroid.y\n        centroid_lon = row.geometry.centroid.x\n        centroids.append((centroid_lat, centroid_lon))\n\n        # ë°”ìš´ë”© ë°•ìŠ¤\n        minx, miny, maxx, maxy = row.geometry.bounds\n        bbox = (minx, miny, maxx, maxy)\n        bboxes.append(bbox)\n\n    # DataFrame ìƒì„±\n    df = pd.DataFrame({\n        'ID': gdf_proj.index,\n        'Centroid_Lat': [lat for lat, lon in centroids],\n        'Centroid_Lon': [lon for lat, lon in centroids],\n        'BBox_Min_Lon': [bbox[0] for bbox in bboxes],\n        'BBox_Min_Lat': [bbox[1] for bbox in bboxes],\n        'BBox_Max_Lon': [bbox[2] for bbox in bboxes],\n        'BBox_Max_Lat': [bbox[3] for bbox in bboxes]\n    })\n\n    return df\n\nshapefile_path = \"lakes_boundry.shp\"\nlakes_df = get_centroids_and_bboxes(shapefile_path)\nprint(lakes_df)\n```\n\nìœ„ ë‹¨ê³„ë¥¼ ë”°ë¥´ê³  ì½”ë“œë¥¼ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰í•˜ë©´, ë‹¤ìŒ í˜•ì‹ì˜ ë‹¤ê°í˜•ì— ëŒ€í•œ ìœ ì‚¬í•œ DataFrameì´ í‘œì‹œë  ê²ƒì…ë‹ˆë‹¤:\n\n\u003cimg src=\"/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_4.png\" /\u003e\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në‹¤ìŒ ìŠ¤í¬ë¦½íŠ¸ëŠ” 2024ë…„ ì„¼í‹°ë„¬-2ì— ì˜í•´ ì´¬ì˜ëœ ëª¨ë“  ì´ë¯¸ì§€ë¥¼ í˜¸ìˆ˜ ìœ„ì—ì„œ ë£¨í•‘í•˜ê³  ë‘ ë²ˆì§¸ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ì—¬ ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì´ 80%ë³´ë‹¤ ë†’ì€ ê²½ìš° ê° ì´ë¯¸ì§€ì—ì„œ í‘œë©´ì ì„ ê³„ì‚°í•˜ë©° ê° í˜¸ìˆ˜ì˜ í‘œë©´ì ì„ ì‹œê³„ì—´ë¡œ ë³´ì—¬ì£¼ëŠ” DataFrameì„ ë³´ê³ í•˜ëŠ” ê²ƒì„ í¬í•¨í•©ë‹ˆë‹¤:\n\n```python\nimport matplotlib.pyplot as plt\nimport pandas as pd\nfrom datetime import datetime\nimport numpy as np\n\nall_water_pixels_dfs = []\n\nfor lake_id in lakes_df.ID:\n    print(lake_id)\n    lake_df = lakes_df[lakes_df['ID'] == lake_id]\n\n    if not lake_df.empty:\n        bbox = [lake_df.iloc[0].BBox_Min_Lon, lake_df.iloc[0].BBox_Min_Lat,\n                lake_df.iloc[0].BBox_Max_Lon, lake_df.iloc[0].BBox_Max_Lat]\n\n        data = search_satellite_images(collection=\"sentinel-2-l2a\",\n                                       date=\"2024-01-01/2024-05-14\",\n                                       cloud_cover=(0, 5),\n                                       bbox=bbox)\n        # Pass the lake_id\n        water_pixels_df = count_water_pixels(data, lake_id)\n\n        # Append\n        all_water_pixels_dfs.append(water_pixels_df)\n\n# Concatenate all DataFrames into a single DataFrame\nfinal_df = pd.concat(all_water_pixels_dfs, ignore_index=True)\n```\n\nìµœì¢… DataFrameì€ ì´ë¯¸ì§€ ë‚ ì§œ, ë¬¼ í”½ì…€ ìˆ˜, ì´ í”½ì…€ ìˆ˜, ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ ë° í‘œë©´ì ì„ ìš”ì•½í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ ë³´ì—¬ì§‘ë‹ˆë‹¤:\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_5.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê±°ì˜ ë‹¤ ì™”ì–´ìš”!\n\nì§€ë„ ìƒì—ì„œ ì‹œê³„ì—´ì„ ë³´ê¸° ìœ„í•´ ë§ˆì§€ë§‰ í•œ ë‹¨ê³„ê°€ ë‚¨ì•˜ìŠµë‹ˆë‹¤. ì´ì œ í‘œë©´ì ì˜ ì‹œê³„ì—´ ë°ì´í„°ê°€ ìˆìœ¼ë¯€ë¡œ Folium ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‘ ê°€ì§€ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: (1) ì§€ë„ìƒì˜ í˜¸ìˆ˜ ì¤‘ì‹¬ì„ ì§€ì ìœ¼ë¡œ í‘œì‹œí•˜ê³  (2) ê° í˜¸ìˆ˜ë¥¼ í´ë¦­í•˜ë©´ íŒì—…ìœ¼ë¡œ í‘œë©´ì ì˜ ì‹œê³„ì—´ì„ ë³´ì—¬ì£¼ëŠ” ê·¸ë˜í”„ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. ë‹¤ìŒ ì½”ë“œë¡œ ì´ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\nimport folium\nimport plotly.express as px\nimport os\n\n# ì‹œê³„ì—´ í”Œë¡¯ì„ ê·¸ë ¤ HTMLë¡œ ì €ì¥í•˜ëŠ” í•¨ìˆ˜\ndef plot_timeseries_for_spot(spot_id, ts_df):\n    df_spot = ts_df[ts_df['ID'] == spot_id]\n    print(df_spot)\n    fig = px.line(df_spot, x='Date', y='Water Surface Area', title=f'Time Series for Lake {spot_id}')\n\n     # X ë° Y ì¶• ë ˆì´ë¸” ì¶”ê°€\n    fig.update_layout(\n        xaxis_title=\"Date\",\n        yaxis_title=\"Water Surface Area (sq km)\"\n    )\n\n    filepath = f'tmp_{int(spot_id)}.html'\n    fig.write_html(filepath, include_plotlyjs='cdn')\n    return filepath\n\n# ì§€ë„ ìƒì„±\nm = folium.Map(location=[35.5, -119.5], zoom_start=7)\n\n# Plotly ì‹œê³„ì—´ íŒì—…ì´ ìˆëŠ” ë§ˆì»¤ ì¶”ê°€\nfor index, row in lakes_df.iterrows():\n    html_path = plot_timeseries_for_spot(row['ID'], final_df)\n    iframe = folium.IFrame(html=open(html_path).read(), width=500, height=300)\n    popup = folium.Popup(iframe, max_width=2650)\n    folium.Marker([row['Centroid_Lat'], row['Centroid_Lon']], popup=popup).add_to(m)\n\nm.save('map_with_timeseries.html')\n\n# ì„ì‹œ HTML íŒŒì¼ ì •ë¦¬\nfor spot_id in lakes_df['ID']:\n    os.remove(f'tmp_{spot_id}.html')\n```\n\nì´ ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” í•¨ìˆ˜ê°€ ê° í˜¸ìˆ˜ì˜ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ í•„í„°ë§í•˜ê³ , Plotlyë¥¼ ì‚¬ìš©í•˜ì—¬ ë¼ì¸ í”Œë¡¯ì„ ìƒì„±í•˜ê³ , í”Œë¡¯ì„ HTML íŒŒì¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤. ë‹¤ìŒìœ¼ë¡œ Foliumì„ ì‚¬ìš©í•˜ì—¬ ì§€ë„ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ í˜¸ìˆ˜ DataFrameì„ ë°˜ë³µí•˜ë©´ì„œ, ê° í˜¸ìˆ˜ì˜ ì¤‘ì‹¬ ì¢Œí‘œì— ë§ˆì»¤ë¥¼ ì¶”ê°€í•˜ê³ , ê° ë§ˆì»¤ì— íŒì—…ì„ ì—°ê²°í•˜ì—¬ ì‹œê³„ì—´ í”Œë¡¯ì„ í‘œì‹œí•©ë‹ˆë‹¤. ìµœì¢… ì§€ë„ëŠ” HTML íŒŒì¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ, Plotly í”Œë¡¯ì— ìƒì„±ëœ ì„ì‹œ HTML íŒŒì¼ì„ ì‚­ì œí•˜ì—¬ ì •ë¦¬í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\n\nì½˜í…ì¸  í´ë”ì— ìƒì„±ëœ HTML íŒŒì¼ì„ ì—´ë©´ ì§€ë„ì— í‘œì‹œëœ ê° í˜¸ìˆ˜ì˜ ì¤‘ì‹¬ ì¢Œí‘œë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![ì§€ë„](/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_6.png)\n\nê° í˜¸ìˆ˜ë¥¼ í´ë¦­í•˜ì—¬ ì‹œê³„ì—´ì´ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸í•´ ë³´ê² ìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ëª¨ë“  ë…¸ë ¥ ëì— ì´ë ‡ê²Œ ì‹¤ìš©ì ì¸ ì§€ë„ê°€ ë§Œë“¤ì–´ì¡Œë„¤ìš”, ë§ë‚˜ìš”? :D\n\n## ğŸ“„ ê²°ë¡ \n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê±°ì˜ ë§¤ë‹¬ ìƒˆë¡œìš´ íŒ¨í‚¤ì§€ì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ ë‚˜ì™€ì„œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ê³  ë¶„ì„í•˜ë©° í‘œì‹œí•˜ê³  ì‹œê°í™”í•˜ëŠ” ë²•ì„ ì‹¤ìš©ì ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ë¶„ì•¼ì—ì„œ ì•„ì§ ë‚¨ì•„ ìˆëŠ” ë‘ ê°€ì§€ ê³¼ì œê°€ ìˆìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ëŠ” ë°ì´í„°ë¥¼ ì •í™•í•˜ê²Œ ë¶„ì„í•˜ê¸° ìœ„í•´ì„œëŠ” í…Œë¼ë°”ì´íŠ¸ ë˜ëŠ” í˜íƒ€ë°”ì´íŠ¸ì—ì„œ ì¶”ì¶œëœ ë°ì´í„°ê°€ ì •í™•í•œì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì¶©ë¶„í•œ ê²½í—˜ì´ í•„ìš”í•©ë‹ˆë‹¤. ë‘ ë²ˆì§¸ëŠ” ì´ëŸ¬í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ ì—°ê²°í•˜ì—¬ ì˜ë¯¸ ìˆëŠ” ê²ƒì„ ë§Œë“¤ì–´ë‚´ëŠ” ì•„í‚¤í…ì²˜ë¥¼ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nì´ë¯¸ì§€ ì²˜ë¦¬ì—ì„œëŠ” ì²˜ë¦¬ëœ ë°ì´í„°ì—ì„œì˜ ê°„ë‹¨í•œ ì‹¤ìˆ˜ê°€ ì¤‘ëŒ€í•œ ì˜¤ë¥˜ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆëŠ” ì ì„ ê°•ì¡°í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ì‹œê°í™” ë¶€ë¶„ì—ì„œëŠ” Folium, Plotly, ê·¸ë¦¬ê³  ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ì¶”ì¶œí•˜ê¸° ìœ„í•œ APIë¥¼ ì—°ê²°í•˜ì—¬, ë¦¬ëª¨íŠ¸ ì„¼ì‹± ê´€ì¸¡ì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ì–‘í•œ í˜„ìƒì„ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ìœ ìš©í•œ ë„êµ¬ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŒì„ ë³´ì—¬ì£¼ì—ˆìŠµë‹ˆë‹¤. ì´ ê¸€ì„ ì½ëŠ” ë° ì¦ê±°ì›€ì„ ëŠë¼ì‹œê¸°ë¥¼ ë°”ë¼ë©°, ê¶ê¸ˆí•œ ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ì—°ë½ ì£¼ì„¸ìš”.\n\n## ğŸ“š ì°¸ê³  ìë£Œ\n\nhttps://github.com/stac-utils/pystac-client/blob/main/docs/quickstart.rst\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nhttps://www.element84.com/earth-search/examples/\n\nSentinel ë°ì´í„°ìš© Copernicus Sentinel ë°ì´í„° [2024]\n\nCopernicus ì„œë¹„ìŠ¤ ì •ë³´ìš© Copernicus ì„œë¹„ìŠ¤ ì •ë³´ [2024]\n\nğŸ“± ë” ë§ì€ í¥ë¯¸ë¡œìš´ ì½˜í…ì¸ ë¥¼ ì œê³µí•˜ëŠ” ë‹¤ë¥¸ í”Œë«í¼ì—ì„œ ì €ì™€ ì†Œí†µí•˜ì„¸ìš”! LinkedIn, ResearchGate, Github ë° Twitter.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ë§í¬ë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆëŠ” ê´€ë ¨ ê²Œì‹œë¬¼ì´ ìˆìŠµë‹ˆë‹¤:\n","ogImage":{"url":"/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_0.png"},"coverImage":"/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_0.png","tag":["Tech"],"readingTime":16},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_0.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003ch1\u003eTable of Contents\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eğŸŒŸ Introduction\u003c/li\u003e\n\u003cli\u003eğŸ“Œ Area of Interest (AOI)\u003c/li\u003e\n\u003cli\u003eğŸ’¾ Loading Sentinel-2 Imagery\u003c/li\u003e\n\u003cli\u003eâ³ Extracting Time Series from Satellite Imagery\u003c/li\u003e\n\u003cli\u003eğŸŒ Developing an Interactive Map with Time Series\u003c/li\u003e\n\u003cli\u003eğŸ“„ Conclusion\u003c/li\u003e\n\u003cli\u003eğŸ“š References\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eğŸŒŸ Introduction\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eí•œë™ì•ˆ ì‚¬ìš©ìê°€ íŠ¹ì • ìœ„ì¹˜ë¥¼ í´ë¦­í•  ë•Œ ìƒí˜¸ì‘ìš© ë§µì— ì‹œê³„ì—´ ë°ì´í„°ê°€ í‘œì‹œë˜ëŠ” ì‰½ê³  ì§ê´€ì ì¸ ë°©ë²•ì„ ì°¾ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ì €ëŠ” folium ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ íƒìƒ‰í•˜ê³  ìœ„ì„± ì´ë¯¸ì§€ì—ì„œ ì¶”ì¶œí•œ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ foliumê³¼ ì—°ê²°í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ëƒˆìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ì€ ë‚´ ë°©ë²•ì„ ê³µìœ í•˜ê² ìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ ê²Œì‹œë¬¼ì—ì„œëŠ” ë‘ ê°€ì§€ í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ í•¨ìˆ˜ëŠ” ìœ„ì„± ë°ì´í„°ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì§€ ì•Šê³  ë¡œë“œí•˜ê³ , ë‘ ë²ˆì§¸ í•¨ìˆ˜ëŠ” ë°ì´í„°ì™€ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ì¶”ì¶œí•˜ì—¬ ë°ì´í„° í˜•ì‹ì˜ ì‹œê³„ì—´ì„ ìƒì„±í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ AOIs(ê´€ì‹¬ ì§€ì—­)ë¥¼ ìˆœí™˜í•˜ì—¬ ë‘ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³  AOIì— ëŒ€í•œ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ì¶”ì¶œí•  ê²ƒì…ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ ìƒì„±ëœ ì‹œê³„ì—´ ë°ì´í„°ì™€ folium ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¥¼ ìƒí˜¸ì‘ìš©ì ì¸ ì§€ë„ì— ì§€ë¦¬ì ìœ¼ë¡œ í‘œì‹œí•  ê²ƒì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ ê²Œì‹œë¬¼ì„ ë§ˆì¹˜ë©´ ì–´ë–¤ ë³€ìˆ˜ë‚˜ ë§¤ê°œë³€ìˆ˜ì— ëŒ€í•´ ì¶”ì¶œëœ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ìƒí˜¸ì‘ìš©ì ì¸ ë§µê³¼ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œí•  ìˆ˜ ìˆê²Œ ë  ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ìº˜ë¦¬í¬ë‹ˆì•„ í˜¸ìˆ˜ ë©´ì ì˜ ì‹œê³„ì—´ì„ ì¶”ì¶œí•˜ê³  ìƒí˜¸ì‘ìš©ì  ì§€ë„ì— í‘œì‹œí•˜ê² ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ í¥ë¯¸ë¥¼ ê°–ê±°ë‚˜ ì´ëŸ¬í•œ ì¡°ì–¸ê³¼ ê¿€íŒì„ ì°¾ê³  ìˆì—ˆë‹¤ë©´ ê³„ì† ì½ì–´ë³´ì„¸ìš”!\u003c/p\u003e\n\u003ch2\u003eğŸ“Œ ê´€ì‹¬ ì§€ì—­ (AOI)\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì†Œê°œì—ì„œ ì–¸ê¸‰í•œ ëŒ€ë¡œ ìƒí˜¸ì‘ìš©ì  ì§€ë„ì—ì„œ ì–´ë–¤ ìœ„ì¹˜ì˜ ë³€ìˆ˜ì— ëŒ€í•œ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ í‘œì‹œí•˜ë ¤ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì˜ˆì‹œì—ì„œëŠ” ìº˜ë¦¬í¬ë‹ˆì•„ì˜ ëª‡ ê°œ í˜¸ìˆ˜ì˜ ë¬¼ í”½ì…€ì„ ê³„ìˆ˜í•˜ê³  2024ë…„ì— ì´¬ì˜ëœ ëª¨ë“  Sentinel-2 ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ í‘œë©´ì ì„ ê³„ì‚°í•  ê²ƒì…ë‹ˆë‹¤. QGISì—ì„œ ê·¸ í˜¸ìˆ˜ ì£¼ë³€ì— í´ë¦¬ê³¤ì„ ê·¸ë¦¬ê³  ê·¸ê²ƒë“¤ì„ shapefileë¡œ ì €ì¥í–ˆìŠµë‹ˆë‹¤. ê´€ì‹¬ ì˜ì—­ (AOI)ì— ëŒ€í•œ shapefileì„ ë§Œë“œëŠ” ë°©ë²•ì„ ë°°ìš°ê³  ì‹¶ë‹¤ë©´, Mediumì˜ ì²« ë²ˆì§¸ ìŠ¤í† ë¦¬ì—ì„œ \"ğŸ› ï¸ QGISì—ì„œ Shapefile ìƒì„±\"ì´ë¼ëŠ” ì„¹ì…˜ì„ ì°¸ì¡°í•´ì£¼ì„¸ìš”.\u003c/p\u003e\n\u003cp\u003eë‹¤ìŒì€ QGISì—ì„œ í˜¸ìˆ˜ ì£¼ë³€ì— ê·¸ë¦° í´ë¦¬ê³¤ì˜ ìŠ¤ëƒ…ìƒ·ì…ë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_1.png\" alt=\"lakes\"\u003e\u003c/p\u003e\n\u003ch2\u003eğŸ’¾ Sentinel-2 ì˜ìƒ ë¶ˆëŸ¬ì˜¤ê¸°\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì´ ì„¹ì…˜ì˜ ëª©í‘œëŠ” ë‹¤ìš´ë¡œë“œ ì—†ì´ ì•„ì¹´ì´ë¸Œëœ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ë©”ëª¨ë¦¬ì— ë¡œë“œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. íŠ¹ì • ì§€ì—­ì— ëŒ€í•œ ì˜¤ëœ ê¸°ê°„ì— ê±¸ì¹œ ìœ„ì„± ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œëŠ” ì‹œê°„ì´ ë§ì´ ì†Œìš”ë˜ë©° ê³„ì‚° ë¹„ìš©ì´ ë§ì´ ë“¤ë©° ë¹„íš¨ìœ¨ì ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì „ì²´ ì¥ë©´ì—ì„œ ì‘ì€ ì˜ì—­ì˜ ë³€í™”ë¥¼ íƒìƒ‰í•˜ë ¤ë©´ ë¬¸ì œê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ëŸ¬í•œ ë¬¸ì œë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ 12ì¤„ì˜ ì½”ë“œë§Œ ì‚¬ìš©í•˜ì—¬ ë‹¤ìš´ë¡œë“œ ì—†ì´ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ëŠ” í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. í•´ë‹¹ í¬ìŠ¤íŠ¸ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ ì„¹ì…˜ì—ì„œëŠ” í•´ë‹¹ í¬ìŠ¤íŠ¸ì—ì„œ ì œì‹œëœ í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ì—¬ í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¹ì • ê¸°ê°„ì— ëŒ€í•œ AOI ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ì‰½ê²Œ ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ê¸°ê°„ì´ ê¸¸ë“  ì§§ë“  ìƒê´€ì—†ì´:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e pystac_client \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Client\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e odc.stac \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e load\n\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esearch_satellite_images\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ecollection=\u003cspan class=\"hljs-string\"\u003e\"sentinel-2-l2a\"\u003c/span\u003e,\n                            bbox=[-\u003cspan class=\"hljs-number\"\u003e120.15\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e38.93\u003c/span\u003e,-\u003cspan class=\"hljs-number\"\u003e119.88\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e39.25\u003c/span\u003e],\n                            date=\u003cspan class=\"hljs-string\"\u003e\"2023-01-01/2023-03-12\"\u003c/span\u003e,\n                            cloud_cover=(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e\u003c/span\u003e)\u003c/span\u003e):\n    \u003cspan class=\"hljs-string\"\u003e\"\"\"\n    Collection, ë²”ìœ„, ë‚ ì§œ ë²”ìœ„ ë° êµ¬ë¦„ ë®ê°œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.\n\n    :param collection: Collection ì´ë¦„ (ê¸°ë³¸ê°’: \"sentinel-2-l2a\").\n    :param bbox: ê²½ê³„ ìƒì [min_lon, min_lat, max_lon, max_lat] (ê¸°ë³¸ê°’: Lake Tahoe ì§€ì—­).\n    :param date: ë‚ ì§œ ë²”ìœ„ \"YYYY-MM-DD/YYYY-MM-DD\" (ê¸°ë³¸ê°’: \"2023-01-01/2023-12-30\").\n    :param cloud_cover: êµ¬ë¦„ ë®ê°œ ë²”ìœ„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” Tuple (ìµœì†Œ, ìµœëŒ€) (ê¸°ë³¸ê°’: (0, 10)).\n    :return: ê²€ìƒ‰ ê¸°ì¤€ì— ë”°ë¼ ë¡œë“œëœ ë°ì´í„°.\n    \"\"\"\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e# ê²€ìƒ‰ í´ë¼ì´ì–¸íŠ¸ ì •ì˜\u003c/span\u003e\n    client=Client.\u003cspan class=\"hljs-built_in\"\u003eopen\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"https://earth-search.aws.element84.com/v1\"\u003c/span\u003e)\n    search = client.search(collections=[collection],\n                            bbox=bbox,\n                            datetime=date,\n                            query=[\u003cspan class=\"hljs-string\"\u003ef\"eo:cloud_cover\u0026#x3C;\u003cspan class=\"hljs-subst\"\u003e{cloud_cover[\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e]}\u003c/span\u003e\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003ef\"eo:cloud_cover\u003e\u003cspan class=\"hljs-subst\"\u003e{cloud_cover[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e]}\u003c/span\u003e\"\u003c/span\u003e])\n\n    \u003cspan class=\"hljs-comment\"\u003e# ì¼ì¹˜í•˜ëŠ” í•­ëª© ìˆ˜ ì¶œë ¥\u003c/span\u003e\n    \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003ef\"ë°œê²¬ëœ ì´ë¯¸ì§€ ìˆ˜: \u003cspan class=\"hljs-subst\"\u003e{search.matched()}\u003c/span\u003e\"\u003c/span\u003e)\n\n    data = load(search.items(), bbox=bbox, groupby=\u003cspan class=\"hljs-string\"\u003e\"solar_day\"\u003c/span\u003e, chunks={})\n\n    \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003ef\"ë°ì´í„°ì—ì„œì˜ ë‚ ì§œ ìˆ˜: \u003cspan class=\"hljs-subst\"\u003e{\u003cspan class=\"hljs-built_in\"\u003elen\u003c/span\u003e(data.time)}\u003c/span\u003e\"\u003c/span\u003e)\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e data\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ìœ„ì„± ì´ë¯¸ì§€ ê²€ìƒ‰ì„ ìœ„í•œ ë§¤ê°œë³€ìˆ˜ë¥¼ ì§€ì •í•  ìˆ˜ ìˆì–´ì„œ ë‹¤ì–‘í•œ ê´€ì‹¬ ì˜ì—­ ë° ì‹œê°„ëŒ€ì— ìœ ì—°í•˜ê³  ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìˆ˜ì§‘, ê²½ê³„ ìƒì, ë‚ ì§œ ë²”ìœ„ ë° êµ¬ë¦„ ì–‘ ë“±ê³¼ ê°™ì€ ê¸°ì¤€ì— ë”°ë¼ ìœ„ì„± ì´ë¯¸ì§€ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤. ì´ëŠ” ì´ë¯¸ì§€ë¥¼ ì°¾ê¸° ìœ„í•´ Earth Search APIë¥¼ ì‚¬ìš©í•˜ê³  ì¼ì¹˜í•˜ëŠ” ìˆ˜ë¥¼ ì¶œë ¥í•˜ë©° íë¸Œ í˜•ì‹ìœ¼ë¡œ í´ë¦½ ëœ ì´ë¯¸ì§€ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003ch2\u003eâ³ ìœ„ì„± ì˜ìƒì—ì„œ ì‹œê³„ì—´ ì¶”ì¶œ\u003c/h2\u003e\n\u003cp\u003eì´ì œ AOIë¥¼ ìœ„í•´ í´ë¦½ ëœ ì´ë¯¸ì§€ë¥¼ë¡œë“œí•˜ëŠ” í•¨ìˆ˜ê°€ ìˆìœ¼ë¯€ë¡œ ì°¾ê³ ìˆëŠ” ì •ë³´ë¥¼ ì¶”ì¶œí•˜ëŠ” ë‘ ë²ˆì§¸ í•¨ìˆ˜ë¥¼ ì •ì˜í•´ì•¼í•©ë‹ˆë‹¤. ì´ë¯¸ì§€ì™€ í•¨ê»˜ í•„ìš”í•œ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ê³  ë§µì— í‘œì‹œí•˜ëŠ” ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ DataFrameì— ë„£ì–´ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ í•œ ë²ˆ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì¶”ì¶œ í•  ìˆ˜ ìˆì§€ë§Œ, ì „ì²´ ìº˜ë¦¬í¬ë‹ˆì•„ í˜¸ìˆ˜ì˜ í‘œë©´ì ì„ ë³¼ ìˆ˜ìˆëŠ” ê²ƒì´ í¥ë¯¸ë¡œìš¸ ê²ƒìœ¼ë¡œ ìƒê°ë˜ì–´ 2024 ë…„ì— Sentinel-2ë¡œ ì´¬ì˜ ëœ ëª¨ë“  ì´ë¯¸ì§€ì—ì„œ ìµœê·¼ ì´ë¯¸ì§€ë¥¼ í¬í•¨í•˜ì—¬ ì£¼ìš” ìº˜ë¦¬í¬ë‹ˆì•„ í˜¸ìˆ˜ì˜ í‘œë©´ì ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ë¥¼ ìœ„í•´ Sentinel-2 ì´ë¯¸ì§€ì˜ ì”¬ ë¶„ë¥˜ ë ˆì´ì–´ì— ìˆëŠ” ë¬¼ í”½ì…€ë¡œ ë¶„ë¥˜ ëœ í”½ì…€ì„ ì¶”ì¶œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë§í•´, ê° ì”¬ì—ì„œ ë¬¼ í”½ì…€ ìˆ˜ë¥¼ ì„¸ì–´ì•¼í•©ë‹ˆë‹¤. í”½ì…€ í•´ìƒë„ê°€ 10m x 10mì„ì„ ê°ì•ˆí•˜ë©´ ìˆ˜ë¥¼ 100 ì œê³± ë¯¸í„° (10m x 10m)ë¡œ ê³±í•˜ë©´ ê° í˜¸ìˆ˜ì˜ í‘œë©´ì ì´ ë‚˜ì˜¬ ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì—¬ê¸°ì„œëŠ” ìœ„ì„±ì— ì˜í•´ ì´¬ì˜ ëœ ì´ë¯¸ì§€ê°€ ê° ì”¬ì—ì„œ ì „ì²´ í˜¸ìˆ˜ë¥¼ ì»¤ë²„í•˜ë„ë¡í•´ì•¼í•©ë‹ˆë‹¤. ì´ë¥¼ ì„¤ëª…í•˜ê¸° ìœ„í•´ 1 ì›” 7 ì¼ê³¼ 1 ì›” 4 ì¼ì— ì´¬ì˜ ëœ ì´ ë‘ ì¥ì˜ ì´ë¯¸ì§€ ì¤‘ í•˜ë‚˜ì— ìº¡ì²˜ëœ í˜¸ìˆ˜ ì¤‘ í•˜ë‚˜ë¥¼ ì‚´í´ ë³´ê² ìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e pandas \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e pd\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e numpy \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e np\n\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecount_water_pixels\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003edata,lake_id\u003c/span\u003e):\n    \u003cspan class=\"hljs-string\"\u003e\"\"\"\n    ê° ì‹œì ì˜ Sentinel-2 SCL ë°ì´í„°ì—ì„œ ë¬¼ í”½ì…€ ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.\n\n    :param data: Sentinel-2 SCL ë°ì´í„°ê°€ í¬í•¨ëœ xarray Datasetì…ë‹ˆë‹¤.\n    :return: ë‚ ì§œ, ë¬¼ íšŸìˆ˜ ë° ëˆˆ íšŸìˆ˜ê°€ í¬í•¨ëœ DataFrameì…ë‹ˆë‹¤.\n    \"\"\"\u003c/span\u003e\n\n    water_counts = []\n    date_labels = []\n    water_area = []\n    coverage_ratio = []\n\n    \u003cspan class=\"hljs-comment\"\u003e# ì‹œê°„ ë‹¨ê³„ ìˆ˜ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.\u003c/span\u003e\n    numb_days = \u003cspan class=\"hljs-built_in\"\u003elen\u003c/span\u003e(data.time)\n\n    \u003cspan class=\"hljs-comment\"\u003e# ê° ì‹œê°„ ë‹¨ê³„ë¥¼ ë°˜ë³µí•©ë‹ˆë‹¤.\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e t \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003erange\u003c/span\u003e(numb_days):\n        scl_image = data[[\u003cspan class=\"hljs-string\"\u003e\"scl\"\u003c/span\u003e]].isel(time=t).to_array()\n        dt = pd.to_datetime(scl_image.time.values)\n        year = dt.year\n        month = dt.month\n        day = dt.day\n\n        date_string = \u003cspan class=\"hljs-string\"\u003ef\"\u003cspan class=\"hljs-subst\"\u003e{year}\u003c/span\u003e-\u003cspan class=\"hljs-subst\"\u003e{month:02d}\u003c/span\u003e-\u003cspan class=\"hljs-subst\"\u003e{day:02d}\u003c/span\u003e\"\u003c/span\u003e\n        \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(date_string)\n\n        \u003cspan class=\"hljs-comment\"\u003e# ë¬¼ì— í•´ë‹¹í•˜ëŠ” í”½ì…€ ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.\u003c/span\u003e\n        count_water = np.count_nonzero(scl_image == \u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e)  \u003cspan class=\"hljs-comment\"\u003e# ë¬¼\u003c/span\u003e\n\n        surface_area = count_water * \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e * \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e / (\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e ** \u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e)\n\n        count_pixels = np.count_nonzero((scl_image == \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e) | (scl_image == \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e) | (scl_image == \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e) | (scl_image == \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e) | (\n                    scl_image == \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e) | (scl_image == \u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e) | (scl_image == \u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e) | (scl_image == \u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e) | (scl_image == \u003cspan class=\"hljs-number\"\u003e9\u003c/span\u003e) | (\n                                               scl_image == \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e) | (scl_image == \u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e))\n        total_pixels = data.dims[\u003cspan class=\"hljs-string\"\u003e'y'\u003c/span\u003e] * data.dims[\u003cspan class=\"hljs-string\"\u003e'x'\u003c/span\u003e]\n\n        coverage = count_pixels * \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e * \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e1e6\u003c/span\u003e\n        lake_area = total_pixels * \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e * \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e1e6\u003c/span\u003e\n\n        ratio = coverage / lake_area\n\n        \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(coverage)\n        \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(lake_area)\n        \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(ratio)\n\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e ratio \u0026#x3C; \u003cspan class=\"hljs-number\"\u003e0.8\u003c/span\u003e:\n            \u003cspan class=\"hljs-keyword\"\u003econtinue\u003c/span\u003e\n\n        \u003cspan class=\"hljs-comment\"\u003e# ì¶”ê°€\u003c/span\u003e\n        water_counts.append(count_water)\n        date_labels.append(date_string)\n        water_area.append(surface_area)\n        coverage_ratio.append(ratio)\n\n    \u003cspan class=\"hljs-comment\"\u003e# ë‚ ì§œ ë ˆì´ë¸”ì„ pandas datetime í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.\u003c/span\u003e\n    datetime_index = pd.to_datetime(date_labels)\n\n    \u003cspan class=\"hljs-comment\"\u003e# DataFrameì„ êµ¬ì„±í•˜ê¸° ìœ„í•œ ë”•ì…”ë„ˆë¦¬ ìƒì„±\u003c/span\u003e\n    data_dict = {\n        \u003cspan class=\"hljs-string\"\u003e'Date'\u003c/span\u003e: datetime_index,\n        \u003cspan class=\"hljs-string\"\u003e'ID'\u003c/span\u003e: lake_id,\n        \u003cspan class=\"hljs-string\"\u003e'Water Counts'\u003c/span\u003e: water_counts,\n        \u003cspan class=\"hljs-string\"\u003e'Pixel Counts'\u003c/span\u003e: count_pixels,\n        \u003cspan class=\"hljs-string\"\u003e'Total Pixels'\u003c/span\u003e: total_pixels,\n        \u003cspan class=\"hljs-string\"\u003e'Coverage Ratio'\u003c/span\u003e: coverage_ratio,\n        \u003cspan class=\"hljs-string\"\u003e'Water Surface Area'\u003c/span\u003e: water_area\n    }\n\n    \u003cspan class=\"hljs-comment\"\u003e# DataFrame ìƒì„±\u003c/span\u003e\n    df = pd.DataFrame(data_dict)\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e df\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì´ í•¨ìˆ˜ëŠ” ë°ì´í„°ì…‹ì˜ ê° ì‹œê°„ ë‹¨ê³„ë¥¼ ë°˜ë³µí•˜ì—¬ ë¬¼ í”½ì…€ ìˆ˜ë¥¼ ê³„ì‚°í•˜ê³  í‘œë©´ì ì„ ê³„ì‚°í•˜ë©° ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì„ ê³„ì‚°í•©ë‹ˆë‹¤. ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì´ 80% ë¯¸ë§Œì´ë©´ ì‹œê°„ ë‹¨ê³„ê°€ ê±´ë„ˆëœë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ íšŸìˆ˜, ë‚ ì§œ, í‘œë©´ì  ë° ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì„ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•˜ê³  í•´ë‹¹ ê°’ê³¼ ë¬¼ ID ë° ì´ í”½ì…€ ìˆ˜ê°€ í¬í•¨ëœ DataFrameì„ ë°˜í™˜í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì»¤ë²„ë¦¬ì§€ ë¬¸ì œì™€ í•´ê²°í•˜ëŠ” ì†ì„ìˆ˜ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ë ¤ë©´ ì´ í¬ìŠ¤íŠ¸ì˜ ì„¹ì…˜ (ğŸ“ˆ í†µê³„ íŒŒì¼ì—ì„œ ëŒ€ì—¼í•´ ì§€ì—­ì˜ ì‹œê³„ì—´)ì„ ì°¸ì¡°í•´ì£¼ì„¸ìš”:\u003c/p\u003e\n\u003ch2\u003eğŸŒ ì‹œê³„ì—´ê³¼ í•¨ê»˜ ìƒí˜¸ì‘ìš©í•˜ëŠ” ì§€ë„ ê°œë°œí•˜ê¸°\u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì´ ì„¹ì…˜ì—ì„œëŠ” ì„¸ ê°œì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¤ê°í˜•(AOI)ì˜ ë°”ìš´ë”© ë°•ìŠ¤ì™€ ì¤‘ì‹¬ ì¢Œí‘œë¥¼ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ í•¨ìˆ˜(search_satellite_images)ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ ë°”ìš´ë”© ë°•ìŠ¤ê°€ í•„ìš”í•˜ë©°, ë§µì— í˜¸ìˆ˜ë¥¼ í‘œì‹œí•˜ëŠ” ë° ì¤‘ì‹¬ ì¢Œí‘œê°€ í•„ìš”í•©ë‹ˆë‹¤. ë‹¤ìŒ ì½”ë“œë¡œ ì´ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e geopandas \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e gpd\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e pandas \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e pd\n\ndef \u003cspan class=\"hljs-title function_\"\u003eget_centroids_and_bboxes\u003c/span\u003e(shapefile_path):\n    \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"\n    shapefileì„ ì²˜ë¦¬í•˜ì—¬ ê° ë‹¤ê°í˜•ì˜ ID, ì¤‘ì‹¬ì , ë°”ìš´ë”© ë°•ìŠ¤(bbox)ë¥¼ í¬í•¨í•˜ëŠ” DataFrameì„ ë°˜í™˜í•©ë‹ˆë‹¤.\n    :param shapefile_path: shapefileì˜ ê²½ë¡œ.\n    :return: ê° ë‹¤ê°í˜•ì˜ ID, ì¤‘ì‹¬ì , ë° bboxê°€ ìˆëŠ” pandas DataFrame.\n    \"\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\n\n    # shapefile ë¶ˆëŸ¬ì˜¤ê¸°\n    gdf = gpd.\u003cspan class=\"hljs-title function_\"\u003eread_file\u003c/span\u003e(shapefile_path)\n\n    # \u003cspan class=\"hljs-attr\"\u003eEPSG\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e4326\u003c/span\u003eìœ¼ë¡œ ì¬íˆ¬ì˜\n    gdf_proj = gdf.\u003cspan class=\"hljs-title function_\"\u003eto_crs\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"EPSG:4326\"\u003c/span\u003e)\n\n    centroids = []\n    bboxes = []\n\n    # ê° ë‹¤ê°í˜•ì„ ì²˜ë¦¬í•˜ì—¬ ì¤‘ì‹¬ì ê³¼ bbox ì–»ê¸°\n    \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e index, row \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e gdf_proj.\u003cspan class=\"hljs-title function_\"\u003eiterrows\u003c/span\u003e():\n        # ì¤‘ì‹¬ì \n        centroid_lat = row.\u003cspan class=\"hljs-property\"\u003egeometry\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ecentroid\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ey\u003c/span\u003e\n        centroid_lon = row.\u003cspan class=\"hljs-property\"\u003egeometry\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ecentroid\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ex\u003c/span\u003e\n        centroids.\u003cspan class=\"hljs-title function_\"\u003eappend\u003c/span\u003e((centroid_lat, centroid_lon))\n\n        # ë°”ìš´ë”© ë°•ìŠ¤\n        minx, miny, maxx, maxy = row.\u003cspan class=\"hljs-property\"\u003egeometry\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ebounds\u003c/span\u003e\n        bbox = (minx, miny, maxx, maxy)\n        bboxes.\u003cspan class=\"hljs-title function_\"\u003eappend\u003c/span\u003e(bbox)\n\n    # \u003cspan class=\"hljs-title class_\"\u003eDataFrame\u003c/span\u003e ìƒì„±\n    df = pd.\u003cspan class=\"hljs-title class_\"\u003eDataFrame\u003c/span\u003e({\n        \u003cspan class=\"hljs-string\"\u003e'ID'\u003c/span\u003e: gdf_proj.\u003cspan class=\"hljs-property\"\u003eindex\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e'Centroid_Lat'\u003c/span\u003e: [lat \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e lat, lon \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e centroids],\n        \u003cspan class=\"hljs-string\"\u003e'Centroid_Lon'\u003c/span\u003e: [lon \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e lat, lon \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e centroids],\n        \u003cspan class=\"hljs-string\"\u003e'BBox_Min_Lon'\u003c/span\u003e: [bbox[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e bbox \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e bboxes],\n        \u003cspan class=\"hljs-string\"\u003e'BBox_Min_Lat'\u003c/span\u003e: [bbox[\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e bbox \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e bboxes],\n        \u003cspan class=\"hljs-string\"\u003e'BBox_Max_Lon'\u003c/span\u003e: [bbox[\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e bbox \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e bboxes],\n        \u003cspan class=\"hljs-string\"\u003e'BBox_Max_Lat'\u003c/span\u003e: [bbox[\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e bbox \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e bboxes]\n    })\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e df\n\nshapefile_path = \u003cspan class=\"hljs-string\"\u003e\"lakes_boundry.shp\"\u003c/span\u003e\nlakes_df = \u003cspan class=\"hljs-title function_\"\u003eget_centroids_and_bboxes\u003c/span\u003e(shapefile_path)\n\u003cspan class=\"hljs-title function_\"\u003eprint\u003c/span\u003e(lakes_df)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eìœ„ ë‹¨ê³„ë¥¼ ë”°ë¥´ê³  ì½”ë“œë¥¼ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰í•˜ë©´, ë‹¤ìŒ í˜•ì‹ì˜ ë‹¤ê°í˜•ì— ëŒ€í•œ ìœ ì‚¬í•œ DataFrameì´ í‘œì‹œë  ê²ƒì…ë‹ˆë‹¤:\u003c/p\u003e\n\u003cimg src=\"/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_4.png\"\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eë‹¤ìŒ ìŠ¤í¬ë¦½íŠ¸ëŠ” 2024ë…„ ì„¼í‹°ë„¬-2ì— ì˜í•´ ì´¬ì˜ëœ ëª¨ë“  ì´ë¯¸ì§€ë¥¼ í˜¸ìˆ˜ ìœ„ì—ì„œ ë£¨í•‘í•˜ê³  ë‘ ë²ˆì§¸ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ì—¬ ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ì´ 80%ë³´ë‹¤ ë†’ì€ ê²½ìš° ê° ì´ë¯¸ì§€ì—ì„œ í‘œë©´ì ì„ ê³„ì‚°í•˜ë©° ê° í˜¸ìˆ˜ì˜ í‘œë©´ì ì„ ì‹œê³„ì—´ë¡œ ë³´ì—¬ì£¼ëŠ” DataFrameì„ ë³´ê³ í•˜ëŠ” ê²ƒì„ í¬í•¨í•©ë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e matplotlib.pyplot \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e plt\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e pandas \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e pd\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e datetime \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e datetime\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e numpy \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e np\n\nall_water_pixels_dfs = []\n\n\u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e lake_id \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e lakes_df.ID:\n    \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(lake_id)\n    lake_df = lakes_df[lakes_df[\u003cspan class=\"hljs-string\"\u003e'ID'\u003c/span\u003e] == lake_id]\n\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enot\u003c/span\u003e lake_df.empty:\n        bbox = [lake_df.iloc[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e].BBox_Min_Lon, lake_df.iloc[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e].BBox_Min_Lat,\n                lake_df.iloc[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e].BBox_Max_Lon, lake_df.iloc[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e].BBox_Max_Lat]\n\n        data = search_satellite_images(collection=\u003cspan class=\"hljs-string\"\u003e\"sentinel-2-l2a\"\u003c/span\u003e,\n                                       date=\u003cspan class=\"hljs-string\"\u003e\"2024-01-01/2024-05-14\"\u003c/span\u003e,\n                                       cloud_cover=(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e),\n                                       bbox=bbox)\n        \u003cspan class=\"hljs-comment\"\u003e# Pass the lake_id\u003c/span\u003e\n        water_pixels_df = count_water_pixels(data, lake_id)\n\n        \u003cspan class=\"hljs-comment\"\u003e# Append\u003c/span\u003e\n        all_water_pixels_dfs.append(water_pixels_df)\n\n\u003cspan class=\"hljs-comment\"\u003e# Concatenate all DataFrames into a single DataFrame\u003c/span\u003e\nfinal_df = pd.concat(all_water_pixels_dfs, ignore_index=\u003cspan class=\"hljs-literal\"\u003eTrue\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eìµœì¢… DataFrameì€ ì´ë¯¸ì§€ ë‚ ì§œ, ë¬¼ í”½ì…€ ìˆ˜, ì´ í”½ì…€ ìˆ˜, ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ ë° í‘œë©´ì ì„ ìš”ì•½í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ ë³´ì—¬ì§‘ë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_5.png\" alt=\"ì´ë¯¸ì§€\"\u003e\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eê±°ì˜ ë‹¤ ì™”ì–´ìš”!\u003c/p\u003e\n\u003cp\u003eì§€ë„ ìƒì—ì„œ ì‹œê³„ì—´ì„ ë³´ê¸° ìœ„í•´ ë§ˆì§€ë§‰ í•œ ë‹¨ê³„ê°€ ë‚¨ì•˜ìŠµë‹ˆë‹¤. ì´ì œ í‘œë©´ì ì˜ ì‹œê³„ì—´ ë°ì´í„°ê°€ ìˆìœ¼ë¯€ë¡œ Folium ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‘ ê°€ì§€ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: (1) ì§€ë„ìƒì˜ í˜¸ìˆ˜ ì¤‘ì‹¬ì„ ì§€ì ìœ¼ë¡œ í‘œì‹œí•˜ê³  (2) ê° í˜¸ìˆ˜ë¥¼ í´ë¦­í•˜ë©´ íŒì—…ìœ¼ë¡œ í‘œë©´ì ì˜ ì‹œê³„ì—´ì„ ë³´ì—¬ì£¼ëŠ” ê·¸ë˜í”„ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. ë‹¤ìŒ ì½”ë“œë¡œ ì´ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e folium\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e plotly.\u003cspan class=\"hljs-property\"\u003eexpress\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e px\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e os\n\n# ì‹œê³„ì—´ í”Œë¡¯ì„ ê·¸ë ¤ \u003cspan class=\"hljs-variable constant_\"\u003eHTML\u003c/span\u003eë¡œ ì €ì¥í•˜ëŠ” í•¨ìˆ˜\ndef \u003cspan class=\"hljs-title function_\"\u003eplot_timeseries_for_spot\u003c/span\u003e(spot_id, ts_df):\n    df_spot = ts_df[ts_df[\u003cspan class=\"hljs-string\"\u003e'ID'\u003c/span\u003e] == spot_id]\n    \u003cspan class=\"hljs-title function_\"\u003eprint\u003c/span\u003e(df_spot)\n    fig = px.\u003cspan class=\"hljs-title function_\"\u003eline\u003c/span\u003e(df_spot, x=\u003cspan class=\"hljs-string\"\u003e'Date'\u003c/span\u003e, y=\u003cspan class=\"hljs-string\"\u003e'Water Surface Area'\u003c/span\u003e, title=f\u003cspan class=\"hljs-string\"\u003e'Time Series for Lake {spot_id}'\u003c/span\u003e)\n\n     # X ë° Y ì¶• ë ˆì´ë¸” ì¶”ê°€\n    fig.\u003cspan class=\"hljs-title function_\"\u003eupdate_layout\u003c/span\u003e(\n        xaxis_title=\u003cspan class=\"hljs-string\"\u003e\"Date\"\u003c/span\u003e,\n        yaxis_title=\u003cspan class=\"hljs-string\"\u003e\"Water Surface Area (sq km)\"\u003c/span\u003e\n    )\n\n    filepath = f\u003cspan class=\"hljs-string\"\u003e'tmp_{int(spot_id)}.html'\u003c/span\u003e\n    fig.\u003cspan class=\"hljs-title function_\"\u003ewrite_html\u003c/span\u003e(filepath, include_plotlyjs=\u003cspan class=\"hljs-string\"\u003e'cdn'\u003c/span\u003e)\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e filepath\n\n# ì§€ë„ ìƒì„±\nm = folium.\u003cspan class=\"hljs-title class_\"\u003eMap\u003c/span\u003e(location=[\u003cspan class=\"hljs-number\"\u003e35.5\u003c/span\u003e, -\u003cspan class=\"hljs-number\"\u003e119.5\u003c/span\u003e], zoom_start=\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e)\n\n# \u003cspan class=\"hljs-title class_\"\u003ePlotly\u003c/span\u003e ì‹œê³„ì—´ íŒì—…ì´ ìˆëŠ” ë§ˆì»¤ ì¶”ê°€\n\u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e index, row \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e lakes_df.\u003cspan class=\"hljs-title function_\"\u003eiterrows\u003c/span\u003e():\n    html_path = \u003cspan class=\"hljs-title function_\"\u003eplot_timeseries_for_spot\u003c/span\u003e(row[\u003cspan class=\"hljs-string\"\u003e'ID'\u003c/span\u003e], final_df)\n    iframe = folium.\u003cspan class=\"hljs-title class_\"\u003eIFrame\u003c/span\u003e(html=\u003cspan class=\"hljs-title function_\"\u003eopen\u003c/span\u003e(html_path).\u003cspan class=\"hljs-title function_\"\u003eread\u003c/span\u003e(), width=\u003cspan class=\"hljs-number\"\u003e500\u003c/span\u003e, height=\u003cspan class=\"hljs-number\"\u003e300\u003c/span\u003e)\n    popup = folium.\u003cspan class=\"hljs-title class_\"\u003ePopup\u003c/span\u003e(iframe, max_width=\u003cspan class=\"hljs-number\"\u003e2650\u003c/span\u003e)\n    folium.\u003cspan class=\"hljs-title class_\"\u003eMarker\u003c/span\u003e([row[\u003cspan class=\"hljs-string\"\u003e'Centroid_Lat'\u003c/span\u003e], row[\u003cspan class=\"hljs-string\"\u003e'Centroid_Lon'\u003c/span\u003e]], popup=popup).\u003cspan class=\"hljs-title function_\"\u003eadd_to\u003c/span\u003e(m)\n\nm.\u003cspan class=\"hljs-title function_\"\u003esave\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'map_with_timeseries.html'\u003c/span\u003e)\n\n# ì„ì‹œ \u003cspan class=\"hljs-variable constant_\"\u003eHTML\u003c/span\u003e íŒŒì¼ ì •ë¦¬\n\u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e spot_id \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e lakes_df[\u003cspan class=\"hljs-string\"\u003e'ID'\u003c/span\u003e]:\n    os.\u003cspan class=\"hljs-title function_\"\u003eremove\u003c/span\u003e(f\u003cspan class=\"hljs-string\"\u003e'tmp_{spot_id}.html'\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì´ ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” í•¨ìˆ˜ê°€ ê° í˜¸ìˆ˜ì˜ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ í•„í„°ë§í•˜ê³ , Plotlyë¥¼ ì‚¬ìš©í•˜ì—¬ ë¼ì¸ í”Œë¡¯ì„ ìƒì„±í•˜ê³ , í”Œë¡¯ì„ HTML íŒŒì¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤. ë‹¤ìŒìœ¼ë¡œ Foliumì„ ì‚¬ìš©í•˜ì—¬ ì§€ë„ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ í˜¸ìˆ˜ DataFrameì„ ë°˜ë³µí•˜ë©´ì„œ, ê° í˜¸ìˆ˜ì˜ ì¤‘ì‹¬ ì¢Œí‘œì— ë§ˆì»¤ë¥¼ ì¶”ê°€í•˜ê³ , ê° ë§ˆì»¤ì— íŒì—…ì„ ì—°ê²°í•˜ì—¬ ì‹œê³„ì—´ í”Œë¡¯ì„ í‘œì‹œí•©ë‹ˆë‹¤. ìµœì¢… ì§€ë„ëŠ” HTML íŒŒì¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ, Plotly í”Œë¡¯ì— ìƒì„±ëœ ì„ì‹œ HTML íŒŒì¼ì„ ì‚­ì œí•˜ì—¬ ì •ë¦¬í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\u003c/p\u003e\n\u003cp\u003eì½˜í…ì¸  í´ë”ì— ìƒì„±ëœ HTML íŒŒì¼ì„ ì—´ë©´ ì§€ë„ì— í‘œì‹œëœ ê° í˜¸ìˆ˜ì˜ ì¤‘ì‹¬ ì¢Œí‘œë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery_6.png\" alt=\"ì§€ë„\"\u003e\u003c/p\u003e\n\u003cp\u003eê° í˜¸ìˆ˜ë¥¼ í´ë¦­í•˜ì—¬ ì‹œê³„ì—´ì´ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸í•´ ë³´ê² ìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì´ ëª¨ë“  ë…¸ë ¥ ëì— ì´ë ‡ê²Œ ì‹¤ìš©ì ì¸ ì§€ë„ê°€ ë§Œë“¤ì–´ì¡Œë„¤ìš”, ë§ë‚˜ìš”? :D\u003c/p\u003e\n\u003ch2\u003eğŸ“„ ê²°ë¡ \u003c/h2\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eê±°ì˜ ë§¤ë‹¬ ìƒˆë¡œìš´ íŒ¨í‚¤ì§€ì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ ë‚˜ì™€ì„œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ê³  ë¶„ì„í•˜ë©° í‘œì‹œí•˜ê³  ì‹œê°í™”í•˜ëŠ” ë²•ì„ ì‹¤ìš©ì ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ë¶„ì•¼ì—ì„œ ì•„ì§ ë‚¨ì•„ ìˆëŠ” ë‘ ê°€ì§€ ê³¼ì œê°€ ìˆìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ëŠ” ë°ì´í„°ë¥¼ ì •í™•í•˜ê²Œ ë¶„ì„í•˜ê¸° ìœ„í•´ì„œëŠ” í…Œë¼ë°”ì´íŠ¸ ë˜ëŠ” í˜íƒ€ë°”ì´íŠ¸ì—ì„œ ì¶”ì¶œëœ ë°ì´í„°ê°€ ì •í™•í•œì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì¶©ë¶„í•œ ê²½í—˜ì´ í•„ìš”í•©ë‹ˆë‹¤. ë‘ ë²ˆì§¸ëŠ” ì´ëŸ¬í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ ì—°ê²°í•˜ì—¬ ì˜ë¯¸ ìˆëŠ” ê²ƒì„ ë§Œë“¤ì–´ë‚´ëŠ” ì•„í‚¤í…ì²˜ë¥¼ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ë¯¸ì§€ ì²˜ë¦¬ì—ì„œëŠ” ì²˜ë¦¬ëœ ë°ì´í„°ì—ì„œì˜ ê°„ë‹¨í•œ ì‹¤ìˆ˜ê°€ ì¤‘ëŒ€í•œ ì˜¤ë¥˜ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆëŠ” ì ì„ ê°•ì¡°í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ì‹œê°í™” ë¶€ë¶„ì—ì„œëŠ” Folium, Plotly, ê·¸ë¦¬ê³  ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ì¶”ì¶œí•˜ê¸° ìœ„í•œ APIë¥¼ ì—°ê²°í•˜ì—¬, ë¦¬ëª¨íŠ¸ ì„¼ì‹± ê´€ì¸¡ì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ì–‘í•œ í˜„ìƒì„ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ìœ ìš©í•œ ë„êµ¬ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŒì„ ë³´ì—¬ì£¼ì—ˆìŠµë‹ˆë‹¤. ì´ ê¸€ì„ ì½ëŠ” ë° ì¦ê±°ì›€ì„ ëŠë¼ì‹œê¸°ë¥¼ ë°”ë¼ë©°, ê¶ê¸ˆí•œ ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ì—°ë½ ì£¼ì„¸ìš”.\u003c/p\u003e\n\u003ch2\u003eğŸ“š ì°¸ê³  ìë£Œ\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/stac-utils/pystac-client/blob/main/docs/quickstart.rst\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://github.com/stac-utils/pystac-client/blob/main/docs/quickstart.rst\u003c/a\u003e\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e\u003ca href=\"https://www.element84.com/earth-search/examples/\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://www.element84.com/earth-search/examples/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eSentinel ë°ì´í„°ìš© Copernicus Sentinel ë°ì´í„° [2024]\u003c/p\u003e\n\u003cp\u003eCopernicus ì„œë¹„ìŠ¤ ì •ë³´ìš© Copernicus ì„œë¹„ìŠ¤ ì •ë³´ [2024]\u003c/p\u003e\n\u003cp\u003eğŸ“± ë” ë§ì€ í¥ë¯¸ë¡œìš´ ì½˜í…ì¸ ë¥¼ ì œê³µí•˜ëŠ” ë‹¤ë¥¸ í”Œë«í¼ì—ì„œ ì €ì™€ ì†Œí†µí•˜ì„¸ìš”! LinkedIn, ResearchGate, Github ë° Twitter.\u003c/p\u003e\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"7249294152\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì´ ë§í¬ë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆëŠ” ê´€ë ¨ ê²Œì‹œë¬¼ì´ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-18-CreateanInteractiveMaptoDisplayTimeSeriesofSatelliteImagery"},"buildId":"wfHLuDA3kTGBYfaM5IGXk","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>