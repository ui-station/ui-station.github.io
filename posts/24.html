<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>ui-station</title><meta name="description" content="I develop websites, games and apps with HTML, CSS and JS."/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://ui-station.github.io///posts/24" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="ui-station" data-gatsby-head="true"/><meta property="og:title" content="ui-station" data-gatsby-head="true"/><meta property="og:description" content="I develop websites, games and apps with HTML, CSS and JS." data-gatsby-head="true"/><meta property="og:image" content="/favicons/ms-icon-310x310.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://ui-station.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://ui-station.github.io///posts/24" data-gatsby-head="true"/><meta name="twitter:title" content="ui-station" data-gatsby-head="true"/><meta name="twitter:description" content="I develop websites, games and apps with HTML, CSS and JS." data-gatsby-head="true"/><meta name="twitter:image" content="/favicons/ms-icon-310x310.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | ui-station" data-gatsby-head="true"/><meta name="next-head-count" content="18"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BHFR6GTH9P"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-BHFR6GTH9P');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/a22d13b8e6bc8203.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a22d13b8e6bc8203.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/873-8ce515d2b46d0f43.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bpage%5D-cd321dee6458c228.js" defer=""></script><script src="/_next/static/wOkGEDZCvEs3S_XaNsdwr/_buildManifest.js" defer=""></script><script src="/_next/static/wOkGEDZCvEs3S_XaNsdwr/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="posts_container__s9Z_H posts_-list__bsl0U"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">UI STATION</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><div class="posts_inner__HIBjT"><article><h2 class="SectionTitle_section_title__HS_xr">Posts</h2><div class="posts_project_list__oDV_y"><div class="PostList_post_list__or0rl"><a class="PostList_post_item__gAdVi" aria-label="ì´ˆë³´ìë¥¼ ìœ„í•œ ì•ˆë“œë¡œì´ë“œì—ì„œ C C ì‚¬ìš©í•˜ëŠ” ë°©ë²• ì´ì •ë¦¬" href="/post/2024-06-23-UsingCCinAndroidAComprehensiveGuideForBeginners"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="ì´ˆë³´ìë¥¼ ìœ„í•œ ì•ˆë“œë¡œì´ë“œì—ì„œ C C ì‚¬ìš©í•˜ëŠ” ë°©ë²• ì´ì •ë¦¬" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-UsingCCinAndroidAComprehensiveGuideForBeginners_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="ì´ˆë³´ìë¥¼ ìœ„í•œ ì•ˆë“œë¡œì´ë“œì—ì„œ C C ì‚¬ìš©í•˜ëŠ” ë°©ë²• ì´ì •ë¦¬" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">ì´ˆë³´ìë¥¼ ìœ„í•œ ì•ˆë“œë¡œì´ë“œì—ì„œ C C ì‚¬ìš©í•˜ëŠ” ë°©ë²• ì´ì •ë¦¬</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">13<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="KMMì—ì„œ Proto DataStore ë§ˆë²•ì„ í•´ì œí•˜ëŠ” ë°©ë²•" href="/post/2024-06-23-UnlockingProtoDataStoreMagicinKMM"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="KMMì—ì„œ Proto DataStore ë§ˆë²•ì„ í•´ì œí•˜ëŠ” ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-UnlockingProtoDataStoreMagicinKMM_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="KMMì—ì„œ Proto DataStore ë§ˆë²•ì„ í•´ì œí•˜ëŠ” ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">KMMì—ì„œ Proto DataStore ë§ˆë²•ì„ í•´ì œí•˜ëŠ” ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">8<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Composeë¥¼ í†µí•´ ìœ ì—°í•œ ì»´í¬ë„ŒíŠ¸ ë§Œë“œëŠ” ë°©ë²•" href="/post/2024-06-23-CreatingflexiblecomponentsinCompose"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Composeë¥¼ í†µí•´ ìœ ì—°í•œ ì»´í¬ë„ŒíŠ¸ ë§Œë“œëŠ” ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-CreatingflexiblecomponentsinCompose_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Composeë¥¼ í†µí•´ ìœ ì—°í•œ ì»´í¬ë„ŒíŠ¸ ë§Œë“œëŠ” ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">Composeë¥¼ í†µí•´ ìœ ì—°í•œ ì»´í¬ë„ŒíŠ¸ ë§Œë“œëŠ” ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">18<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Shadowfax ì•ˆë“œë¡œì´ë“œ ì•± 40 ë” ë¹ ë¥´ê²Œ ë§Œë“œëŠ” ë°©ë²•" href="/post/2024-06-23-MakingShadowfaxAndroidApp40faster"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Shadowfax ì•ˆë“œë¡œì´ë“œ ì•± 40 ë” ë¹ ë¥´ê²Œ ë§Œë“œëŠ” ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-MakingShadowfaxAndroidApp40faster_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Shadowfax ì•ˆë“œë¡œì´ë“œ ì•± 40 ë” ë¹ ë¥´ê²Œ ë§Œë“œëŠ” ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">Shadowfax ì•ˆë“œë¡œì´ë“œ ì•± 40 ë” ë¹ ë¥´ê²Œ ë§Œë“œëŠ” ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">10<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Jetpack Composeì—ì„œ MVI íŒ¨í„´ì„ ê°•ë ¥í•˜ê²Œ êµ¬í˜„í•˜ëŠ” ë°©ë²•" href="/post/2024-06-23-ArobustMVIimplementationwithJetpackCompose"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Jetpack Composeì—ì„œ MVI íŒ¨í„´ì„ ê°•ë ¥í•˜ê²Œ êµ¬í˜„í•˜ëŠ” ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-ArobustMVIimplementationwithJetpackCompose_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Jetpack Composeì—ì„œ MVI íŒ¨í„´ì„ ê°•ë ¥í•˜ê²Œ êµ¬í˜„í•˜ëŠ” ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">Jetpack Composeì—ì„œ MVI íŒ¨í„´ì„ ê°•ë ¥í•˜ê²Œ êµ¬í˜„í•˜ëŠ” ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">7<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="ë¹„ìš© ì ˆê° í´ë¼ìš°ë“œ ì†”ë£¨ì…˜ ë¹„ì¦ˆë‹ˆìŠ¤ë¥¼ ìœ„í•œ ìµœê³ ì˜ ì„ íƒ" href="/post/2024-06-23-EscapetheDollarTrapAffordableCloudSolutionsBuiltforBusinesses"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="ë¹„ìš© ì ˆê° í´ë¼ìš°ë“œ ì†”ë£¨ì…˜ ë¹„ì¦ˆë‹ˆìŠ¤ë¥¼ ìœ„í•œ ìµœê³ ì˜ ì„ íƒ" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-EscapetheDollarTrapAffordableCloudSolutionsBuiltforBusinesses_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="ë¹„ìš© ì ˆê° í´ë¼ìš°ë“œ ì†”ë£¨ì…˜ ë¹„ì¦ˆë‹ˆìŠ¤ë¥¼ ìœ„í•œ ìµœê³ ì˜ ì„ íƒ" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">ë¹„ìš© ì ˆê° í´ë¼ìš°ë“œ ì†”ë£¨ì…˜ ë¹„ì¦ˆë‹ˆìŠ¤ë¥¼ ìœ„í•œ ìµœê³ ì˜ ì„ íƒ</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">4<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Argo Rolloutsê°€ ì´ì œ Kubernetes Gateway API 10 ë²„ì „ì„ ì§€ì›í•©ë‹ˆë‹¤" href="/post/2024-06-23-ArgoRolloutsNowSupportsVersion10oftheKubernetesGatewayAPI"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Argo Rolloutsê°€ ì´ì œ Kubernetes Gateway API 10 ë²„ì „ì„ ì§€ì›í•©ë‹ˆë‹¤" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-ArgoRolloutsNowSupportsVersion10oftheKubernetesGatewayAPI_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Argo Rolloutsê°€ ì´ì œ Kubernetes Gateway API 10 ë²„ì „ì„ ì§€ì›í•©ë‹ˆë‹¤" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">Argo Rolloutsê°€ ì´ì œ Kubernetes Gateway API 10 ë²„ì „ì„ ì§€ì›í•©ë‹ˆë‹¤</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">5<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Kubernetesì—ì„œ 2ë…„ê°„ Airflowë¥¼ ìš´ì˜í•˜ë©° ë°°ìš´ êµí›ˆë“¤" href="/post/2024-06-23-WhatwelearnedafterrunningAirflowonKubernetesfor2years"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Kubernetesì—ì„œ 2ë…„ê°„ Airflowë¥¼ ìš´ì˜í•˜ë©° ë°°ìš´ êµí›ˆë“¤" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-WhatwelearnedafterrunningAirflowonKubernetesfor2years_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Kubernetesì—ì„œ 2ë…„ê°„ Airflowë¥¼ ìš´ì˜í•˜ë©° ë°°ìš´ êµí›ˆë“¤" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">Kubernetesì—ì„œ 2ë…„ê°„ Airflowë¥¼ ìš´ì˜í•˜ë©° ë°°ìš´ êµí›ˆë“¤</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">16<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="YAML Lintë¡œ YAML íŒŒì¼ ê²€ì¦í•˜ëŠ” ë°©ë²• " href="/post/2024-06-23-ValidateyourYAMLFileswithYAMLLint"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="YAML Lintë¡œ YAML íŒŒì¼ ê²€ì¦í•˜ëŠ” ë°©ë²• " loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-ValidateyourYAMLFileswithYAMLLint_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="YAML Lintë¡œ YAML íŒŒì¼ ê²€ì¦í•˜ëŠ” ë°©ë²• " loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">YAML Lintë¡œ YAML íŒŒì¼ ê²€ì¦í•˜ëŠ” ë°©ë²• </strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">3<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="eBPFì™€ Goë¥¼ ì‚¬ìš©í•œ íˆ¬ëª… í”„ë¡ì‹œ êµ¬í˜„ ë°©ë²•" href="/post/2024-06-23-TransparentProxyImplementationusingeBPFandGo"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="eBPFì™€ Goë¥¼ ì‚¬ìš©í•œ íˆ¬ëª… í”„ë¡ì‹œ êµ¬í˜„ ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-TransparentProxyImplementationusingeBPFandGo_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="eBPFì™€ Goë¥¼ ì‚¬ìš©í•œ íˆ¬ëª… í”„ë¡ì‹œ êµ¬í˜„ ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">eBPFì™€ Goë¥¼ ì‚¬ìš©í•œ íˆ¬ëª… í”„ë¡ì‹œ êµ¬í˜„ ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">14<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a></div></div></article><div class="posts_pagination__R_03T"><button type="button" class="page_button -prev">&lt;</button><a class="link" href="/posts/21">21</a><a class="link" href="/posts/22">22</a><a class="link" href="/posts/23">23</a><a class="link posts_-active__YVJEi" href="/posts/24">24</a><a class="link" href="/posts/25">25</a><a class="link" href="/posts/26">26</a><a class="link" href="/posts/27">27</a><a class="link" href="/posts/28">28</a><a class="link" href="/posts/29">29</a><a class="link" href="/posts/30">30</a><a class="link" href="/posts/31">31</a><a class="link" href="/posts/32">32</a><a class="link" href="/posts/33">33</a><a class="link" href="/posts/34">34</a><a class="link" href="/posts/35">35</a><a class="link" href="/posts/36">36</a><a class="link" href="/posts/37">37</a><a class="link" href="/posts/38">38</a><a class="link" href="/posts/39">39</a><a class="link" href="/posts/40">40</a><button type="button" class="page_button -prev">&gt;</button></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"title":"ì´ˆë³´ìë¥¼ ìœ„í•œ ì•ˆë“œë¡œì´ë“œì—ì„œ C C ì‚¬ìš©í•˜ëŠ” ë°©ë²• ì´ì •ë¦¬","description":"","date":"2024-06-23 01:19","slug":"2024-06-23-UsingCCinAndroidAComprehensiveGuideForBeginners","content":"\n## ì•ˆë“œë¡œì´ë“œ ê°œë°œ\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-UsingCCinAndroidAComprehensiveGuideForBeginners_0.png)\n\nì•ˆë“œë¡œì´ë“œ ê°œë°œìë¡œì„œ, ìš°ë¦¬ëŠ” ì•„ë¦„ë‹¤ìš´ UI ë° ê¸°ëŠ¥ì„ êµ¬ì¶•í•˜ê¸° ìœ„í•´ Java ë˜ëŠ” Kotlinì„ ì‚¬ìš©í•´ ì™”ìŠµë‹ˆë‹¤. ì•± ê°œë°œë¶€í„° ì‹¤í–‰ê¹Œì§€ ì•ˆë“œë¡œì´ë“œ ì „ì²´ ìŠ¤íƒì€ JVM ë° Java-ìŠ¤ëŸ¬ìš´ ê¸°ëŠ¥ì„ ì¤‘ì‹¬ìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤. ë¦¬ëˆ…ìŠ¤ ì»¤ë„ì„ ì œì™¸í•˜ê³ , JavaëŠ” Cë¡œ ì‘ì„±ë˜ì–´ ìˆëŠ”ë°ìš”.\n\ní”„ë¡œê·¸ë˜ë° ì–¸ì–´ì¸ JavaëŠ” ì•± ê°œë°œì„ ìœ„í•œ ìµœì ì˜ ì„ íƒì§€ë¡œ ë§Œë“¤ì–´ ì£¼ëŠ” ë§ì€ ìš°ìˆ˜í•œ ê¸°ëŠ¥ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤. ê°€ìƒ ë¨¸ì‹  ì‹¤í–‰ìœ¼ë¡œ í”Œë«í¼ ë…ë¦½ì ì´ë©°, JIT ì»´íŒŒì¼ëœ, ë©€í‹° ìŠ¤ë ˆë”© ì§€ì›ì´ ê°€ëŠ¥í•˜ë©°, í”„ë¡œê·¸ë˜ë¨¸ì—ê²Œ í‘œí˜„ë ¥ì´ ë›°ì–´ë‚˜ê³  ê°„ë‹¨í•œ êµ¬ë¬¸ì„ ì œê³µí•©ë‹ˆë‹¤. í”Œë«í¼ì— ëŒ€í•œ ì¤‘ë¦½ì ì¸ íŠ¹ì„±ìœ¼ë¡œ ì¸í•´ Java íŒ¨í‚¤ì§€ëŠ” CPU ì•„í‚¤í…ì²˜ì— ë”°ë¼ ì´ì‹ ê°€ëŠ¥í•˜ë©°, ì´ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°œë°œì„ ìš©ì´í•˜ê²Œ í•˜ê³  í”ŒëŸ¬ê·¸ì¸, ë¹Œë“œ ë„êµ¬ ë° ìœ í‹¸ë¦¬í‹° íŒ¨í‚¤ì§€ì˜ ì „ë°˜ì ì¸ ìƒíƒœê³„ë¥¼ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\níŠ¹ì • ê¸°ëŠ¥ì˜ ìˆ˜ì™€ ì„±ëŠ¥ ì‚¬ì´ì—ëŠ” ìƒì¶© ê´€ê³„ê°€ ìˆìŠµë‹ˆë‹¤. ì–´ì…ˆë¸”ë¦¬ì™€ ê°™ì€ ì–¸ì–´ëŠ” ë©”ëª¨ë¦¬ ë° ì‹¤í–‰ ì˜¤ë²„í—¤ë“œê°€ ê°€ì¥ ì ì§€ë§Œ í”„ë¡œê·¸ë˜ë¨¸ ê´€ì ì—ì„œëŠ” ê°€ì¥ ì ì€ ìˆ˜ì˜ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ê³„ì¸µì„ ì˜¬ë¼ê°€ë©´ì„œ C ë° C++ê³¼ ê°™ì€ ì–¸ì–´ëŠ” í•˜ë“œì›¨ì–´ì— ë” ê°€ê¹Œìš´ ìœ„ì¹˜ë¥¼ ìœ ì§€í•˜ë©´ì„œ ì¢‹ì€ ê¸°ëŠ¥ ì§‘í•©ì„ ì œê³µí•©ë‹ˆë‹¤. ê·¸ ìœ„ì—ëŠ” í”Œë«í¼ ì˜ì¡´ì„±ì„ ì™„ì „íˆ ì œê±°í•˜ê¸° ìœ„í•´ ê°€ìƒ ë¨¸ì‹ ì„ ì‚¬ìš©í•˜ëŠ” Javaì™€ Pythonê³¼ ê°™ì€ ì–¸ì–´ë“¤ì´ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì–¸ì–´ë¡œ ì‘ì„±ëœ í”„ë¡œê·¸ë¨ì€ ë§ì€ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•˜ì§€ë§Œ ê°œë°œìì—ê²ŒëŠ” ì²œêµ­ì…ë‹ˆë‹¤.\n\n## ëˆ„êµ°ê°€ê°€ Android í”„ë¡œì íŠ¸ì—ì„œ C/C++ ì§€ì›ì´ í•„ìš”í•œ ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?\n\nìœ„ì—ì„œì˜ í† ë¡ ì—ë„ ë‚˜ì™€ ìˆë“¯ì´, ìš°ë¦¬ ì‹œìŠ¤í…œì—ì„œëŠ” ì„±ëŠ¥ì´ ê°œë°œì ì¹œí™”ì„±ë³´ë‹¤ ë” ì¤‘ìš”í•˜ê¸° ë•Œë¬¸ì— ìš°ë¦¬ì˜ ê´€ì‹¬ì„ 'ë„¤ì´í‹°ë¸Œ ì–¸ì–´'ì¸ C/C++ë¡œ ì´ë™ì‹œí‚µë‹ˆë‹¤. ë„¤ì´í‹°ë¸Œ ì½”ë“œì˜ ì—­í• ê³¼ ì„±ëŠ¥ ê°œì„ ì— ëŒ€í•´ ì´í•´í•  ìˆ˜ ìˆëŠ” ëª‡ ê°€ì§€ ì˜ˆë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n\n- ê·¸ë˜í”½, ë Œë”ë§ ë° ìƒí˜¸ì‘ìš©: ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°œë°œí•˜ê³  ë§¤ë ¥ì ìœ¼ë¡œ ë³´ì´ê²Œ ë§Œë“œëŠ” ì‘ì—…ì€ Jetpack Composeì™€ ê°™ì€ ê³ ìˆ˜ì¤€ í”„ë ˆì„ì›Œí¬ì—ì„œëŠ” ê°„ë‹¨í•œ ì‘ì—…ìœ¼ë¡œ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ í”½ì…€ ìˆ˜ì¤€ì—ì„œëŠ” ê·¸ë¦¼ìì˜ ê°•ë„, ì¡°ëª… ëª¨ë“œ ë° ê°ì²´ì˜ ì§ˆê°ì„ ê³„ì‚°í•˜ê¸° ìœ„í•´ ìˆ˜ì²œ ê°œì˜ ê³„ì‚°ì´ ìˆ˜í–‰ë©ë‹ˆë‹¤. ì´ëŸ¬í•œ ê³„ì‚°ì€ ë²¡í„°ì™€ í–‰ë ¬ê³¼ ê°™ì€ ì„ í˜• ëŒ€ìˆ˜ êµ¬ì¡° ë° í•´ë‹¹ ì—°ì‚°ì„ ë§ì´ ì‚¬ìš©í•©ë‹ˆë‹¤. í„°ì¹˜ ìƒí˜¸ì‘ìš©ì„ ì²˜ë¦¬í•  ë•ŒëŠ” ëª…ë ¹ì„ í´ë¦­, ë”ë¸” í´ë¦­, ë“œë˜ê·¸ ë˜ëŠ” ìŠ¤ì™€ì´í”„ ì œìŠ¤ì²˜ë¡œ êµ¬ë¶„í•´ì•¼ í•˜ë¯€ë¡œ ë§ì€ ê³„ì‚°ì´ í•„ìš”í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ê³„ì‚°ì€ í•˜ë“œì›¨ì–´ì— ë” ê°€ê¹Œìš´ ì–¸ì–´ì—ì„œ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ ë” ë‚˜ì€ë° ì¶”ê°€ì ì¸ ìµœì í™”ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n- ë¨¸ì‹  ëŸ¬ë‹: C/C++ì˜ ì—­í• ì€ PyTorch ë° TensorFlowì™€ ê°™ì€ ì¸ê¸°ìˆëŠ” í”„ë ˆì„ì›Œí¬ì˜ ì½”ë“œë² ì´ìŠ¤ì˜ ì£¼ìš” ë¶€ë¶„ì´ C/C++ë¡œ ì‘ì„±ë˜ì–´ ìˆìŒìœ¼ë¡œì¨ ì‰½ê²Œ ì´í•´ë©ë‹ˆë‹¤. TensorFlowëŠ” C++ë¡œ ì‘ì„±ëœ ì—°ì‚°ì„ ì‚¬ìš©í•˜ê³  Python ì½”ë“œì—ì„œ ì´ëŸ¬í•œ ì—°ì‚°ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ë˜í¼(ì¸í„°í˜ì´ìŠ¤)ë¥¼ ì œê³µí•©ë‹ˆë‹¤. C++ì˜ ì±„íƒì€ ì„ í˜• ëŒ€ìˆ˜ ì—°ì‚°, ë³‘ë ¬ ì²˜ë¦¬ì— ì‚¬ìš©ë˜ëŠ” CUDA ì½”ë“œë² ì´ìŠ¤ê°€ ìˆ˜ë…„ ì „ì— ì‘ì„±ë˜ì—ˆê³  ë§ì€ ì‹œí—˜ì„ ê±°ì³ ì™”ê¸° ë•Œë¬¸ì— ëª…ë°±í•©ë‹ˆë‹¤. Pythonì€ TensorFlowì˜ ì¸í„°í˜ì´ìŠ¤ ì¤‘ í•˜ë‚˜ë¡œ ì‚¬ìš©ë˜ë©°, C/C++ ì‘ì—…ì„ ê¹”ë”í•˜ê³  ê°„í¸í•˜ê²Œ ë§Œë“¤ì–´ì£¼ì–´ ë¹„ í”„ë¡œê·¸ë˜ë¨¸ ì‚¬ìš©ìì—ê²Œ í¸ë¦¬í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![image](/assets/img/2024-06-23-UsingCCinAndroidAComprehensiveGuideForBeginners_1.png)\n\nMany such systems uphold performance compromising readability and some other factors. Next, weâ€™ll have a short discussion on Instruction Set Architectures (ISAs) and how program execution changes with changing CPU architectures.\n\n# Understanding How C++ Is Integrated in Android Apps\n\n![image](/assets/img/2024-06-23-UsingCCinAndroidAComprehensiveGuideForBeginners_2.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nìœ„ì˜ ê·¸ë¦¼ì—ì„œ ì•ˆë“œë¡œì´ë“œì—ì„œ C/C++ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ë‚˜ì™€ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì—ëŠ” C/C++ ì½”ë“œìš© ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ì™€ Java/Kotlin ì½”ë“œìš© ë˜ ë‹¤ë¥¸ ë…ë¦½ì ì¸ ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ê°€ ìˆìŠµë‹ˆë‹¤. ì´ ë¸”ë¡œê·¸ì—ì„œëŠ” C/C++ ì½”ë“œ ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ì— ì¤‘ì ì„ ë‘ê³  ì½”ë“œê°€ í•¨ìˆ˜ í˜¸ì¶œì„ ìœ„í•´ JVMê³¼ ì–´ë–»ê²Œ í†µì‹ í•˜ëŠ”ì§€ ì‚´í´ë³¼ ê²ƒì…ë‹ˆë‹¤.\n\në¨¼ì € C/C++ ë° Java í”„ë¡œê·¸ë¨ì´ ì»´íŒŒì¼ë˜ëŠ” ê°„ë‹¨í•œ ê°œìš”ë¥¼ ì‚´í´ë³¼ ê²ƒì´ë©°, ì£¼ë¡œ C/C++ ì»´íŒŒì¼ì˜ í”Œë«í¼ë³„ íŠ¹ì„±ì„ ê°•ì¡°í•  ê²ƒì…ë‹ˆë‹¤. ê·¸ ë‹¤ìŒ, C/C++ê³¼ Java ì½”ë“œ ê°„ì˜ ì ‘ì°©ì œ ì—­í• ì„ í•˜ëŠ” JNIì— ëŒ€í•´ ë…¼ì˜í•  ê²ƒì…ë‹ˆë‹¤. ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ì˜ ê°€ì¥ í•˜ë‹¨ êµ¬ì„± ìš”ì†Œì¸ CMake, ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ABIì— ëŒ€í•œ ë…¼ì˜ë¡œ ë§ˆë¬´ë¦¬í•  ê²ƒì…ë‹ˆë‹¤.\n\nì, ì‹œì‘í•´ë´…ì‹œë‹¤ ğŸš€\n\n## 1. C++ ë° Java í”„ë¡œê·¸ë¨ì˜ ì»´íŒŒì¼\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nâ¡ï¸ C++ì€ ì»´íŒŒì¼ëœ ì–¸ì–´ë¡œ, ì†ŒìŠ¤ ì½”ë“œê°€ ì‹¤í–‰ ê°€ëŠ¥í•œ ì´ì§„ ì½”ë“œë¡œ ë³€í™˜ë©ë‹ˆë‹¤. ì‹¤í–‰ íŒŒì¼ì—ëŠ” ì†ŒìŠ¤ í”„ë¡œê·¸ë¨ì˜ ì´ì§„ ë²„ì „, í•„ìš”í•œ ìƒìˆ˜ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ ì½”ë“œê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\nâ¡ï¸ ì´ ì‹¤í–‰ íŒŒì¼ì€ ìš´ì˜ ì²´ì œì˜ êµ¬ì„± ìš”ì†Œì¸ ë¡œë”ì— ì˜í•´ êµ¬ë¬¸ ë¶„ì„ë˜ë©°, í”„ë¡œê·¸ë¨ì˜ ì‹¤í–‰ì„ ìœ„í•´ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•˜ê³  ì‹¤í–‰ íŒŒì¼ì—ì„œ ëª…ë ¹ì„ ì½ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, hello-world C++ í”„ë¡œê·¸ë¨ì´ Ubuntuì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ g++ë¡œ ì»´íŒŒì¼ë˜ì—ˆë‹¤ë©´, x86 ë˜ëŠ” x86_64 ëª…ë ¹ ì„¸íŠ¸ë¥¼ ì´í•´í•˜ëŠ” í•œ ë‹¤ë¥¸ Linux ë°°í¬íŒì—ì„œë„ ì‹¤í–‰ë  ê²ƒì…ë‹ˆë‹¤.\n\nâ¡ï¸ ëª¨ë°”ì¼ ê¸°ê¸°ëŠ” arm ë˜ëŠ” arm64 ëª…ë ¹ ì„¸íŠ¸ë¡œ ì‘ë™í•˜ê¸° ë•Œë¬¸ì— x86ìš©ìœ¼ë¡œ ì»´íŒŒì¼ëœ í”„ë¡œê·¸ë¨ì€ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‘ ì‹¤í–‰ íŒŒì¼ì€ ë¡œë”ê°€ ë³´ëŠ” ê²ƒê³¼ ê°™ì´ ì™„ì „íˆ ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì‘ì„±ë˜ì–´ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-UsingCCinAndroidAComprehensiveGuideForBeginners_3.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![Android Architecture](/assets/img/2024-06-23-UsingCCinAndroidAComprehensiveGuideForBeginners_4.png)\n\nAndroid ê¸°ê¸°ëŠ” ì£¼ë¡œ ë„¤ ê°€ì§€ ì•„í‚¤í…ì²˜ì—ì„œ ì‘ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ - arm64-v8a, armeabi-v7a, x86 ë° x86_64. ARM ê¸°ë°˜ í”„ë¡œì„¸ì„œì—ì„œ ì‚¬ìš©ë˜ëŠ” arm- ì•„í‚¤í…ì²˜ëŠ” ëŒ€ë¶€ë¶„ì˜ Android íœ´ëŒ€í°ì—ì„œ ì‚¬ìš©ë˜ë©°, Intel ë˜ëŠ” AMD í”„ë¡œì„¸ì„œì— ì‚¬ìš©ë˜ëŠ” x86- ê¸°ë°˜ ì•„í‚¤í…ì²˜ëŠ” Windows ì—ë®¬ë ˆì´í„°ì™€ Chromebookì— ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n## Java\n\nâ¡ï¸ ë§Œì•½ ì–´ëŠ ì‹œì ì— Javaë¥¼ ë°°ì› ë‹¤ë©´, ë™ì˜ìƒì´ë‚˜ ë¸”ë¡œê·¸ì—ì„œ ìì£¼ ê°•ì¡°ë˜ëŠ” íŠ¹ì§• ì¤‘ í•˜ë‚˜ëŠ” í”Œë«í¼ ë…ë¦½ì„± ë˜ëŠ” í•œ ë²ˆ ì‘ì„±í•˜ê³  ì–´ë””ì„œë“  ì‹¤í–‰í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì†ŒìŠ¤ ì½”ë“œë¥¼ ê¸°ê³„ ì˜ì¡´ì  ì‹¤í–‰ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ëŒ€ì‹  JavaëŠ” ì½”ë“œë¥¼ ì¤‘ê°„ í‘œí˜„ (IR)ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nâ¡ï¸ IRì€ í”Œë«í¼ì— ë…ë¦½ì ì´ë©°, x86 ë˜ëŠ” arm í”Œë«í¼ì—ì„œ ìƒì„±ëœ IRì€ ëª…ë ¹ì–´ ì„¸íŠ¸ì˜ ì°¨ì´ì— ê´€ê³§í•˜ê²Œ ë™ì¼í•©ë‹ˆë‹¤. IRì€ í”Œë«í¼ ì˜ì¡´ êµ¬ì„± ìš”ì†Œì¸ Java ê°€ìƒ ë¨¸ì‹ ì— ì˜í•´ êµ¬ë¬¸ ë¶„ì„ë˜ë©°, í•´ë‹¹ ê°€ìƒ ë¨¸ì‹ ì€ IRì—ì„œ ëª…ë ¹ì–´ë¥¼ ì½ì–´ì„œ ê¸°ì¡´ CPUì—ì„œ ì‹¤í–‰í•©ë‹ˆë‹¤. JVMì€ IRì„ ì²˜ë¦¬í•˜ê³  ë™ì‹œì— ê¸°ì¡´ CPUì—ì„œ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì— í”Œë«í¼ì— ë…ë¦½ì ì´ ì•„ë‹™ë‹ˆë‹¤.\n\nâ¡ï¸ JVMì€ ê±°ì˜ ëª¨ë“  CPU ì•„í‚¤í…ì²˜ì—ì„œ ì‹¤í–‰ë˜ê³ , ìƒì„±ëœ IRì´ í”Œë«í¼ì— ë…ë¦½ì ì´ê¸° ë•Œë¬¸ì— ëª¨ë“  í”Œë«í¼ì— ì‘ì„±ëœ Java ì½”ë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìœ ì¼í•œ ì¢…ì†ì„±ì€ ëŒ€ìƒ ê¸°ê¸°ì— JVMì´ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n## Android ARTì™€ DEX ë°”ì´íŠ¸ì½”ë“œ\n\nìš´ì˜ ì²´ì œë¡œì„œ AndroidëŠ” Java ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ í‘œì¤€ JVMì„ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. íŒ¨í‚¤ì§€ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì¸ APKì—ëŠ” DEX íŒŒì¼(.class íŒŒì¼ê³¼ ìœ ì‚¬)ê³¼ ë„¤ì´í‹°ë¸Œ ì½”ë“œ ë° ë¦¬ì†ŒìŠ¤ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. DEX íŒŒì¼ì€ ì‹¤í–‰ ì „ì— OSì— ì˜í•´ ë„¤ì´í‹°ë¸Œ ì‹¤í–‰ ì½”ë“œë¡œ ë¯¸ë¦¬ ì»´íŒŒì¼ë˜ì–´ ì‚¬ìš©ìê°€ ì•±ì„ ì—´ ë•Œ ë¹ ë¥´ê²Œ ì¸ìŠ¤í„´ìŠ¤í™”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 2. JNIì„ ì‚¬ìš©í•˜ì—¬ C++ ì†ŒìŠ¤ ì½”ë“œ ë˜í•‘í•˜ê¸°\n\nJNI ë˜ëŠ” Java Native InterfaceëŠ” JVMê³¼ ë„¤ì´í‹°ë¸Œ ì½”ë“œ(C, C++ ë˜ëŠ” ì–´ì…ˆë¸”ë¦¬ ì½”ë“œ) ê°„ì˜ í†µì‹ ì„ ì‰½ê²Œ í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ë§í•´, ì´ëŠ” ì™¸ë¶€ í•¨ìˆ˜ ì¸í„°í˜ì´ìŠ¤(FFI)ë¥¼ ì œê³µí•˜ì—¬ ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì‘ì„±ëœ ì½”ë“œê°€ ì£¼ë¡œ í•¨ìˆ˜ í˜¸ì¶œì„ í†µí•´ ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì‘ì„±ëœ ì½”ë“œì™€ í†µì‹ í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. Java ì†ŒìŠ¤ ì½”ë“œëŠ” C++ ëª¨ë“ˆì— ì¡´ì¬í•˜ëŠ” í•¨ìˆ˜ ì •ì˜ë¥¼ ì°¾ì•„ì„œ JVMì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í”Œë˜ê·¸ë¥¼ ë‹¬ê²Œ í•©ë‹ˆë‹¤.\n\nJNIì—ëŠ” jclass, jobject, jfloat, jstring ë“±ê³¼ ê°™ì€ í´ë˜ìŠ¤ë“¤ì´ ìˆìœ¼ë©°, ì´ë“¤ì€ ê°ê° C++ì—ì„œ í•´ë‹¹í•˜ëŠ” ìë°” ì›ì‹œ ìë£Œí˜• (í´ë˜ìŠ¤, ê°ì²´, float ë° String)ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ C++ì—ì„œ ì •ì˜ëœ JNI í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n```cpp\n// C++ ì†ŒìŠ¤ íŒŒì¼\nextern \"C\" JNIEXPORT jstring JNICALL\nJava_com_projects_ml_samplecppdemo_MainActivity_compute(\n        JNIEnv* env,\n        jobject instance ,\n        jstring message ,\n        jlong length\n) {\n    // ë©”ì†Œë“œ ë¸”ë¡ì´ ì—¬ê¸°ì— ìœ„ì¹˜í•©ë‹ˆë‹¤\n}\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nMainActivityì—ì„œ Kotlin í•¨ìˆ˜ computeì— í•´ë‹¹í•˜ëŠ” ê²ƒì´ ì¡´ì¬í•  ê²ƒì…ë‹ˆë‹¤.\n\n```kotlin\n// Kotlin ì†ŒìŠ¤ íŒŒì¼\nexternal fun compute(message: String, length: Long): String\n```\n\nMainActivity.ktë¥¼ ì»´íŒŒì¼í•˜ëŠ” ë™ì•ˆ, JVMì€ ì½”ë“œì—ì„œ ì„ ì–¸í•œ compute í•¨ìˆ˜ì˜ ì •ì˜ë¥¼ ì°¾ì•„ì•¼ í•©ë‹ˆë‹¤. ì •ì˜ëŠ” C++ ì†ŒìŠ¤ íŒŒì¼ ì•ˆì— í¬í•¨ë˜ì–´ ìˆê¸° ë•Œë¬¸ì—, Java í”„ë¡œê·¸ë¨ì— ì´ë¥¼ ì–´ë–»ê²Œ ì œê³µí• ê¹Œìš”? ìš°ë¦¬ëŠ” C++ ì½”ë“œë¥¼ ì»´íŒŒì¼í•˜ê³ , JVMì´ JNI í•¨ìˆ˜ì˜ ì •ì˜ë¥¼ ì°¾ì„ ìˆ˜ ìˆëŠ” ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ íŒ¨í‚¤ì§•í•©ë‹ˆë‹¤.\n\n## 3. CMakeê³¼ Android NDK\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/assets/img/2024-06-23-UsingCCinAndroidAComprehensiveGuideForBeginners_5.png\" /\u003e\n\n## Android NDK and Toolchains\n\nì €í¬ëŠ” Windows, macOS ë˜ëŠ” Linux ê¸°ë°˜ ìš´ì˜ ì²´ì œì—ì„œ Android ì•±ì„ ê°œë°œí•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì‹œìŠ¤í…œ ëŒ€ë¶€ë¶„ì€ Android íŠ¹ì • ARM ì•„í‚¤í…ì²˜ë¥¼ ë³´ìœ í•˜ê³  ìˆì§€ ì•Šìœ¼ë©° Android ê¸°ê¸°ì—ì„œ ì½”ë“œë¥¼ ì»´íŒŒì¼í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ëª¨ë°”ì¼ í°ì—ì„œ ì‚¬ìš©í•˜ëŠ” Android íŠ¹ì • ARM ì•„í‚¤í…ì²˜ë¥¼ ìœ„í•´ ì½”ë“œë¥¼ ì–´ë–»ê²Œ ì»´íŒŒì¼í• ê¹Œìš”?\n\n\u003cimg src=\"/assets/img/2024-06-23-UsingCCinAndroidAComprehensiveGuideForBeginners_6.png\" /\u003e\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì•ˆë…•í•˜ì„¸ìš”! Android NDK(ì•ˆë“œë¡œì´ë“œ ë„¤ì´í‹°ë¸Œ ê°œë°œ í‚¤íŠ¸)ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ í‚¤íŠ¸ëŠ” Android-ARM ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ì‹¤í–‰ íŒŒì¼ì„ x86 ë˜ëŠ” ë‹¤ë¥¸ arm ì¥ì¹˜(ì• í”Œ ì‹¤ë¦¬ì½˜ ë˜ëŠ” ë¼ì¦ˆë² ë¦¬ íŒŒì´)ì—ì„œ ë¹Œë“œí•˜ê¸° ìœ„í•œ ì»´íŒŒì¼ëŸ¬ ë° ë§ì»¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ë ‡ê²Œ ë‹¤ë¥¸ íƒ€ê²Ÿ(ì˜ˆ: Android-ARM)ì„ ìœ„í•´ ì½”ë“œë¥¼ ë¹Œë“œí•˜ëŠ” í”„ë¡œì„¸ìŠ¤ëŠ” í˜„ì¬ ë‹¤ë¥¸ íƒ€ê²Ÿ(ì˜ˆ: x86_64)ì„ ì‹¤í–‰ ì¤‘ì¸ ì‹œìŠ¤í…œì—ì„œ ì´ë£¨ì–´ì§€ëŠ” êµì°¨ ì»´íŒŒì¼ì´ë¼ê³  í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ, Windows ê¸°ê¸°ì—ì„œ Android NDKì˜ ì»´íŒŒì¼ëŸ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•±ì„ ìœ„í•œ ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¹Œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ARM ê¸°ê¸°ì¸ ëª¨ë°”ì¼ ì¥ì¹˜ì—ì„œ ì™„ë²½í•˜ê²Œ ì‹¤í–‰ë  ê²ƒì…ë‹ˆë‹¤.\n\nAndroid NDKì—ëŠ” CMakeì—ê²Œ ì‚¬ìš©í•  ì»´íŒŒì¼ëŸ¬ë¥¼ ì•Œë ¤ì£¼ëŠ” CMAKE_TOOLCHAIN_FILEì´ ì¡´ì¬í•©ë‹ˆë‹¤. ìœ„í‚¤í”¼ë””ì•„ì— ë”°ë¥´ë©´, íˆ´ì²´ì¸ì€ ë³µì¡í•œ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê±°ë‚˜ ì†Œí”„íŠ¸ì›¨ì–´ ì œí’ˆì„ ë§Œë“¤ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” í”„ë¡œê·¸ë˜ë° ë„êµ¬ì˜ ëª¨ìŒì…ë‹ˆë‹¤. Android NDKëŠ” ë‹¤ì–‘í•œ Android API ë ˆë²¨ì„ ìœ„í•´ ë‹¤ì–‘í•œ íˆ´ì²´ì¸ì„ ì œê³µí•˜ì—¬ C/C++ í”„ë¡œê·¸ë¨ì„ ë¹Œë“œí•˜ê³  ì»´íŒŒì¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## CMakeë€ ë¬´ì—‡ì¸ê°€ìš”?\n\nê°„ë‹¨í•œ C++ hello-world í”„ë¡œê·¸ë¨ì„ ì»´íŒŒì¼í•œë‹¤ë©´, ëŒ€ë¶€ë¶„ì˜ ë¦¬ëˆ…ìŠ¤ ë°°í¬íŒì— ë¯¸ë¦¬ ì„¤ì¹˜ëœ GNUì˜ g++ ì»´íŒŒì¼ëŸ¬ë¥¼ ì‚¬ìš©í–ˆì„ ê²ƒì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```bash\ng++ main.cpp -o main\n```\n\nâ¡ï¸ í•˜ë‚˜ì˜ ì†ŒìŠ¤ íŒŒì¼ main.cppì˜ ê²½ìš°, í•˜ë‚˜ì˜ ëª…ë ¹ì–´ë¡œ ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ìš”. ë” í° ì½”ë“œë² ì´ìŠ¤ëŠ” ì—¬ëŸ¬ ëª¨ë“ˆê³¼ ë§ì€ C/C++ ì†ŒìŠ¤ íŒŒì¼ì„ í¬í•¨í•˜ê³  ìˆì„ ìˆ˜ ìˆëŠ”ë°, ì´ë“¤ì€ ê³µìœ  í˜¹ì€ ì •ì  ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì»´íŒŒì¼í•˜ê±°ë‚˜ ë¹Œë“œí•´ì•¼ í•©ë‹ˆë‹¤. í•´ë‹¹ ì½”ë“œë² ì´ìŠ¤ì˜ ì˜ì¡´ì„±ë“¤, ì¦‰ ë‹¤ë¥¸ C++ í”„ë¡œì íŠ¸ë“¤ë„ ì˜ í†µí•©ë˜ì–´ì•¼ í•´ìš”. ì´ëŸ° ë°©ëŒ€í•œ ì½”ë“œë² ì´ìŠ¤ëŠ” ì»´íŒŒì¼ì— ë§ì€ ì‹œê°„ì´ ì†Œìš”ë  ê±°ì˜ˆìš”.\n\nâ¡ï¸ ì´ëŸ¬í•œ ë¬¸ì œë“¤ì— ëŒ€ì²˜í•˜ê¸° ìœ„í•´ GNUì˜ Make ë„êµ¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë°, ì´ëŠ” ì—¬ëŸ¬ ëŒ€ìƒì„ ê´€ë¦¬í•˜ê±°ë‚˜ ì¦ë¶„ ë¹Œë“œ, í—¤ë” íŒŒì¼ í¬í•¨ ë° ë‹¤ì–‘í•œ ì–¸ì–´ ì§€ì› ê¸°ëŠ¥ì„ ì œê³µí•´ì¤˜ìš”. ë”°ë¼ì„œ ì»´íŒŒì¼ì„ ìœ„í•´ ì—¬ëŸ¬ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ëŠ” ëŒ€ì‹ , ë‹¨ì¼ Make ìŠ¤í¬ë¦½íŠ¸ê°€ íš¨ìœ¨ì ìœ¼ë¡œ ì»´íŒŒì¼ì„ ìˆ˜í–‰í•  ê±°ì˜ˆìš”.\n\n```bash\ncmake_minimum_required(VERSION 3.22.1)\n\nproject(\"samplecppdemo\")\n\n# CMakeì—ê²Œ ì£¼ì–´ì§„ ì†ŒìŠ¤ íŒŒì¼ native-lib.cppì— ëŒ€í•œ ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬(.so)ë¥¼ ë¹Œë“œí•˜ë„ë¡ ì§€ì‹œí•©ë‹ˆë‹¤.\n# native-lib.cppì—ëŠ” JNI í•¨ìˆ˜ë„ í¬í•¨ë˜ì–´ ìˆì–´ìš”.\nadd_library(\n        ${CMAKE_PROJECT_NAME}\n        SHARED\n        native-lib.cpp)\n\n# CMakeì€ í˜„ì¬ ë¹Œë“œì— ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë§í¬í•  ìˆ˜ë„ ìˆì–´ìš”.\n# androidì™€ logëŠ” ê°ê° ì•ˆë“œë¡œì´ë“œ íŠ¹ì • ë£¨í‹´ê³¼ ë¡œê¹…ì„ ì œê³µí•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.\ntarget_link_libraries(\n        ${CMAKE_PROJECT_NAME}\n        android\n        log)\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nâ¡ï¸ CMakeëŠ” ì»´íŒŒì¼ëŸ¬ì— ë…ë¦½ì ì¸ ë°©ë²•ìœ¼ë¡œ Make ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìœ¼ë©°, ì˜ì¡´ì„±, í—¤ë” ë° ì»´íŒŒì¼ ì‹œì— ë§í¬í•´ì•¼ í•˜ëŠ” ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ê³ ìœ í•œ êµ¬ë¬¸ì„ ê°–ê³  ìˆìŠµë‹ˆë‹¤. CMakeì€ Gradleê³¼ ìœ ì‚¬í•˜ì—¬ ë‘˜ ë‹¤ ë¹Œë“œ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.\n\nê°„ë‹¨íˆ ì½ìœ¼ë ¤ë©´ ì´ ìŠ¤íƒì˜¤ë²„í”Œë¡œìš° ë‹µë³€ì„ ì°¸ì¡°í•˜ì„¸ìš”: ì½”ë“œë¥¼ ì»´íŒŒì¼í•˜ê¸° ìœ„í•´ Makefileê³¼ CMake ì¤‘ ì–´ë–¤ ê²ƒì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ì§€ì— ëŒ€í•œ ì°¨ì´ëŠ” ë¬´ì—‡ì¸ê°€ìš”?\n\n# 4. ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ABI\n\nâ¡ï¸ C/C++ ì½”ë“œì˜ ì»´íŒŒì¼ì€ ì‹¤í–‰ íŒŒì¼ ë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¤‘ í•˜ë‚˜ì˜ ì´ì§„ í‘œí˜„ë¬¼ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¤í–‰ íŒŒì¼ì—ëŠ” ì‹¤í–‰ì´ ì‹œì‘ë˜ëŠ” main í•¨ìˆ˜ì˜ ì£¼ì†Œì™€ ELF í˜•ì‹ì„ ë”°ë¥´ëŠ” ì¶”ê°€ì ì¸ ì„¸ë¶€ ì •ë³´ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ ì œê³µí•˜ë©°, í”„ë¡œê·¸ë¨ì˜ ì˜¤ë¸Œì íŠ¸ ì½”ë“œì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë§í¬í•˜ì—¬ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/assets/img/2024-06-23-UsingCCinAndroidAComprehensiveGuideForBeginners_7.png\" /\u003e\n\nâ¡ï¸ ì•ˆë“œë¡œì´ë“œì—ì„œ C/C++ íŒŒì¼ì€ .so (shared object) í™•ì¥ìë¡œ ëë‚˜ëŠ” ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì»´íŒŒì¼ë©ë‹ˆë‹¤. ì´ëŸ¬í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” (2)ì—ì„œ externìœ¼ë¡œ í‘œì‹œëœ JNI í•¨ìˆ˜ë¥¼ ë…¸ì¶œí•©ë‹ˆë‹¤. JVMì€ .so íŒŒì¼ì˜ ì½”ë“œë¥¼ ê²€í† í•˜ê³  í•´ë‹¹ ê¸°ëŠ¥ì˜ ì´ì§„ ì½”ë“œë¥¼ ì¥ì¹˜ì—ì„œ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nâ¡ï¸ ì†ŒìŠ¤ ì½”ë“œì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì½”ë“œ ê°„ì˜ ìƒí˜¸ ì‘ìš©ì€ ì´ì§„ ë ˆë²¨ì—ì„œ ë°œìƒí•˜ë¯€ë¡œ ì¼ë°˜ì ìœ¼ë¡œ ì‘ìš© í”„ë¡œê·¸ë¨ ë°”ì´ë„ˆë¦¬ ì¸í„°í˜ì´ìŠ¤ (ABI)ë¥¼ í†µí•´ ë°œìƒí•©ë‹ˆë‹¤. ë°˜ëŒ€ë¡œ ì‘ìš© í”„ë¡œê·¸ë¨ í”„ë¡œê·¸ë˜ë° ì¸í„°í˜ì´ìŠ¤ (API)ëŠ” ì»´íŒŒì¼ì´ ë°œìƒí•˜ê¸° ì „ ì†ŒìŠ¤ ì½”ë“œ ìˆ˜ì¤€ì—ì„œ ì´ëŸ¬í•œ ìƒí˜¸ ì‘ìš©ì„ ìš©ì´í•˜ê²Œ í•©ë‹ˆë‹¤.\n\nABIì— ëŒ€í•œ ì§ê´€ì ì¸ ì„¤ëª…ì„ ë³´ë ¤ë©´ LinkedIn ê²Œì‹œë¬¼ì„ í™•ì¸í•´ë³´ì„¸ìš”. ë‘ ê°œì˜ ì†Œí”„íŠ¸ì›¨ì–´ ì¡°ê°ì´ ì†ŒìŠ¤ ì½”ë“œì—ì„œ í†µì‹ í•´ì•¼ í•˜ëŠ” ê²½ìš° APIë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ë§Œì•½ ë‘ ì´ì§„ ëª¨ë“ˆì´ í†µì‹ í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œìš”?\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ê²°ë¡ \n\nJVMì€ ì´ì œ ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ë…¸ì¶œëœ í•¨ìˆ˜ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìœ¼ë©°, OSê°€ í•„ìš”ì— ë”°ë¼ ì‹¤í–‰í•©ë‹ˆë‹¤.\n\nì´ ê¸°ì‚¬ê°€ í¥ë¯¸ë¡œì› ê³  ìƒˆë¡œìš´ ê²ƒì„ ë°°ìš°ì…¨ê¸°ë¥¼ ë°”ëë‹ˆë‹¤. ì•„ë˜ ëŒ“ê¸€ì— ê¶ê¸ˆí•œ ì ì´ë‚˜ ì œì•ˆì„ ê³µìœ í•´ ì£¼ì„¸ìš”. ì¦ê±°ìš´ í•˜ë£¨ ë˜ì„¸ìš”!\n","ogImage":{"url":"/assets/img/2024-06-23-UsingCCinAndroidAComprehensiveGuideForBeginners_0.png"},"coverImage":"/assets/img/2024-06-23-UsingCCinAndroidAComprehensiveGuideForBeginners_0.png","tag":["Tech"],"readingTime":13},{"title":"KMMì—ì„œ Proto DataStore ë§ˆë²•ì„ í•´ì œí•˜ëŠ” ë°©ë²•","description":"","date":"2024-06-23 01:17","slug":"2024-06-23-UnlockingProtoDataStoreMagicinKMM","content":"\n\u003cimg src=\"/assets/img/2024-06-23-UnlockingProtoDataStoreMagicinKMM_0.png\" /\u003e\n\nëª¨ë°”ì¼ ê°œë°œì˜ ë¹ ë¥´ê²Œ ì§„í™”í•˜ëŠ” ì„¸ê³„ì—ì„œ Kotlin Multiplatform Mobile (KMM)ì€ ì•ˆë“œë¡œì´ë“œ ë° iOS ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ ê³µìœ  ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ì¤‘ìš”í•œ ë„ì „ ì¤‘ í•˜ë‚˜ëŠ” ì•ˆë“œë¡œì´ë“œì˜ SharedPreferenceë‚˜ iOSì˜ NSUserDefaultsì™€ ê°™ì€ íš¨ìœ¨ì ì´ê³  ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” í‚¤-ê°’ ë°ì´í„° ì €ì¥ ì†”ë£¨ì…˜ì„ ì°¾ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” ê°•ë ¥í•˜ê³  íƒ€ì… ì•ˆì „í•œ ì†”ë£¨ì…˜ Proto DataStoreë¥¼ KMM í”„ë¡œì íŠ¸ì— í†µí•©í•˜ëŠ” ë°©ë²•ì„ íƒêµ¬í•©ë‹ˆë‹¤.\n\n# DataStore\n\nJetpack DataStoreëŠ” í”„ë¡œí† ì½œ ë²„í¼ë¥¼ ì‚¬ìš©í•˜ì—¬ í‚¤-ê°’ ìŒ ë˜ëŠ” í˜•ì‹í™”ëœ ê°ì²´ë¥¼ ì €ì¥í•  ìˆ˜ ìˆëŠ” ë°ì´í„° ì €ì¥ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤. DataStoreëŠ” Kotlin ì½”ë£¨í‹´ê³¼ Flowë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ, ì¼ê´€ë˜ê²Œ ë° íŠ¸ëœì­ì…˜ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nDataStoreì€ ë‘ ê°€ì§€ ë‹¤ë¥¸ êµ¬í˜„ì„ ì œê³µí•©ë‹ˆë‹¤:\n\n- Preferences DataStoreëŠ” í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ì•¡ì„¸ìŠ¤í•©ë‹ˆë‹¤. ì´ êµ¬í˜„ì€ ë¯¸ë¦¬ ì •ì˜ëœ ìŠ¤í‚¤ë§ˆê°€ í•„ìš”í•˜ì§€ ì•Šìœ¼ë©° í˜•ì‹ ì•ˆì „ì„±ì„ ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n- Proto DataStoreëŠ” ì‚¬ìš©ì ì •ì˜ ë°ì´í„° ìœ í˜•ì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤. ì´ êµ¬í˜„ì€ í”„ë¡œí† ì½œ ë²„í¼ë¥¼ ì‚¬ìš©í•˜ì—¬ ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•´ì•¼ í•˜ì§€ë§Œ í˜•ì‹ ì•ˆì „ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.\n\nGoogleì´ ì´ì œ DataStore Multiplatformì„ ì¶œì‹œí–ˆìŠµë‹ˆë‹¤!\n\nì´ ë¬¸ì„œì—ì„œëŠ” KMMì— Proto DataStoreë¥¼ êµ¬í˜„í•˜ì—¬ Protocol Bufferë¥¼ í™œìš©í•  ê²ƒì…ë‹ˆë‹¤. KMMì—ì„œ Protocol Bufferë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ Wireë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ì „ì²´ ì½”ë“œ\n\n# ë‹¨ê³„ë³„ êµ¬í˜„\n\n- app/build.gradle.kts íŒŒì¼ì— DataStore ì¢…ì†ì„± ì¶”ê°€\n\n```js\ncommonMain.dependencies {\n  // ë‹¤ë¥¸ ì¢…ì†ì„±ë“¤\n  implementation(\"androidx.datastore:datastore-core-okio:1.1.1\")\n}\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- app/build.gradle.kts íŒŒì¼ì— Wire Gradle í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.\n\n```js\nplugins {\n  // ë‹¤ë¥¸ í”ŒëŸ¬ê·¸ì¸ë“¤\n  id(\"com.squareup.wire\") version \"5.0.0-alpha03\"\n}\n```\n\n- app/build.gradle.kts íŒŒì¼ì— Wire Gradle ì„¤ì •ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.\n\n```js\nwire {\n    kotlin {}\n    sourcePath {\n        srcDir(\"src/commonMain/proto\")\n    }\n}\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- src/commonMain/proto ë””ë ‰í† ë¦¬ ì•„ë˜ preference_data.proto íŒŒì¼ì„ ìƒì„±í•´ì£¼ì„¸ìš”\n\n![ì•„ì´ë¯¸ì§€](/assets/img/2024-06-23-UnlockingProtoDataStoreMagicinKMM_1.png)\n\n```js\n// preference_data.proto íŒŒì¼\n\nsyntax = \"proto3\";\n\npackage com.areeb.proto_datastore_kmm;\n\nmessage PreferenceData {\n  int32 counter = 1;\n}\n```\n\n- PreferenceDataì— ëŒ€í•œ Protocol Buffer ì§ë ¬í™”ê¸°ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```kt\n// commonMain ì•ˆì— ìˆìŠµë‹ˆë‹¤\n// PreferenceSerializer.kt\n\nobject PreferenceSerializer : OkioSerializer\u003cPreferenceData\u003e {\n    override val defaultValue: PreferenceData\n        get() = PreferenceData()\n\n    override suspend fun readFrom(source: BufferedSource): PreferenceData {\n        try {\n            return PreferenceData.ADAPTER.decode(source)\n        } catch (exception: IOException) {\n            throw Exception(exception.message ?: \"Serialization Exception\")\n        }\n    }\n\n    override suspend fun writeTo(t: PreferenceData, sink: BufferedSink) {\n        sink.write(t.encode())\n    }\n}\n```\n\n- ê° í”Œë«í¼(ì—¬ê¸°ì„œ ì•ˆë“œë¡œì´ë“œ ë° iOS)ì„ ìœ„í•œ Proto DataStore ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤\n\n```kt\n// commonMain ì•ˆì— ìˆìŠµë‹ˆë‹¤\n// DataStore.kt\n\ninternal const val DATA_STORE_FILE_NAME = \"proto_datastore.preferences_pb\"\n\nexpect fun getDataStore(): DataStore\u003cPreferenceData\u003e\n\nfun createDataStore(\n    fileSystem: FileSystem,\n    producePath: () -\u003e Path\n): DataStore\u003cPreferenceData\u003e =\n    DataStoreFactory.create(\n        storage = OkioStorage(\n            fileSystem = fileSystem,\n            producePath = producePath,\n            serializer = PreferenceSerializer,\n        ),\n    )\n```\n\n```kt\n// androidMain ì•ˆì— ìˆìŠµë‹ˆë‹¤\n// ProtoDataStore.kt\n\nactual fun getDataStore(): DataStore\u003cPreferenceData\u003e {\n    val content = requireNotNull(AndroidPlatformContextProvider.context)\n    val producePath = { content.filesDir.resolve(DATA_STORE_FILE_NAME).absolutePath.toPath() }\n\n    return createDataStore(fileSystem = FileSystem.SYSTEM, producePath = producePath)\n}\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```kotlin\n// iosMain ë‚´ë¶€\n// ProtoDataStore.kt\n\nì‹¤ì œ getDataStore() í•¨ìˆ˜:\n\nactual fun getDataStore(): DataStore\u003cPreferenceData\u003e {\n    @OptIn(ExperimentalForeignApi::class)\n    val producePath = {\n        val documentDirectory: NSURL? = NSFileManager.defaultManager.URLForDirectory(\n            directory = NSDocumentDirectory,\n            inDomain = NSUserDomainMask,\n            appropriateForURL = null,\n            create = false,\n            error = null,\n        )\n        requireNotNull(documentDirectory).path + \"/$DATA_STORE_FILE_NAME\"\n    }\n\n    return createDataStore(fileSystem = FileSystem.SYSTEM, producePath = { producePath().toPath() })\n}\n```\n\n- DataStoreë¥¼ ì‚¬ìš©í•˜ì—¬ í‚¤-ê°’ ìŒì„ ê°€ì ¸ì˜¤ê³  ì €ì¥í•©ë‹ˆë‹¤.\n\n```kotlin\n// commonMain ë‚´ë¶€\n// Preference.kt\n\nPreference ì¸í„°í˜ì´ìŠ¤:\n\ninterface Preference {\n    suspend fun updateCounter()\n    fun getCounter(): Flow\u003cInt\u003e\n}\n\nPreferenceImpl í´ë˜ìŠ¤:\n\nPreferenceImpl(private val dataStore: DataStore\u003cPreferenceData\u003e = getDataStore()) :\n    Preference {\n\n    override suspend fun updateCounter() {\n        dataStore.updateData { data -\u003e\n            data.copy(counter = data.counter + 1)\n        }\n    }\n\n    override fun getCounter(): Flow\u003cInt\u003e {\n        return dataStore.data.map { data -\u003e\n            data.counter\n        }\n    }\n}\n```\n\n- Compose Multiplatformì—ì„œ DataStore ì‚¬ìš©ë²•\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```kotlin\n@Composable\n@Preview\nfun App() {\n    MaterialTheme {\n        val composableScope = rememberCoroutineScope()\n        val preference: Preference = remember { PreferenceImpl() }\n        val counter by preference.getCounter().collectAsState(initial = 0)\n\n        Column(\n            Modifier.fillMaxSize(),\n            horizontalAlignment = Alignment.CenterHorizontally,\n            verticalArrangement = Arrangement.Center,\n        ) {\n            Button(\n                onClick = {\n                    composableScope.launch {\n                        preference.updateCounter()\n                    }\n                },\n            ) {\n                Text(\"Click me! Counter: $counter\")\n            }\n        }\n    }\n}\n```\n\nê²°ê³¼\n\n\u003cimg src=\"https://miro.medium.com/v2/resize:fit:648/1*LLMohc4VOkcL1wdhGDjp_Q.gif\" /\u003e\n\n\u003cimg src=\"https://miro.medium.com/v2/resize:fit:600/1*myxIzIctkEZvgk81vKV0-w.gif\" /\u003e\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì•„ë˜ ì½”ë©˜íŠ¸ì— ì—¬ëŸ¬ë¶„ì˜ ì œì•ˆê³¼ ê°œì„  ì‚¬í•­ì„ ë‚¨ê²¨ì£¼ì„¸ìš”. í¸ì•ˆí•œ ë§ˆìŒìœ¼ë¡œ ì—°ë½í•´ì£¼ì„¸ìš”!\n\nLinkedInì—ì„œ ì €ì™€ ì—°ê²°í•´ë³´ì„¸ìš”.\n","ogImage":{"url":"/assets/img/2024-06-23-UnlockingProtoDataStoreMagicinKMM_0.png"},"coverImage":"/assets/img/2024-06-23-UnlockingProtoDataStoreMagicinKMM_0.png","tag":["Tech"],"readingTime":8},{"title":"Composeë¥¼ í†µí•´ ìœ ì—°í•œ ì»´í¬ë„ŒíŠ¸ ë§Œë“œëŠ” ë°©ë²•","description":"","date":"2024-06-23 01:16","slug":"2024-06-23-CreatingflexiblecomponentsinCompose","content":"\nì–´ë– í•œ ê°œë°œì—ì„œë„, ë””ìì´ë„ˆë“¤ì´ ë˜ ë‹¤ë¥¸ ë³€í˜•ì´ í•„ìš”í•˜ë‹¤ë©° ë‹¹ì‹ ì´ ë§‰ ì™„ì„±í•œ ì»´í¬ë„ŒíŠ¸ì— ë˜ ë‹¤ë¥¸ ë³€í˜•ì„ ìš”êµ¬í•˜ëŠ” ê²½ìš°ê°€ ì¢…ì¢… ìˆìŠµë‹ˆë‹¤. ì´ ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ê°€ ì´ì „ ê²ƒë“¤ì„ ëª¨ë‘ ë§ê°€ëœ¨ë¦´ì§€ë„ í™•ì‹¤í•˜ì§€ ì•Šì€ ìƒí™©ì´ì£ . ì˜¤ëŠ˜ì€ Composeë¥¼ ì‚¬ìš©í•˜ì—¬ ìœ ì—°í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“œëŠ” ì›ì¹™ì— ëŒ€í•´ ì´ì•¼ê¸°í•´ë³´ê³ , ì•ìœ¼ë¡œë¥¼ ìƒê°í•˜ë©° ì•„ë¦„ë‹µê²Œ êµ¬í˜„í•´ë³´ë ¤ í•©ë‹ˆë‹¤.\n\n# ì…ë ¥ ë°ì´í„°\n\nê°€ì¥ ê¸°ì´ˆì ì¸ ì‹œì‘ë¶€í„° ì‹œì‘í•´ë´…ì‹œë‹¤. ì—¬ëŸ¬ë¶„ì˜ í”„ë¡œì íŠ¸ì—ëŠ” ì„¸ ê°€ì§€ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ê°€ ìˆë‹¤ê³  ìƒìƒí•´ë³´ì„¸ìš”. í•˜ì§€ë§Œ ì´ ëª¨ë“  ê²ƒë“¤ì€ í•œ ê°€ì§€ ì—”í‹°í‹°ì¸ - íŠ¹ì • íƒ€ì…ì˜ ì—°ë½ì²˜ ì‚¬ëŒì„ ëŒ€í‘œí•©ë‹ˆë‹¤. ì´ë²ˆ ì˜ˆì œì—ì„œ, ìš°ë¦¬ëŠ” ì…‹ì˜ ë³€í˜•ì„ ê°€ì§€ê²Œ ë  ê²ƒì…ë‹ˆë‹¤:\n![ê·¸ë¦¼](/assets/img/2024-06-23-CreatingflexiblecomponentsinCompose_0.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![image1](/assets/img/2024-06-23-CreatingflexiblecomponentsinCompose_1.png)\n\n![image2](/assets/img/2024-06-23-CreatingflexiblecomponentsinCompose_2.png)\n\n# ContactFullNameView\n\nìš°ì„  ì£¼ì–´ì§„ ë ˆì´ì•„ì›ƒì˜ êµ¬ì¡°ë¥¼ ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/assets/img/2024-06-23-CreatingflexiblecomponentsinCompose_3.png\" /\u003e\n\n```js\nRow {\n  Image\n  Text\n}\n```\n\nê°€ì¥ ê°„ë‹¨í•œ í˜•íƒœì´ë©° ë‚´ë¶€ì— ì»´í¬ë„ŒíŠ¸ê°€ ìˆëŠ” í–‰(Row)ì¼ ë¿ì´ë¼ íŠ¹ë³„í•œ ì ì€ ì—†ìŠµë‹ˆë‹¤.\n\nì½”ë“œë¥¼ ì •ë¦¬í•œ í›„ ê²°ê³¼ë¬¼ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n@Preview ì£¼ì„ìœ¼ë¡œ ì´ë¥¼ ì»¤ë²„í•´ë³´ê² ìŠµë‹ˆë‹¤. ê²°ê³¼ë¥¼ í™•ì¸í•˜ê³  ë¹„êµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\n@Preview\n@Composable\nprivate fun ContactFullNameV1ViewPreview() = ReusableComponentsTheme {\n    ContactFullNameV1View(\n        imageUrl = \"https://images.stockcake.com/public/1/b/e/1be26278-b679-47a6-b17a-f3a66bc3db92_large/elegant-senior-portrait-stockcake.jpg\",\n        fullName = \"Eleanor Pena\",\n        modifier = Modifier\n            .fillMaxWidth()\n            .background(MaterialTheme.colorScheme.surface),\n    )\n}\n```\n\nê·¸ëŸ¬ë‚˜ ì²« ë¯¸ë¦¬ë³´ê¸° ì´í›„ì— ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤. - í°ì´ë‚˜ ì—ë®¬ë ˆì´í„°ì—ì„œ ë¯¸ë¦¬ë³´ê¸°ë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šê³  ê²°ê³¼ë¥¼ ë³´ëŠ” ë°©ë²•ì´ í•„ìš”í•©ë‹ˆë‹¤. ë˜í•œ ì½”ë“œì— ë§í¬ë¥¼ ìœ ì§€í•˜ë©´ ì‹¬ì§€ì–´ @Previewì—ë„ í¬ê²Œ ë©‹ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ @Composable í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ì ‘ê·¼ ë°©ì‹ì„ ë³€ê²½í•´ì•¼ í•©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-CreatingflexiblecomponentsinCompose_4.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì›ì¹™ì ìœ¼ë¡œ ìœ ì—°í•œ êµ¬ì„± ìš”ì†Œë¥¼ ë§Œë“¤ë ¤ê³  í•˜ë©´ ì‘ì—… ì¤‘ì¸ ëª¨ë¸ì—ì„œ ì–´ëŠ ì •ë„ ì¶”ìƒí™”í•´ì•¼ í•©ë‹ˆë‹¤.\n\n```js\n@Composable\nfun ContactFullNameV2View(\n    imagePainter: Painter,\n    fullName: String,\n    modifier: Modifier = Modifier,\n)\n```\n\nPainter í´ë˜ìŠ¤ ìœ í˜•ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ë³€ê²½í•¨ìœ¼ë¡œì¨ ì„¸ ê°€ì§€ ì‘ì—…ì„ ë™ì‹œì— í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. @Previewì—ì„œ ê²°ê³¼ë¥¼ ë³´ëŠ” ê²ƒ, íŠ¹ì • ë§í¬ë¥¼ í†µí•´ ê¸°ê¸°ì—ì„œ ì´ë¯¸ì§€ë¥¼ ë³¼ ìˆ˜ ìˆëŠ” ê²ƒ(ì›í•˜ëŠ” ê²½ìš°), ì‹¤ì œ @Composableì—ì„œ ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•˜ëŠ” ê²ƒì— ëŒ€í•œ ì™„ì „í•œ ì œì–´ë¥¼ ê°–ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n```js\n@Preview\n@Composable\nfun ContactFullNameV2ViewPreview() = ReusableComponentsTheme {\n    ContactFullNameV2View(\n        imagePainter = when {\n            LocalInspectionMode.current -\u003e painterResource(id = R.drawable.eleanor_pena)\n            else -\u003e rememberAsyncImagePainter(model = \"https://images.stockcake.com/public/1/b/e/1be26278-b679-47a6-b17a-f3a66bc3db92_large/elegant-senior-portrait-stockcake.jpg\")\n        },\n        fullName = \"Eleanor Pena\",\n        modifier = Modifier\n            .fillMaxWidth()\n            .background(MaterialTheme.colorScheme.surface),\n    )\n}\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/assets/img/2024-06-23-CreatingflexiblecomponentsinCompose_5.png\" /\u003e\n\n# ContactActionsView\n\n\u003cimg src=\"/assets/img/2024-06-23-CreatingflexiblecomponentsinCompose_6.png\" /\u003e\n\nìš°ë¦¬ê°€ ìƒˆë¡œ ë§Œë“¤ ì»´í¬ë„ŒíŠ¸ì˜ ëŒ€ëµì ì¸ êµ¬ì¡°ë¥¼ í•œ ë²ˆ ë” ì •ì˜í•´ ë´…ì‹œë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```kotlin\nRow {\n  Image\n  Column {\n    Text\n    Text\n  }\n  IconButton\n  IconButton\n  IconButton\n}\n```\n\në””ìì¸ê³¼ ë¹„êµí•œ í›„ì—ëŠ” ì•½ê°„ ë³€ê²½ë  ê²ƒì´ì§€ë§Œ, ë³¸ì§ˆì€ ê°™ì„ ê²ƒì…ë‹ˆë‹¤. ì´ì „ ì»´í¬ë„ŒíŠ¸ì™€ ë¹„êµí•˜ì—¬ ìƒˆ í•„ë“œë¥¼ ì¶”ê°€í•˜ê³  ì‘ì—… ë²„íŠ¼ì„ ë„ì…í–ˆìŠµë‹ˆë‹¤. ìš°ë¦¬ê°€ ê°€ì§„ ì§€ì‹ì„ í™œìš©í•˜ì—¬ ì´ ê¸°ëŠ¥ì„ ì •í™•í•˜ê²Œ ì„¤ëª…í•©ë‹ˆë‹¤. ì¶”ê°€ ë³€ê²½ ì‚¬í•­ì—ëŠ” ì—¬ë°± ë° ì»¨í…Œì´ë„ˆ ìì²´ì˜ ìµœì†Œ í¬ê¸°ë„ í¬í•¨ë©ë‹ˆë‹¤.\n\n```kotlin\n@Composable\nfun ContactActionsV1View(\n    imagePainter: Painter,\n    fullName: String,\n    modifiedTime: String,\n    modifier: Modifier = Modifier,\n    onChatClicked: () -\u003e Unit = {},\n    onMainClicked: () -\u003e Unit = {},\n    onCallClicked: () -\u003e Unit = {},\n)\n```\n\n![Image](/assets/img/2024-06-23-CreatingflexiblecomponentsinCompose_7.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ContactDetailsView\n\n![ContactDetailsView](/assets/img/2024-06-23-CreatingflexiblecomponentsinCompose_8.png)\n\nìš°ë¦¬ëŠ” ë°©ê¸ˆ ì´ ë²„íŠ¼ë“¤ì„ ì¶”ê°€í–ˆëŠ”ë°, ì´ì œ ì œê±°í•´ì•¼ í•´ìš”... ë””ìì´ë„ˆ ë¶„ë“¤! ì»´í¬ë„ŒíŠ¸ì˜ êµ¬ì¡°ë¥¼ ë‹¤ì‹œ ìƒê°í•´ ë´ìš”.\n\n```js\nRow {\n  Image\n  Column {\n    Text\n    Text\n    Row {\n      Image\n      Text\n    }\n  }\n}\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì—¬ê¸°ì—ë„ íŠ¹ë³„í•œ ê²ƒì€ ì—†ìŠµë‹ˆë‹¤. í…ìŠ¤íŠ¸ì™€ ìƒˆë¡œìš´ ì‚¬ì§„ì´ ì´ˆê¸° ë²„ì „ì— ì¶”ê°€ëœ ê°„ë‹¨í•œ ë ˆì´ì•„ì›ƒì…ë‹ˆë‹¤. ì°¨ì´ì ì€ ì—¬ë°±, ì»¨í…Œì´ë„ˆì˜ ìµœì†Œ í¬ê¸° ë° ì—°ë½ì²˜ ì‚¬ì§„ì˜ ì •ë ¬ì— ìˆìŠµë‹ˆë‹¤.\n\n```kotlin\n@Composable\nfun ContactDetailsV1View(\n    imagePainter: Painter,\n    managerPainter: Painter,\n    title: String,\n    fullName: String,\n    modifiedTime: String,\n    modifier: Modifier = Modifier,\n)\n```\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-CreatingflexiblecomponentsinCompose_9.png)\n\n# í”„ë‘ì¼„ìŠˆíƒ€ì¸ì˜ ëª¬ìŠ¤í„° ë§Œë“¤ê¸°\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në§ˆìŒì— ë– ì˜¤ë¥¼ ìˆ˜ ìˆëŠ” ì²« ë²ˆì§¸ ì•„ì´ë””ì–´ëŠ” ìš°ë¦¬ ì»´í¬ë„ŒíŠ¸ì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  ë§¤ê°œë³€ìˆ˜ë¥¼ ìˆ˜ì§‘í•˜ê³  ëª¨ë“  ê²ƒì„ í•  ìˆ˜ ìˆê³  ëª¨ë“  ê²ƒì„ ì•„ëŠ” í•˜ë‚˜ì˜ ë§¤ìš° í¬ê³  ê°•ë ¥í•œ @Composableì„ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ëŸ° ì´ë¦¬ì €ë¦¬ ì„ì¸ ê²ƒì„ ì¡°ë¦½í•˜ëŠ” ë™ì•ˆ ì½”ë“œì— ë‚˜íƒ€ë‚˜ëŠ” ì—¬ëŸ¬ when ì¡°ê±´ë“¤ì„ ë°œê²¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ì¡°ê±´ë“¤ì´ ëŒ€ëŸ‰ìœ¼ë¡œ ì¡´ì¬í•˜ëŠ” ê²ƒì€ ë¬´ì–¸ê°€ ì˜ëª»ë˜ì—ˆìŒì„ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ë‹¨ì ì€ íŠ¹ì • êµ¬ì„±ì—ì„œ ìš°ë¦¬ ì»´í¬ë„ŒíŠ¸ì™€ ë…¼ë¦¬ì ìœ¼ë¡œ ê´€ë ¨ì´ ì—†ëŠ” ë§ì€ ë§¤ê°œë³€ìˆ˜ì— ëŒ€í•œ ì ‘ê·¼ì´ë©°, ë˜í•œ ì»´í¬ë„ŒíŠ¸ì˜ ë¶ˆì•ˆì •ì„±ì…ë‹ˆë‹¤. ìƒˆë¡œìš´ ìš”êµ¬ì‚¬í•­ì´ ë“¤ì–´ì˜¤ë©´ ê¸°ì¡´ì˜ ìœ ì—°ì„±ìœ¼ë¡œëŠ” ì›í•˜ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ë° ì¶©ë¶„í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```kotlin\n@Composable\nfun ContactViewV1(\n    imagePainter: Painter,\n    managerPainter: Painter?,\n    title: String?,\n    fullName: String,\n    modifiedTime: String?,\n    modifier: Modifier = Modifier,\n    onChatClicked: (() -\u003e Unit)? = null,\n    onMainClicked: (() -\u003e Unit)? = null,\n    onCallClicked: (() -\u003e Unit)? = null,\n) {\n    Row(\n        modifier = modifier\n            .sizeIn(\n                minHeight = when {\n                    title.isNullOrBlank() \u0026\u0026 modifiedTime.isNullOrBlank() -\u003e 56.dp\n                    !title.isNullOrBlank() -\u003e 72.dp\n                    else -\u003e 88.dp\n                },\n            )\n            .padding(\n                horizontal = 16.dp,\n                vertical = when {\n                    title.isNullOrBlank() \u0026\u0026 modifiedTime.isNullOrBlank() -\u003e 8.dp\n                    else -\u003e 16.dp\n                },\n            ),\n        horizontalArrangement = Arrangement.spacedBy(\n            space = 16.dp,\n        ),\n    ) {\n\n    ... other stuff ...\n}\n```\n\n# ì´ë¡ \n\në†’ì€ ì‚¬ìš©ì ì •ì˜ë¥¼ ëª©í‘œë¡œ í•˜ëŠ” ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬ì¶•í•  ë•Œì—ëŠ” ì •êµí•˜ê²Œ ê³„íší•˜ì—¬ ë¬´ì–¸ê°€ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì™„ì „íˆ ë…íŠ¹í•œ ì™¸ê´€ì„ ë§Œë“¤ ë•Œ ê³ í†µì„ ìµœì†Œí™”í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì»´í¬ë„ŒíŠ¸ êµ¬ì„±ì˜ ì²« ë²ˆì§¸ ê·œì¹™ì€ @Composableì˜ ì²« ë²ˆì§¸ ì„ íƒì  ë§¤ê°œë³€ìˆ˜ë¡œ Modifierë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ ê°€ì´ë“œë¼ì¸ì€ ìš°ë¦¬ê°€ ì»´í¬ë„ŒíŠ¸ë¥¼ ì™¸ë¶€ì—ì„œ ì œì–´í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ê¸° ë•Œë¬¸ì— ì¤‘ìš”í•©ë‹ˆë‹¤. ë‘ ë²ˆì§¸ Modifierë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤ë©´, í•¨ìˆ˜ êµ¬ì¡°ë¥¼ ì¬ê²€í† í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ê° í•¨ìˆ˜ëŠ” í•˜ë‚˜ì˜ Modifierë§Œ í¬í•¨í•´ì•¼ í•œë‹¤ëŠ” ê°€ì´ë“œë¼ì¸ì´ ìˆì–´ ì ì¬ì ì¸ í•¨ìˆ˜ ë””ìì¸ ë¬¸ì œë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ë”°ë¼ì„œ í•´ë‹¹ ModifierëŠ” ë£¨íŠ¸ @Composableì—ë§Œ ì ìš©ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.\n\nì»´í¬ë„ŒíŠ¸ëŠ” UI ë° ê¸°ëŠ¥ì„ í‘œí˜„í•˜ëŠ” ë‹¤ì–‘í•œ ë©”ì»¤ë‹ˆì¦˜ì„ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜ëŠ” í•¨ìˆ˜ì˜ í•µì‹¬ ë‚´ìš©ì„ ì •ì˜í•˜ê³  ê¸°ë³¸ê°’ì„ ê°€ì§€ë©´ ì•ˆ ë©ë‹ˆë‹¤. ë¯¸ë¦¬ ì •ì˜ëœ ê°’ì´ ìˆëŠ” ì„ íƒì  ë§¤ê°œë³€ìˆ˜ëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ë„, ì‚¬ìš©í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆëŠ” ì„ íƒì  ìˆ˜ì • ì‚¬í•­ìœ¼ë¡œ ì‘ìš©í•©ë‹ˆë‹¤.\n\nì„ íƒì  ê°’ì„ ì„ ì–¸í•˜ëŠ” ë°©ë²•ì„ ê³ ë ¤í•˜ëŠ” ê²ƒë„ ì¤‘ìš”í•©ë‹ˆë‹¤. Nullableì€ ê¸°ëŠ¥ì´ ì‚¬ìš©ë˜ê±°ë‚˜ ì™„ì „íˆ ìƒëµë  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ë¹ˆ êµ¬í˜„ì€ ê¸°ëŠ¥ì´ í•„ìˆ˜ì ì´ì§€ë§Œ ë¹ˆ ê°’ì„ ë˜ëŠ” ì‚¬ìš©ì ì •ì˜ ë¡œì§ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ ë¹„-nullableì´ì–´ì•¼ í•˜ê³  ëª…í™•í•˜ê²Œ ì´í•´ë¼ì•¼ í•©ë‹ˆë‹¤.\n\nì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ì„ ì²˜ë¦¬í•  ë•Œ, ì¼ë¶€ ë§¤ê°œë³€ìˆ˜ëŠ” í•¨ìˆ˜ ë³¸ë¬¸ ë‚´ì— ë‚¨ê²¨ë‘˜ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¨, ì´ ë§¤ê°œë³€ìˆ˜ê°€ ê°„ë‹¨í•˜ê³  ëª…í™•í•˜ë‹¤ë©´ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë³´ë‹¤ ë³µì¡í•œ ì»´í¬ë„ŒíŠ¸ì˜ ê²½ìš° ê·¸ë£¹í™”í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì—¬ëŸ¬ ë…¼ë¦¬ì  ë¸”ë¡ìœ¼ë¡œ êµ¬ì„±ëœ ì»´í¬ë„ŒíŠ¸ì˜ ê²½ìš°, ì´ëŸ¬í•œ ë¸”ë¡ë“¤ì€ ìŠ¬ë¡¯ì´ë¼ê³  ëª…ëª…ë©ë‹ˆë‹¤. ì´ ì ‘ê·¼ ë°©ì‹ì€ í‘œì¤€ êµ¬í˜„ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ìš°ë¦¬ì˜ í•„ìš”ì— ë§ê²Œ í™•ì¥ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ìœ ì—°ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.\n\nì´ê´„ì ìœ¼ë¡œ, í•„ìˆ˜ í•­ëª©ì„ ë‹¤ë£¨ì—ˆìŠµë‹ˆë‹¤. ë‚˜ë¨¸ì§€ëŠ” ì´í›„ì— ê³„ì†í•´ì„œ ë‹¤ë£° ê²ƒì…ë‹ˆë‹¤.\n\n# ì•„ë¦„ë‹¤ì›€ì„ ì°½ì¡°í•˜ë‹¤\n\nìš°ì„ , ì»´í¬ë„ŒíŠ¸ë¥¼ ë…¼ë¦¬ì ìœ¼ë¡œ ìŠ¬ë¡¯ìœ¼ë¡œ ë‚˜ëˆ•ë‹ˆë‹¤. ì—¬ê¸°ì„œ ë§¤ìš° ëª…í™•í•©ë‹ˆë‹¤. ë¡œê³  ìŠ¬ë¡¯, ì •ë³´ ìŠ¬ë¡¯ ë° ì•¡ì…˜ ìŠ¬ë¡¯ì´ ìˆìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¡°ë¥¼ ë§Œë“¤ê² ìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```html\n\u003cimg src=\"/assets/img/2024-06-23-CreatingflexiblecomponentsinCompose_10.png\" /\u003e\n\ní•­ìƒ ì „ì²´ ì´ë¦„ê³¼ ì—°ë½ì²˜ ì‚¬ì§„ì´ ìˆìœ¼ë¯€ë¡œ ì´ëŸ¬í•œ ë°ì´í„°ëŠ” @Composable í•¨ìˆ˜ì˜ í•„ìˆ˜\në§¤ê°œë³€ìˆ˜ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ì§„ì˜ ê²½ìš° Painterë¥¼ ì „ë‹¬í•˜ì—¬ ë‚˜ì¤‘ì— ì™¸ë¶€ì—ì„œ\nì‚¬ì§„ ë¡œë“œë¥¼ ì œì–´í•˜ê³  @Previewì—ì„œ ê²°ê³¼ë¥¼ ë¯¸ë¦¬ ë³¼ ìˆ˜ ìˆê²Œí•©ë‹ˆë‹¤. ë˜í•œ êµ¬ì„± ìš”ì†Œì˜\nêµ¬ì¡°ë¥¼ ëŒ€ëµì ìœ¼ë¡œ ìŠ¤ì¼€ì¹˜í•˜ê³  ëª¨ë“  ìŠ¬ë¡¯ì„ ë¹„ì›Œ ë‘¡ì‹œë‹¤. @Composable private fun\nContactView( leadingPainter: Painter, title: String, modifier: Modifier =\nModifier, leadingView: @Composable RowScope.() -\u003e Unit = {}, content:\n@Composable ColumnScope.() -\u003e Unit = {}, trailingView: (@Composable RowScope.()\n-\u003e Unit)? = null, ) { Row( modifier = modifier .sizeIn( minHeight =\nDp.Unspecified, ) .padding( horizontal = 16.dp, vertical = Dp.Unspecified, ),\nhorizontalArrangement = Arrangement.spacedBy( space = 16.dp, ), ) {\nleadingView.invoke(this) Column( modifier = Modifier\n.align(Alignment.CenterVertically), ) { content.invoke(this) }\ntrailingView?.invoke(this) } } ì²« ë²ˆì§¸ ìŠ¬ë¡¯ì„ ì‚´í´ë³´ê³  ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ì‚¬ì§„ì€\ní•­ìƒ ì¡´ì¬í•˜ë©° ì •ë ¬ë§Œ ë³€ê²½ë˜ë¯€ë¡œ ì´ëŸ¬í•œ ë§¤ê°œë³€ìˆ˜ë¥¼ í•¨ìˆ˜ì— ë‚¨ê²¨ë‘ê¸°ë¡œ í•˜ì˜€ìŠµë‹ˆë‹¤.\nê·¸ ì™¸ì˜ ëª¨ë“  ê²ƒì€ ì¼ì •í•©ë‹ˆë‹¤.\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```kotlin\n@Composable\nfun RowScope.ContactLeadingView(\n    imagePainter: Painter,\n    headerAlignment: Alignment.Vertical,\n) {\n    Image(\n        painter = imagePainter,\n        contentDescription = \"ì—°ë½ì²˜ ì´ë¯¸ì§€\",\n        modifier = Modifier\n            .requiredSize(40.dp)\n            .clip(CircleShape)\n            .align(\n                alignment = headerAlignment,\n            ),\n    )\n}\n```\n\në‘ ë²ˆì§¸ ìŠ¬ë¡¯ì—ëŠ” ë¯¸ë˜ í˜¸í™˜ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ì œëª©ì´ë¼ëŠ” í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜ê°€ í•˜ë‚˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì„±ê³¼ ì´ë¦„ ì´ì™¸ì˜ ì •ë³´ë¥¼ ì „ë‹¬í•´ë„ êµ¬ì¡°ê°€ ë³€ê²½ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n```kotlin\n@Composable\nfun ColumnScope.ContactContentView(\n    title: String,\n    header: String? = null,\n    subtitle: String? = null,\n    managerPainter: Painter? = null,\n) {\n    if (!header.isNullOrBlank()) { ... }\n\n    Text(\n        text = title,\n        color = MaterialTheme.colorScheme.onSurface,\n        style = MaterialTheme.typography.bodyMedium,\n    )\n\n    Row(\n        modifier = Modifier,\n        horizontalArrangement = Arrangement.spacedBy(\n            space = 8.dp,\n        ),\n    ) {\n        if (managerPainter != null) { ... }\n        if (!subtitle.isNullOrBlank()) { ... }\n    }\n}\n```\n\nì„¸ ë²ˆì§¸ ìŠ¬ë¡¯ì€ ì„¸ ê°€ì§€ ë‹¤ë¥¸ ì½œë°±ì„ í¬í•¨í•˜ëŠ” ì‘ì—…ì„ í¬í•¨í•  ê²ƒì…ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” ì¡´ì¬ ì—¬ë¶€ë¥¼ ì œì–´í•  ìˆ˜ ìˆë„ë¡ ê°ê°ì„ nullableë¡œ í‘œì‹œí–ˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n@Composable\nfun RowScope.ContactActionsView(\n    onChatClicked: (() -\u003e Unit)? = null,\n    onMainClicked: (() -\u003e Unit)? = null,\n    onCallClicked: (() -\u003e Unit)? = null,\n) {\n    Row(\n        modifier = Modifier\n            .align(Alignment.CenterVertically),\n    ) { ... }\n}\n```\n\nëª¨ë“  ìŠ¬ë¡¯ì„ ì¡°ë¦½í•˜ê³  ì´ë¥¼ í•¨ìˆ˜ì˜ ê¸°ì´ˆë¡œ ì„ ì–¸í•œ í›„ ê²°ê³¼ì ìœ¼ë¡œ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ì•„ì•¼ í•©ë‹ˆë‹¤:\n\n```js\n@Composable\nprivate fun ContactView(\n    leadingPainter: Painter,\n    title: String,\n    modifier: Modifier = Modifier,\n    config: ContactViewConfig = ContactViewDefaults.config(),\n    leadingView: @Composable RowScope.() -\u003e Unit = {\n        ContactLeadingView(\n            imagePainter = leadingPainter,\n            headerAlignment = config.headerAlignment,\n        )\n    },\n    content: @Composable ColumnScope.() -\u003e Unit = {\n        ContactContentView(\n            title = title,\n        )\n    },\n    trailingView: (@Composable RowScope.() -\u003e Unit)? = null,\n)\n```\n\nì´ êµ¬ì¡°ì—ì„œ ìƒˆë¡œìš´ ì¶”ê°€ ìš”ì†ŒëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ë‹¤ì–‘í•œ ì„¤ì •ì„ ì œì–´í•˜ëŠ” ContactViewConfigì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\ní…Œì´ë¸” íƒœê·¸ë¥¼ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•´ì£¼ì„¸ìš”.\n\n```js\n// ì´ë ‡ê²Œ í•˜ì§€ ë§ˆì„¸ìš”\n@Immutable\nclass ContactViewConfig internal constructor(\n    internal val minHeight: Dp,\n    internal val verticalPadding: Dp,\n    internal val headerAlignment: Alignment.Vertical,\n)\n\nobject ContactViewDefaults {\n\n    @Composable\n    fun config(\n        minHeight: Dp = 56.dp,\n        verticalPadding: Dp = 8.dp,\n        headerAlignment: Alignment.Vertical = Alignment.CenterVertically,\n    ): ContactViewConfig = ContactViewConfig(\n        minHeight = minHeight,\n        verticalPadding = verticalPadding,\n        headerAlignment = headerAlignment,\n    )\n}\n```\n\nì, ì´ì œ êµ¬ì„± ê°€ëŠ¥í•˜ê³  ì‘ë™í•˜ëŠ” @Previewê°€ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤.\n\në‹¤ìŒì—ëŠ” ê¸°ë³¸ ê¸°ëŠ¥ì„ í™•ì¥í•˜ê¸° ìœ„í•´ ê¸°ë³¸ í•¨ìˆ˜ ìœ„ì— ì¶”ê°€ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„ íƒ ì‚¬í•­ìœ¼ë¡œ ê°„ë‹¨í•œ íƒ€ì… ëŒ€ì‹  ë„ë©”ì¸ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```kotlin\n@Composable\nfun FullNameContactView(\n    imagePainter: Painter,\n    fullName: String,\n    modifier: Modifier = Modifier,\n) {\n    ContactView(\n        leadingPainter = imagePainter,\n        title = fullName,\n        modifier = modifier,\n    )\n}\n```\n\n```kotlin\n@Composable\nfun ActionsContactView(\n    imagePainter: Painter,\n    fullName: String,\n    modifiedTime: String,\n    modifier: Modifier = Modifier,\n    onChatClicked: (() -\u003e Unit)? = null,\n    onMainClicked: (() -\u003e Unit)? = null,\n    onCallClicked: (() -\u003e Unit)? = null,\n) {\n    ContactView(\n        leadingPainter = imagePainter,\n        title = fullName,\n        modifier = modifier,\n        config = ContactViewDefaults.config(\n            minHeight = 72.dp,\n            verticalPadding = 16.dp,\n        ),\n        content = {\n            ContactContentView(\n                title = fullName,\n                subtitle = modifiedTime,\n            )\n        },\n        trailingView = {\n            ContactActionsView(\n                onChatClicked = onChatClicked,\n                onMainClicked = onMainClicked,\n                onCallClicked = onCallClicked,\n            )\n        },\n    )\n}\n```\n\n```kotlin\n@Composable\nfun DetailsContactView(\n    imagePainter: Painter,\n    managerPainter: Painter,\n    title: String,\n    fullName: String,\n    modifiedTime: String,\n    modifier: Modifier = Modifier,\n) {\n    ContactView(\n        leadingPainter = imagePainter,\n        title = fullName,\n        modifier = modifier,\n        config = ContactViewDefaults.config(\n            minHeight = 88.dp,\n            verticalPadding = 16.dp,\n            headerAlignment = Alignment.Top,\n        ),\n        content = {\n            ContactContentView(\n                title = fullName,\n                header = title,\n                subtitle = modifiedTime,\n                managerPainter = managerPainter,\n            )\n        },\n    )\n}\n```\n\n# ì¼ë¶€ ê²°ë¡ \n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n@Previewë¥¼ ì‚´í´ë³´ë©´ ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì—ëŠ” ì°¨ì´ê°€ ê±°ì˜ ì—†ì„ ê²ƒì…ë‹ˆë‹¤. ì½”ë“œì ìœ¼ë¡œë„ ê±°ì˜ ì°¨ì´ê°€ ì—†ì„ ê²ƒì…ë‹ˆë‹¤. ìœ ì—°í•œ ê¸°ëŠ¥ê³¼ ì„¤ì •ì„ ê°€ì§„ ì»´í¬ë„ŒíŠ¸ëŠ” ì„¸ ê°€ì§€ ë‹¤ë¥¸ ë…ë¦½ì ì¸ í•¨ìˆ˜ë§Œí¼ì˜ ì½”ë“œ ë¼ì¸ì„ ì°¨ì§€í•  ê²ƒì…ë‹ˆë‹¤. ì´ ê¸€ì´ ìœ ì—°í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ë” ì˜ ì´í•´í•˜ëŠ” ë° ë„ì›€ì´ ë˜ì—ˆìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤. ë” ë§ì€ ê°œë°œì„ ìœ„í•´ í•„ìš”ì‹œ ì´ ë¹„ë””ì˜¤ì™€ ì½”ë“œë¥¼ ì‚´í´ë³´ì‹œê¸°ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.\n\n![Creating flexible components in Compose](/assets/img/2024-06-23-CreatingflexiblecomponentsinCompose_11.png)\n","ogImage":{"url":"/assets/img/2024-06-23-CreatingflexiblecomponentsinCompose_0.png"},"coverImage":"/assets/img/2024-06-23-CreatingflexiblecomponentsinCompose_0.png","tag":["Tech"],"readingTime":18},{"title":"Shadowfax ì•ˆë“œë¡œì´ë“œ ì•± 40 ë” ë¹ ë¥´ê²Œ ë§Œë“œëŠ” ë°©ë²•","description":"","date":"2024-06-23 01:14","slug":"2024-06-23-MakingShadowfaxAndroidApp40faster","content":"\n![Image](/assets/img/2024-06-23-MakingShadowfaxAndroidApp40faster_0.png)\n\n# 1. ëª©í‘œ ì„¤ì •\n\nëª¨ë°”ì¼ ì•± ì„±ëŠ¥ì—ëŠ” ëª¨ë“  ë°€ë¦¬ì´ˆê°€ ì¤‘ìš”í•©ë‹ˆë‹¤. ì•±ì´ ë¹¨ë¦¬ ë¡œë“œë ìˆ˜ë¡ ì‚¬ìš©ìê°€ ë¨¸ë¬¼ ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§‘ë‹ˆë‹¤.\n\në§¤ì¼ 10ë§Œ ëª… ì´ìƒì˜ DAUë¥¼ ë³´ìœ í•œ Shadowfax Rider ì•±ì€ ì•±ì´ ì‹¤í–‰ë˜ëŠ” ë° ì•½ 3.5ì´ˆê°€ ê±¸ë¦¬ëŠ” ë¬¸ì œì— ì§ë©´í–ˆìŠµë‹ˆë‹¤!\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nëª©í‘œëŠ” ë‹¤ìŒê³¼ ê°™ì´ì´ ì‹œê°„ì„ ë‹¨ì¶•í•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤:\n\n- 90 ë°±ë¶„ìœ„ì—ëŠ” 2 ì´ˆ\n- ì¤‘ê°„ ì‚¬ìš©ìì— ëŒ€í•´ 800ms\n\n## 2. ì•± ì‹œì‘ ì‹œê°„ ì¸¡ì •\n\nFirebaseì— ë”°ë¥´ë©´ ì•± ì‹œì‘ ì‹œê°„ì€ ëŸ°ì²˜ì—ì„œ ì•±ì´ ì‹œì‘ë˜ì–´ ì²« ë²ˆì§¸ ì•¡í‹°ë¹„í‹°ì˜ `onResume()` ë©”ì„œë“œê°€ í˜¸ì¶œ ë  ë•Œê¹Œì§€ì˜ ì§€ì† ì‹œê°„ì…ë‹ˆë‹¤. ì´ ê¸°ê°„ì€ ë‹¤ìŒê³¼ ê°™ì´ logcatì—ë„ ë³´ê³ ë©ë‹ˆë‹¤:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì—¬ê¸°ì—ì„œ ë” ë§ì€ ì •ë³´ë¥¼ ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Firebaseì—ì„œ Startup ì‹œê°„ì´ ì§„ì‹¤ì˜ ê·¼ì›ì´ì—ˆìŠµë‹ˆë‹¤.\n\në§Œì•½ onResumeì´ í˜¸ì¶œëœ í›„ ì–´ë–¤ ì‹œì ì— ì•±ì´ ì™„ì „íˆ ë¡œë“œëœ ê²ƒìœ¼ë¡œ ê°„ì£¼í•œë‹¤ë©´ (ì§€ë„ê°€ ì™„ì „íˆ ê·¸ë ¤ì§„ í›„ì™€ ê°™ì´), í•´ë‹¹ ì‹œì ì„ ì‹œìŠ¤í…œ ë° Firebaseì— Activity.reportFullyDrawn()ìœ¼ë¡œ ë³´ê³ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në§Œì•½ Perfettoë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´, ë‚˜ì¤‘ì— ê·¸ì— ëŒ€í•´ ìì„¸íˆ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.\n\n# 3. ìì„¸íˆ ë“¤ì—¬ë‹¤ë³´ê¸°\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì•±ì˜ ì‹œì‘ ì‹œê°„ì„ ê¸°ê°„ë³„ë¡œ ë¶„í•´í•˜ê¸° ìœ„í•´ Firebase ì„±ëŠ¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ @trace ì–´ë…¸í…Œì´ì…˜ì„ app í´ë˜ìŠ¤ì˜ onCreate() í•¨ìˆ˜, BaseActivity ë° MainActivityì˜ onCreate() \u0026 onStart()ì— ì¶”ê°€í–ˆì–´ìš”. ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  ê²ƒì„ ìµœìƒìœ„ ìˆ˜ì¤€ì—ì„œ ì¸¡ì •í•˜ë¯€ë¡œ ì£¼ìš” ì›ì¸ì„ íŒŒì•…í•˜ê³  ê±°ê¸°ì„œë¶€í„° ë“œë¦´ë‹¤ìš´í•©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-MakingShadowfaxAndroidApp40faster_1.png)\n\nMain ë° Base ì•¡í‹°ë¹„í‹° ì´ì™¸ì—ë„ ì•± í´ë˜ìŠ¤ê°€ ì•± ì‹œì‘ ì‹œê°„ì˜ 30%ë¥¼ ì°¨ì§€í–ˆê¸° ë•Œë¬¸ì— 2ê°€ì§€ ì‘ì—…ì„ ìˆ˜í–‰í–ˆì–´ìš”:\n\n# 3.1 ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ì½˜í…ì¸  ì œê³µì ì§€ì—° ë¡œë“œ (-10% ì‹œì‘ ì‹œê°„)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì• í”Œë¦¬ì¼€ì´ì…˜ í´ë˜ìŠ¤ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë§ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤. í•„ìš”í•˜ì§€ ì•Šì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì•± ì‹œì‘ ì‹œ ì¦‰ì‹œ ì´ˆê¸°í™”í•˜ëŠ” ëŒ€ì‹  ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì´ˆê¸°í™”í•˜ë„ë¡ ë³€ê²½í–ˆìŠµë‹ˆë‹¤. Content Providerê°€ ìˆë‹¤ë©´ Startup ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ê·¸ê²ƒë“¤ì„ ë‚˜ì¤‘ì— ë¡œë”©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\në‹¤ìŒì€ ëª‡ ê°€ì§€ SDKë¥¼ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì—ì„œ ì´ˆê¸°í™”í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤:\n\n```js\nclass MyApp : Application() {\n    @AddTrace(name = \"backgroundInitializationsTrace\")\n    private fun performBackgroundInitializations() {\n        runWithLooper {\n            // ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ ì´ˆê¸°í™”ê°€ í•„ìš”í•˜ì§€ ì•Šì€ SDK ì´ˆê¸°í™”\n        }\n    }\n}\n\nobject MyUtils {\n    // ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì—ì„œ ì´ˆê¸°í™”ë¥¼ ìœ„í•œ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜\n    fun runWithLooper(runnable: Runnable) {\n        val threadHandler = HandlerThread(\"Thread${System.currentTimeMillis()}\")\n        try {\n            threadHandler.start()\n            val handler = Handler(threadHandler.looper)\n            handler.post {\n                runnable.run()\n            }\n        } catch (e: OutOfMemoryError) {\n            firebaseCrashlytics.recordException(e)\n            runWithinMainLooper(runnable)\n        }\n    }\n    // ëŒ€ì²´ ë°©ë²•\n    fun runWithinMainLooper(mainThread: Runnable) {\n        val handler = Handler(Looper.getMainLooper())\n        handler.post {\n            mainThread.run()\n        }\n    }\n}\n```\n\n# 3.2 ë² ì´ìŠ¤ë¼ì¸ í”„ë¡œí•„ (-7% ì‹œì‘ ì‹œê°„)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nGoogleì€ ì²« ë²ˆì§¸ ì•± ì‹œì‘ ì‹œê°„ì„ ê°œì„ í•˜ê¸° ìœ„í•´ ê¸°ë³¸ í”„ë¡œí•„ì„ ì„¤ì •í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤. ì „ì²´ ì•± ì‹œì‘ ì‹œê°„ì´ 7% í–¥ìƒë˜ì—ˆìŒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ì‹¤ì œ ê²°ê³¼ëŠ” ë‹¤ë¥¼ ìˆ˜ ìˆì§€ë§Œ ê¼­ ì‹œë„í•´ ë³´ì„¸ìš”.\n\nê·¸ë˜ì„œ ìš°ë¦¬ëŠ” ì¢‹ì€ ì‹œì‘ì„ í–ˆì§€ë§Œ ë” ì‹¬ì¸µì ìœ¼ë¡œ íŒŒí—¤ì³ì•¼ í–ˆìŠµë‹ˆë‹¤.\n\n### 4. Perfetto ì‚¬ìš©í•˜ê¸°\n\nì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ì—ì„œ ì‹œìŠ¤í…œ ì¶”ì ì„ ì‹¤í–‰í•˜ì—¬ ê° í•¨ìˆ˜ì˜ ìˆ˜í–‰ ì‹œê°„ì„ ì¸¡ì •í•  ìˆ˜ ìˆìœ¼ë©°, ê·¸ëŸ° ë‹¤ìŒ ì•±ì„ ì‹¤í–‰í•˜ê³  ì¶”ì ì„ Perfetto ë¹„ì£¼ì–¼ë¼ì´ì €ì— ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nAndroid Studioì— ë‚´ì¥ëœ í”„ë¡œíŒŒì¼ëŸ¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, Perfettoê°€ ë” ë‚˜ì€ íƒìƒ‰ ë° ì„¸ë¶€ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n\nì‹œìŠ¤í…œ ì¶”ì  ë°©ë²•ì€ ì—¬ê¸°ì— ìˆì§€ë§Œ ì•± ì‹¤í–‰ ì‹œê°„ì„ í”„ë¡œíŒŒì¼ë§í•˜ë ¤ë©´ ì•±ì„ ë³´í†µ ì‹¤í–‰í•˜ì§€ ë§ˆì„¸ìš”. ë‹¤ìŒê³¼ ê°™ì´ í•´ì•¼ í•©ë‹ˆë‹¤:\n\n- ì •í™•í•œ ê²°ê³¼ë¥¼ ì–»ê¸° ìœ„í•´ ì•±ì˜ ë¦´ë¦¬ìŠ¤ ë¹Œë“œ ë³€í˜•ì„ ì„ íƒí•˜ì„¸ìš”. ë””ë²„ê·¸ ë¹Œë“œ ëŒ€ì‹ \n- Android Studioì˜ ì‹¤í–‰ ë²„íŠ¼ ê·¼ì²˜ì— ìˆëŠ” 3ì  ë©”ë‰´ë¥¼ í´ë¦­í•˜ì„¸ìš”\n- ê·¸ëŸ° ë‹¤ìŒ \"ì˜¤ë²„í—¤ë“œ ë‚®ì€ ìƒíƒœë¡œ ì•± í”„ë¡œíŒŒì¼ë§\"ì„ ì„ íƒí•˜ì—¬ ì•±ì„ ì‹¤í–‰í•˜ì„¸ìš”\n- ì´ì œ ì•±ì´ ì™„ì „íˆ ë¡œë“œë  ë•Œê¹Œì§€ ëŒ€ê¸°í•œ í›„ ë…¹í™”ë¥¼ ì¤‘ì§€í•˜ì„¸ìš”\n- ë§ˆì§€ë§‰ìœ¼ë¡œ Profilerì˜ ì €ì¥ ì•„ì´ì½˜ì„ ì‚¬ìš©í•˜ì—¬ ì¶”ì ì„ ë‚´ë³´ë‚¸ ë‹¤ìŒ Perfetto Web UIë¡œ ê°€ì ¸ì˜¤ì„¸ìš”\n\n\u003cimg src=\"/assets/img/2024-06-23-MakingShadowfaxAndroidApp40faster_2.png\" /\u003e\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\ní¼í˜í† ì— ì¶”ì  íŒŒì¼ì„ ë¡œë“œí•˜ë©´ í™”ë©´ì— ìˆ˜ë§ì€ ìƒ‰ìƒì´ ë‚˜íƒ€ë‚˜ë”ë¼ë„ ë†€ë¼ì§€ ë§ˆì„¸ìš”. ê·¸ ëª¨ë“  ê²ƒì„ ë‹¤ë£° í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤.\n\n# 4.1 í¼í˜í† ì—ì„œ ì‹œì‘ ì‹œê°„ ì§€í‘œ ì°¾ê¸°\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-MakingShadowfaxAndroidApp40faster_3.png)\n\nâ€œstartupâ€ì„ ê²€ìƒ‰í•˜ë©´ ì•± ì‹œì‘ ì‹œê°„ì˜ ì‹œê°í™”ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ˆë¡ ë§‰ëŒ€ë¥¼ í´ë¦­í•œ í›„ í‚¤ë³´ë“œì—ì„œ â€˜Mâ€™ì„ ëˆ„ë¥´ì„¸ìš”. ì´ë ‡ê²Œ í•˜ë©´ ê·¸ ë§‰ëŒ€ì˜ ì‹œì‘ê³¼ ëì„ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì§€ê¸ˆì€ ì´ì—ë§Œ ì§‘ì¤‘í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ê·¸ëƒ¥ ì¡ìŒì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 4.2 ì›ì¸ì„ ì°¾ì•„ë³´ì„¸ìš”\n\nì§€ê¸ˆ ì‹œì‘ ì‹œê°„ ë§‰ëŒ€ ì•„ë˜ì— íŒ¨í‚¤ì§€ ì´ë¦„ì„ ì°¾ì•„ í™•ì¥í•˜ì„¸ìš”. ê·¸ë˜í”„ì˜ í‘œì‹œëœ ì˜ì—­ì—ë§Œ ì§‘ì¤‘í•˜ê³  ë©”ì¸ ìŠ¤ë ˆë“œë¥¼ ë³´ì„¸ìš”. xì¶•ì— ê° í•¨ìˆ˜ì˜ ì§€ì† ì‹œê°„ì´ ë‚˜ì˜¬ ê²ƒì´ë©°, yì¶•ì— ì¤‘ì²©ëœ ë§‰ëŒ€ê°€ ìˆëŠ” ê²½ìš° ì¤‘ì²©ëœ í•¨ìˆ˜ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\në¨¼ì € ìˆ˜í‰ìœ¼ë¡œ ê¸´ ë§‰ëŒ€ë¶€í„° ì‚´í´ë³´ì„¸ìš”. ê·¸ ë§‰ëŒ€ê°€ ê°€ì¥ ë§ì´ ì†Œìš”ëœ ì‹œê°„ì„ ë‚˜íƒ€ë‚¼ ê²ƒì…ë‹ˆë‹¤. ì˜ˆìƒë³´ë‹¤ ì‹œê°„ì´ ë” ë§ì´ ì†Œìš”ëœ í•¨ìˆ˜ê°€ ì–´ë–¤ ê²ƒì¸ì§€ í™•ì¸í•˜ê³  ê¸°ë¡í•´ë³´ì„¸ìš”. ê·¸ëŸ° ë‹¤ìŒ ìƒìœ„ 4~5ê°œì˜ ì£¼ë²”ì„ ìµœì í™”í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.\n\n![ê·¸ë˜í”„](/assets/img/2024-06-23-MakingShadowfaxAndroidApp40faster_4.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\ní”„ë ˆì„ì€ 16ë°€ë¦¬ì´ˆ ë‚´ì— ë Œë”ë§ë˜ì–´ì•¼ 60fpsë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆì–´ìš”\n\níŒ: WASD í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë™í•˜ì„¸ìš”. perfetto UIì— ëŒ€í•´ ë” ì½ê³  ì‹¶ë‹¤ë©´ ì—¬ê¸°ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”. ë¬¸ì„œëŠ” ì•½ê°„ ì˜¤ë˜ë˜ì—ˆì§€ë§Œ í•µì‹¬ ì›ì¹™ì€ ê°™ì•„ìš”.\n\n# 5. í† ë¼êµ´ì— ë“¤ì–´ê°€ë‹¤\n\nê¸´ ì§€ì† ì‹œê°„ì„ ê°€ì§„ í•¨ìˆ˜ë“¤ì´ ìˆì„ ìˆ˜ ìˆì§€ë§Œ ê²°ê³¼ë¬¼ì´ ì—†ì„ ìˆ˜ë„ ìˆì–´ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì €ê¸°ìš”, ì´ BaseActivityì˜ onResume() ë©”ì„œë“œê°€ ì—„ì²­ ê¸¸ì–´ìš”. í•˜ì§€ë§Œ ì´ ê·¸ë˜í”„ë§Œìœ¼ë¡œëŠ” ë¬´ì—‡ì´ ì‹œê°„ì„ ì°¨ì§€í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ì–´ìš”.\n\në§ˆì§€ë§‰ ë¶€ë¶„ì—ì•¼ ì „ì²´ ì‹œê°„ì˜ 1/4ë¥¼ ì°¨ì§€í•˜ëŠ” ì¤‘ì²© í•¨ìˆ˜ê°€ ë³´ì´ë„¤ìš”.\n\nê·¸ëŸ¼ ì´ì œ ì–´ë–»ê²Œ í•´ë³¼ê¹Œìš”?\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-MakingShadowfaxAndroidApp40faster_5.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\níŠ¸ë ˆì´ì‹±ì„ ë” ì¶”ê°€í•´ì•¼ ë¼ìš”. ìë°” ë° ì½”í‹€ë¦°ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ íŠ¸ë ˆì´ì‹± ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì‰½ê²Œ í•  ìˆ˜ ìˆì–´ìš”. ìì„¸í•œ ë‚´ìš©ì€ ì—¬ê¸°ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆì§€ë§Œ ì½”ë“œ ì¼ë¶€ë¥¼ ì‚´í´ë´ìš”:\n\n```js\nclass MyClass {\n  fun foo(pika: String) {\n    trace(\"MyClass.foo\") {\n    // ê¸°ì¡´ì˜ í•¨ìˆ˜ ë¡œì§ì´ ì—¬ê¸°ì— ìˆì–´ìš”...\n    }\n  }\n}\n```\n\nì´ì œ MyClass.fooê°€ Perfettoì— ë‚˜íƒ€ë‚  ê±°ì˜ˆìš”. ë”°ë¼ì„œ ë””ë²„ê·¸ ì¤‘ì¸ í•¨ìˆ˜ ë‚´ ëª¨ë“  ì¤‘ì²© í•¨ìˆ˜ì— ëŒ€í•œ íŠ¸ë ˆì´ì‹±ì„ ì¶”ê°€í•œ í›„ íŠ¸ë ˆì´ìŠ¤ë¥¼ ë‹¤ì‹œ ê¸°ë¡í•˜ê³  Perfettoì—ì„œ ë¶„ì„í•´ë³´ì„¸ìš”. ê° ë¼ì´í”„ì‚¬ì´í´ í•¨ìˆ˜ì— ëŒ€í•´ ì´ ê³¼ì •ì„ ê³„ì† ë°˜ë³µí•˜ì„¸ìš”.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-MakingShadowfaxAndroidApp40faster_6.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 6. ìš°ë¦¬ì˜ ì†”ë£¨ì…˜\n\nì´ ì—°ìŠµì„ í†µí•´ ë§¤ìš° ëª…í™•í•œ ê·¼ë³¸ ì›ì¸ê³¼ ëª©í‘œë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤. ì´ì œ ê° ì›ì¸ì„ í•˜ë‚˜ì”© í•´ê²°í•  ë•Œê°€ ì™”ìŠµë‹ˆë‹¤. Perfettoì™€ SysTraceì˜ ê´€ì¸¡ì„ ë°”íƒ•ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ë‹¤ì–‘í•œ ìµœì í™”ê°€ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤:\n\n## 6.1. í™ˆ í™”ë©´ ë ˆì´ì•„ì›ƒ ìµœì í™” (-15% ì‹œì‘ ì‹œê°„)\n\nConstraintLayoutìœ¼ë¡œ ë·°ë¥¼ ì¤‘ì²©í•˜ì§€ ì•Šê³  hidden views ëŒ€ì‹  viewstubsë¥¼ ì‚¬ìš©í•˜ì—¬ ìµœëŒ€ 600msê¹Œì§€ ê°ì†Œí•˜ì˜€ìŠµë‹ˆë‹¤. ì´ ì ‘ê·¼ ë°©ì‹ì€ ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê²¨ì ¸ ìˆê³  ì‚¬ìš©ì ìƒí˜¸ì‘ìš© í›„ì—ë§Œ í‘œì‹œë˜ëŠ” ë·°ì˜ ë¶ˆí•„ìš”í•œ ì¸¡ì • ë° í™•ì¥ì„ ë°©ì§€í•©ë‹ˆë‹¤. view stubsì— ëŒ€í•´ ë” ì•Œì•„ë³´ê¸°.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n200~300 ë°€ë¦¬ì´ˆê°€ ê±¸ë¦¬ëŠ” mapViewê°€ onResume()ì´ í˜¸ì¶œëœ í›„ì— initìœ¼ë¡œ ì´ë™ë˜ì—ˆê¸° ë•Œë¬¸ì— í•µì‹¬ UIì—ì„œ ì£¼ë¬¸ ìˆ˜ì™€ ìƒíƒœë¥¼ í‘œì‹œí•œ í›„ì— ë¡œë“œë©ë‹ˆë‹¤.\n\n```js\nprivate fun HomeFragment.lazyLoadMap() {\n  Handler(Looper.getMainLooper()).post {\n    // ì´ Runnableì€ ë©”ì¸ ìŠ¤ë ˆë“œê°€ HomeFragë¥¼ í™•ì¥í•œ í›„ì—ë§Œ ì‹¤í–‰ë©ë‹ˆë‹¤.\n    initMap()\n  }\n}\n```\n\n# 6.2 MainActivity ìµœì í™”í•˜ê¸° (-5% ì‹œì‘ ì‹œê°„)\n\në°˜ë³µëœ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ì—ì„œ LinearLayoutì´ Fragmentì— ëŒ€í•œ ì»¨í…Œì´ë„ˆë¡œë§Œ ì‚¬ìš©ë˜ëŠ” MainActivityì—ì„œ ConstraintLayoutë³´ë‹¤ ì„±ëŠ¥ì´ ë” ìš°ìˆ˜í–ˆìŠµë‹ˆë‹¤. ì‹¤ì œë¡œ LinearLayoutìœ¼ë¡œ ë³€ê²½í•˜ë©´ MainActivityê°€ íŠ¹íˆ ì›œ ìŠ¤íƒ€íŠ¸ì—ì„œ 2ë°° ë” ë¹¨ë¦¬ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 6.3 MainActivity SDKë“¤ì˜ ì§€ì—° ë¡œë”©(-10% ì‹œê°„)\n\ní¼í˜í† ëŠ” MainActivityì—ì„œ ì´ˆê¸°í™”ë˜ëŠ” ë‹¨ì¼ 3rd party SDKê°€ onCreate() ì§€ì† ì‹œê°„ì˜ 70%ë¥¼ ì°¨ì§€í•˜ê³  ìˆë‹¤ëŠ” ê²ƒì„ ë³´ì—¬ì£¼ì—ˆìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì•± ì‹œì‘ ì‹œ ì¦‰ì‹œ í•„ìš”í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì´ë¥¼ ì§€ì—°ë¡œë”©í•˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤.\n\n## 7. ì‹¤ì œ ì„±ëŠ¥ ê²°ê³¼\n\nì´ëŸ¬í•œ ì†”ë£¨ì…˜ì„ ì—¬ëŸ¬ ë¦´ë¦¬ìŠ¤ë¥¼ í†µí•´ ì¶œì‹œí•œ ë’¤, ì‹œì‘ ì‹œê°„ì˜ 90ë¶„ìœ„ê°€ 3.5ì´ˆì—ì„œ ê±°ì˜ 2ì´ˆ ë¯¸ë§Œìœ¼ë¡œ ì ì§„ì ìœ¼ë¡œ ê°œì„ ë˜ì–´, ë†€ë¼ìš´ 42%ì˜ ê°ì†Œë¥¼ ë³´ì•˜ìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![image](/assets/img/2024-06-23-MakingShadowfaxAndroidApp40faster_7.png)\n\në” ë§ì€ ë³‘ëª© í˜„ìƒì„ ì°¾ê³  ì•± ì†ë„ë¥¼ ë†’ì´ëŠ” ë° ë…¸ë ¥í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ íŒŒíŠ¸ë„ˆë“¤ì´ ë” ìƒì‚°ì ì¼ ìˆ˜ ìˆë„ë¡ ë•ê³  ìˆìŠµë‹ˆë‹¤.\n\ní”„ë ˆí«í† ë¥¼ ì‚¬ìš©í•˜ì—¬ ë³‘ëª© í˜„ìƒì„ ë°œê²¬í•˜ëŠ” ê²ƒì€ì´ í”„ë¡œì íŠ¸ì— ìˆì–´ ì¤‘ìš”í–ˆìœ¼ë©°, ê° ë¬¸ì œë¥¼ í•´ê²°í•¨ìœ¼ë¡œì¨ ì–¼ë§ˆë‚˜ ë§ì€ ì„±ëŠ¥ í–¥ìƒì„ ì´ëŒì–´ë‚¼ ìˆ˜ ìˆëŠ”ì§€ë¥¼ ì•Œê¸°ì— ìì‹ ê°ì„ ê°–ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\n\nì•± ì‹œì‘ ì‹œê°„ì„ ê°œì„ í•˜ëŠ” ë° ë„ì›€ì„ ì¤€ Burhan \u0026 Vishnuì—ê²Œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.\n","ogImage":{"url":"/assets/img/2024-06-23-MakingShadowfaxAndroidApp40faster_0.png"},"coverImage":"/assets/img/2024-06-23-MakingShadowfaxAndroidApp40faster_0.png","tag":["Tech"],"readingTime":10},{"title":"Jetpack Composeì—ì„œ MVI íŒ¨í„´ì„ ê°•ë ¥í•˜ê²Œ êµ¬í˜„í•˜ëŠ” ë°©ë²•","description":"","date":"2024-06-23 01:12","slug":"2024-06-23-ArobustMVIimplementationwithJetpackCompose","content":"\n# ì™œ ì´ë ‡ê²Œ í•˜ê³  ìˆëŠ” ê±¸ê¹Œìš”?\n\nì €ëŠ” í•™ìŠµ ê³¡ì„ ì´ ë‚®ê³  ê°œë°œìë“¤ì´ ì¸ì‹í•  ìˆ˜ ìˆëŠ” ê²¬ê³ í•œ ì•„í‚¤í…ì²˜ë¥¼ ê°œë°œí•˜ëŠ” ë° ë§¤ì§„í•´ ì™”ìŠµë‹ˆë‹¤.\n\nëª©í‘œëŠ” í”„ë¡œì íŠ¸ì™€ ë¬´ê´€í•œ ê²ƒì„ ê°–ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. ê°„ë‹¨íˆ ë§í•´ì„œ, ìš°ë¦¬ëŠ” ëª¨ë“  ê°œë°œìê°€ ì•„í‚¤í…ì²˜ì— ìµìˆ™í•´ì ¸ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì— ë³´ë‹¤ ì‰½ê²Œ ê¸°ì—¬í•  ìˆ˜ ìˆë„ë¡ í•˜ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤. í•„ìš”í•  ë•Œ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì— ì‰½ê²Œ ê¸°ì—¬í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ëª…ì‹¬í•˜ë©°, ì´ë¥¼ í†µí•´ ì„±ì·¨ë„ë¥¼ ë”ìš± ë†’ì¼ ìˆ˜ ìˆë„ë¡ í•˜ë ¤ í–ˆìŠµë‹ˆë‹¤.\n\nì•„í‚¤í…ì²˜ë¥¼ êµ¬ì¶•í•˜ëŠ” ë°ì—ëŠ” ì‹œê°„ì´ ê±¸ë¦½ë‹ˆë‹¤. ì €ëŠ” ëŒ€ë¶€ë¶„ì˜ ì‹œê°„ì„ ì•ˆë“œë¡œì´ë“œ ìƒíƒœê³„ ë° ê·¸ì˜ ëª¨ë²” ì‚¬ë¡€ì— ëŒ€í•´ ë°°ìš°ê³ , ê·¸ë¦¬ê³  ì´ì „ ê¶Œì¥ ì‚¬í•­ì—ì„œ ìƒˆë¡œìš´ ê²ƒìœ¼ë¡œì˜ ì „í™˜í•˜ëŠ” ê²ƒê³¼ ê°™ì€ ì‘ì—…ì— íˆ¬ìí–ˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- DataBinding ëŒ€ì‹  ViewBinding ê¶Œì¥\n- XMLì—ì„œ Jetpack Composeë¡œ ì „í™˜\n- MVI ëª¨ìŠµ ê¸°ëŠ¥\n- KMPì˜ ì•ˆì •ì ì¸ ë¦´ë¦¬ìŠ¤\n\n# ì–´ë–»ê²Œ í•´ë³¼ê¹Œìš”?\n\nì½”ë“œ í•œ ì¤„ì„ ì“°ê¸° ì „ì—, ë„ˆë¬´ ë§ì€ ë°©í–¥ìœ¼ë¡œ í—¤ë”©í•˜ì§€ ì•Šë„ë¡ ëª‡ ê°€ì§€ ì‘ì—…ì„ í•´ì•¼ í•©ë‹ˆë‹¤:\n\n- ì¢‹ì€ ì»µ ìì‹ ì´ ì¢‹ì•„í•˜ëŠ” ìŒë£Œë¥¼ ë“­ë‹ˆë‹¤.\n- MVIê°€ ì‹¤ì œë¡œ ë¬´ì—‡ì¸ì§€ ì¡°ì‚¬í•©ë‹ˆë‹¤.\n- ëª©í‘œ ë™ì‘ì„ ì •ì˜í•©ë‹ˆë‹¤.\n- ì‹¤ì œ êµ¬í˜„ì„ ì½”ë”©í•©ë‹ˆë‹¤.\n- ì‹¤ì œ ì˜ˆì œì—ì„œ ê²°ê³¼ë¥¼ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ì—°êµ¬ ë‹¨ê³„\n\nMVIê°€ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ì§€ ì•Œê³  ìˆëŠ” ê²ƒìœ¼ë¡œ ê°€ì •í•˜ì§€ë§Œ(ì•„ë‹ˆë©´ ì§€ê¸ˆê¹Œì§€ ê·¸ê²ƒì„ í”¼í•´ì™”ë‹¤ë©´), ê°„ë‹¨íˆ ëª¨ë“  ì‚¬ëŒë“¤ì„ ìµœì‹  ìƒíƒœë¡œ ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤.\n\nMVIëŠ” Model-View-Intentì˜ ì•½ì–´ì…ë‹ˆë‹¤. ì´ ì•„í‚¤í…ì²˜ëŠ” MVVM ë° ê¸°íƒ€ ëª¨ë¸ë“¤ê³¼ í•¨ê»˜ MV\\* íŒ¨ë°€ë¦¬ì˜ ì¼ë¶€ì…ë‹ˆë‹¤. ì´ ì•„í‚¤í…ì²˜ì˜ í•µì‹¬ ì›ì¹™ì€ ì…ë ¥ Intentsë¥¼ ë°›ì•„ë“¤ì´ëŠ” ìƒíƒœ ë¨¸ì‹ ì´ë©°, ê¸°ì € UIë¥¼ ë‚˜íƒ€ë‚´ëŠ” View Stateë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ì´ ëª¨ë“  ê²ƒì€ MVIê°€ ì˜ˆì „ì˜ í˜•ì œ MVVMê³¼ ë‹¬ë¦¬ SSoT(Single Source of Truth) ì›ì¹™ì„ ì¤€ìˆ˜í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-ArobustMVIimplementationwithJetpackCompose_0.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ëŒ€ìƒ ë™ì‘\n\në¨¼ì €, êµ¬í˜„ì˜ ê¸°ì´ˆ ì—­í• ì„ í•  í™”ë©´ì´ í•„ìš”í•©ë‹ˆë‹¤. ì´ë²ˆì— ì‚¬ìš©í•  ì•±ì€ Now In Android ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. (ì—¬ê¸°ì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.) ë‹¤ìŒê³¼ ê°™ì´ ìƒê²¼ìŠµë‹ˆë‹¤:\n\nê°„í¸í•¨ì„ ìœ„í•´, ì²« ë²ˆì§¸ ìŠ¤í¬ë¦°ìƒ·ì¸ ForYouScreenì—ë§Œ ì§‘ì¤‘í•˜ê² ìŠµë‹ˆë‹¤. ì´ í™”ë©´ì—ëŠ” í‘œì‹œí•˜ê³  ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ë°ì´í„°ê°€ ìˆìŠµë‹ˆë‹¤.\n\nì´ì œ MVIì˜ í•µì‹¬ ê°œë…ì¸ Reducerë¥¼ ì„¤ëª…í•´ì•¼ í•©ë‹ˆë‹¤! ReducerëŠ” ì–´ë–¤ ì˜ë¯¸ì—ì„œ UIì™€ ViewModel ê°„ì˜ ê³„ì•½ì…ë‹ˆë‹¤. ì´ëŠ” ë‘ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì§‘ë‹ˆë‹¤:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ê°ì²´ ì¸í„°í˜ì´ìŠ¤ : State, Event ë° Effect\n- reduce í•¨ìˆ˜ (ìˆ˜í•™ì  reduce ì—°ì‚°ìì™€ í˜¼ë™í•˜ì§€ ë§ ê²ƒ)\n\n## ViewState\n\nì´ê²ƒì€ UIì˜ í‘œí˜„ì…ë‹ˆë‹¤. ì´ë¡ ì ìœ¼ë¡œ, Compose í™”ë©´ì´ í‘œì‹œí•˜ëŠ” ë° í•„ìš”í•œ ëª¨ë“  ê²ƒì„ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤. ì´ê²ƒì€ í™”ë©´ì˜ ë‹¤ë¥¸ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì—¬ëŸ¬ ë¯¸ë¦¬ ë³´ê¸°ë¥¼ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.\n\n## ViewEvent\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nMVIì˜ í•µì‹¬ì…ë‹ˆë‹¤. ëª¨ë“  ì‚¬ìš©ì ìƒí˜¸ì‘ìš©(ê·¸ë¦¬ê³  ì¡°ê¸ˆ ë”)ì„ ë³´ìœ í•©ë‹ˆë‹¤. ì´ ê²ƒë“¤ì€ ViewModelì— ì˜í•´ ìƒíƒœ ë³€ê²½ì„ ì¼ìœ¼í‚¤ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n## ViewEffect\n\nViewEventì˜ íŠ¹ë³„í•œ ì¢…ë¥˜ì…ë‹ˆë‹¤. ViewModelì— ì˜í•´ UIë¡œ ì „ë‹¬ë©ë‹ˆë‹¤. ë„¤ë¹„ê²Œì´ì…˜ì´ë‚˜ ìŠ¤ë‚µë°”/í† ìŠ¤íŠ¸ í‘œì‹œì™€ ê°™ì€ ì‘ì—…ì„ í¬í•¨í•©ë‹ˆë‹¤.\n\n## reduce í•¨ìˆ˜\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nreduce í•¨ìˆ˜ëŠ” ViewStateì™€ ViewEventë¥¼ ê°€ì ¸ì™€ì„œ ìƒˆë¡œìš´ ViewStateì™€ ì£¼ì–´ì§„ ì´ë²¤íŠ¸ì— ì—°ê²°ëœ í•„ìš”ì— ë”°ë¼ ViewEffectë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\n\nì´ì œ Reducerê°€ ì¤€ë¹„ë˜ì—ˆìœ¼ë‹ˆ, ëª¨ë“  ViewModelì— ì˜í•´ êµ¬í˜„ë  BaseViewModelì„ ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤:\n\n## êµ¬í˜„\n\nì´ì œ ê¸°ë³¸ êµ¬ì¡°ê°€ ì„¤ì •ë˜ì—ˆìœ¼ë‹ˆ, ì´ì œ í™”ë©´ì„ ìœ„í•´ ì‹¤ì œë¡œ ì´ë¥¼ êµ¬í˜„í•  ì‹œê°„ì…ë‹ˆë‹¤!\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## Reducer\n\në¨¼ì €, ViewStateë¥¼ ì •ì˜í•˜ì—¬ ëª‡ ê°€ì§€ ì´ë²¤íŠ¸ë¥¼ ì‰½ê²Œ ì‹ë³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ì œ ViewStateê°€ ì¤€ë¹„ë˜ì—ˆìœ¼ë¯€ë¡œ ì‚¬ìš©ì ìƒí˜¸ì‘ìš©ì„ ì²˜ë¦¬í•˜ê³  ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ViewEventë¥¼ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nìœ„ ë‚´ìš©ì€ ViewStateì™€ í•¨ê»˜ ëª…í™•í•  ê²ƒìœ¼ë¡œ ìƒê°ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë§ˆì§€ë§‰ 3ê°œì˜ ì´ë²¤íŠ¸ì— ëŒ€í•´ì„œëŠ” ì„¤ëª…ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-ArobustMVIimplementationwithJetpackCompose_1.png)\n\ní™”ë©´ì˜ í´ë¦­ ê°€ëŠ¥í•œ ìš”ì†Œì— ë‹¤ìŒê³¼ ê°™ì´ ì—°ê²°ë˜ì–´ ìˆìŠµë‹ˆë‹¤:\n\n- UpdateTopicIsFollowedì€ ì´ˆë¡ í…Œë‘ë¦¬ì˜ ìš”ì†Œì™€ ê´€ë ¨ì´ ìˆìŠµë‹ˆë‹¤.\n- UpdateNewsIsSavedì€ ì£¼í™©ìƒ‰ í…Œë‘ë¦¬ì˜ ìš”ì†Œì™€ ê´€ë ¨ì´ ìˆìŠµë‹ˆë‹¤.\n- UpdateNewsIsViewedëŠ” ë³´ë¼ìƒ‰ í…Œë‘ë¦¬ì˜ ìš”ì†Œì™€ ê´€ë ¨ì´ ìˆìŠµë‹ˆë‹¤.\n\nì´ì œ MVI ì•„í‚¤í…ì²˜ì˜ ë§ˆì§€ë§‰ ë¶€ë¶„, ViewEffectë¥¼ ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤! ë‹¤í–‰íˆë„, ì´ í™”ë©´ì—ì„œëŠ” ê°€ëŠ¥í•œ íš¨ê³¼ê°€ ë‘ ê°€ì§€ë¿ì´ë¯€ë¡œ ë¹„êµì  ê°„ë‹¨í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në§ˆì§€ë§‰ìœ¼ë¡œ êµ¬í˜„í•  reduce í•¨ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ê²½ìš°, reduce í•¨ìˆ˜ëŠ” ë§¤ìš° ê°„ë‹¨í•˜ì—¬ ì…ë ¥ ViewEvent ë°ì´í„°ë¥¼ ìˆ˜ì •ëœ ViewStateë¡œ ë§¤í•‘í•©ë‹ˆë‹¤.\n\nì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì (íŠ¹íˆ ë§ˆì§€ë§‰ 3ê°œì˜ ViewEvent ê²½ìš°)ì€ ì‹¤ì œ í”„ë¡œë•ì…˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ Reducerì—ì„œ ì§ì ‘ í‘œì‹œë˜ëŠ” ë°ì´í„°ë¥¼ ê±°ì˜ ê±´ë“œë¦¬ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n## ViewModel\n\nì´ì œ ìš°ë¦¬ê°€ Reducerë¥¼ ê°€ì¡Œìœ¼ë‹ˆ, ë‹¤ìŒê³¼ ê°™ì€ ViewModelì—ì„œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì €í¬ ViewModelì„ ë³´ì‹œë©´, ë§¤ìš° ê°„ë‹¨í•œ ì½”ë“œë§Œ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ìš°ë¦¬ê°€ ì‚¬ìš©í•  ì£¼ìš” ê¸°ëŠ¥ì´ í¬í•¨ëœ BaseViewModelì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n## í™”ë©´\n\në§ˆì§€ë§‰ìœ¼ë¡œ, ì´ ëª¨ë“  ê²ƒì„ í™”ë©´ì— ì—°ê²°í•˜ì—¬ UIì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ê²½ìš°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ì–¼ë§ˆë‚˜ ê°„ë‹¨í•œì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# ê·¸ê²Œ ë‹¤ì…ë‹ˆë‹¤!\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì§€ê¸ˆê¹Œì§€ ìš°ë¦¬ê°€ í•œ ëª¨ë“  ì‘ì—…ìœ¼ë¡œ, SSoT ì›ì¹™ì„ ì¤€ìˆ˜í•˜ê³  UIë¥¼ ì§ì ‘ ë‚˜íƒ€ë‚´ëŠ” ViewStateë¥¼ í™œìš©í•˜ëŠ” ì™„ì „íˆ ì •ì˜ëœ MVI ì•„í‚¤í…ì²˜ê°€ ìƒê²¼ìŠµë‹ˆë‹¤!\n\nì•„ë§ˆë„ ì—¬ëŸ¬ë¶„ ì¤‘ì—ëŠ” ì´ë¯¸ ì‹œë„í•˜ê³  í…ŒìŠ¤íŠ¸ë˜ì—ˆìœ¼ë©° ì‘ë™ì´ ì¦ëª…ëœ ê¸°ì¡´ ì•„í‚¤í…ì²˜ê°€ ìˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ì™œ ì´ ëª¨ë“  R\u0026Dë¥¼ í•œ ê²ƒì¸ì§€ ê¶ê¸ˆí•´í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ê°„ë‹¨íˆ ë§í•´ì„œ, í•„ìš”í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì €ëŠ” ì—¬ëŸ¬ í”„ë¡œì íŠ¸ì—ì„œ ë‹¤ì–‘í•œ í”„ë¡œì íŠ¸ ë§¤ë‹ˆì € ë° ë‹¤ë¥¸ ê°œë°œìë“¤ê³¼ í˜‘ì—…í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\nì´ëŸ¬í•œ í”„ë¡œì íŠ¸ì—ì„œ ë¦¬ë“œ ê°œë°œìë¡œ ìˆëŠ” ê²ƒì€ ì¢…ì¢… í”„ë¡œì íŠ¸ì— ì‹œê°„ì„ ë“¤ì—¬ PRs(ë˜ëŠ” GitLab ì‚¬ìš©ìë¥¼ ìœ„í•œ MRs)ë¥¼ ë¦¬ë·°í•˜ëŠ” ì¼ì„ ìš”êµ¬ë°›ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì¢…ì¢… ì‘ì€ ì•„í‚¤í…ì²˜ì  ì˜¤ë¥˜ì— ëŒ€í•œ ì£¼ì„ì„ ì§€ì í•´ì•¼ í•˜ëŠ”ë°, í•´ë‹¹ ì•„í‚¤í…ì²˜ì— ëŒ€í•œ ë³´ë‹¤ ê¹Šì€ ì§€ì‹ìœ¼ë¡œ ë°©ì§€í•  ìˆ˜ ìˆëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤.\n\nê·¸ë˜ì„œ ì œê°€ ì¼í•˜ëŠ” ëª¨ë“  í”„ë¡œì íŠ¸ì™€ í˜¸í™˜ë˜ë©° ë™ë£Œë“¤ì´ ì•Œê³  ì¸ì •í•  ìˆ˜ ìˆëŠ” ì•„í‚¤í…ì²˜ë¥¼ ìƒìƒí•˜ë©´, ëª¨ë“  ê´€ë ¨ ë‹¹ì‚¬ìë“¤ì—ê²Œ ì „ë©´ ë¦¬ë·° í”„ë¡œì„¸ìŠ¤ë¥¼ ë” ë¹ ë¥´ê³  ì‰½ê²Œ ë§Œë“¤ì–´ì£¼ë©° ì „ì²´ì ì¸ ê°œë°œ ì†ë„ë¥¼ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤!\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì•„ë˜ ë§í¬ì—ì„œ ì „ì²´ í”„ë¡œì íŠ¸ë¥¼ ì°¾ì•„ë³¼ ìˆ˜ ìˆì–´ìš”:\n\nMVIì— ê´€í•œ ë‹¤ì–‘í•œ í›Œë¥­í•œ ê¸°ì‚¬ê°€ ë§ì´ ìˆì–´ìš”. ê´€ì‹¬ì´ ìˆë‹¤ë©´ ëª‡ ê°€ì§€ë¥¼ ì†Œê°œí•´ ë“œë¦´ê²Œìš”:\n","ogImage":{"url":"/assets/img/2024-06-23-ArobustMVIimplementationwithJetpackCompose_0.png"},"coverImage":"/assets/img/2024-06-23-ArobustMVIimplementationwithJetpackCompose_0.png","tag":["Tech"],"readingTime":7},{"title":"ë¹„ìš© ì ˆê° í´ë¼ìš°ë“œ ì†”ë£¨ì…˜ ë¹„ì¦ˆë‹ˆìŠ¤ë¥¼ ìœ„í•œ ìµœê³ ì˜ ì„ íƒ","description":"","date":"2024-06-23 01:10","slug":"2024-06-23-EscapetheDollarTrapAffordableCloudSolutionsBuiltforBusinesses","content":"\n![Escape the Dollar Trap: Affordable Cloud Solutions Built for Businesses](/assets/img/2024-06-23-EscapetheDollarTrapAffordableCloudSolutionsBuiltforBusinesses_0.png)\n\ní´ë¼ìš°ë“œ ë¹„ìš©ì´ ì¹˜ì†Ÿê³  ìˆ˜ìµì€ ì¤„ì–´ë“¤ê³  ìˆë‹¤ë©´ ì§€ì³¤ì„ ê²ƒì…ë‹ˆë‹¤. ë†’ì€ í´ë¼ìš°ë“œ ë¹„ìš©ì„ ë¶€ë‹´í•˜ëŠ” ê²ƒì€ ê¸°ì—…ì—ê²Œ í° ë¬¸ì œì…ë‹ˆë‹¤.\n\nHostSpaceê°€ í•´ê²°ì±…ì…ë‹ˆë‹¤. HostSpaceëŠ” ì•„í”„ë¦¬ì¹´ ê¸°ì—…ì˜ ë…íŠ¹í•œ ìš”êµ¬ì™€ ì˜ˆì‚° ì œì•½ì„ ì¶©ì¡±ì‹œí‚¤ê¸° ìœ„í•´ íŠ¹ë³„íˆ ì„¤ê³„ëœ ê´€ë¦¬í˜• í´ë¼ìš°ë“œ ì†”ë£¨ì…˜ ìŠ¤ìœ„íŠ¸ë¥¼ ê°œë°œí–ˆìŠµë‹ˆë‹¤. í˜„ì§€ ì¸í”„ë¼ì™€ ì „ë¬¸ì„±ì„ í™œìš©í•˜ì—¬ í´ë¼ìš°ë“œì˜ í˜ì„ ëˆ„ë¦¬ë©´ì„œë„ ì‹œì¤‘ì„ ê¹¨ì§€ ì•Šê²Œ í•©ë‹ˆë‹¤.\n\ní´ë¼ìš°ë“œ ì»´í“¨íŒ…ì˜ ë¹„ìš© ìƒìŠ¹ì€ ì•„í”„ë¦¬ì¹´ ì „ì—­ì˜ ê¸°ì—…ì—ê²Œ ì£¼ìš” ê³ í†µ ìš”ì¸ì…ë‹ˆë‹¤. ì§€ì—­ í†µí™”ë¡œ ìˆ˜ìµì„ ì˜¬ë¦¬ëŠ” ë™ì•ˆ ì™¸í™”ë¡œ ì§€ë¶ˆí•˜ëŠ” ê²ƒì€ ì¬ì • ë¶€ë‹´ë§Œ ì¦ëŒ€ì‹œí‚µë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì•ˆë…•í•˜ì„¸ìš”! ì—¬ëŸ¬ë¶„ì˜ ë¬¸ì œì™€ ì˜ˆì‚° ì œí•œì„ ê³ ë ¤í•œ ê´€ë¦¬ í´ë¼ìš°ë“œ ì†”ë£¨ì…˜ ìŠ¤ìœ„íŠ¸ë¥¼ ê°œë°œí–ˆìŠµë‹ˆë‹¤.\n\nìš°ë¦¬ì˜ ì ‘ê·¼ ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\nìš°ë¦¬ëŠ” ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” í˜„ì§€ í´ë¼ìš°ë“œ ì¸í”„ë¼ ê³µê¸‰ì—…ì²´ì™€ íŒŒíŠ¸ë„ˆì‹­ì„ ë§ºì–´ Google Cloudë‚˜ AWSì™€ ê°™ì€ ê¸€ë¡œë²Œ í”Œë ˆì´ì–´ë“¤ì´ ì œê³µí•˜ëŠ” ë™ì¼í•œ ë„êµ¬ì™€ ì„œë¹„ìŠ¤ë¥¼ ì €ë ´í•œ ë¹„ìš©ì— ì œê³µí•©ë‹ˆë‹¤.\n\nì£¼ìš” ì†”ë£¨ì…˜:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nHostSpace ì¿ ë²„ë„¤í‹°ìŠ¤ ì—”ì§„ (HKE)\nì €í¬ì˜ ì™„ì „íˆ ìë™í™”ëœ ê´€ë¦¬í˜• ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ìœ¼ë¡œ ì¸í”„ë¼ë¥¼ ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ì–´ë³´ì„¸ìš”. ì–´ë µì§€ ì•Šê³  ë‹¤ë£¨ê¸° ì‰½ê²Œ í™•ì¥í•˜ê³ , ì¿ ë²„ë„¤í‹°ìŠ¤ ì „ë¬¸ê°€ê°€ ì•„ë‹ˆì–´ë„ ì‹ ì†í•˜ê²Œ ë°°í¬í•˜ì„¸ìš”.\n\nì €í¬ì˜ HostSpace ì¿ ë²„ë„¤í‹°ìŠ¤ ì—”ì§„ (HKE)ì€ ì‚¬ìš©í•˜ê¸° ë” ì‰½ê¸°ë§Œ í•œ ê²ƒì´ ì•„ë‹ˆë¼, ë” ì €ë ´í•˜ê¸°ë„ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, Nobus Cloudì—ì„œ êµ¬ë™ë˜ëŠ” HKEì˜ í‘œì¤€ 4 vCPU, 8GB RAM ì„¤ì •ì€ ì£¼ìš” í´ë¼ìš°ë“œ ì œê³µì—…ì²´ì™€ ë¹„êµí–ˆì„ ë•Œ ì›” ë¹„ìš©ì´ ìµœëŒ€ 70% ë” ì €ë ´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ë†’ì€ ì„±ëŠ¥ê³¼ í™•ì¥ì„±ì„ ê°€ì§„ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ë¬´ê²ì§€ ì•Šì€ ê°€ê²©ì— ì´ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.\n\nHostSpace ì»¨í…Œì´ë„ˆ ì†”ë£¨ì…˜ (HCS)\n\nì†Œìˆ˜ì˜ í´ë¦­ìœ¼ë¡œ ì»¨í…Œì´ë„ˆì— ì»¤ìŠ¤í…€ ì• í”Œë¦¬ì¼€ì´ì…˜ ë˜ëŠ” WordPressì™€ ê°™ì€ ì¸ê¸° ìˆëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë°°í¬í•˜ì„¸ìš”. ì•„ì´ë””ì–´ë¥¼ ì˜¨ë¼ì¸ìœ¼ë¡œ ì‹ ì†í•˜ê²Œ ì˜¬ë¦¬ëŠ” ê°€ì¥ ë¹ ë¥´ê³  ì‰¬ìš´ ë°©ë²•ì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê¸°ìˆ ì ì¸ ë¬¸ì œë¥¼ ê±±ì •í•˜ì§€ ë§ˆì„¸ìš”. ì €í¬ì˜ ê´€ë¦¬í˜• ì»¨í…Œì´ë„ˆ ë°°í¬ ì†”ë£¨ì…˜ì€ ê·€í•˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì†ì‰½ê²Œ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ í•´ì¤ë‹ˆë‹¤. ì»¤ìŠ¤í…€ ì œì‘ë˜ì—ˆë“  ì¸ê¸° ìˆëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ ë„êµ¬ì¸ WordPressë“ , ì–´ë µê³  ë³µì¡í•œ ì„¤ì •ì´ë‚˜ ì„œë²„ ì„¤ì •ê³¼ ì”¨ë¦„í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. ëª‡ ë²ˆì˜ í´ë¦­ë§Œìœ¼ë¡œ ì•„ì´ë””ì–´ë¥¼ ì‹¤í˜„í•˜ê³  ëŒ€ì¤‘ì— ë„ë‹¬í•  ì¤€ë¹„ê°€ ë©ë‹ˆë‹¤.\n\nì´ëŠ” ê¸°ì—…ì˜ ë¹ ë¥¸ ì‹œì¥ ì§„ì…ì„ ì˜ë¯¸í•˜ë©°, ê°œë°œìë“¤ì€ ìµœê³ ì˜ ëŠ¥ë ¥ì— ì§‘ì¤‘í•˜ì—¬ í˜ì‹ ì ì¸ ì†”ë£¨ì…˜ì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë” ë§ì€ ììœ ë¥¼ ì–»ê²Œ ë©ë‹ˆë‹¤.\n\nì•„í”„ë¦¬ì¹´ ê¸°ì—…ì„ ìœ„í•œ ê²Œì„ ì²´ì¸ì €ì¸ HostSpaceì˜ ì´ìœ :\n\n- ë§‰ëŒ€í•œ ë¹„ìš© ì ˆê°: ì €í¬ ê³ ê°ë“¤ì€ ê³µê°œ í´ë¼ìš°ë“œ ì œê³µì—…ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ë¹„êµí•˜ì—¬ ìµœëŒ€ 90%ì˜ í´ë¼ìš°ë“œ ë¹„ìš©ì„ ì ˆì•½í–ˆë‹¤ê³  ë³´ê³ í–ˆìŠµë‹ˆë‹¤.\n- ì§€ì—­ ì „ë¬¸ì§€ì‹: ì•„í”„ë¦¬ì¹´ ê¸°ì—…ì´ ì§ë©´í•œ ë…íŠ¹í•œ ë„ì „ì— ëŒ€í•œ ì´í•´ì™€ ë§ì¶¤í˜• ì§€ì› ë° ì†”ë£¨ì…˜ ì œê³µ.\n- ë¹ ë¥¸ ë°°í¬: ëª‡ ë¶„ì´ë©´ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ê°€ë™ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- í™•ì¥ì„±: ë¹„ì¦ì‹ ì‚¬ì—…ì˜ ì„±ì¥ì— ë”°ë¼ ì‚¬ì—… ì¸í”„ë¼ë¥¼ ì‰½ê²Œ í™•ì¥.\n- ì‹ ë¢°ì„±: ê°•ë ¥í•œ ì¸í”„ë¼ì™€ ì „ë¬¸ê°€ ì§€ì›ì— ì˜ì¡´í•˜ì—¬ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì›í™œí•˜ê²Œ ì‹¤í–‰ë˜ë„ë¡ í™•ì‹ í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nìš°ë¦¬ëŠ” ëª¨ë“  ì‚¬ëŒì—ê²Œ í´ë¼ìš°ë“œ ì»´í“¨íŒ…ì„ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ê¸°ë¥¼ ë¯¿ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ í˜¸ìŠ¤íŠ¸ìŠ¤í˜ì´ìŠ¤ì˜ ì°¨ì´ë¥¼ ì§ì ‘ ê²½í—˜í•  ìˆ˜ ìˆë„ë¡ ë¬´ë£Œ í‰ê°€íŒì„ ì œê³µí•©ë‹ˆë‹¤. ì´í›„ì—ëŠ” ì €ë ´í•œ ë¹„ìš©ë¶€í„° ì‹œì‘í•˜ëŠ” ìš”ê¸ˆì œê°€ ìˆìŠµë‹ˆë‹¤...\n\ní˜¸ìŠ¤íŠ¸ìŠ¤í˜ì´ìŠ¤ë¥¼ ì„ íƒí•˜ì—¬ ì•„í”„ë¦¬ì¹´ ê¸°ì—…ì˜ ìˆ˜ê°€ ì¦ê°€í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë‹¹ì‹ ì˜ ëª¨ë“  ì ì¬ë ¥ì„ ë°œíœ˜í•˜ëŠ” ë° ë„ì›€ì´ ë˜ê¸°ë¥¼ ë°”ëë‹ˆë‹¤.\n\ní´ë¼ìš°ë“œ ì „ëµì„ í˜ì‹ í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ë°œê²¬í•˜ê¸° ìœ„í•´ ë¬´ë£Œ ìƒë‹´ ë° ë°ëª¨ë¥¼ ë°›ìœ¼ë ¤ë©´ ì˜¤ëŠ˜ admin@hostspaceng.comìœ¼ë¡œ ì—°ë½í•˜ì‹­ì‹œì˜¤. ì†”ë£¨ì…˜ì— ëŒ€í•´ ë” ì•Œì•„ë³´ë ¤ë©´ ìš°ë¦¬ì˜ ë¸Œë¡œì…”ë¥¼ ë‹¤ìš´ë¡œë“œí•´ë³´ì„¸ìš”.\n","ogImage":{"url":"/assets/img/2024-06-23-EscapetheDollarTrapAffordableCloudSolutionsBuiltforBusinesses_0.png"},"coverImage":"/assets/img/2024-06-23-EscapetheDollarTrapAffordableCloudSolutionsBuiltforBusinesses_0.png","tag":["Tech"],"readingTime":4},{"title":"Argo Rolloutsê°€ ì´ì œ Kubernetes Gateway API 10 ë²„ì „ì„ ì§€ì›í•©ë‹ˆë‹¤","description":"","date":"2024-06-23 01:09","slug":"2024-06-23-ArgoRolloutsNowSupportsVersion10oftheKubernetesGatewayAPI","content":"\nì•ˆë…•í•˜ì„¸ìš”! Argo Rollouts, ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ìœ„í•œ í”„ë¡œê·¸ë ˆì‹œë¸Œ ë”œë¦¬ë²„ë¦¬ ì»¨íŠ¸ë¡¤ëŸ¬,ì´(ê°€) ìƒˆë¡œìš´ ì¿ ë²„ë„¤í‹°ìŠ¤ ê²Œì´íŠ¸ì›¨ì´ API(ë‹¤ìŒ ì„¸ëŒ€ ì¸ê·¸ë ˆìŠ¤/ì„œë¹„ìŠ¤ ë©”ì‹œ í‘œì¤€)ë¥¼ ì§€ì›í•˜ëŠ” ìƒˆë¡œìš´ í”ŒëŸ¬ê·¸ì¸ì„ í†µí•´ ì´ì œ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.\n\nì´ì œ ê±°ì˜ ëª¨ë“  ì¸ê·¸ë ˆìŠ¤, ê²Œì´íŠ¸ì›¨ì´ ë˜ëŠ” ì„œë¹„ìŠ¤ ë©”ì‹œë¥¼ ì‚¬ìš©í•˜ì—¬ ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ì¹´ë‚˜ë¦¬ ë°°í¬ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì§€ì›ë˜ëŠ” ê³µê¸‰ì—…ì²´ì˜ ì „ì²´ ëª©ë¡ì„ í™•ì¸í•˜ê³  ìì„¸í•œ ë‚´ìš©ì„ ì•Œì•„ë³´ì„¸ìš”.\n\nArgo Rolloutsì€ í”„ë¡œê·¸ë ˆì‹œë¸Œ ë”œë¦¬ë²„ë¦¬ ì‹œë‚˜ë¦¬ì˜¤(ë¸”ë£¨/ê·¸ë¦° ë° ì¹´ë‚˜ë¦¬ ë°°í¬)ì— ì¤‘ì ì„ ë‘” Argo íŒ¨ë°€ë¦¬ í”„ë¡œì íŠ¸ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì¹´ë‚˜ë¦¬ ë°°í¬ì—ì„œ Argo RolloutsëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒˆ ë²„ì „ìœ¼ë¡œ íŠ¸ë˜í”½ì„ ì ì§„ì ìœ¼ë¡œ ì´ë™ì‹œí‚¬ ìˆ˜ ìˆëŠ” íŠ¸ë˜í”½ ê³µê¸‰ìë¥¼ ì„ íƒì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![Argo Rollouts](/assets/img/2024-06-23-ArgoRolloutsNowSupportsVersion10oftheKubernetesGatewayAPI_1.png)\n\nì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ìœ„í•œ ì—¬ëŸ¬ ë„¤íŠ¸ì›Œí‚¹ ì œí’ˆì´ ìˆìœ¼ë©°, ëŒ€ë¶€ë¶„ì€ ì¸ê·¸ë ˆìŠ¤(í´ëŸ¬ìŠ¤í„°ë¡œ ë“¤ì–´ì˜¤ëŠ” íŠ¸ë˜í”½) ë˜ëŠ” ì„œë¹„ìŠ¤ ë©”ì‹œ(í´ëŸ¬ìŠ¤í„° ë‚´ì—ì„œì˜ íŠ¸ë˜í”½)ì˜ í˜•íƒœë¡œ ì œê³µë©ë‹ˆë‹¤.\n\nArgo RolloutsëŠ” ì´ë¯¸ ì—¬ëŸ¬ ì¸ê·¸ë ˆìŠ¤ ë° ì„œë¹„ìŠ¤ ë©”ì‹œë¥¼ ë‚´ì¥ ì§€ì›í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë„êµ¬ë“¤ì˜ ì§€ì›ì€ Argo Rolloutsì˜ ì¸íŠ¸ë¦¬ ì†ŒìŠ¤ ì½”ë“œì˜ ì¼ë¶€ì´ë©°, ìƒˆ ë„êµ¬ë¥¼ ë„ì…í•˜ëŠ” ê³¼ì •ì´ ë¶ˆí¸í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- Argo Rollouts í”„ë¡œì íŠ¸ ì „ì²´ì˜ ì†ŒìŠ¤ ì½”ë“œë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.\n- ì „ì²´ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ì´í•´í•˜ì„¸ìš”.\n- ë³¸ Argo Rollouts ë¦´ë¦¬ì¦ˆì— ë³‘í•©ë  í’€ ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ì œì¶œí•˜ì„¸ìš”.\n- í”„ë¡œì íŠ¸ ìœ ì§€ìê°€ ìŠ¹ì¸/ë³‘í•©í•˜ë„ë¡ ê¸°ë‹¤ë¦¬ì„¸ìš”.\n- Argo Rolloutsì˜ ìƒˆë¡œìš´ ë¦´ë¦¬ì¦ˆê°€ ë‚˜ì˜¬ ë•Œë§ˆë‹¤ íˆ´ íŠ¹í™” ì½”ë“œë¥¼ ìœ ì§€/ì¶”ì í•´ì•¼í•©ë‹ˆë‹¤.\n\nì‚¬ëŒë“¤ì´ Argo Rolloutsì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê³  ì‹¶ì–´í•˜ëŠ” ì—¬ëŸ¬ ë„¤íŠ¸ì›Œí‚¹ ë„êµ¬ê°€ ìˆìŠµë‹ˆë‹¤. ì´ ë³µì¡í•œ ê³¼ì •ìœ¼ë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë„¤ì´í‹°ë¸Œ ë°©ì‹ìœ¼ë¡œ ì´ëŸ¬í•œ ë„êµ¬ë¥¼ ì§€ì›í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.\n\nê·¸ëŸ¬ë‚˜ ìµœê·¼ ë‘ ê°€ì§€ ë°œì „ìœ¼ë¡œ ì´ ê³¼ì •ì´ ë” ì´ìƒ í•„ìš”í•˜ì§€ ì•Šì•„ì¡ŒìŠµë‹ˆë‹¤.\n\nì²« ë²ˆì§¸ëŠ” Argo Rolloutsê°€ 1.5 ë²„ì „ë¶€í„° íŠ¸ë˜í”½ í”ŒëŸ¬ê·¸ì¸ì„ ì§€ì›í•œë‹¤ëŠ” ì ì…ë‹ˆë‹¤. í”ŒëŸ¬ê·¸ì¸ì´ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ë¦´ë¦¬ìŠ¤ ê³µì§€ì—ì„œ ì„¤ëª…í–ˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në‘ ë²ˆì§¸ë¡œ ì†Œê°œí•  ê²ƒì€ ìƒˆë¡œìš´ KubernetesÂ Gateway APIì…ë‹ˆë‹¤.\n\n# Gateway API â€” ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ì„œë¹„ìŠ¤ ë§¤ì‰¬ì™€ ì¸ê·¸ë ˆìŠ¤ë¥¼ ìœ„í•œ í†µí•© í‘œì¤€\n\nGateway APIëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ SIG í”„ë¡œì íŠ¸ë¡œ, ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ëª¨ë“  ë„¤íŠ¸ì›Œí‚¹ ì†”ë£¨ì…˜ì„ í†µí•©í•˜ì—¬ ê¸°ë³¸ ì¸ê·¸ë ˆìŠ¤ APIì— ëˆ„ë½ëœ ëª‡ ê°€ì§€ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë©´ì„œ ë™ì‹œì— ëª¨ë“  ì„œë¹„ìŠ¤ ë§¤ì‰¬ ì†”ë£¨ì…˜ì„ í†µí•©í•©ë‹ˆë‹¤.\n\nGateway APIëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ì¸ê·¸ë ˆìŠ¤ APIì˜ ë‹¤ìŒ ì„¸ëŒ€ë¡œ ìƒê°í•  ìˆ˜ ìˆìœ¼ë©°, ë™ì‹œì— (ì´ì œëŠ” íì§€ëœ) SMI í‘œì¤€ì˜ ë‹¤ìŒ ì„¸ëŒ€ë¡œë„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì¿ ë²„ë„¤í‹°ìŠ¤ ê²Œì´íŠ¸ì›¨ì´ APIëŠ” ì¸í”„ë¼ë¥¼ ì •ì˜í•˜ëŠ” ì‚¬ëŒê³¼ ì¸í”„ë¼ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‚¬ëŒ ì‚¬ì´ì— ëª…í™•íˆ êµ¬ë¶„ì„ ì •ì˜í–ˆë‹¤ëŠ” ì ì—ì„œ ì£¼ëª©í•  ë§Œí•©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-ArgoRolloutsNowSupportsVersion10oftheKubernetesGatewayAPI_2.png)\n\në™ì‹œì—, ëª¨ë“  ì£¼ìš” ë„¤íŠ¸ì›Œí‚¹ ê³µê¸‰ì—…ì²´ë“¤ì˜ ì¼ì¹˜ëœ ì§€ì›ì„ ë°›ê³  ìˆìŠµë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ë„¤íŠ¸ì›Œí‚¹ ì†”ë£¨ì…˜ì€ ê²Œì´íŠ¸ì›¨ì´ APIì— ëŒ€í•œ ì´ˆê¸° ì§€ì›ì„ ì¶”ê°€í–ˆê±°ë‚˜ í•´ë‹¹ APIë¥¼ ë”°ë¥¼ ê²ƒì„ì„ ì„ ì–¸í–ˆìŠµë‹ˆë‹¤.\n\nAPI ì§€ì›ìì˜ ìƒì„¸ ëª©ë¡ì€ êµ¬í˜„ ëª©ë¡ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# Argo Rollouts ë° ê²Œì´íŠ¸ì›¨ì´ API - ì ¤ë¦¬ì™€ ì±„í”¼ ë²„í„°ì²˜ëŸ¼\n\nArgo Rolloutsì—ëŠ” ì´ì œ Gateway APIë¥¼ ì§€ì›í•˜ëŠ” í”ŒëŸ¬ê·¸ì¸ì´ ìˆìŠµë‹ˆë‹¤. ì €í¬ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ê²Œì´íŠ¸ì›¨ì´ APIì˜ 0.x ë²„ì „ì„ ëŒ€ìƒìœ¼ë¡œ í•œ ì´ˆê¸° ê°œë°œì„ ì‹œì‘í–ˆìœ¼ë©° í…ŒìŠ¤íŠ¸ëœ êµ¬í˜„ì²´ ëª©ë¡ì„ ê³„ì† í™•ì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\nì´ê²ƒì€ Argo Rolloutsë¥¼ ì‚¬ìš©í•˜ì—¬ ì¿ ë²„ë„¤í‹°ìŠ¤ ê²Œì´íŠ¸ì›¨ì´ APIì˜ í˜„ì¬ ë° í–¥í›„ êµ¬í˜„ì²´ì™€ í•¨ê»˜ ìºë„ˆë¦¬ ë°°í¬ì— ì‚¬ìš©í•  ìˆ˜ ìˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì–¼ë§ˆë‚˜ ë©‹ì§„ê°€ìš”?\n\n![ArgoRolloutsNowSupportsVersion10oftheKubernetesGatewayAPI_3](/assets/img/2024-06-23-ArgoRolloutsNowSupportsVersion10oftheKubernetesGatewayAPI_3.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì¿ ë²„ë„¤í‹°ìŠ¤ ê²Œì´íŠ¸ì›¨ì´ APIëŠ” 2023ë…„ì— 1.0 ë²„ì „ì„ ì¶œì‹œí–ˆìœ¼ë©°, ìµœì‹  ë²„ì „ì˜ í”ŒëŸ¬ê·¸ì¸(0.3)ì€ ì´ì œ 1.0 ì‚¬ì–‘ì— ë§ì¶° ì»´íŒŒì¼ë˜ì—ˆìŠµë‹ˆë‹¤.\n\nê·€í•˜ì˜ ë„¤íŠ¸ì›Œí‚¹ ì œê³µ ì—…ì²´ë¡œ í”ŒëŸ¬ê·¸ì¸ì„ í…ŒìŠ¤íŠ¸í•˜ì‹œê³  ê¶ê¸ˆí•œ ì ì´ë‚˜ ë¬¸ì œê°€ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ ì•Œë ¤ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.\n\nìºë„ˆë¦¬ ë°°í¬ë¥¼ ì¦ê¸°ì„¸ìš”!\n\nUnsplashì˜ Shivansh Singh ì‚¬ì§„ì„ ì°¸ê³ í•´ì£¼ì„¸ìš”.\n","ogImage":{"url":"/assets/img/2024-06-23-ArgoRolloutsNowSupportsVersion10oftheKubernetesGatewayAPI_0.png"},"coverImage":"/assets/img/2024-06-23-ArgoRolloutsNowSupportsVersion10oftheKubernetesGatewayAPI_0.png","tag":["Tech"],"readingTime":5},{"title":"Kubernetesì—ì„œ 2ë…„ê°„ Airflowë¥¼ ìš´ì˜í•˜ë©° ë°°ìš´ êµí›ˆë“¤","description":"","date":"2024-06-23 01:07","slug":"2024-06-23-WhatwelearnedafterrunningAirflowonKubernetesfor2years","content":"\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-WhatwelearnedafterrunningAirflowonKubernetesfor2years_0.png)\n\nApache Airflowì€ ìš°ë¦¬ ë°ì´í„° í”Œë«í¼ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ êµ¬ì„± ìš”ì†Œ ì¤‘ í•˜ë‚˜ë¡œ, ë¹„ì¦ˆë‹ˆìŠ¤ ë‚´ ë‹¤ì–‘í•œ íŒ€ë“¤ì´ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ìš°ë¦¬ì˜ ëª¨ë“  ë°ì´í„° ë³€í™˜, ì‚¬ê¸° íƒì§€ ë©”ì»¤ë‹ˆì¦˜, ë°ì´í„° ê³¼í•™ ì´ë‹ˆì…”í‹°ë¸Œ ë° Teyaì—ì„œ ì‹¤í–‰í•˜ëŠ” ë‹¤ì–‘í•œ ì¼ìƒ ë° ë‚´ë¶€ ì‘ì—…ì„ ì§€ì›í•©ë‹ˆë‹¤.\n\nì „ì²´ì ì¸ ê·¸ë¦¼ì„ ë³´ë©´, ì €í¬ëŠ” 300ê°œ ì´ìƒì˜ ìš´ì˜ DAGì™€ í‰ê·  í•˜ë£¨ì— 5,000ê°œ ì´ìƒì˜ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì¤‘í˜• ê·œëª¨ì˜ Airflow ë°°ì¹˜ ì‹œìŠ¤í…œì„ ìš´ì˜ ì¤‘ì…ë‹ˆë‹¤. ê·¸ë˜ì„œ ì €ëŠ” ìš°ë¦¬ê°€ ì‚¬ìš©ìì—ê²Œ ê°€ì¹˜ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆëŠ” ê½¤ ê·œëª¨ê°€ ìˆëŠ” Airflow ë°°í¬ ì‹œìŠ¤í…œì„ ë³´ìœ í•˜ê³  ìˆë‹¤ê³  ë§í•  ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤. 8ê°œì›” ì´ìƒ ë™ì•ˆ Airflowì—ì„œ í•œ ë²ˆì˜ ì¸ì‹œë˜íŠ¸ë‚˜ ì‹¤íŒ¨ ì—†ì´ ìš´ì˜ë˜ì–´ ì™”ìŠµë‹ˆë‹¤.\n\në³¸ ê²Œì‹œë¬¼ì„ í†µí•´, í™•ì¥ ê°€ëŠ¥í•˜ê³  ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ êµ¬ì¶•í•˜ëŠ” ë°ì— ë„ì›€ì´ ëœ ì €í¬ ë°°í¬ì˜ ì¤‘ìš”í•œ ì¸¡ë©´ì„ ê³µìœ í•˜ê³ ì í•©ë‹ˆë‹¤. í˜¹ì‹œ ì§€ê¸ˆ Airflowë¥¼ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‹œì‘í•˜ëŠ” ì¤‘ì´ê±°ë‚˜ ë‹¤ë¥¸ ì•„ì´ë””ì–´ë¥¼ í‰ê°€í•˜ê³  ì‚¬ìš© ì‚¬ë¡€ì— ì ìš©í•˜ê³ ì í•˜ëŠ” ê²½ìš° ë„ì›€ì´ ë˜ê¸°ë¥¼ ë°”ë¼ê² ìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì €í¬ëŠ” í˜„ì¬ Airflow êµ¬í˜„ì˜ ì£¼ìš” ì¸¡ë©´ì— ë”°ë¼ ë‚˜ëˆ ë³¼ ê±°ì˜ˆìš”:\n\n- Executor ì„ íƒ\n- ë””ì»¤í”Œë§ ë° ë™ì  DAG ìƒì„±\n- ì„¸ë°€í•œ êµ¬ì„± ì¡°ì •\n- ì•Œë¦¼, ê²½ë³´ ë° ê°ì‹œ\n\n## Executor ì„ íƒ\n\nì—¬ê¸°ì„œëŠ” Kubernetesì—ì„œ ëª¨ë“  ê²ƒì„ ì‹¤í–‰í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ Airflowì˜ ê²½ìš°ë„ ë‹¤ë¥¼ ë°” ì—†ìŠµë‹ˆë‹¤. ì²˜ìŒì—ëŠ” Executor ì„ íƒì´ ëª…ë°±í•´ ë³´ì˜€ìŠµë‹ˆë‹¤: ì¿ ë²„ë„¤í‹°ìŠ¤ Executorë¥¼ ì‚¬ìš©í•©ì‹œë‹¤! ëŸ°íƒ€ì„ ê²©ë¦¬, ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ ì›í™œí•œ ì‘ì—… í™•ì¥ì„±, ê·¸ë¦¬ê³  ê´€ë¦¬í•´ì•¼ í•  êµ¬ì„± ìš”ì†Œê°€ ì ë‹¤ëŠ” ì¥ì ë“¤ì´ ëª¨ë‘ ì•„ì£¼ ì¢‹ì•„ ë³´ì˜€ì£ . ê·¸ë ‡ê²Œ ìš°ë¦¬ì˜ ì—¬ì •ì„ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê·¸ëŸ¬ë‚˜ ì €í¬ ìŠ¤íƒì—ì„œ ì¤‘ìš”í•œ íŠ¹ì§• í•˜ë‚˜ê°€ ìˆìŠµë‹ˆë‹¤: ëŒ€ë¶€ë¶„ì˜ ì‘ì—…ì€ ê°€ë²¼ìš´ DBT ì¦ë¶„ ë³€í™˜ ì‘ì—…ì´ë©°, ì•„ì£¼ ì†Œìˆ˜ì˜ ì‘ì—…ë§Œ ì¥ê¸° ì‹¤í–‰ë˜ëŠ” ëª¨ë¸(+/- 1ì‹œê°„)ì…ë‹ˆë‹¤.\n\nì²˜ìŒì— ì§ë©´í•œ ë¬¸ì œëŠ” ì‘ì—…ì„ ì‹œì‘í•˜ëŠ” ë° ë“œëŠ” ì˜¤ë²„í—¤ë“œì˜€ìŠµë‹ˆë‹¤. KubernetesExecutorëŠ” ê° ì‘ì—…ì„ ë³„ë„ì˜ Podì—ì„œ ì‹¤í–‰í•˜ë¯€ë¡œ ë•Œë¡œëŠ” Podë¥¼ ì‹œì‘í•˜ëŠ” ëŒ€ê¸° ì‹œê°„ì´ ì‘ì—… ìì²´ì˜ ì‹¤í–‰ ì‹œê°„ë³´ë‹¤ ë” ê¸¸ì–´ì§€ê³¤ í–ˆìŠµë‹ˆë‹¤. ì‘ì€ ì‘ì—…ì´ ë§ì•„ì„œ Kubernetes ë…¸ë“œì˜ í™•ì¥ì„ ê¸°ë‹¤ë¦¬ëŠë¼ ê³„ì†í•´ì„œ ê¸°ë‹¤ë ¤ì•¼ í–ˆìŠµë‹ˆë‹¤.\n\në‘ ë²ˆì§¸ ë¬¸ì œëŠ” ë” ë§ì€ ê³ í†µì„ ì•¼ê¸°í•œ ë¬¸ì œì´ì—ˆëŠ”ë°, ì¼ë¶€ ì‘ì—…(íŠ¹íˆ ì¥ê¸° ì‹¤í–‰ë˜ëŠ” ì‘ì—…)ì´ Podê°€ ìœ ë°°ë˜ì–´ ì˜ˆê¸°ì¹˜ ì•Šê²Œ ì‹¤íŒ¨í•˜ëŠ” ì¼ì´ ìˆì—ˆìŠµë‹ˆë‹¤. ì‘ì—…ì´ ê¸‰ê²©íˆ ì¦ê°€í•˜ë©´ Podì™€ í´ëŸ¬ìŠ¤í„° ë…¸ë“œì˜ ìˆ˜ë„ ì¦ê°€í•˜ë¯€ë¡œ ì‘ì—…ì´ ì™„ë£Œë˜ìë§ˆì ì‹œìŠ¤í…œì´ ë‹¤ì‹œ ì¶•ì†Œë  ì¤€ë¹„ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n\u003cimg src=\"/assets/img/2024-06-23-WhatwelearnedafterrunningAirflowonKubernetesfor2years_1.png\" /\u003e\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në¬¸ì œëŠ” Karpenterë¥¼ ì‚¬ìš©í•˜ì—¬ k8s í´ëŸ¬ìŠ¤í„°ì˜ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ì„ ìµœì í™”í•˜ê³  ìˆì–´ì„œ ë”ìš± ì•…í™”ë˜ì—ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ëª‡ ê°œì˜ Podsê°€ ì™„ë£Œëœ í›„ì— ë…¸ë“œì˜ ìŠ¤ì¼€ì¼ì¸ì´ ë§¤ìš° ë¹ ë¥´ê²Œ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì´ ë™ì‘ì€ í•´ë‹¹ ë…¸ë“œì— ë‚¨ì•„ ìˆëŠ” ë‚˜ë¨¸ì§€ Podsë¥¼ ì¶”ë°©í•˜ì—¬ ë‹¤ë¥¸ ë…¸ë“œë¡œ ì¬ë°°í¬í•˜ì—¬ ì´ ë…¸ë“œ ìˆ˜ë¥¼ ì¤„ì´ê³  ë¹„ìš©ì„ ì ˆê°í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n## CeleryExecutorê°€ í•´ê²°ì±…ìœ¼ë¡œ ë“±ì¥\n\nì´ ëª¨ë“  ìƒí™©ì„ ê³ ë ¤í•˜ì—¬, ìš°ë¦¬ëŠ” ì˜¤ë˜ëœ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” Celery Executorë¡œ ì „í™˜í•˜ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤. ì´ì œ ê³ ì •ëœ ì›Œì»¤ ë…¸ë“œë¥¼ ê°–ê²Œ ë˜ì–´, ìš°ë¦¬ì˜ ë§ê³  ë¹ ë¥¸ ì‘ì—…ì„ ì™„ë²½íˆ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. DBT ì‘ì—…ì˜ í‰ê·  ì‹¤í–‰ ì‹œê°„ì´ í¬ê²Œ ê°ì†Œí–ˆìŠµë‹ˆë‹¤. ì´ì œëŠ” ì´ˆê¸°í™”ë¥¼ ê¸°ë‹¤ë¦´ í•„ìš”ê°€ ì—†ê²Œ ë˜ì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\nAirflowì˜ ê³µì‹ ìµœì‹  helm ì°¨íŠ¸ë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨, KEDA ì˜¤í† ìŠ¤ì¼€ì¼ëŸ¬ì˜ ë„ì›€ì„ ë°›ì•„ í•„ìš”ì— ë”°ë¼ ì…€ëŸ¬ë¦¬ ì›Œì»¤ì˜ ìˆ˜ë¥¼ ì¦ê°€ ë˜ëŠ” ê°ì†Œì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì•„ì´ë“¤ ìƒíƒœì˜ ì›Œì»¤ì— ëŒ€í•´ ì¶”ê°€ ë¹„ìš©ì„ ì§€ë¶ˆí•  í•„ìš”ê°€ ì—†ê²Œ ë©ë‹ˆë‹¤. ì´ëŠ” Airflowì˜ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‹¤í–‰ ì¤‘ì´ê±°ë‚˜ ëŒ€ê¸° ì¤‘ì¸ ì‘ì—…ì˜ ìˆ˜ë¥¼ ê°€ì ¸ì™€ì„œ ì‘ì—…ì ë³‘í–‰ì„± êµ¬ì„±ì— ë”°ë¼ ì‘ì—…ì ìˆ˜ë¥¼ ì¡°ì •í•¨ìœ¼ë¡œì¨ ì‘ë™í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nìì›ì„ ë” ë§ì´ í•„ìš”ë¡œ í•˜ëŠ” ë§ì¶¤í˜• ì‘ì—…ì˜ ê²½ìš°, KubernetesPodOperatorë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ì´ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ Airflowì˜ ì´ë¯¸ì§€ì— ì„¤ì¹˜í•˜ì§€ ì•Šê³ ë„ íŠ¹ì • ì¢…ì†ì„±ì— ëŒ€í•œ ëŸ°íƒ€ì„ ë¶„ë¦¬ë¥¼ ìœ ì§€í•˜ê³  ê° ì‘ì—…ì— ê°œë³„ ìì› ìš”ì²­ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\ní˜„ì¬ëŠ” KubernetesCeleryExecutorì˜ ì±„íƒì„ ê³ ë ¤ ì¤‘ì…ë‹ˆë‹¤. ì´ëŠ” ì‘ì—…ì„ ë‘ ê°œì˜ ë³„ë„ ëŒ€ê¸°ì—´ì¸ k8sì™€ Celeryë¡œ ì˜ˆì•½í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ëª‡ëª‡ ì‘ì—…ì´ Celeryì— ë” ì˜ ë§ê³  ë‹¤ë¥¸ ì¼ë¶€ëŠ” Kubernetesì— ë” ì í•©í•œ ê²½ìš°ì— ìœ ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# Decoupling ë° ë™ì  DAG ìƒì„±\n\në°ì´í„° ì—”ì§€ë‹ˆì–´ë§ íŒ€ë¿ë§Œ ì•„ë‹ˆë¼ ê° íŒ€ì´ ìì²´ DAGë¥¼ ì‘ì„±í•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ìˆ˜ìš©í•˜ê¸° ìœ„í•´ DAGì— ëŒ€í•œ ë©€í‹° ë ˆí¬ ì ‘ê·¼ ë°©ì‹ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë™ì‹œì— ì¼ê´€ì„±ì„ ìœ ì§€í•˜ê³  ì§€ì¹¨ì„ ê°•ì œí•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## DAGsë¥¼ ìœ„í•œ ë‹¤ì¤‘ ì €ì¥ì†Œ ì ‘ê·¼ ì§€ì›\n\nDAGsëŠ” ê°ê° ë‹¤ë¥¸ íŒ€ì´ ì†Œìœ í•˜ëŠ” ê°œë³„ ì €ì¥ì†Œì—ì„œ ê°œë°œë  ìˆ˜ ìˆìœ¼ë©° ì—¬ì „íˆ ë™ì¼í•œ Airflow ì¸ìŠ¤í„´ìŠ¤ì— ë°°ì¹˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¬¼ë¡  DAGsë¥¼ Airflow ì´ë¯¸ì§€ì— í¬í•¨í•  í•„ìš” ì—†ì´ ğŸ˜‰\n\ní•œ ì‚¬ëŒì´ DAGì˜ í•œ ì¤„ì„ ìˆ˜ì •í•  ë•Œë§ˆë‹¤ ìŠ¤ì¼€ì¤„ëŸ¬ì™€ ì›Œì»¤ë¥¼ ê³„ì† ë‹¤ì‹œ ì‹œì‘í•˜ë ¤ê³  í•˜ì§€ ì•ŠëŠ” ê²Œ ì¢‹ì„ ê±°ì—ìš”.\n\n\u003cimg src=\"/assets/img/2024-06-23-WhatwelearnedafterrunningAirflowonKubernetesfor2years_2.png\" /\u003e\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê° DAGëŠ” íŒ€ì´ ì†Œìœ í•œ DAGì— ëŒ€í•œ ê²½ë¡œì— ë”°ë¼ ë™ê¸°í™” í”„ë¡œì„¸ìŠ¤ì— ì˜í•´ ì–´ë”˜ê°€ì˜ ë²„í‚·ì— ëë‚˜ê²Œ ë©ë‹ˆë‹¤.\n\nì´ ì ‘ê·¼ ë°©ì‹ì´ ì‘ë™í•˜ë ¤ë©´ CI/CD ê°€ë“œë ˆì¼ì„ ê°•ì œë¡œ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤. ê° DAG ì´ë¦„ì€ í•´ë‹¹ DAGë¥¼ ì†Œìœ í•œ íŒ€ìœ¼ë¡œ ë¯¸ë¦¬ ì§€ì •ë˜ì–´ì•¼ í•˜ë¯€ë¡œ DAG ID ì¶©ëŒì„ í”¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ê° DAGì— ëŒ€í•´ ì •ì  ê²€ì‚¬ê°€ ìˆ˜í–‰ë˜ì–´ ì •í™•í•œ ì†Œìœ ì í• ë‹¹ê³¼ íƒœê·¸ ì¡´ì¬ ì—¬ë¶€, ê°€ëŠ¥í•œ ê°€ì ¸ì˜¤ê¸° ì˜¤ë¥˜ ë“±ì„ í™•ì¸í•©ë‹ˆë‹¤.\n\nì´ë¥¼ í†µí•´ ë„¤ì´í‹°ë¸Œ Airflow ì—­í• ì„ ì‚¬ìš©í•˜ì—¬ ì•¡ì„¸ìŠ¤ ì œì–´ë¥¼ ê°•í™”í•˜ê³  ê° DAGëŠ” ì»¤ë°‹ë˜ê¸° ìœ„í•´ ìµœì†Œ ê±°ë²„ë„ŒìŠ¤ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ í†µê³¼í•´ì•¼ í•©ë‹ˆë‹¤.\n\n## ê·¸ëŸ°ë°, Airflowë¡œ DAGë¥¼ ì–´ë–»ê²Œ ë™ê¸°í™”í• ê¹Œìš”?\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nAirflowì— DAGê°€ ë°˜ì˜ë˜ë ¤ë©´, ìŠ¤ì¼€ì¤„ëŸ¬, ì›Œì»¤ ë“±ì„ ì‹¤í–‰í•˜ëŠ” Podì˜ ë¡œì»¬ íŒŒì¼ ì‹œìŠ¤í…œê³¼ ë²„í‚· ë‚´ìš©ì„ ë™ê¸°í™”í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ìš°ë¦¬ëŠ” Objinsyncë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ObjinsyncëŠ” ê°€ë²¼ìš´ ë°ëª¬ìœ¼ë¡œ ì›ê²© ê°ì²´ ìŠ¤í† ì–´ë¥¼ ë¡œì»¬ íŒŒì¼ ì‹œìŠ¤í…œìœ¼ë¡œ ì ì§„ì ìœ¼ë¡œ ë™ê¸°í™”í•©ë‹ˆë‹¤.\n\nìš°ë¦¬ëŠ” ëª¨ë“  Airflow êµ¬ì„± ìš”ì†Œ Podì— ë¶€ì°©ëœ ë¶€ê°€ ì»¨í…Œì´ë„ˆë¡œ objinsyncë¥¼ ì‹¤í–‰í•˜ì—¬ ìì£¼ ë™ê¸°í™” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ DAGì— ëŒ€í•œ ìƒˆë¡œìš´ ì—…ë°ì´íŠ¸ë¥¼ í•­ìƒ ëª‡ ë¶„ ë‚´ì— í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ë°°ìš´ êµí›ˆì€ objinsyncë¥¼ ì´ë‹ˆì…œë¼ì´ì € ì»¨í…Œì´ë„ˆë¡œë„ ì¶”ê°€í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë©”ì¸ ìŠ¤ì¼€ì¤„ëŸ¬ë‚˜ ì›Œì»¤ ì»¨í…Œì´ë„ˆê°€ ì‹œì‘ë˜ê¸° ì „ì—ë„ DAGë¥¼ ë™ê¸°í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” íŠ¹íˆ Celery ì›Œì»¤ë“¤ì— ëŒ€í•´ ë§¤ìš° ì¤‘ìš”í–ˆìŠµë‹ˆë‹¤. ë…¸ë“œ íšŒì „ì´ë‚˜ ë¦´ë¦¬ìŠ¤ë¡œ ì¸í•´ ë‹¤ì‹œ ì‹œì‘ëœ í›„, ë•Œë¡œëŠ” DAGë¥¼ ì•„ì§ ê°€ì ¸ì˜¤ì§€ ì•Šì€ ìƒˆë¡œìš´ ì›Œì»¤ì— í• ë‹¹ëœ ì‘ì—…ì´ ë°œìƒí•˜ì—¬ ì¦‰ì‹œ ì‹¤íŒ¨í•˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤.\n\n\u003cimg src=\"/assets/img/2024-06-23-WhatwelearnedafterrunningAirflowonKubernetesfor2years_3.png\" /\u003e\n\nì´ë¥¼ ë” íš¨ê³¼ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ì´ìƒì ì¸ ë°©ë²•ì€ ìŠ¤ì¼€ì¤„ëŸ¬ì— ë¶€ì°©ëœ ë¶€ê°€ ì»¨í…Œì´ë„ˆë¡œì¨ objinsync í”„ë¡œì„¸ìŠ¤ë¥¼ í•˜ë‚˜ë§Œ ì‹¤í–‰í•˜ê³  ë²„í‚· ë‚´ìš©ì„ ì˜êµ¬ ë³¼ë¥¨ì— ë³µì‚¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ê·¸ë˜ì„œ í•´ë‹¹ PVê°€ ëª¨ë“  Airflow êµ¬ì„± ìš”ì†Œì— ì¥ì°©ë©ë‹ˆë‹¤. ì—¬ê¸°ì—ëŠ” DAGê°€ ì„œë¡œ ë‹¤ë¥¸ Airflow êµ¬ì„± ìš”ì†Œ ì‚¬ì´ì— ë™ê¸°í™” ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì£„ì†¡í•˜ì§€ë§Œ, í˜„ì¬ëŠ” í´ëŸ¬ìŠ¤í„° ë…¸ë“œì— ëŒ€í•´ì„œëŠ” EBS ë³¼ë¥¨ë§Œ ì§€ì›í•˜ê³  ìˆì–´ì„œ ì´ëŸ¬í•œ í•´ê²°ì±…ì„ ì•„ì§ ì ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì„œë¡œ ë‹¤ë¥¸ ë…¸ë“œì— PVë¥¼ ë§ˆìš´íŠ¸í•˜ë ¤ë©´ ReadWriteMany ì•¡ì„¸ìŠ¤ ëª¨ë“œê°€ í•„ìš”í•©ë‹ˆë‹¤. í˜„ì¬ ì´ ëª¨ë“œëŠ” AWS EKSì—ì„œë§Œ EFS ë³¼ë¥¨ ëª¨ë“œë¥¼ ì‚¬ìš©í•  ë•Œì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nìš°ë¦¬ì˜ ì œí•œ ì‚¬í•­ì— ëŒ€í•œ í•´ê²°ì±…ìœ¼ë¡œëŠ” Airflow Podsë“¤ì„ ë™ì¼í•œ ë…¸ë“œì— ìŠ¤ì¼€ì¤„ë§í•˜ê¸° ìœ„í•´ nodeSelectorë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ìš°ë¦¬ëŠ” ì„œë¡œ ë‹¤ë¥¸ ê°€ìš© ì˜ì—­ì˜ ë…¸ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê³ ê°€ìš©ì„± Airflow ë°°í¬ë¥¼ ì„ í˜¸í–ˆìŠµë‹ˆë‹¤.\n\n## DAGë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±í•  ë•Œ ì£¼ì˜í•´ì•¼ í•  ì \n\nê·œëª¨ì— ë§ê²Œ DAGë¥¼ ìƒì„±í•˜ë ¤ë©´ DAG í…œí”Œë¦¿ ë° í”„ë¡œê·¸ë˜ë° ë°©ì‹ì˜ ìƒì„±ì„ í™œìš©í•´ì•¼ í•©ë‹ˆë‹¤. ë” ì´ìƒ DAGë¥¼ ìˆ˜ë™ìœ¼ë¡œ ëª¨ë‘ ì‘ì„±í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤ ğŸ˜‚\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ìœ¼ë¡œ DAGë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ë°©ë²•ì€ ë‹¨ì¼ íŒŒì¼ ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë£¨í”„ì—ì„œ DAG ê°ì²´ë¥¼ ìƒì„±í•˜ê³  globals() ì‚¬ì „ì— ì¶”ê°€í•˜ëŠ” í•˜ë‚˜ì˜ íŒŒì¼ì´ ìˆìŠµë‹ˆë‹¤.\n\nì´ ë°©ë²•ì€ ì²˜ìŒì—ëŠ” ìš°ë¦¬ì˜ DBT í”„ë¡œì íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì  DAGë¥¼ ìƒì„±í•˜ê¸° ì‹œì‘í–ˆì„ ë•Œ ë§¤ìš° ì§ê´€ì ì´ì—ˆìŠµë‹ˆë‹¤ (DBT ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ì— ëŒ€í•œ ì£¼ì œëŠ” ë³„ë„ì˜ ê²Œì‹œë¬¼ì´ í•„ìš”í•˜ë©° ë‚˜ì¤‘ì— ì´ë£¨ì–´ì§ˆ ì˜ˆì •ì…ë‹ˆë‹¤). ê·¸ëŸ¬ë‚˜ DAGê°€ ì •ê¸°ì ìœ¼ë¡œ ìŠ¤ì¼€ì¤„ëŸ¬ì— ì˜í•´ êµ¬ë¬¸ ë¶„ì„ë˜ëŠ” ê²½ìš°, ì´ ë°©ë²•ì„ ì‚¬ìš©í•  ë•Œ CPU ë° ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ì¦ê°€í•˜ê³  ìŠ¤ì¼€ì¤„ëŸ¬ ë£¨í”„ ì‹œê°„ì´ ë” ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê²ƒì„ ê´€ì¸¡í–ˆìŠµë‹ˆë‹¤. íŠ¹íˆ DBT manifest.jsonì„ êµ¬ë¬¸ ë¶„ì„í•´ì•¼ í–ˆê¸° ë•Œë¬¸ì— ì´ ë°©ë²•ì€ ìš°ë¦¬ í”„ë¡œì íŠ¸ ê·œëª¨ì—ì„œ í™•ì¥ ê°€ëŠ¥í•˜ì§€ ì•Šì•˜ìŒì´ ë¹¨ë¦¬ ë“œëŸ¬ë‚¬ìŠµë‹ˆë‹¤.\n\ní•´ê²°ì±…ì€ ë‹¤ì¤‘ íŒŒì¼ ë°©ì‹ì„ ì±„íƒí•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. ì´ ë°©ì‹ì—ì„œëŠ” ë™ì ìœ¼ë¡œ ìƒì„±í•˜ë ¤ëŠ” DAGë§ˆë‹¤ .py íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ DAG ìƒì„± í”„ë¡œì„¸ìŠ¤ë¥¼ ìš°ë¦¬ì˜ DBT í”„ë¡œì íŠ¸ ì €ì¥ì†Œë¡œ í†µí•©í–ˆìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ëŠ” ì´ì œ ë” ë§ì€ DAGë¥¼ ìƒì„±í•˜ëŠ” í”„ë¡œë“€ì„œë¡œ ë³€í™”í•˜ì—¬ ë™ì ìœ¼ë¡œ ìƒì„±ëœ íŒŒì¼ì„ DAG ë²„í‚·ìœ¼ë¡œ í‘¸ì‹œí•©ë‹ˆë‹¤.\n\nAstronomerì—ëŠ” ë‹¨ì¼ íŒŒì¼ ë°©ë²•ê³¼ ë‹¤ì¤‘ íŒŒì¼ ë°©ë²•ì— ëŒ€í•œ í›Œë¥­í•œ ê¸°ì‚¬ê°€ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ì„¸ë¶€ êµ¬ì„± ì¡°ì •\n\nCeleryExecutorë¡œ ì´ë™í•œ ìˆœê°„, ìš°ë¦¬ê°€ í•œ ë¬¸ì œë¥¼ í•´ê²°í–ˆì§€ë§Œ ìƒˆë¡œìš´ ë¬¸ì œê°€ ë°œìƒí•˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ëª‡ ì¼ í›„(ë˜ëŠ” ëª‡ ì‹œê°„ í›„)ì— ì—ì–´í”Œë¡œìš°ë¥¼ ì‹¤í–‰í•˜ëŠ” ë™ì•ˆ ì¼ë¶€ Celery ì›Œì»¤ê°€ OOM(ë©”ëª¨ë¦¬ ë¶€ì¡±) ë¬¸ì œë¡œ ì£½ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤. Podì— ì¶©ë¶„í•œ ë©”ëª¨ë¦¬ ìì›ì„ ì œê³µí–ˆê¸° ë•Œë¬¸ì— ë¬´ì–¸ê°€ ì´ìƒí•œ ê²ƒì´ ìˆì—ˆìŠµë‹ˆë‹¤.\n\nì¡°ì‚¬ ê²°ê³¼, ìš°ë¦¬ê°€ ë³¸ Celery ì›Œì»¤ ìì› ì‚¬ìš© ì°¨íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n![ì°¨íŠ¸](/assets/img/2024-06-23-WhatwelearnedafterrunningAirflowonKubernetesfor2years_4.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì €í¬ ì—…ë¬´ëŠ” ì£¼ë¡œ ì…€ëŸ¬ë¦¬ ì›Œì»¤ì— ì˜í•´ ì‹¤í–‰ë˜ëŠ” DBT ì‘ì—…ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ ë•Œ ê±°ì˜ ì§€ì†ì ìœ¼ë¡œ ì¦ê°€í•˜ëŠ” ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì€ ìš°ë¦¬ë¥¼ í˜¼ë€ìŠ¤ëŸ½ê²Œ í–ˆì—ˆì£ . ìš°ë¦¬ëŠ” ì‘ì—… ê°„ì— ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ìˆëŠ” ê²ƒìœ¼ë¡œ ì˜ì‹¬í•˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤.\n\në©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë°©ì§€í•˜ê³  ì‘ì—…ì˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì œì–´í•˜ê¸° ìœ„í•´ ë‘ ê°€ì§€ ì¤‘ìš”í•œ ì…€ëŸ¬ë¦¬ êµ¬ì„±ì„ ì„¸ë°€í•˜ê²Œ ì¡°ì •í•´ì•¼ í–ˆìŠµë‹ˆë‹¤: worker_max_tasks_per_childì™€ worker_max_memory_per_child.\n\nì²« ë²ˆì§¸ êµ¬ì„±ì€ ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ê°€ ìƒˆ í”„ë¡œì„¸ìŠ¤ë¡œ êµì²´ë˜ê¸° ì „ì— ì‹¤í–‰í•  ìˆ˜ìˆëŠ” ìµœëŒ€ ì‘ì—… ìˆ˜ë¥¼ ì œì–´í•©ë‹ˆë‹¤. ë¨¼ì € ì…€ëŸ¬ë¦¬ ì›Œì»¤ì™€ ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ì˜ ì°¨ì´ë¥¼ ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤. í•œ ì›Œì»¤ ë…¸ë“œëŠ” ì—¬ëŸ¬ ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìœ¼ë©° ì´ëŠ” ë™ì‹œì„± ì„¤ì •ì— ì˜í•´ ì œì–´ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë™ì‹œì„±ì„ 12ë¡œ ì„¤ì •í•˜ê³  ì…€ëŸ¬ë¦¬ ì›Œì»¤ê°€ 2ê°œ ìˆë‹¤ë©´ ì´ 24ê°œì˜ ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ê°€ ìƒê¹ë‹ˆë‹¤.\n\në”°ë¼ì„œ ë™ì¼í•œ ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ ë‚´ ì‘ì—… ê°„ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ë•Œë•Œë¡œ í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ë¥¼ ì¬ì‹œì‘í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì´ êµ¬ì„±ì´ ì„¤ì •ë˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡œ í•´ë‹¹ ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ëŠ” ì¬ì‹œì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në‘ ë²ˆì§¸ ì„¤ì •ì¸ worker_max_memory_per_childì€, ë‹¨ì¼ ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ë˜ê¸° ì „ì— êµì²´ë˜ëŠ” ìµœëŒ€ ì£¼ê±° ì¤‘ì¸ ë©”ëª¨ë¦¬ ì–‘ì„ ì œì–´í•©ë‹ˆë‹¤. ì´ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì œì–´í•©ë‹ˆë‹¤. ê¸°ë³¸ ì„¤ì •ì€ ì œí•œì´ ì—†ìœ¼ë¯€ë¡œ í•­ìƒ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\n\nì´ ë‘ êµ¬ì„±ì„ ì¡°ì •í•¨ìœ¼ë¡œì¨ ìš°ë¦¬ëŠ” ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì œì–´í•˜ê³ , ë‘ ê°€ì§€ ê²½ìš°ì— ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ë¥¼ ì¬í™œìš©í•˜ê²Œ ë©ë‹ˆë‹¤: ë§Œì•½ ìµœëŒ€ ì‘ì—… ìˆ˜ì— ë„ë‹¬í•˜ê±°ë‚˜ ìµœëŒ€ ì£¼ê±° ì¤‘ì¸ ë©”ëª¨ë¦¬ì–‘ì— ë„ë‹¬í–ˆì„ ë•Œì…ë‹ˆë‹¤. ì´ëŸ¬í•œ êµ¬ì„±ì€ í”„ë¦¬í¬í¬ í’€ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ë§Œ ì‘ë™í•œë‹¤ëŠ” ì ì„ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ê³µì‹ ë¬¸ì„œì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nAirflowì—ì„œ ì´ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì€ ë§¤ìš° ê°„ë‹¨í•©ë‹ˆë‹¤. Airflowì˜ config_templates í´ë”ì— ìˆëŠ” ê¸°ë³¸ Celery êµ¬ì„±ì„ ì—…ë°ì´íŠ¸í•´ì•¼ í•©ë‹ˆë‹¤. ì•„ë˜ì™€ ê°™ì´ í•´ì£¼ì„¸ìš”:\n\n```js\n# config_templates/custom_celery.py\n\nfrom airflow.config_templates.default_celery import DEFAULT_CELERY_CONFIG\n\nCUSTOM_CELERY_CONFIG = DEFAULT_CELERY_CONFIG.copy()\nCUSTOM_CELERY_CONFIG.update(\n    {\n        \"worker_max_tasks_per_child\": \u003cint\u003e,\n        \"worker_max_memory_per_child\": \u003cint\u003e,\n    }\n)\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê·¸ë¦¬ê³  values.yamlì—ì„œ ì´ ì‚¬ìš©ì ì •ì˜ êµ¬ì„±ë¬¼ì„ ê°€ë¦¬í‚¤ë„ë¡ í•©ë‹ˆë‹¤.\n\n```js\nairflow:\n   config:\n     celery:\n       worker_concurrency: \u003cint\u003e\n       celery_config_options: config_templates.custom_celery.CUSTOM_CELERY_CONFIG\n```\n\nìœ„ êµ¬ì„±ì— ì‚¬ìš©í•˜ëŠ” êµ¬ì²´ì ì¸ ê°’ì€ ì›Œì»¤ ë…¸ë“œ êµ¬ì„±, ë©”ëª¨ë¦¬ ìš”ì²­/ì œí•œ ì–‘, ë™ì‹œì„± ìˆ˜ì¤€ ë° ì‘ì—…ì´ ë©”ëª¨ë¦¬ ì§‘ì•½ì ì¸ì§€ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ê·€í•˜ì˜ íŠ¹ì • ì„¤ì •ì— ë§ê²Œ ì„¸ë°€í•˜ê²Œ ì¡°ì •í•´ì•¼í•©ë‹ˆë‹¤.\n\n## ë…¸ë“œ íšŒì „ì„ ëŒ€ë¹„í•˜ì„¸ìš”\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nk8s ë…¸ë“œëŠ” ê³ ì¥ì´ ë°œìƒí•˜ê±°ë‚˜ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ê´€ë¦¬í•˜ëŠ” ì¸í”„ë¼ íŒ€ì— ì˜í•´ ì˜ˆì •ëœ ë…¸ë“œ íšŒì „ìœ¼ë¡œ ì¸í•´ íšŒì „í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, ì›Œì»¤ ë…¸ë“œ(Pods)ëŠ” ë¦´ë¦¬ìŠ¤ ì´ë²¤íŠ¸ ë°œìƒ ì‹œ, êµ¬ì„± ë³€ê²½(ì˜ˆ: í™˜ê²½ ë³€ìˆ˜)ì´ë‚˜ ë² ì´ìŠ¤ ì´ë¯¸ì§€ ë³€ê²½ ì‹œ íšŒì „í•©ë‹ˆë‹¤. ë…¸ë“œ íšŒì „ì€ ë‹¹ì—°íˆ Podsê°€ ì¢…ë£Œë˜ëŠ” ê²°ê³¼ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\n\nì´ëŸ¬í•œ ì‚¬ê±´ì— ëŒ€ë¹„í•˜ì—¬ ìš°ë¦¬ì˜ ì‘ì—…ì´ ë‹¨ìˆœíˆ ì¢…ë£Œëœ Podë¡œ ì¸í•´ ì‹¤íŒ¨í•˜ì§€ ì•Šë„ë¡ ì¤€ë¹„ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. íŠ¹íˆ ì¥ì‹œê°„ ì‹¤í–‰ë˜ëŠ” ì‘ì—…ì˜ ê²½ìš° íŠ¹íˆ ì•„í”Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, 2~3ì‹œê°„ ë™ì•ˆ ì‘ì—…ì„ ì‹¤í–‰ ì¤‘ì— ì˜ˆì •ëœ ë…¸ë“œ íšŒì „ìœ¼ë¡œ ì¸í•´ ì‹¤íŒ¨í•œë‹¤ë©´ ìƒìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ê°œë³„ì ì¸ ìš”êµ¬ ì‚¬í•­ì— ë”°ë¼ Worker Termination Grace Period êµ¬ì„±ì„ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ì´ êµ¬ì„±ì€ ì‰˜ëŸ¬ë¦¬ ì›Œì»¤ê°€ ë¦´ë¦¬ìŠ¤ í”„ë¡œì„¸ìŠ¤ë‚˜ ë…¸ë“œ íšŒì „ì— ì˜í•´ ì¢…ë£Œë˜ê¸° ì „ì— í•´ë‹¹ ì‹œê°„(ì´ˆ)ê¹Œì§€ ê¸°ë‹¤ë¦¬ë„ë¡ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤. ì´ê²ƒì€ Airflowì˜ ì°¨íŠ¸ ê°’(values.yaml)ì—ì„œ ì‰½ê²Œ ì„¤ì •í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\nairflow:\nworkers:\nterminationGracePeriodSeconds: \u003cint\u003e\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê°€ì¥ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—… ì™„ë£Œ ì‹œê°„ì˜ 1.5ë°°ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ëª¨ë“  ì‘ì—…ì´ ê·¸ ê¸°ê°„ ë‚´ì— ì™„ë£Œë  ê²ƒì´ë¯€ë¡œ, ì‘ì—…ìë¥¼ ì›í• í•˜ê²Œ ì¢…ë£Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# ì•Œë¦¼, ê²½ë³´ ë° ê´€ì¸¡\n\n## íšŒì‚¬ ì•Œë¦¼ í†µí•©\n\nAirflowì˜ ê°€ì¥ ì¼ë°˜ì ì¸ ì‚¬ìš© ì‚¬ë¡€ ì¤‘ í•˜ë‚˜ëŠ” íŠ¹ì • ì‘ì—… ì´ë²¤íŠ¸, ì˜ˆë¥¼ ë“¤ì–´ íŒŒì¼ ì²˜ë¦¬, í´ë¦°ì—… ì‘ì—… ë˜ëŠ” ì‘ì—… ì‹¤íŒ¨ í›„ì— ì‚¬ìš©ì ì§€ì • ì•Œë¦¼ì„ ë³´ë‚´ëŠ” ê²ƒì…ë‹ˆë‹¤. Airflowë¥¼ ì‚¬ìš©í•˜ëŠ” ì—¬ëŸ¬ íŒ€ì´ ìˆëŠ” í™˜ê²½ì—ì„œ ì‘ì—… ì•Œë¦¼ ë©”ì»¤ë‹ˆì¦˜ì„ í†µí•©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\ní…Œì´ë¸” íƒœê·¸ë¥¼ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•´ì£¼ì„¸ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì»¤ìŠ¤í…€ ì•Œë¦¼ì€ í…œí”Œë¦¿í™”ë˜ì–´ ìˆì–´ì„œ íŒ€ë“¤ì€ í‘œì¤€ í˜•ì‹ìœ¼ë¡œ Slackì—ì„œ ì •ë³´ ë©”ì‹œì§€ë¥¼ ë§Œë“œëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜ ë‹¤ë¥¸ ì¥ì ì€ ì´ ì ‘ê·¼ ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ê°œë³„ íŒ€ì´ ê°œë³„ ì•Œë¦¼ ëŒ€ìƒì˜ ë¹„ë°€ì„ ê´€ë¦¬í•  í•„ìš”ê°€ ì—†ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n## ì‹¤íŒ¨ì— ëŒ€í•´ ê°€ì¥ ë¨¼ì € ì•Œì•„ë³´ì„¸ìš”\n\nê³ ê°€ìš©ì„±ì˜ ìµœìƒì˜ ì‹¤ì²œ ë°©ë²•ê³¼ íŒ¨í„´ì„ êµ¬í˜„í•˜ë”ë¼ë„ AirflowëŠ” ë‹¤ì–‘í•œ ì´ìœ ë¡œ ì‹¤íŒ¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì´ ì¸í”„ë¼ ìˆ˜ì¤€ì—ì„œì˜ ê´€ì¸¡ ê°€ëŠ¥ì„±, ë©”íŠ¸ë¦­ ë° ê²½ë³´ê°€ ë§¤ìš° ì¤‘ìš”í•œ ì´ìœ ì…ë‹ˆë‹¤.\n\nKubernetesì—ì„œ ì‹¤í–‰í•  ë•Œ ê´€ì‹¬ ìˆëŠ” ëª¨ë“  ì´ë²¤íŠ¸ì— ëŒ€í•´ PrometheusRuleì„ ì„¤ì •í•˜ì—¬ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ìŠ¤ì¼€ì¤„ëŸ¬ ë…¸ë“œì˜ ìƒíƒœ, ì‚¬ìš© ê°€ëŠ¥í•œ ì›Œì»¤ ë…¸ë“œ ìˆ˜ ë˜ëŠ” ìŠ¤ì¼€ì¤„ëŸ¬ ë£¨í”„ ì‹œê°„ê³¼ ê°™ì€ íŠ¹ì • Airflow ë©”íŠ¸ë¦­ì„ ëª¨ë‹ˆí„°ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ AlertManagerë¥¼ ì‹¤í–‰í•˜ë©´ ë‹¤ì–‘í•œ ëŒ€ìƒ (Slack, PagerDuty, Opsgenie ë“±)ìœ¼ë¡œ ê²½ë³´ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në˜ ë‹¤ë¥¸ í˜„ëª…í•œ ì¼ì€ Airflow ë©”íŠ¸ë¦­ì„ í™œìš©í•˜ì—¬ í™˜ê²½ì˜ ê°€ì‹œì„±ì„ í–¥ìƒì‹œí‚¤ëŠ” ê²ƒì…ë‹ˆë‹¤. í˜„ì¬ AirflowëŠ” StatsDì™€ OpenTelemetryë¡œ ë©”íŠ¸ë¦­ì„ ì „ì†¡í•˜ëŠ” ê²ƒì„ ì§€ì›í•©ë‹ˆë‹¤. í›„ìê°€ ë” ìš°ì„ ë˜ëŠ”ë°, ì™œëƒí•˜ë©´ OpenTelemetryê°€ Logsì™€ Tracesë¥¼ ì§€ì›í•˜ëŠ” ë” ì™„ì „í•œ í”„ë ˆì„ì›Œí¬ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ í˜„ì¬ AirflowëŠ” ì•„ì§ OTELì„ í†µí•œ ë¡œê·¸ ë° ì¶”ì ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. (í•˜ì§€ë§Œ ë¯¸ë˜ì— ì§€ì›í•  ì˜ˆì •ì…ë‹ˆë‹¤!)\n\nì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´, Kubernetesì—ì„œ OTEL Collector ë°°í¬ë¥¼ ê´€ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤ (ê³µì‹ í—¬ë¦„ ì°¨íŠ¸ëŠ” ì—¬ê¸°ì— ìˆìŠµë‹ˆë‹¤). ê³µì‹ Airflow ì°¨íŠ¸ëŠ” statsdì™€ ë‹¬ë¦¬ OTEL Collectorë¥¼ ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\ní‘œì¤€ ë©”íŠ¸ë¦­ìœ¼ë¡œ ê²½ë³´ ê¸°ëŠ¥ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ëŒ€ê¸° ì¤‘ì¸ ì‘ì—…ì˜ ì´ ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒ€ê¸°ì—´ì´ íŠ¹ì • ì‹œê°„ ë™ì•ˆ ë„ˆë¬´ ë§ì´ ì¦ê°€í•  ë•Œ íŠ¸ë¦¬ê±°í•  ê²½ê³ ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ SLA ì‹œê°„ë³´ë‹¤ ë” ê¸´ ëŒ€ê¸°ì—´ì€ ì›í•˜ì§€ ì•Šìœ¼ì‹¤ ê²ë‹ˆë‹¤.\n\nâ—ï¸ê²½ê³ : ì´ ì´ë¯¸ì§€ëŠ” ë¯¸ë¦¬ë³´ê¸°ìš©ì´ë¯€ë¡œ ì´ë¯¸ì§€ê°€ í‘œì‹œë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në‹¤ë¥¸ ìœ ìš©í•œ ì§€í‘œëŠ” DAG êµ¬ë¬¸ ë¶„ì„ ì‹œê°„ê³¼ ìŠ¤ì¼€ì¤„ëŸ¬ ë£¨í”„ ì‹œê°„ì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ Airflowì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ë¬¸ì œë¥¼ ë¹ ë¥´ê²Œ ì‹ë³„í•˜ê³  ì „ì²´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì†ë„ì¡°ì ˆí•˜ëŠ” ë° ë„ì›€ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## Airflow ë©”íƒ€ë°ì´í„° ê´€ë¦¬ì— ì£¼ì˜\n\në©”íƒ€ë°ì´í„° ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì„±ê³µì ì¸ Airflow êµ¬í˜„ì˜ ì¤‘ìš”í•œ ë¶€ë¶„ì´ë©°, ì„±ëŠ¥ì„ ì €í•˜ì‹œí‚¤ê±°ë‚˜ Airflowë¥¼ ë‹¤ìš´ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nAirflow ë…¸ë“œ ë° ìœ„ì—ì„œ ì–¸ê¸‰í•œ ì„±ëŠ¥ ì§€í‘œë¥¼ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ê²ƒ ì™¸ì—ë„ ë°ì´í„°ë² ì´ìŠ¤ì˜ ê±´ê°• ì§€í‘œë¥¼ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. PostgreSQL ë˜ëŠ” MySQLì„ ì‚¬ìš©í•˜ëŠ”ì§€ì— ë”°ë¼ ë‹¤ë¥´ì§€ë§Œ, CPU ì‚¬ìš©ëŸ‰, ì‚¬ìš© ê°€ëŠ¥í•œ ìŠ¤í† ë¦¬ì§€, ì—´ë¦° ì—°ê²° ìˆ˜ ë“±ì´ ê°€ì¥ ì¼ë°˜ì ì¸ ì§€í‘œì…ë‹ˆë‹¤.ğŸ˜‚\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\ní…Œì´ë¸” íƒœê·¸ë¥¼ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•˜ë©´ ë” ì¢‹ì€ ë°©ë²•ì…ë‹ˆë‹¤.\n\nì˜¤ë˜ë˜ê±°ë‚˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë©”íƒ€ë°ì´í„°ë¥¼ ì •ê¸°ì ìœ¼ë¡œ ì •ë¦¬í•˜ëŠ” ê²ƒë„ ì¢‹ì€ ì‹¤ì²œ ë°©ë²• ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. job, dag_run, task_instance, log, xcom, sla_miss, dags, task_reschedule, task_fail ë“±ê³¼ ê°™ì€ í…Œì´ë¸”ì´ ì—¬ê¸°ì— í¬í•¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ëª¨ë“  ë©”íƒ€ë°ì´í„°ëŠ” Airflow ë‚´ì—ì„œ ê³„ì† ìŒ“ì´ë©°, ì˜ˆë¥¼ ë“¤ì–´ ì‘ì—… ìƒíƒœë¥¼ ê°€ì ¸ì˜¤ëŠ” í‰ê·  ì¿¼ë¦¬ê°€ í•„ìš” ì´ìƒìœ¼ë¡œ ì˜¤ë˜ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ Airflowê°€ ë¡œë“œë˜ê³  íƒìƒ‰í•˜ëŠ” ê²ƒì´ ë„ˆë¬´ ëŠë¦¬ê²Œ ëŠê»´ì§€ëŠ” ì ì´ ìˆë‚˜ìš”? ë©”íƒ€ë°ì´í„°ê°€ ìŒ“ì´ëŠ” ê²ƒì´ ê·¸ ì›ì¸ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në‹¤í–‰íˆë„, Airflowì—ëŠ” ê·¸ì— ëŒ€í•œ ë„¤ì´í‹°ë¸Œ ëª…ë ¹ì–´ê°€ ì œê³µë©ë‹ˆë‹¤. airflow db clean â€” ì´ ëª…ë ¹ì–´ëŠ” ë™ì‘ì„ êµ¬ì„±í•  ìˆ˜ ìˆëŠ” ì„ íƒì  í”Œë˜ê·¸ì™€ í•¨ê»˜ ì œê³µë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ì—¬ê¸°ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nKubernetesë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” Airflow ì°¨íŠ¸ì— ì¶”ê°€ ë¦¬ì†ŒìŠ¤ë¡œ CronJobì„ ì„¤ì •í•˜ì—¬ ì§€ì •í•œ í”Œë˜ê·¸ì™€ í•¨ê»˜ ì£¼ê¸°ì ìœ¼ë¡œ airflow db clean ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ ì¢‹ì€ ì ‘ê·¼ ë°©ë²•ì…ë‹ˆë‹¤. êµ¬í˜„ ê·œëª¨ì— ë”°ë¼ ì´ ì‘ì—…ì„ ë§¤ì¼ ë˜ëŠ” ë§¤ì£¼ ì‹¤í–‰í•´ì•¼ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n# ê²°ë¡ \n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì œê°€ ì‘ì„±í•œ í…ìŠ¤íŠ¸ê°€ Airflow on Kubernetesë¥¼ ì‚¬ìš©í•˜ëŠ” ì—¬ëŸ¬ íŒ€ë“¤ì´ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” í˜‘ì—… í™˜ê²½ì—ì„œ ì—¬ì •ì„ ì‹œì‘í•˜ëŠ” ë° ë„ì›€ì´ ë  ê²ƒì„ í¬ë§í•©ë‹ˆë‹¤.\n\nì—¬ê¸°ì— ì–¸ê¸‰ë˜ì§€ ì•Šì€ ë§ì€ êµ¬ì„± ìš”ì†Œì™€ ì„¸ë¶€ ì •ë³´ë“¤ì´ ì„±ê³µì ì¸ êµ¬í˜„ì— ê¸°ì—¬í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì•„ì§ ê°œì„ í•  ë¶€ë¶„ì´ ë§ê³  ê°ˆ ê¸¸ì´ ë©€ì§€ë§Œ, ì—¬ëŸ¬ë¶„ë„ ê²½í—˜ì„ ê³µìœ í•˜ê±°ë‚˜ ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ì—°ë½í•´ì£¼ì„¸ìš”. í•¨ê»˜ ì´ì•¼ê¸° ë‚˜ëˆ„ë©´ ë” ì¢‹ê² ì£  ğŸ˜„\n","ogImage":{"url":"/assets/img/2024-06-23-WhatwelearnedafterrunningAirflowonKubernetesfor2years_0.png"},"coverImage":"/assets/img/2024-06-23-WhatwelearnedafterrunningAirflowonKubernetesfor2years_0.png","tag":["Tech"],"readingTime":16},{"title":"YAML Lintë¡œ YAML íŒŒì¼ ê²€ì¦í•˜ëŠ” ë°©ë²• ","description":"","date":"2024-06-23 01:06","slug":"2024-06-23-ValidateyourYAMLFileswithYAMLLint","content":"\n\u003cimg src=\"/assets/img/2024-06-23-ValidateyourYAMLFileswithYAMLLint_0.png\" /\u003e\n\nì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ YAML íŒŒì¼ì„ ë‹¤ë£¨ëŠ” ê²ƒì€ ë°ë¸Œì˜µìŠ¤ ë¶„ì•¼ì—ì„œ ê¼­ í•„ìš”í•œ ê¸°ìˆ ì…ë‹ˆë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ì™€ í•¨ê»˜ ì‘ì—…í•  ë•Œ ì¤‘ìš”í•œ ì¸¡ë©´ ì¤‘ í•˜ë‚˜ëŠ” YAML íŒŒì¼ì„ ë§Œë“¤ê³  ê´€ë¦¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ íŒŒì¼ë“¤ì€ ì¿ ë²„ë„¤í‹°ìŠ¤ êµ¬ì„±ì˜ ì£¼ì¶§ëŒì´ì£ .\n\nê·¸ë¦¬ê³  YAMLì´ ê°•ë ¥í•˜ë‹¤ê³  ìƒê°í•˜ì§€ë§Œ, ë§¤ë²ˆ ë¬¸ë²•ì„ ì •í™•í•˜ê²Œ ë§ì¶”ëŠ” ê²ƒì´ ê¹Œë‹¤ë¡œìš¸ ìˆ˜ ìˆì–´ìš”.\n\nì €ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ì—¬ì •ì—ì„œ ì•ìœ¼ë¡œ ê¸°ì–µì— ë‚¨ëŠ” ì–‘ìƒ ì¤‘ í•˜ë‚˜ê°€ YAML êµ¬ë¬¸ ì˜¤ë¥˜ë¥¼ ë””ë²„ê¹…í•˜ëŠ” ë° ìƒë‹¹í•œ ì‹œê°„ì„ íˆ¬ìí–ˆë˜ ê²ƒì…ë‹ˆë‹¤. ê·¸ë•Œ ì´ ë¦°íŒ… ë„êµ¬ë¥¼ ë°œê²¬í–ˆê³ , ì´í›„ë¡œëŠ” ì €ì˜ ì‘ì—… íë¦„ì—ì„œ ì—†ì–´ì„œëŠ” ì•ˆ ë  ë¶€ë¶„ì´ ëìŠµë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ê³¼ ê³µìœ í•˜ì—¬ ë””ë²„ê¹… ì‹œê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆê¸°ë¥¼ ê°„ì ˆíˆ ë°”ëë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nYAML íŒŒì¼ì—ì„œ ê°€ì¥ ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ ì¤‘ í•˜ë‚˜ëŠ” ë“¤ì—¬ì“°ê¸°ê°€ ì˜ëª»ëœ ê²½ìš°ì…ë‹ˆë‹¤..ğŸ¤¯.. ê·¸ë ‡ì§€ ì•Šë‚˜ìš”?\n\nYAMLì€ êµ¬ì¡°ë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ ë“¤ì—¬ì“°ê¸°ë¥¼ ì‚¬ìš©í•˜ë©°, ì‹¬ì§€ì–´ í•œ ì¹¸ì˜ ê³µë°±ì´ ì˜ëª»ë˜ë©´ ì „ì²´ íŒŒì¼ì´ ê¹¨ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤ ğŸ’”.. (ìš°ë¦¬ì—ê²ŒëŠ” ëŒ€ë¶€ë¶„ì˜ ì‹œê°„ì´ ë°œìƒí•©ë‹ˆë‹¤ ğŸ˜‰)\n\nKubernetes í´ëŸ¬ìŠ¤í„°ì— ì ìš©í•˜ê¸° ì „ì— YAML íŒŒì¼ì„ ìœ íš¨ì„± ê²€ì‚¬í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ë™ì˜í•˜ì„¸ìš”..?\n\n## YAML Lint: ì„¸ì´ë²„\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![YAML Lint](/assets/img/2024-06-23-ValidateyourYAMLFileswithYAMLLint_1.png)\n\në‚´ê°€ ìì£¼ ì‚¬ìš©í•˜ëŠ” ë„êµ¬ ì¤‘ í•˜ë‚˜ëŠ” YAML Lintì…ë‹ˆë‹¤. ì´ ë„êµ¬ëŠ” YAML íŒŒì¼ì„ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ì—¬ ì˜¬ë°”ë¥¸ êµ¬ë¬¸ì„ ì¤€ìˆ˜í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤. ì˜¤ë¥˜ë¥¼ ê°•ì¡°í•˜ê³  ìì„¸í•œ í”¼ë“œë°±ì„ ì œê³µí•˜ì—¬ ë¬¸ì œë¥¼ íŒŒì•…í•˜ê³  í•´ê²°í•˜ê¸° ì‰½ê²Œ ë§Œë“­ë‹ˆë‹¤.\n\n## YAML Lint ì‚¬ìš© ë°©ë²•\n\nê°„ë‹¨í•©ë‹ˆë‹¤. ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ì˜¨ë¼ì¸ ìœ íš¨ì„± ê²€ì‚¬ê¸°: YAML Lintì™€ ê°™ì€ ì›¹ ì‚¬ì´íŠ¸ë¥¼ í†µí•´ YAML ë‚´ìš©ì„ ë¶™ì—¬ë„£ê³  ì¦‰ì‹œ ìœ íš¨ì„±ì„ ê²€ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ê·¸ê²ƒë§Œìœ¼ë¡œ ì¶©ë¶„íˆ ê°„ë‹¨í•˜ì£  :) )\n- ëª…ë ¹ ì¤„ ë„êµ¬: CLIë¥¼ ì‚¬ìš©í•˜ëŠ” ì‚¬ëŒì„ ìœ„í•´ yamllintì™€ ê°™ì€ ë„êµ¬ë¥¼ ì„¤ì¹˜í•˜ê³  ëª…ë ¹ ì¤„ì—ì„œ íŒŒì¼ì„ ì§ì ‘ ìœ íš¨ì„± ê²€ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì˜ˆ: yamllint file.yaml)\n\nYAML Lint (CLI) ì„¤ì¹˜:\n\n```js\nsudo apt-get install yamllint\n```\n\n## ê²°ë¡ \n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nYAML Lintì™€ ê°™ì€ ë„êµ¬ë“¤ì´ ì •ë§ ìƒëª…êµ¬ì¡°ì˜€ì–´ìš”, YAML íŒŒì¼ì„ ë¹ ë¥´ê³  íš¨ìœ¨ì ìœ¼ë¡œ ê²€ì¦í•˜ê³  ìˆ˜ì •í•˜ëŠ” ì €ë¥¼ ë„ì™€ì£¼ì—ˆì£ . ì—¬ëŸ¬ë¶„ì€ YAML íŒŒì¼ì„ ì–´ë–»ê²Œ í™•ì¸í•˜ì‹œë‚˜ìš”..?\n\nì•„ë˜ ëŒ“ê¸€ë¡œ ì•Œë ¤ì£¼ì„¸ìš” ğŸ‘‡\n\n![ì´ë¯¸ì§€](https://miro.medium.com/v2/resize:fit:996/1*q5OVUu9A0bH8GS7wDRYhbQ.gif)\n\në‹¤ìŒì— ë˜ ëµ™ê² ìŠµë‹ˆë‹¤ :) â€” Venila Musunuru\n","ogImage":{"url":"/assets/img/2024-06-23-ValidateyourYAMLFileswithYAMLLint_0.png"},"coverImage":"/assets/img/2024-06-23-ValidateyourYAMLFileswithYAMLLint_0.png","tag":["Tech"],"readingTime":3},{"title":"eBPFì™€ Goë¥¼ ì‚¬ìš©í•œ íˆ¬ëª… í”„ë¡ì‹œ êµ¬í˜„ ë°©ë²•","description":"","date":"2024-06-23 01:04","slug":"2024-06-23-TransparentProxyImplementationusingeBPFandGo","content":"\n## eBPFë¥¼ í™œìš©í•œ íˆ¬ëª… í”„ë¡ì‹œ êµ¬ì¶•\n\níˆ¬ëª… í”„ë¡ì‹œëŠ” ì¸ë¼ì¸ í”„ë¡ì‹œë¡œë„ ì•Œë ¤ì ¸ ìˆìœ¼ë©°, í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ê°€ë¡œì±„ì–´ ìˆ˜ì •ì—†ì´ ë¦¬ë””ë ‰ì…˜í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ì‚¬ìš©ìì—ê²ŒëŠ” ë³´ì´ì§€ ì•Šê³  ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì„ ì¡°ì •í•  í•„ìš”ë„ ì—†ì´ ì‘ë™í•˜ë¯€ë¡œ ì‚¬ìš©ìë“¤ì´ ê·¸ ì¡´ì¬ë¥¼ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ ê¸°ìˆ ì€ ë„¤íŠ¸ì›Œí¬ ê´€ë¦¬, ë³´ì•ˆ ì •ì±… ê°•ì œ, íŠ¸ë˜í”½ ëª¨ë‹ˆí„°ë§, ìµœì í™” ë“±ì— ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤. íˆ¬ëª… í”„ë¡ì‹œëŠ” ì½˜í…ì¸  í•„í„°ë§, ìºì‹œ ê°€ì†, íŠ¸ë˜í”½ ì œì–´, ë¡œë“œ ë°¸ëŸ°ì‹± ë“± ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íˆ¬ëª… í”„ë¡ì‹œë¥¼ êµ¬í˜„í•˜ëŠ” ë° ìì£¼ ì‚¬ìš©ë˜ëŠ” ê¸°ìˆ ë¡œëŠ” TPROXY, NAT ë“±ì´ ìˆìŠµë‹ˆë‹¤.\n\nì´ ë¸”ë¡œê·¸ ê²Œì‹œë¬¼ì—ì„œëŠ” eBPFë¥¼ ì‚¬ìš©í•˜ì—¬ íˆ¬ëª… í”„ë¡ì‹œì˜ êµ¬í˜„ì„ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤. êµ¬ì²´ì ìœ¼ë¡œëŠ” ebpf-go íŒ¨í‚¤ì§€ì™€ í•¨ê»˜ Golangì„ í™œìš©í•  ê²ƒì…ë‹ˆë‹¤.\n\n\u003cimg src=\"/assets/img/2024-06-23-TransparentProxyImplementationusingeBPFandGo_0.png\" /\u003e\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# íˆ¬ëª… í”„ë¡ì‹œ êµ¬í˜„ì—ì„œì˜ eBPF\n\nExtended Berkeley Packet Filter (eBPF)ëŠ” Linux ì»¤ë„ì—ì„œ ìƒŒë“œë°•ìŠ¤í™”ëœ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ë›°ì–´ë‚œ ë„êµ¬ë¡œ, íˆ¬ëª… í”„ë¡ì‹œë¥¼ êµ¬í˜„í•˜ëŠ” ë° ê°•ë ¥í•œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ ëŠ¥ë ¥ì€ ì‚¬ìš©ì ê³µê°„ê³¼ ì»¤ë„ ê³µê°„ ê°„ì˜ ì»¨í…ìŠ¤íŠ¸ ì „í™˜ ì˜¤ë²„í—¤ë“œ ì—†ì´ ê³ ì„±ëŠ¥ íŒ¨í‚· ì²˜ë¦¬ì™€ ì‹¤ì‹œê°„ íŠ¸ë˜í”½ ì¡°ì‘ì´ ê°€ëŠ¥í•˜ë„ë¡ í•©ë‹ˆë‹¤.\n\neBPFë¥¼ ì‚¬ìš©í•˜ì—¬ íˆ¬ëª… í”„ë¡ì‹œë¥¼ êµ¬í˜„í•˜ëŠ” ê³¼ì •ì—ëŠ” ë„¤íŠ¸ì›Œí¬ ê°€ë¡œì±„ê¸°ì™€ ì „ë‹¬ì˜ ë‹¤ë¥¸ ì¸¡ë©´ì„ ë‹´ë‹¹í•˜ëŠ” ì„¸ ê°€ì§€ ì„œë¡œ ë‹¤ë¥¸ eBPF í”„ë¡œê·¸ë¨ì´ í¬í•¨ë©ë‹ˆë‹¤:\n\n- ì—°ê²° ì„¤ì • ì‹œ ì£¼ì†Œ êµì²´: ì²« ë²ˆì§¸ eBPF í”„ë¡œê·¸ë¨ì¸ cgroup/connect4ì€ connect ì‹œìŠ¤í…œ ì½œì— ì—°ê²°ë©ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ ëŒ€ìƒ ì„œë²„ì— ì—°ê²°ì„ ì‹œë„í•  ë•Œ ì´ í”„ë¡œê·¸ë¨ì€ ì—°ê²° ì‹œë„ë¥¼ ê°€ë¡œì±„ì–´ ëŒ€ìƒì˜ IP ì£¼ì†Œì™€ í¬íŠ¸ë¥¼ ë¡œì»¬ íˆ¬ëª… í”„ë¡ì‹œì˜ ê²ƒìœ¼ë¡œ êµì²´í•©ë‹ˆë‹¤. ì´ ë¦¬ë””ë ‰ì…˜ì€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì™„ì „íˆ íˆ¬ëª…í•©ë‹ˆë‹¤. ë™ì‹œì— ì›ë˜ ëŒ€ìƒ ì£¼ì†Œì™€ í¬íŠ¸ëŠ” map_socks eBPF ë§µ ë‚´ì— ì €ì¥ë˜ì–´ ìˆì–´ ë‹¤ë¥¸ eBPF í”„ë¡œê·¸ë¨ì´ ë‚˜ì¤‘ì— ì´ ì •ë³´ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n- ì—°ê²° í›„ ì†ŒìŠ¤ ì£¼ì†Œ ê¸°ë¡: ë‘ ë²ˆì§¸ eBPF í”„ë¡œê·¸ë¨ì¸ sockopsëŠ” í”„ë¡ì‹œì™€ í”„ë¡ì‹œ ê°„ì˜ ì—°ê²°ì´ ì„±ê³µì ìœ¼ë¡œ ì„¤ì •ëœ í›„ì— ì‹¤í–‰ë©ë‹ˆë‹¤. ì£¼ìš” ê¸°ëŠ¥ì€ ì—°ê²°ì˜ ì†ŒìŠ¤ ì£¼ì†Œì™€ í¬íŠ¸ë¥¼ ê¸°ë¡í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ ì •ë³´ëŠ” map_socks eBPF ë§µì˜ í•´ë‹¹ í•­ëª©ì— ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤. ì¶”ê°€ì ìœ¼ë¡œ, ì†ŒìŠ¤ í¬íŠ¸ì™€ ì†Œì¼“ì˜ ì¿ í‚¤ (ê³ ìœ  ì‹ë³„ì)ëŠ” map_ports eBPF ë§µì— ë§¤í•‘ë˜ì–´ ëª¨ë“  í•„ìš”í•œ ì—°ê²° ì„¸ë¶€ ì •ë³´ê°€ ë‹¤ë¥¸ eBPF í”„ë¡œê·¸ë¨ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡ ë³´ì¥ë©ë‹ˆë‹¤. ì´ ë‹¨ê³„ëŠ” ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì˜ ìƒíƒœë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´ ì¤‘ìš”í•©ë‹ˆë‹¤.\n- ì›ë˜ ëŒ€ìƒ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì „ë‹¬: ì„¸ ë²ˆì§¸ eBPF í”„ë¡œê·¸ë¨ì¸ cgroup/getsockoptì€ Pipy í”„ë¡ì‹œê°€ getsockopt í˜¸ì¶œì„ ì‚¬ìš©í•˜ì—¬ ì›ë˜ ëŒ€ìƒ ì •ë³´ë¥¼ ì¡°íšŒí•  ë•Œ í™œì„±í™”ë©ë‹ˆë‹¤. ì´ í”„ë¡œê·¸ë¨ì€ source portë¥¼ ì‚¬ìš©í•˜ì—¬ map_portsì—ì„œ ì›ë˜ ì†Œì¼“ì˜ ì¿ í‚¤ë¥¼ ê²€ìƒ‰í•œ ë‹¤ìŒ map_socksì— ì €ì¥ëœ ì›ë˜ ëŒ€ìƒ ì •ë³´ì— ì•¡ì„¸ìŠ¤í•©ë‹ˆë‹¤. ì´ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì›ë˜ ëŒ€ìƒ ì„œë²„ì™€ì˜ ì—°ê²°ì„ ì„¤ì •í•˜ê³  í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ì „ë‹¬í•©ë‹ˆë‹¤. ì´ë¡œì¨ íŠ¸ë˜í”½ì´ í”„ë¡ì‹œì—ì„œ ì²˜ë¦¬ëœ í›„ ì˜ë„í•œ ëŒ€ìƒìœ¼ë¡œ íˆ¬ëª…í•˜ê²Œ ë¦¬ë””ë ‰ì…˜ë˜ë„ë¡ ë³´ì¥ë©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì„¸ í”„ë¡œê·¸ë¨ ëª¨ë‘ íŠ¹ì • cgroupì— ì—°ê²°ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ìš°ë¦¬ì˜ ê²½ìš°ì—ëŠ” ë£¨íŠ¸ cgroupì´ì§€ë§Œ ë‹¤ë¥¸ ê²ƒì¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” í•´ë‹¹ ê·¸ë£¹ ë‚´ì˜ í”„ë¡œì„¸ìŠ¤ê°€ ì§€ì •ëœ ì‹œìŠ¤í…œ í˜¸ì¶œ (syscalls)ì„ ì‹¤í–‰í•  ë•Œì—ë§Œ í™œì„±í™”ë¨ì„ ë³´ì¥í•©ë‹ˆë‹¤. í˜„ì¬, ìš°ë¦¬ì˜ êµ¬ì„±ì€ TCP IPv4 ì—°ê²°ë§Œ í”„ë¡ì‹œí•˜ê³  ìˆì§€ë§Œ ë‹¤ë¥¸ í”„ë¡œí† ì½œì— ëŒ€í•´ ì ì‘ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\nì´ë¡ ì ìœ¼ë¡œëŠ” ì—¬ê¸°ê¹Œì§€ì…ë‹ˆë‹¤. ì´ì œ ì½”ë“œë¥¼ ì‚´í´ë´…ì‹œë‹¤.\n\n## ì‚¬ìš©ì ê³µê°„ ì½”ë“œ\n\n```js\níŒ¨í‚¤ì§€ main\n\n//go:generate go run github.com/cilium/ebpf/cmd/bpf2go -type Config proxy proxy.c\n\nimport (\n \"fmt\"\n \"io\"\n \"log\"\n \"net\"\n \"os\"\n \"syscall\"\n \"time\"\n \"unsafe\"\n\n \"github.com/cilium/ebpf\"\n \"github.com/cilium/ebpf/link\"\n \"github.com/cilium/ebpf/rlimit\"\n)\n\nconst (\n CGROUP_PATH = \"/sys/fs/cgroup\" // ë£¨íŠ¸ cgroup ê²½ë¡œ\n PROXY_PORT      = 18000 // í”„ë¡ì‹œ ì„œë²„ê°€ ìˆ˜ì‹  ëŒ€ê¸°í•˜ëŠ” í¬íŠ¸\n SO_ORIGINAL_DST = 80 // ì›ë³¸ ëŒ€ìƒ ì£¼ì†Œë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ ì†Œì¼“ ì˜µì…˜\n)\n\n// SockAddrInì€ SO_ORIGINAL_DSTì— ì˜í•´ \"ê²€ìƒ‰ëœ\" IPv4 sockaddr_in êµ¬ì¡°ì²´ë¥¼ ë³´ê´€í•˜ëŠ” êµ¬ì¡°ì²´ì…ë‹ˆë‹¤.\ntype SockAddrIn struct {\n SinFamily uint16\n SinPort   [2]byte\n SinAddr   [4]byte\n // sockaddr_inì˜ í¬ê¸°ì™€ ì¼ì¹˜í•˜ë„ë¡ íŒ¨ë”© ì²˜ë¦¬\n Pad [8]byte\n}\n\n// getsockoptì— ëŒ€í•œ ë„ìš°ë¯¸ í•¨ìˆ˜\nfunc getsockopt(s int, level int, optname int, optval unsafe.Pointer, optlen *uint32) (err error) {\n _, _, e := syscall.Syscall6(syscall.SYS_GETSOCKOPT, uintptr(s), uintptr(level), uintptr(optname), uintptr(optval), uintptr(unsafe.Pointer(optlen)), 0)\n if e != 0 {\n  return e\n }\n return\n}\n\n// HTTP í”„ë¡ì‹œ ìš”ì²­ í•¸ë“¤ëŸ¬\nfunc handleConnection(conn net.Conn) {\n defer conn.Close()\n\n // RawConnì„ ì‚¬ìš©í•˜ë©´ Goì—ì„œ ê¸°ë³¸ ì†Œì¼“ íŒŒì¼ ê¸°ìˆ ìì— ëŒ€í•œ ì €ìˆ˜ì¤€ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ í•„ìš”í•©ë‹ˆë‹¤.\n // ì´ë¥¼ í†µí•´ ì†Œì¼“ì´ ì„¤ì •í•œ ì›ë³¸ ëŒ€ìƒ ì£¼ì†Œë¥¼ getsockoptì„ ì‚¬ìš©í•˜ì—¬ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n rawConn, err := conn.(*net.TCPConn).SyscallConn()\n if err != nil {\n  log.Printf(\"Raw ì—°ê²°ì„ ê°€ì ¸ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤: %v\", err)\n  return\n }\n\n var originalDst SockAddrIn\n // Controlì´ nilì´ ì•„ë‹Œ ê²½ìš°, ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ ë§Œë“  í›„ ìš´ì˜ ì²´ì œì— ë°”ì¸ë”©í•˜ê¸° ì „ì— í˜¸ì¶œë©ë‹ˆë‹¤.\n rawConn.Control(func(fd uintptr) {\n  optlen := uint32(unsafe.Sizeof(originalDst))\n  // SO_ORIGINAL_DST ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì‹œìŠ¤í…œ í˜¸ì¶œì„ ìˆ˜í–‰í•˜ì—¬ ì›ë³¸ ëŒ€ìƒ ì£¼ì†Œë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\n  err = getsockopt(int(fd), syscall.SOL_IP, SO_ORIGINAL_DST, unsafe.Pointer(\u0026originalDst), \u0026optlen)\n  if err != nil {\n   log.Printf(\"getsockopt SO_ORIGINAL_DST ì‹¤íŒ¨: %v\", err)\n  }\n })\n\n targetAddr := net.IPv4(originalDst.SinAddr[0], originalDst.SinAddr[1], originalDst.SinAddr[2], originalDst.SinAddr[3]).String()\n targetPort := (uint16(originalDst.SinPort[0]) \u003c\u003c 8) | uint16(originalDst.SinPort[1])\n\n fmt.Printf(\"ì›ë³¸ ëŒ€ìƒ ì£¼ì†Œ: %s:%d\\n\", targetAddr, targetPort)\n\n // ì›ë³¸ ëŒ€ìƒ ì£¼ì†Œê°€ í”„ë¡ì‹œì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œì§€ í™•ì¸í•©ë‹ˆë‹¤.\n targetConn, err := net.DialTimeout(\"tcp\", fmt.Sprintf(\"%s:%d\", targetAddr, targetPort), 5*time.Second)\n if err != nil {\n  log.Printf(\"ì›ë³¸ ëŒ€ìƒì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤: %v\", err)\n  return\n }\n defer targetConn.Close()\n\n fmt.Printf(\"%sì—ì„œ %së¡œ ì—°ê²°ì„ í”„ë¡ì‹œí•©ë‹ˆë‹¤\\n\", conn.RemoteAddr(), targetConn.RemoteAddr())\n\n // ë‹¤ìŒ ì½”ë“œëŠ” ë‘ ë°ì´í„° ì „ì†¡ ì±„ë„ì„ ìƒì„±í•©ë‹ˆë‹¤:\n  // - í´ë¼ì´ì–¸íŠ¸ì—ì„œ íƒ€ê²Ÿ ì„œë²„ë¡œ (ë³„ë„ì˜ ê³ ë£¨í‹´ì—ì„œ ì²˜ë¦¬).\n  // - íƒ€ê²Ÿ ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ (ì£¼ìš” ê³ ë£¨í‹´ì—ì„œ ì²˜ë¦¬).\n go func() {\n  _, err = io.Copy(targetConn, conn)\n  if err != nil {\n   log.Printf(\"íƒ€ê²Ÿìœ¼ë¡œ ë°ì´í„° ë³µì‚¬ ì‹¤íŒ¨: %v\", err)\n  }\n }()\n _, err = io.Copy(conn, targetConn)\n if err != nil {\n  log.Printf(\"íƒ€ê²Ÿìœ¼ë¡œë¶€í„° ë°ì´í„° ë³µì‚¬ ì‹¤íŒ¨: %v\", err)\n }\n}\n\nfunc main() {\n // ì»¤ë„ ë²„ì „ì´ 5.11 ë¯¸ë§Œì¸ ê²½ìš° ë¦¬ì†ŒìŠ¤ ì œí•œì„ ì œê±°í•©ë‹ˆë‹¤.\n if err := rlimit.RemoveMemlock(); err != nil {\n  log.Print(\"Memlock ì œê±° ì¤‘ ì˜¤ë¥˜ ë°œìƒ:\", err)\n }\n\n // ì»´íŒŒì¼ëœ eBPF ELFë¥¼ ë¡œë“œí•˜ê³  ì»¤ë„ë¡œ ë¡œë“œ\n // ì°¸ê³ : eBPF í”„ë¡œê·¸ë¨ì„ ê³ ì •ì‹œí‚¬ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n var objs proxyObjects\n if err := loadProxyObjects(\u0026objs, nil); err != nil {\n   log.Print(\"eBPF ì˜¤ë¸Œì íŠ¸ ë¡œë“œ ì˜¤ë¥˜:\", err)\n }\n defer objs.Close()\n\n // eBPF í”„ë¡œê·¸ë¨ì„ ë£¨íŠ¸ cgroupì— ì—°ê²°\n connect4Link, err := link.AttachCgroup(link.CgroupOptions{\n  Path:    CGROUP_PATH,\n  Attach:  ebpf.AttachCGroupInet4Connect,\n  Program: objs.CgConnect4,\n })\n if err != nil {\n   log.Print(\"CgConnect4 í”„ë¡œê·¸ë¨ì„ Cgroupì— ì—°ê²° ì¤‘ ì˜¤ë¥˜ ë°œìƒ:\", err)\n }\n defer connect4Link.Close()\n\n sockopsLink, err := link.AttachCgroup(link.CgroupOptions{\n  Path:    CGROUP_PATH,\n  Attach:  ebpf.AttachCGroupSockOps,\n  Program: objs.CgSockOps,\n })\n if err != nil {\n   log.Print(\"CgSockOps í”„ë¡œê·¸ë¨ì„ Cgroupì— ì—°ê²° ì¤‘ ì˜¤ë¥˜ ë°œìƒ:\", err)\n }\n defer sockopsLink.Close()\n\n sockoptLink, err := link.AttachCgroup(link.CgroupOptions{\n  Path:    CGROUP_PATH,\n  Attach:  ebpf.AttachCGroupGetsockopt,\n  Program: objs.CgSockOpt,\n })\n if err != nil {\n   log.Print(\"CgSockOpt í”„ë¡œê·¸ë¨ì„ Cgroupì— ì—°ê²° ì¤‘ ì˜¤ë¥˜ ë°œìƒ:\", err)\n }\n defer sockoptLink.Close()\n\n // ë¡œì»¬í˜¸ìŠ¤íŠ¸ì— í”„ë¡ì‹œ ì„œë²„ ì‹œì‘í•©ë‹ˆë‹¤\n // ì´ ì˜ˆì œì—ì„œëŠ” IPv4ë§Œì„ ë³´ì—¬ì£¼ì§€ë§Œ IPv6ì—ë„ ë™ì¼í•œ ë°©ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n proxyAddr := fmt.Sprintf(\"127.0.0.1:%d\", PROXY_PORT)\n listener, err := net.Listen(\"tcp\", proxyAddr)\n if err != nil {\n  log.Fatalf(\"í”„ë¡ì‹œ ì„œë²„ ì‹œì‘ ì‹¤íŒ¨: %v\", err)\n }\n defer listener.Close()\n\n // í”„ë¡ì‹œ ì„œë²„ êµ¬ì„±ìœ¼ë¡œ proxyMaps ë§µ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.\n // ì´ëŠ” í”„ë¡ì‹œ ì„œë²„ PIDê°€ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— í•„ìš”í•©ë‹ˆë‹¤.\n var key uint32 = 0\n config := proxyConfig{\n  ProxyPort: PROXY_PORT,\n  ProxyPid: uint64(os.Getpid()),\n }\n err = objs.proxyMaps.MapConfig.Update(\u0026key, \u0026config, ebpf.UpdateAny)\n if err != nil {\n  log.Fatalf(\"í”„ë¡ì‹œë§µ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨: %v\", err)\n }\n\n log.Printf(\"PID %dì˜ í”„ë¡ì‹œ ì„œë²„ê°€ %sì—ì„œ ìˆ˜ì‹  ëŒ€ê¸° ì¤‘\", os.Getpid(), proxyAddr)\n for {\n  conn, err := listener.Accept()\n  if err != nil {\n   log.Printf(\"ì—°ê²° ìˆ˜ë½ ì‹¤íŒ¨: %v\", err)\n   continue\n  }\n\n  go handleConnection(conn)\n }\n}\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ì»¤ë„ ìŠ¤í˜ì´ìŠ¤ ì½”ë“œ\n\n```js\n//go:build ignore\n#include \u003cstddef.h\u003e\n#include \u003clinux/bpf.h\u003e\n#include \u003clinux/netfilter_ipv4.h\u003e\n#include \u003clinux/in.h\u003e\n#include \u003csys/socket.h\u003e\n\n#include \"bpf-builtin.h\"\n#include \"bpf-utils.h\"\n\n#undef bpf_printk\n#define bpf_printk(fmt, ...)                            \\\n({                                                      \\\n        static const char ____fmt[] = fmt;              \\\n        bpf_trace_printk(____fmt, sizeof(____fmt),      \\\n                         ##__VA_ARGS__);                \\\n})\n\n#define MAX_CONNECTIONS 20000\n\nstruct Config {\n  __u16 proxy_port;\n  __u64 proxy_pid;\n};\n\nstruct Socket {\n  __u32 src_addr;\n  __u16 src_port;\n  __u32 dst_addr;\n  __u16 dst_port;\n};\n\nstruct {\n  int (*type)[BPF_MAP_TYPE_ARRAY];\n  int (*max_entries)[1];\n  __u32 *key;\n  struct Config *value;\n} map_config SEC(\".maps\");\n\nstruct {\n  int (*type)[BPF_MAP_TYPE_HASH];\n  int (*max_entries)[MAX_CONNECTIONS];\n  __u64 *key;\n  struct Socket *value;\n} map_socks SEC(\".maps\");\n\nstruct {\n  int (*type)[BPF_MAP_TYPE_HASH];\n  int (*max_entries)[MAX_CONNECTIONS];\n  __u16 *key;\n  __u64 *value;\n} map_ports SEC(\".maps\");\n\n// ì´ í›„í‚¹ì€ í”„ë¡œì„¸ìŠ¤ê°€ connect() ì‹œìŠ¤í…œ í˜¸ì¶œ ì‹œ í˜¸ì¶œë©ë‹ˆë‹¤.\n// ì—°ê²°ì„ íˆ¬ëª…í•œ í”„ë¡ì‹œë¡œ ë¦¬ë””ë ‰ì…˜í•˜ì§€ë§Œ ì›ë˜ ëŒ€ìƒ ì£¼ì†Œì™€ í¬íŠ¸ë¥¼ map_socksì— ì €ì¥í•©ë‹ˆë‹¤.\nSEC(\"cgroup/connect4\")\nint cg_connect4(struct bpf_sock_addr *ctx) {\n  // IPv4 TCP ì—°ê²°ë§Œ ì „ë‹¬\n  if (ctx-\u003euser_family != AF_INET) return 1;\n  if (ctx-\u003eprotocol != IPPROTO_TCP) return 1;\n\n  // í”„ë¡ì‹œ ìì²´ë¥¼ í”„ë¡ì‹œí•˜ì§€ ì•Šë„ë¡ í•¨\n  __u32 key = 0;\n  struct Config *conf = bpf_map_lookup_elem(\u0026map_config, \u0026key);\n  if (!conf) return 1;\n  if ((bpf_get_current_pid_tgid() \u003e\u003e 32) == conf-\u003eproxy_pid) return 1;\n\n  // ì´ í•„ë“œì—ëŠ” connect() ì‹œìŠ¤í…œ í˜¸ì¶œì— ì „ë‹¬ëœ IPv4 ì£¼ì†Œê°€ í¬í•¨ë©ë‹ˆë‹¤.\n  // ì¦‰, ì´ ì†Œì¼“ ëŒ€ìƒ ì£¼ì†Œ ë° í¬íŠ¸ì— ì—°ê²°\n  __u32 dst_addr = ntohl(ctx-\u003euser_ip4);\n  // ì´ í•„ë“œì—ëŠ” connect() ì‹œìŠ¤í…œ í˜¸ì¶œì— ì „ë‹¬ëœ í¬íŠ¸ ë²ˆí˜¸ê°€ í¬í•¨ë©ë‹ˆë‹¤.\n  __u16 dst_port = ntohl(ctx-\u003euser_port) \u003e\u003e 16;\n  // ëŒ€ìƒ ì†Œì¼“ì˜ ê³ ìœ  ì‹ë³„ì\n  __u64 cookie = bpf_get_socket_cookie(ctx);\n\n  // ëŒ€ìƒ ì†Œì¼“ì„ ì¿ í‚¤ í‚¤ ì•„ë˜ ì €ì¥\n  struct Socket sock;\n  __builtin_memset(\u0026sock, 0, sizeof(sock));\n  sock.dst_addr = dst_addr;\n  sock.dst_port = dst_port;\n  bpf_map_update_elem(\u0026map_socks, \u0026cookie, \u0026sock, 0);\n\n  // ì—°ê²°ì„ í”„ë¡ì‹œë¡œ ë¦¬ë””ë ‰ì…˜\n  ctx-\u003euser_ip4 = htonl(0x7f000001); // 127.0.0.1 == í”„ë¡ì‹œ IP\n  ctx-\u003euser_port = htonl(conf-\u003eproxy_port \u003c\u003c 16); // í”„ë¡ì‹œ í¬íŠ¸\n\n  bpf_printk(\"í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì„ í”„ë¡ì‹œë¡œ ë¦¬ë””ë ‰ì…˜ ì¤‘\\n\");\n\n  return 1;\n}\n\n// í•´ë‹¹ cgroup(ë‹¤ì‹œ ì „ì†¡ ì‹œê°„ ì´ˆê³¼, ì—°ê²° ì„¤ì • ë“±)ì— ì†Œì¼“ ì‘ì—…ì´ ë°œìƒí•  ë•Œ í˜¸ì¶œë˜ëŠ” í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤.\n// ì´ëŠ” í´ë¼ì´ì–¸íŠ¸ ì¶œì²˜ ì£¼ì†Œì™€ í¬íŠ¸ë¥¼ ê¸°ë¡í•˜ê¸° ìœ„í•œ ê²ƒì…ë‹ˆë‹¤.\nSEC(\"sockops\")\nint cg_sock_ops(struct bpf_sock_ops *ctx) {\n  // IPv4 ì—°ê²°ë§Œ ì „ë‹¬\n  if (ctx-\u003efamily != AF_INET) return 0;\n\n  // Active socket with an established connection\n  if (ctx-\u003eop == BPF_SOCK_OPS_ACTIVE_ESTABLISHED_CB) {\n    __u64 cookie = bpf_get_socket_cookie(ctx);\n\n    // í•´ë‹¹ cookieì— ëŒ€í•œ ë§µì—ì„œ ì†Œì¼“ ì¡°íšŒ\n    // ì†Œì¼“ì´ ìˆëŠ” ê²½ìš° ì†ŒìŠ¤ í¬íŠ¸ì™€ ì†Œì¼“ ë§¤í•‘ ì €ì¥\n    struct Socket *sock = bpf_map_lookup_elem(\u0026map_socks, \u0026cookie);\n    if (sock) {\n      __u16 src_port = ctx-\u003elocal_port;\n      bpf_map_update_elem(\u0026map_ports, \u0026src_port, \u0026cookie, 0);\n    }\n  }\n\n  bpf_printk(\"sockops í›„í‚¹ ì„±ê³µ\\n\");\n\n  return 0;\n}\n\n// ì´ëŠ” í”„ë¡ì‹œê°€ getsockopt SO_ORIGINAL_DSTë¥¼ í†µí•´ ì›ë˜ ëŒ€ìƒ ì •ë³´ë¥¼ ì¿¼ë¦¬í•  ë•Œ íŠ¸ë¦¬ê±°ë©ë‹ˆë‹¤.\n// ì´ í”„ë¡œê·¸ë¨ì€ í´ë¼ì´ì–¸íŠ¸ì˜ ì†ŒìŠ¤ í¬íŠ¸ë¥¼ map_portsì—ì„œ ì†Œì¼“ì˜ ì¿ í‚¤ë¥¼ ê²€ìƒ‰í•˜ê³ ,\n// ê·¸ëŸ° ë‹¤ìŒ map_socksì—ì„œ ì›ë˜ ëŒ€ìƒ ì •ë³´ë¥¼ ê°€ì ¸ì™€ í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ì „ë‹¬í•©ë‹ˆë‹¤.\nSEC(\"cgroup/getsockopt\")\nint cg_sock_opt(struct bpf_sockopt *ctx) {\n  // SO_ORIGINAL_DST ì†Œì¼“ ì˜µì…˜ì€ ë„¤íŠ¸ì›Œí¬ ì£¼ì†Œ ë³€í™˜(NAT) ë° íˆ¬ëª… í”„ë¡ì‹œë¥¼ ì£¼ë¡œ ìœ„í•œ íŠ¹ìˆ˜í™”ëœ ì˜µì…˜ì…ë‹ˆë‹¤.\n  // ì „í˜•ì ì¸ NAT ë˜ëŠ” íˆ¬ëª… í”„ë¡ì‹œ ì„¤ì •ì—ì„œ, ë“¤ì–´ì˜¤ëŠ” íŒ¨í‚·ì€ ì›ë˜ ëŒ€ìƒì—ì„œ í”„ë¡ì‹œ ì„œë²„ë¡œ ë¦¬ë””ë ‰ì…˜ë©ë‹ˆë‹¤.\n  // íŒ¨í‚·ì„ ìˆ˜ì‹ í•œ í”„ë¡ì‹œ ì„œë²„ëŠ” ì¢…ì¢… íŠ¸ë˜í”½ì„ ì ì ˆí•˜ê²Œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì›ë˜ ëŒ€ìƒ ì£¼ì†Œë¥¼ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤.\n  // ì´ê²ƒì´ SO_ORIGINAL_DSTì˜ ì—­í• ì…ë‹ˆë‹¤.\n  if (ctx-\u003eoptname != SO_ORIGINAL_DST) return 1;\n  // IPv4 TCP ì—°ê²°ë§Œ ì „ë‹¬\n  if (ctx-\u003esk-\u003efamily != AF_INET) return 1;\n  if (ctx-\u003esk-\u003eprotocol != IPPROTO_TCP) return 1;\n\n  // í´ë¼ì´ì–¸íŠ¸ì˜ ì†ŒìŠ¤ í¬íŠ¸ ê°€ì ¸ì˜¤ê¸°\n  // ì‹¤ì œë¡œ sk-\u003edst_portì¸ë°, SO_ORIGINAL_DST ì†Œì¼“ ì˜µì…˜ìœ¼ë¡œ getsockopt() ì‹œìŠ¤í…œ í˜¸ì¶œì´\n  // í´ë¼ì´ì–¸íŠ¸ì˜ ì›ë˜ ëŒ€ìƒ í¬íŠ¸ë¥¼ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì— í´ë¼ì´ì–¸íŠ¸ì˜ ëŒ€ìƒ í¬íŠ¸ë¥¼ \"ì¿¼ë¦¬\"í•©ë‹ˆë‹¤.\n  __u16 src_port = ntohs(ctx-\u003esk-\u003edst_port);\n\n  // í´ë¼ì´ì–¸íŠ¸ src_portë¥¼ ì‚¬ìš©í•˜ì—¬ ì†Œì¼“ ì¿ í‚¤ ê²€ìƒ‰\n  __u64 *cookie = bpf_map_lookup_elem(\u0026map_ports, \u0026src_port);\n  if (!cookie) return 1;\n\n  // ì¿ í‚¤(ì†Œì¼“ ì‹ë³„ì)ë¥¼ ì‚¬ìš©í•˜ì—¬ map_socksì—ì„œ ì›ë˜ ì†Œì¼“(ëŒ€ìƒìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ ì—°ê²°)ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\n  struct Socket *sock = bpf_map_lookup_elem(\u0026map_socks, cookie);\n  if (!sock) return 1;\n\n  struct sockaddr_in *sa = ctx-\u003eoptval;\n  if ((void*)(sa + 1) \u003e ctx-\u003eoptval_end) return 1;\n\n  // ì›ë˜ ëŒ€ìƒ ëŒ€ìƒê³¼ì˜ ì—°ê²° ì„¤ì •\n  ctx-\u003eoptlen = sizeof(*sa);\n  sa-\u003esin_family = ctx-\u003esk-\u003efamily; // ì£¼ì†Œ íŒ¨ë°€ë¦¬\n  sa-\u003esin_addr.s_addr = htonl(sock-\u003edst_addr); // ëŒ€ìƒ ì£¼ì†Œ\n  sa-\u003esin_port = htons(sock-\u003edst_port); // ëŒ€ìƒ í¬íŠ¸\n  ctx-\u003eretval = 0;\n\n  bpf_printk(\"ì›ë˜ ëŒ€ìƒìœ¼ë¡œ ì—°ê²° ë¦¬ë””ë ‰ì…˜ ì¤‘\\n\");\n\n  return 1;\n}\n\nchar __LICENSE[] SEC(\"license\") = \"GPL\";\n```\n\nìì„¸í•œ ë‚´ìš©ì€ ì•„ë˜ GitHub ì €ì¥ì†Œ ë§í¬ì—ì„œ í™•ì¸í•˜ì„¸ìš”:\n\n# ì„±ëŠ¥ í‰ê°€\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në§ˆë¬´ë¦¬í•˜ë©°, ì €ëŠ” í˜¸ìŠ¤íŠ¸ ì„œë²„ì˜ ì˜í–¥ì„ í‰ê°€í•˜ê¸° ìœ„í•´ eBPF í”„ë¡œê·¸ë¨ì´ íŠ¸ë˜í”½ì„ ê°€ë¡œì±Œ ë•Œ ë°œìƒí•˜ëŠ” ì§€ì—° ì‹œê°„ê³¼ CPU ë¶€í•˜ì— ì´ˆì ì„ ë§ì¶˜ ê¸°ë³¸ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤ì‹œí–ˆìŠµë‹ˆë‹¤. ì´ í…ŒìŠ¤íŠ¸ëŠ” 1ë§Œ ê°œì˜ ìš”ì²­ì„ ê¸°ì¤€ìœ¼ë¡œ í‰ê·  ì§€ì—° ì‹œê°„ì„ ì¸¡ì •í•˜ëŠ” ê²ƒì„ í¬í•¨í–ˆìŠµë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-TransparentProxyImplementationusingeBPFandGo_1.png)\n\nìš°ë¦¬ì˜ ê²°ê³¼ëŠ” eBPF í”„ë¡œê·¸ë¨ì´ í‰ê· ì ìœ¼ë¡œ ì•½ 1ë°€ë¦¬ì´ˆì˜ ê³ ì • eBPF ì˜¤ë²„í—¤ë“œë¥¼ ì¶”ê°€í•œë‹¤ëŠ” ê²ƒì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ë˜í•œ ê° í›„í¬ì— ì˜í•´ ë„ì…ëœ í‰ê·  CPU ë¶€í•˜ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤: sockopsì˜ ê²½ìš° 0.4%, cgroup/connect4ì˜ ê²½ìš° 0.1%, cgroup/getsockoptì˜ ê²½ìš° 0.09%ì…ë‹ˆë‹¤. ìš”ì»¨ëŒ€, ì‚¬ì‹¤ìƒ ì•„ë¬´ê²ƒë„ ì•„ë‹™ë‹ˆë‹¤.\n\nì´ ì—°êµ¬ ê²°ê³¼ëŠ” eBPF í”„ë¡œê·¸ë¨ì— ì˜í•œ ì¶”ê°€ ì§€ì—° ì‹œê°„ê³¼ CPU ë¶€í•˜ì™€ íŠ¸ë˜í”½ ê°€ë¡œì±„ê¸°ì˜ ì´ì  ì‚¬ì´ì˜ ê· í˜•ì„ ë‹¤ë£¨ê³  ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ê²°ë¡ \n\nê²°ë¡ ì ìœ¼ë¡œ, eBPFë¥¼ í™œìš©í•˜ì—¬ íˆ¬ëª… í”„ë¡ì‹œë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì€ ë„¤íŠ¸ì›Œí¬ ê°€ë¡œì±„ê¸°ì™€ ì „ë‹¬ì— ê°•ë ¥í•œ í•´ê²°ì±…ì„ ì œì‹œí•©ë‹ˆë‹¤. eBPFì˜ ë†’ì€ ì„±ëŠ¥ íŒ¨í‚· ì²˜ë¦¬ ë° ë¦¬ëˆ…ìŠ¤ ì»¤ë„ ë‚´ì—ì„œ ì‹¤ì‹œê°„ íŠ¸ë˜í”½ ì¡°ì‘ê³¼ ê°™ì€ ê¸°ëŠ¥ì„ í™œìš©í•¨ìœ¼ë¡œì¨, íˆ¬ëª… í”„ë¡ì‹œëŠ” ë³´ì•ˆ ê°•í™”, íŠ¸ë˜í”½ ëª¨ë‹ˆí„°ë§ ë° ìµœì í™”ë¥¼ í¬í•¨í•œ ë‹¤ì–‘í•œ ëª©ì ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì œê³µëœ ì˜ˆì œëŠ” Goì™€ eBPFì˜ í†µí•©ì„ ë³´ì—¬ì£¼ë©°, ì„œë¡œ ë‹¤ë¥¸ eBPF í”„ë¡œê·¸ë¨ì´ ì›í™œí•˜ê²Œ í˜‘ë ¥í•˜ì—¬ íˆ¬ëª… í”„ë¡ì‹œ ê¸°ëŠ¥ì„ ë‹¬ì„±í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ ì ‘ê·¼ ë°©ì‹ì€ ìµœì†Œí•œì˜ ì˜¤ë²„í—¤ë“œë¥¼ ë³´ì¥í•  ë¿ë§Œ ì•„ë‹ˆë¼ TCP IPv4 ì—°ê²°ì„ ë„˜ì–´ ì¶”ê°€ í”„ë¡œí† ì½œì„ ì§€ì›í•˜ê¸° ìœ„í•´ í”„ë¡ì‹œ ê¸°ëŠ¥ì„ í™•ì¥í•˜ëŠ” ìœ ì—°ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.\n","ogImage":{"url":"/assets/img/2024-06-23-TransparentProxyImplementationusingeBPFandGo_0.png"},"coverImage":"/assets/img/2024-06-23-TransparentProxyImplementationusingeBPFandGo_0.png","tag":["Tech"],"readingTime":14}],"page":"24","totalPageCount":119,"totalPageGroupCount":6,"lastPageGroup":20,"currentPageGroup":1},"__N_SSG":true},"page":"/posts/[page]","query":{"page":"24"},"buildId":"wOkGEDZCvEs3S_XaNsdwr","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>