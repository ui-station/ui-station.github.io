<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>ui-station</title><meta name="description" content="I develop websites, games and apps with HTML, CSS and JS."/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://ui-station.github.io///posts/50" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="ui-station" data-gatsby-head="true"/><meta property="og:title" content="ui-station" data-gatsby-head="true"/><meta property="og:description" content="I develop websites, games and apps with HTML, CSS and JS." data-gatsby-head="true"/><meta property="og:image" content="/favicons/ms-icon-310x310.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://ui-station.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://ui-station.github.io///posts/50" data-gatsby-head="true"/><meta name="twitter:title" content="ui-station" data-gatsby-head="true"/><meta name="twitter:description" content="I develop websites, games and apps with HTML, CSS and JS." data-gatsby-head="true"/><meta name="twitter:image" content="/favicons/ms-icon-310x310.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | ui-station" data-gatsby-head="true"/><meta name="next-head-count" content="18"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BHFR6GTH9P"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-BHFR6GTH9P');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/a22d13b8e6bc8203.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a22d13b8e6bc8203.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/_next/static/chunks/348-d11c34b645b13f5b.js" defer=""></script><script src="/_next/static/chunks/873-a9851699c2b6bcaf.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bpage%5D-498da29379dd58dc.js" defer=""></script><script src="/_next/static/o1YmnmSuZvAX2O4TI9r41/_buildManifest.js" defer=""></script><script src="/_next/static/o1YmnmSuZvAX2O4TI9r41/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="posts_container__s9Z_H posts_-list__bsl0U"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">UI STATION</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><div class="posts_inner__HIBjT"><article><h2 class="SectionTitle_section_title__HS_xr">Posts</h2><div class="posts_project_list__oDV_y"><div class="PostList_post_list__or0rl"><a class="PostList_post_item__gAdVi" aria-label=" ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ Vault ì‚¬ìš© ë°©ë²• ì•ˆë‚´ " href="/post/2024-05-23-AHand-OnGuidetoVaultinKubernetes"><div class="PostList_thumbnail_wrap__YuxdB"><img alt=" ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ Vault ì‚¬ìš© ë°©ë²• ì•ˆë‚´ " loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-23-AHand-OnGuidetoVaultinKubernetes_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt=" ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ Vault ì‚¬ìš© ë°©ë²• ì•ˆë‚´ " loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl"> ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ Vault ì‚¬ìš© ë°©ë²• ì•ˆë‚´ </strong><div class="PostList_meta__VCFLX"><span class="date">May 23, 2024</span><span class="PostList_reading_time__6CBMQ">11<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="íŒŒì´ì¬ ì œë„ˆë ˆì´í„° ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•" href="/post/2024-05-23-PythonGeneratorsHowToEfficientlyFetchDataFromDatabases"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="íŒŒì´ì¬ ì œë„ˆë ˆì´í„° ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-23-PythonGeneratorsHowToEfficientlyFetchDataFromDatabases_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="íŒŒì´ì¬ ì œë„ˆë ˆì´í„° ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">íŒŒì´ì¬ ì œë„ˆë ˆì´í„° ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">May 23, 2024</span><span class="PostList_reading_time__6CBMQ">14<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="ì»¨í…Œì´ë„ˆ ì„¸ê³„ì—ì„œ Runc ëŒ€ Crun" href="/post/2024-05-23-RuncvsCrunincontainersworld"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="ì»¨í…Œì´ë„ˆ ì„¸ê³„ì—ì„œ Runc ëŒ€ Crun" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-23-RuncvsCrunincontainersworld_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="ì»¨í…Œì´ë„ˆ ì„¸ê³„ì—ì„œ Runc ëŒ€ Crun" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">ì»¨í…Œì´ë„ˆ ì„¸ê³„ì—ì„œ Runc ëŒ€ Crun</strong><div class="PostList_meta__VCFLX"><span class="date">May 23, 2024</span><span class="PostList_reading_time__6CBMQ">2<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="ë„ì»¤ ëŒ€ Podman ì•ˆì „í•œ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ì˜ ìƒˆ ì‹œëŒ€" href="/post/2024-05-23-DockervsPodmanANewErainSecureOrchestration"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="ë„ì»¤ ëŒ€ Podman ì•ˆì „í•œ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ì˜ ìƒˆ ì‹œëŒ€" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-23-DockervsPodmanANewErainSecureOrchestration_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="ë„ì»¤ ëŒ€ Podman ì•ˆì „í•œ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ì˜ ìƒˆ ì‹œëŒ€" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">ë„ì»¤ ëŒ€ Podman ì•ˆì „í•œ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ì˜ ìƒˆ ì‹œëŒ€</strong><div class="PostList_meta__VCFLX"><span class="date">May 23, 2024</span><span class="PostList_reading_time__6CBMQ">7<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="ëŸ¬ìŠ¤íŠ¸ ë°°ìš°ê¸° 11ë¶€  ë¹Œë”ì™€ ë°ì´í„°ë² ì´ìŠ¤ ìƒí˜¸ì‘ìš©" href="/post/2024-05-23-LearningRustPart11BuildersandDatabaseInteraction"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="ëŸ¬ìŠ¤íŠ¸ ë°°ìš°ê¸° 11ë¶€  ë¹Œë”ì™€ ë°ì´í„°ë² ì´ìŠ¤ ìƒí˜¸ì‘ìš©" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-23-LearningRustPart11BuildersandDatabaseInteraction_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="ëŸ¬ìŠ¤íŠ¸ ë°°ìš°ê¸° 11ë¶€  ë¹Œë”ì™€ ë°ì´í„°ë² ì´ìŠ¤ ìƒí˜¸ì‘ìš©" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">ëŸ¬ìŠ¤íŠ¸ ë°°ìš°ê¸° 11ë¶€  ë¹Œë”ì™€ ë°ì´í„°ë² ì´ìŠ¤ ìƒí˜¸ì‘ìš©</strong><div class="PostList_meta__VCFLX"><span class="date">May 23, 2024</span><span class="PostList_reading_time__6CBMQ">18<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="ë°ë¸Œ ì»¨í…Œì´ë„ˆë¡œ Rails ì•±ì„ ë„ì»¤ë¼ì´ì¦ˆí•˜ê¸°" href="/post/2024-05-23-DockerizeRailsappwithDevContainers"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="ë°ë¸Œ ì»¨í…Œì´ë„ˆë¡œ Rails ì•±ì„ ë„ì»¤ë¼ì´ì¦ˆí•˜ê¸°" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-23-DockerizeRailsappwithDevContainers_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="ë°ë¸Œ ì»¨í…Œì´ë„ˆë¡œ Rails ì•±ì„ ë„ì»¤ë¼ì´ì¦ˆí•˜ê¸°" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">ë°ë¸Œ ì»¨í…Œì´ë„ˆë¡œ Rails ì•±ì„ ë„ì»¤ë¼ì´ì¦ˆí•˜ê¸°</strong><div class="PostList_meta__VCFLX"><span class="date">May 23, 2024</span><span class="PostList_reading_time__6CBMQ">2<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="ê¿ˆíŒ€ ì¡°í•© êµ¬ì¶• ìŠ¤íŠ¸ë¦¼ë¼ì¸ëœ ë°ì´í„° íŒŒì´í”„ë¼ì¸ì„ ìœ„í•œ Snowflake, Databricks ë° Delta Lake" href="/post/2024-05-23-BuildingtheDreamTeamSnowflakeDatabricksandDeltaLakeforStreamlinedDataPipelines"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="ê¿ˆíŒ€ ì¡°í•© êµ¬ì¶• ìŠ¤íŠ¸ë¦¼ë¼ì¸ëœ ë°ì´í„° íŒŒì´í”„ë¼ì¸ì„ ìœ„í•œ Snowflake, Databricks ë° Delta Lake" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-23-BuildingtheDreamTeamSnowflakeDatabricksandDeltaLakeforStreamlinedDataPipelines_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="ê¿ˆíŒ€ ì¡°í•© êµ¬ì¶• ìŠ¤íŠ¸ë¦¼ë¼ì¸ëœ ë°ì´í„° íŒŒì´í”„ë¼ì¸ì„ ìœ„í•œ Snowflake, Databricks ë° Delta Lake" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">ê¿ˆíŒ€ ì¡°í•© êµ¬ì¶• ìŠ¤íŠ¸ë¦¼ë¼ì¸ëœ ë°ì´í„° íŒŒì´í”„ë¼ì¸ì„ ìœ„í•œ Snowflake, Databricks ë° Delta Lake</strong><div class="PostList_meta__VCFLX"><span class="date">May 23, 2024</span><span class="PostList_reading_time__6CBMQ">4<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="ë°ì´í„°ë² ì´ìŠ¤DBT ê°„ë‹¨ ì •ë¦¬" href="/post/2024-05-23-DBTinaNutshell"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="ë°ì´í„°ë² ì´ìŠ¤DBT ê°„ë‹¨ ì •ë¦¬" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-23-DBTinaNutshell_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="ë°ì´í„°ë² ì´ìŠ¤DBT ê°„ë‹¨ ì •ë¦¬" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">ë°ì´í„°ë² ì´ìŠ¤DBT ê°„ë‹¨ ì •ë¦¬</strong><div class="PostList_meta__VCFLX"><span class="date">May 23, 2024</span><span class="PostList_reading_time__6CBMQ">4<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§ ê°œë… ì œ10ë¶€, ìŠ¤íŒŒí¬ì™€ ì¹´í”„ì¹´ë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬" href="/post/2024-05-23-DataEngineeringconceptsPart10RealtimeStreamProcessingwithSparkandKafka"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§ ê°œë… ì œ10ë¶€, ìŠ¤íŒŒí¬ì™€ ì¹´í”„ì¹´ë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-23-DataEngineeringconceptsPart10RealtimeStreamProcessingwithSparkandKafka_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§ ê°œë… ì œ10ë¶€, ìŠ¤íŒŒí¬ì™€ ì¹´í”„ì¹´ë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§ ê°œë… ì œ10ë¶€, ìŠ¤íŒŒí¬ì™€ ì¹´í”„ì¹´ë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬</strong><div class="PostList_meta__VCFLX"><span class="date">May 23, 2024</span><span class="PostList_reading_time__6CBMQ">13<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§ ë””ìì¸ íŒ¨í„´" href="/post/2024-05-23-DataEngineeringDesignPatterns"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§ ë””ìì¸ íŒ¨í„´" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-23-DataEngineeringDesignPatterns_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§ ë””ìì¸ íŒ¨í„´" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§ ë””ìì¸ íŒ¨í„´</strong><div class="PostList_meta__VCFLX"><span class="date">May 23, 2024</span><span class="PostList_reading_time__6CBMQ">3<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a></div></div></article><div class="posts_pagination__R_03T"><button type="button" class="page_button -prev">&lt;</button><a class="link" href="/posts/41">41</a><a class="link" href="/posts/42">42</a><a class="link" href="/posts/43">43</a><a class="link" href="/posts/44">44</a><a class="link" href="/posts/45">45</a><a class="link" href="/posts/46">46</a><a class="link" href="/posts/47">47</a><a class="link" href="/posts/48">48</a><a class="link" href="/posts/49">49</a><a class="link posts_-active__YVJEi" href="/posts/50">50</a><a class="link" href="/posts/51">51</a><a class="link" href="/posts/52">52</a><a class="link" href="/posts/53">53</a><a class="link" href="/posts/54">54</a><a class="link" href="/posts/55">55</a><a class="link" href="/posts/56">56</a><a class="link" href="/posts/57">57</a><a class="link" href="/posts/58">58</a><a class="link" href="/posts/59">59</a><a class="link" href="/posts/60">60</a><button type="button" class="page_button -prev">&gt;</button></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"title":" ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ Vault ì‚¬ìš© ë°©ë²• ì•ˆë‚´ ","description":"","date":"2024-05-23 14:19","slug":"2024-05-23-AHand-OnGuidetoVaultinKubernetes","content":"\n## â‡¢ ì‹¤ìš©ì ì¸ ì˜ˆì œë¡œ HashiCorp Vaultë¥¼ ì‚¬ìš©í•˜ì—¬ k8s Secrets ê´€ë¦¬í•˜ê¸°\n\n![image](/assets/img/2024-05-23-AHand-OnGuidetoVaultinKubernetes_0.png)\n\nì¿ ë²„ë„¤í‹°ìŠ¤ ì„¸ê³„ì—ì„œ API í‚¤, ë¹„ë°€ë²ˆí˜¸ ë° ê¸°íƒ€ ì¤‘ìš” ì •ë³´ì™€ ê°™ì€ ë³´ì•ˆ ì •ë³´ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì¤‘ìš”í•œ ì‘ì—…ì…ë‹ˆë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ì—ëŠ” ë‚´ì¥ëœ ë³´ì•ˆ ì •ë³´ ê´€ë¦¬ ë©”ì»¤ë‹ˆì¦˜ì´ ìˆì§€ë§Œ, ëª¨ë“  ì¡°ì§ì˜ ë³´ì•ˆ ìš”êµ¬ ì‚¬í•­ì„ ì¶©ì¡±ì‹œí‚¤ì§€ ëª»í•  ìˆ˜ë„ ìˆëŠ” íŠ¹ì • ì œí•œ ì‚¬í•­ì´ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì¿ ë²„ë„¤í‹°ìŠ¤ ë³´ì•ˆ ì •ë³´ëŠ” etcdì— ì €ì¥ë˜ë©°, ì´ëŠ” íœ´ì‹ ì¤‘ ì•”í˜¸í™”ë˜ì–´ ìˆì§€ë§Œ, ë§¤ìš° ì¤‘ìš”í•œ ì •ë³´ì— í•„ìš”í•œ ë³´ì•ˆ ìˆ˜ì¤€ê³¼ ì ‘ê·¼ ì œì–´ë¥¼ ì œê³µí•˜ì§€ ëª»í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ë•Œ HashiCorp Vaultê°€ ë“±ì¥í•©ë‹ˆë‹¤. VaultëŠ” ì¤‘ìš”í•œ ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ì €ì¥í•˜ê³  ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì„¤ê³„ëœ ë„êµ¬ì…ë‹ˆë‹¤. ë™ì  ë³´ì•ˆ ì •ë³´, ì„œë¹„ìŠ¤ë¡œì˜ ì•”í˜¸í™” ë° ì ‘ê·¼ ì œì–´ë¥¼ ìœ„í•œ ê²¬ê³ í•œ ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•˜ì—¬, ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ì—ì„œ ë³´ì•ˆ ì •ë³´ë¥¼ ê´€ë¦¬í•˜ê¸°ì— ì´ìƒì ì¸ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” Helmì„ ì‚¬ìš©í•˜ì—¬ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— Vaultë¥¼ ì„¤ì¹˜í•˜ê³  êµ¬ì„±í•˜ëŠ” ë‹¨ê³„ë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  Podë¥¼ ë°°í¬í•˜ì—¬ Vaultì—ì„œ ë¹„ë°€ì„ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë„ë¡í•©ë‹ˆë‹¤. ì´ ì•ˆë‚´ì„œë¥¼ ë§ˆì¹˜ë©´ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— ì‘ë™í•˜ëŠ” Vault ì„¤ì •ì´ ì™„ë£Œë˜ì–´ ì‘ìš© í”„ë¡œê·¸ë¨ ë¹„ë°€ì„ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# ì „ì œ ì¡°ê±´\n\nì‹œì‘í•˜ê¸° ì „ì— ë‹¤ìŒ ì‚¬í•­ì„ í™•ì¸í•˜ì„¸ìš”:\n\n- ì‹¤í–‰ ì¤‘ì¸ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ê°€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\n- í´ëŸ¬ìŠ¤í„°ì™€ ìƒí˜¸ ì‘ìš©í•˜ë„ë¡ êµ¬ì„±ëœ kubectlì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\n- ë¡œì»¬ ë¨¸ì‹ ì— Helmì´ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"https://miro.medium.com/v2/resize:fit:1400/1*jmt8bsoEGeVHv5ZUP7XY_Q.gif\" /\u003e\n\n# ë³´ë¥´íŠ¸(Namespace) ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ìƒì„±í•˜ê¸°\n\nìš°ì„ , ë³´ë¥´íŠ¸(Vault)ë¥¼ ìœ„í•œ ë³„ë„ì˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë³´ë¥´íŠ¸ì— íŠ¹í™”ëœ ë¦¬ì†ŒìŠ¤ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\n$ kubectl create ns vault\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# Vault ì„¤ì¹˜\n\nìš°ë¦¬ëŠ” HashiCorpê°€ ì œê³µí•˜ëŠ” Helm ì°¨íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ Vaultì˜ ìµœì‹  ë²„ì „ì„ ì„¤ì¹˜í•  ê²ƒì…ë‹ˆë‹¤. ì´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë‘ ê°€ì§€ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤: 1. HashiCorp Helm ë¦¬í¬ì§€í† ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì§ì ‘ Helm ì„¤ì¹˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ê±°ë‚˜ 2. Helm ì°¨íŠ¸ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì—¬ ë¡œì»¬ë¡œ ì„¤ì¹˜í•˜ëŠ” ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.\n\n## 1. HashiCorp Helm ë¦¬í¬ì§€í† ë¦¬ ì¶”ê°€\n\nHashiCorp Helm ë¦¬í¬ì§€í† ë¦¬ë¥¼ Helm êµ¬ì„±ì— ì¶”ê°€í•´ë³´ì„¸ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nhelm repo add hashicorp https://helm.releases.hashicorp.com\n```\n\n## 2. ì„¤ì¹˜ ë°©ë²•\n\n1. ì§ì ‘ Helm ì„¤ì¹˜ ì‹¤í–‰í•˜ê¸°\n\në‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ HashiCorp ì €ì¥ì†Œì—ì„œ Helm ì°¨íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ Vaultë¥¼ ì§ì ‘ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nhelm install vault hashicorp/vault \\\n       --set='server.dev.enabled=true' \\\n       --set='ui.enabled=true' \\\n       --set='ui.serviceType=LoadBalancer' \\\n       --namespace vault\n```\n\n2. Helm ì°¨íŠ¸ ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜\n\nëŒ€ì•ˆìœ¼ë¡œ Helm ì°¨íŠ¸ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê³  ë¡œì»¬ë¡œ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\n# Helm ì°¨íŠ¸ ë‹¤ìš´ë¡œë“œ\nhelm pull hashicorp/vault --untar\n\n# ë‹¤ìš´ë¡œë“œí•œ ì°¨íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ Vault ì„¤ì¹˜\nhelm install vault \\\n       --set='server.dev.enabled=true' \\\n       --set='ui.enabled=true' \\\n       --set='ui.serviceType=LoadBalancer' \\\n       --namespace vault \\\n       ./vault-chart\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ ì„¤ì •ì„ ì‚¬ìš©í•˜ì—¬ UIê°€ í™œì„±í™”ëœ Vaultë¥¼ ê°œë°œ ëª¨ë“œë¡œ ì„¤ì¹˜í•˜ê³  ì™¸ë¶€ì—ì„œ ì•¡ì„¸ìŠ¤í•˜ê¸° ìœ„í•´ LoadBalancer ì„œë¹„ìŠ¤ë¥¼ í†µí•´ ë…¸ì¶œí•©ë‹ˆë‹¤. ì´ ì„¤ì •ì€ í…ŒìŠ¤íŠ¸ ë° ê°œë°œ ëª©ì ìœ¼ë¡œ ì´ìƒì ì…ë‹ˆë‹¤.\n\nê²°ê³¼:\n\n```js\n$ kubectl get all -n vault\nNAME                                        READY   STATUS    RESTARTS   AGE\npod/vault-0                                 1/1     Running   0          2m39s\npod/vault-agent-injector-8497dd4457-8jgcm   1/1     Running   0          2m39s\n\nNAME                               TYPE           CLUSTER-IP       EXTERNAL-IP    PORT(S)             AGE\nservice/vault                      ClusterIP      10.245.225.169   \u003cnone\u003e         8200/TCP,8201/TCP   2m40s\nservice/vault-agent-injector-svc   ClusterIP      10.245.32.56     \u003cnone\u003e         443/TCP             2m40s\nservice/vault-internal             ClusterIP      None             \u003cnone\u003e         8200/TCP,8201/TCP   2m40s\nservice/vault-ui                   LoadBalancer   10.245.103.246   24.132.59.59   8200:31764/TCP      2m40s\n\nNAME                                   READY   UP-TO-DATE   AVAILABLE   AGE\ndeployment.apps/vault-agent-injector   1/1     1            1           2m40s\n\nNAME                                              DESIRED   CURRENT   READY   AGE\nreplicaset.apps/vault-agent-injector-8497dd4457   1         1         1       2m40s\n\nNAME                     READY   AGE\nstatefulset.apps/vault   1/1     2m40s\n```\n\n# Vault êµ¬ì„±\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ë²ˆ ë‹¨ê³„ì—ì„œëŠ” Kubernetes í´ëŸ¬ìŠ¤í„° ë‚´ì—ì„œ ì•ˆì „í•˜ê²Œ ë¹„ë°€ì„ ê´€ë¦¬í•˜ê³  ì•¡ì„¸ìŠ¤í•˜ê¸° ìœ„í•´ Vault ì •ì±…ê³¼ ì¸ì¦ ë°©ë²•ì„ ì„¤ì •í•  ê²ƒì…ë‹ˆë‹¤. ì´ êµ¬ì„±ì€ ì¸ì¦ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ë§Œ Vaultì—ì„œ ë¯¼ê°í•œ ë°ì´í„°ë¥¼ ê²€ìƒ‰í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.\n\n## 1. Vault Podì— ì—°ê²°í•˜ê¸°\n\nì„¤ì¹˜ê°€ ì™„ë£Œëœ í›„ Vault podì— ì—°ê²°í•˜ì—¬ ì´ˆê¸° êµ¬ì„±ì„ ìˆ˜í–‰í•˜ì„¸ìš”:\n\n```js\nkubectl exec -it vault-0 -- /bin/sh\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 2. ì •ì±… ìƒì„± ë° ì ìš©í•˜ê¸°\n\nì´ì œ ë¹„ë°€ì„ ì½ì„ ìˆ˜ ìˆëŠ” ì •ì±…ì„ ìƒì„±í•˜ê² ìŠµë‹ˆë‹¤. ì´ ì •ì±…ì€ ì—­í• ì— ì²¨ë¶€ë˜ì–´ íŠ¹ì • Kubernetes ì„œë¹„ìŠ¤ ê³„ì •ì— ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” ë° ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì •ì±… íŒŒì¼ì„ ìƒì„±í•˜ì„¸ìš”:\n\n```js\ncat \u003c\u003cEOF \u003e /home/vault/read-policy.hcl\npath \"secret*\" {\n  capabilities = [\"read\"]\n}\nEOF\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì•„ë˜ì™€ ê°™ì´ ì •ì±…ì„ ì ìš©í•´ì£¼ì„¸ìš”:\n\n```js\n# ë¬¸ë²•\n$ vault policy write \u003cì •ì±…ëª…\u003e /ì •ì±…/ê²½ë¡œ/ì—¬ê¸°ì—.hcl\n\n# ì˜ˆì‹œ\n$ vault policy write read-policy /home/vault/read-policy.hcl\n```\n\n## 3. Kubernetes ì¸ì¦ í™œì„±í™”\n\nVaultì—ì„œ Kubernetes ì¸ì¦ ë°©ë²•ì„ í™œì„±í™”í•˜ì„¸ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nvault auth enable kubernetes\n```\n\n## 4. Kubernetes ì¸ì¦ ì„¤ì •\n\nVaultê°€ Kubernetes API ì„œë²„ì™€ í†µì‹ í•˜ë„ë¡ êµ¬ì„±í•©ë‹ˆë‹¤:\n\n```js\nvault write auth/kubernetes/config \\\n   token_reviewer_jwt=\"$(cat /var/run/secrets/kubernetes.io/serviceaccount/token)\" \\\n   kubernetes_host=https://${KUBERNETES_PORT_443_TCP_ADDR}:443 \\\n   kubernetes_ca_cert=@/var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 5. ì—­í•  ìƒì„±\n\níŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ìˆëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ì„œë¹„ìŠ¤ ê³„ì •(vault-serviceaccount)ì— ìœ„ì—ì„œ ë§Œë“  ì •ì±…ì„ ë°”ì¸ë”©í•˜ëŠ” ì—­í• (vault-role)ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì„œë¹„ìŠ¤ ê³„ì •ì´ Vaultì— ì €ì¥ëœ ì‹œí¬ë¦¿ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤:\n\n```js\nvault write auth/kubernetes/role/vault-role \\\n   bound_service_account_names=vault-serviceaccount \\\n   bound_service_account_namespaces=vault \\\n   policies=read-policy \\\n   ttl=1h\n```\n\nì—¬ê¸°ì„œ ì—¬ëŸ¬ ê°œì˜ ì„œë¹„ìŠ¤ ê³„ì •ê³¼ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```bash\nvault write auth/kubernetes/role/\u003cmy-role\u003e \\\n   bound_service_account_names=sa1, sa2 \\\n   bound_service_account_namespaces=namespace1, namespace2 \\\n   policies=\u003cpolicy-name\u003e \\\n   ttl=1h\n```\n\n# ë³´ì•ˆ ì •ë³´ ë§Œë“¤ê¸°\n\nì´ì œ Vaultì— ì¼ë¶€ ë³´ì•ˆ ì •ë³´ë¥¼ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤:\n\nìš°ë¦¬ëŠ” ë‘ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ë³´ì•ˆ ì •ë³´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- Vault CLIë¥¼ ì‚¬ìš©í•˜ê¸°\n\n## 1. Vault CLI ì‚¬ìš©í•˜ê¸°\n\nì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œí¬ë¦¿ì„ ìƒì„±í•˜ì„¸ìš”\n\n```js\n$ vault kv put secret/login pattoken=ytbuytbytbf765rb65u56rv\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œí¬ë¦¿ì„ ë‚˜ì—´í•˜ì—¬ ë¹„ë°€ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\n$ vault kv list secret\nKeys\n----\nlogin\n```\n\n## 2. Vault UI ì‚¬ìš© ë°©ë²•\n\nVault ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì—ì„œ ì„œë¹„ìŠ¤ë¥¼ ë‚˜ì—´í•˜ì—¬ ë¡œë“œ ë°¸ëŸ°ì„œì˜ ì™¸ë¶€ IPë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n$ kubectl get svc -n vault\nNAME                       TYPE           CLUSTER-IP       EXTERNAL-IP    PORT(S)             AGE\nvault                      ClusterIP      10.245.139.117   \u003cnone\u003e         8200/TCP,8201/TCP   28h\nvault-agent-injector-svc   ClusterIP      10.245.58.140    \u003cnone\u003e         443/TCP             28h\nvault-internal             ClusterIP      None             \u003cnone\u003e         8200/TCP,8201/TCP   28h\nvault-ui                   LoadBalancer   10.245.11.13     24.123.49.59   8200:32273/TCP      26h\n```\n\nìœ„ì˜ ë¡œë“œë°¸ëŸ°ì„œì˜ ì™¸ë¶€ IPë¥¼ ì‚¬ìš©í•˜ì—¬ Vault UIì— ì•¡ì„¸ìŠ¤í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì˜ˆ: `external-ip`:8200\n\nì œ ê²½ìš°: 24.123.49.59:8200\n\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n\n\u003cimg src=\"/assets/img/2024-05-23-AHand-OnGuidetoVaultinKubernetes_1.png\" /\u003e\n\nì´ì œ í† í° ë°©ë²•ì„ ì‚¬ìš©í•˜ì—¬ Vaultì— ë¡œê·¸ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ˆê¸°ì—ëŠ” Token=rootë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œê·¸ì¸í•˜ì‹­ì‹œì˜¤.\n\nì´ì œ Vault UIì—ì„œ ì‹œí¬ë¦¿ ëŒ€ì‹œë³´ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œí¬ë¦¿ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì‹œí¬ë¦¿ ì—”ì§„ìœ¼ë¡œ ì´ë™í•˜ì„¸ìš” '` ì‹œí¬ë¦¿`\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-05-23-AHand-OnGuidetoVaultinKubernetes_2.png\" /\u003e\n\nê·¸ëŸ° ë‹¤ìŒ ì˜¤ë¥¸ìª½ ìƒë‹¨ì˜ \"ë¹„ë°€ ìƒì„±(Create Secret)\"ì„ í´ë¦­í•˜ì„¸ìš”.\n\n\u003cimg src=\"/assets/img/2024-05-23-AHand-OnGuidetoVaultinKubernetes_3.png\" /\u003e\n\nì´ì œ ë¹„ë°€ì„ ë§Œë“¤ê¸° ìœ„í•´ ì›í•˜ëŠ” í•„ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ Vault CLIì—ì„œ ìœ„ì˜ ë¹„ë°€ì„ ì•¡ì„¸ìŠ¤í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n$ vault kv list secret\nKeys\n----\nlogin\nmy-first-secret\n```\n\nì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— Vaultë¥¼ ì„±ê³µì ìœ¼ë¡œ ì„¤ì¹˜í•˜ê³  êµ¬ì„±í–ˆìŠµë‹ˆë‹¤. ì´ì œ Vaultë¥¼ ì‚¬ìš©í•˜ì—¬ ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ë¹„ë°€ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# ì¿ ë²„ë„¤í‹°ìŠ¤ Podì—ì„œ ë¹„ë°€ ì•¡ì„¸ìŠ¤\n\nìœ„ ë‹¨ê³„ë¥¼ ì‚¬ìš©í•˜ì—¬ Vaultë¥¼ ì„¤ì¹˜í•˜ê³  Vault ì—­í• (vault-role)ì„ êµ¬ì„±í•˜ì—¬ ì„œë¹„ìŠ¤ ê³„ì •(vault-serviceaccount)ì´ Vaultì— ì €ì¥ëœ ë¹„ë°€ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në˜í•œ, loginê³¼ my-first-secretì´ë¼ëŠ” í‚¤-ê°’ ìŒì„ ê°€ì§„ ë‘ ê°œì˜ ì‹œí¬ë¦¿ì„ ìƒì„±í–ˆìŠµë‹ˆë‹¤. ì´ì œ ê°„ë‹¨í•œ ì¿ ë²„ë„¤í‹°ìŠ¤ ë°°í¬ë¥¼ ìƒì„±í•˜ê³  ì´ëŸ¬í•œ ì‹œí¬ë¦¿ì— ì•¡ì„¸ìŠ¤í•´ ë³´ê² ìŠµë‹ˆë‹¤.\n\në¨¼ì €, vault ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— vault-serviceaccountë¼ëŠ” ì„œë¹„ìŠ¤ ê³„ì •ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ ì„œë¹„ìŠ¤ ê³„ì •ì€ ìœ„ì—ì„œ ì •ì˜í•œ \"Role ìƒì„±\" ë‹¨ê³„ì—ì„œ ì •ì˜ëœ Vault ì—­í• ì— ëŒ€í•œ ê¶Œí•œì´ ë¶€ì—¬ë©ë‹ˆë‹¤.\n\nì•„ë˜ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì„ vault-sa.yamlë¡œ ì €ì¥í•©ë‹ˆë‹¤.\n\n```yaml\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: vault-serviceaccount\n  labels:\n    app: read-vault-secret\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìœ„ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ìœ„ì— ì œê³µëœ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ë¥¼ ì ìš©í•˜ì„¸ìš”.\n\n```js\nkubectl apply -f vault-sa.yaml\n```\n\nì´ì œ ì•„ë˜ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ê°„ë‹¨í•œ ë°°í¬(vault-secret-test-deploy.yaml)ë¥¼ ìƒì„±í•´ ë´…ì‹œë‹¤.\n\nì´ ë°°í¬ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ëŠ” Vaultì—ì„œ ì‹œí¬ë¦¿ì„ ì•ˆì „í•˜ê²Œ ê°€ì ¸ì˜¤ë„ë¡ êµ¬ì„±ëœ Nginx íŒŒë“œì˜ ë‹¨ì¼ ë ˆí”Œë¦¬ì¹´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. Vault ì—ì´ì „íŠ¸ëŠ” ì§€ì •ëœ í…œí”Œë¦¿ì— ë”°ë¼ ì‹œí¬ë¦¿ì¸ login ë° my-first-secretì„ íŒŒë“œì— ì£¼ì…í•©ë‹ˆë‹¤. ì‹œí¬ë¦¿ì€ íŒŒë“œ íŒŒì¼ ì‹œìŠ¤í…œì— ì €ì¥ë˜ì–´ ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Vaultì™€ ì¸ì¦í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ê¶Œí•œì„ ê°–ê³  ìˆëŠ” vault-serviceaccount ì„œë¹„ìŠ¤ ì–´ì¹´ìš´íŠ¸ê°€ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì–´ë…¸í…Œì´ì…˜ ì„¹ì…˜ì„ ìì„¸íˆ ì‚´í´ë³´ë©´ ê·¸ ëª©ì ê³¼ ê¸°ëŠ¥ì„ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\nannotations:\n        vault.hashicorp.com/agent-inject: \"true\"\n        vault.hashicorp.com/agent-inject-status: \"update\"\n        vault.hashicorp.com/agent-inject-secret-login: \"secret/login\"\n        vault.hashicorp.com/agent-inject-template-login: |\n          {- with secret \"secret/login\" -}\n          pattoken={ .Data.data.pattoken }\n          {- end }\n        vault.hashicorp.com/agent-inject-secret-my-first-secret: \"secret/my-first-secret\"\n        vault.hashicorp.com/agent-inject-template-my-first-secret: |\n          {- with secret \"secret/my-first-secret\" -}\n          username={ .Data.data.username }\n          password={ .Data.data.password }\n          {- end }\n        vault.hashicorp.com/role: \"vault-role\"\n```\n\nì´ëŸ¬í•œ ì–´ë…¸í…Œì´ì…˜ì€ Vault ì—ì´ì „íŠ¸ë¥¼ êµ¬ì„±í•˜ì—¬ ì‹œí¬ë¦¿ì„ íŒŒë“œ ë³¼ë¥¨ì— ì£¼ì…í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n- vault.hashicorp.com/agent-inject: â€œtrueâ€: ì´ íŒŒë“œì— ëŒ€í•œ Vault ì—ì´ì „íŠ¸ ì£¼ì…ì„ í™œì„±í™”í•©ë‹ˆë‹¤.\n- vault.hashicorp.com/agent-inject-status: â€œupdateâ€: ì‹œí¬ë¦¿ ì£¼ì… ìƒíƒœê°€ ì—…ë°ì´íŠ¸ë˜ë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.\n- vault.hashicorp.com/agent-inject-secret-login: â€œsecret/loginâ€: Vaultì— ì €ì¥ëœ secret/loginì˜ ì‹œí¬ë¦¿ì„ ì£¼ì…í•´ì•¼ í•¨ì„ ì§€ì •í•©ë‹ˆë‹¤.\n- vault.hashicorp.com/agent-inject-template-login: ì£¼ì…ëœ ë¡œê·¸ì¸ ì‹œí¬ë¦¿ì˜ í…œí”Œë¦¿ì„ ì •ì˜í•˜ì—¬ ì‹œí¬ë¦¿ì´ ê¸°ë¡ë  í˜•ì‹ì„ ì§€ì •í•©ë‹ˆë‹¤.\n- vault.hashicorp.com/agent-inject-secret-my-first-secret: â€œsecret/my-first-secretâ€: Vaultì— ì €ì¥ëœ secret/my-first-secretì˜ ì‹œí¬ë¦¿ì„ ì£¼ì…í•´ì•¼ í•¨ì„ ì§€ì •í•©ë‹ˆë‹¤.\n- vault.hashicorp.com/agent-inject-template-my-first-secret: ì£¼ì…ëœ my-first-secretì— ëŒ€í•œ í…œí”Œë¦¿ì„ ì •ì˜í•˜ì—¬ ì‹œí¬ë¦¿ì´ ê¸°ë¡ë  í˜•ì‹ì„ ì§€ì •í•©ë‹ˆë‹¤.\n- vault.hashicorp.com/role: â€œvault-roleâ€: ì¸ì¦ì— ì‚¬ìš©ë  Vault ì—­í• ì„ ì§€ì •í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ pod ë³¼ë¥¨ì—ì„œ Vault ì‹œí¬ë¦¿ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n$ kubectl exec -it vault-test-84d9dc9986-gcxfv -- sh -c \"cat /vault/secrets/login \u0026\u0026 cat /vault/secrets/my-first-secret\" -n vault\n```\n\n```js\n$ kubectl exec -it vault-test-84d9dc9986-gcxfv -- sh -c \"cat /vault/secrets/login \u0026\u0026 cat /vault/secrets/my-first-secret\" -n vault\n\nDefaulted container \"nginx\" out of: nginx, vault-agent, vault-agent-init (init)\npattoken=ytbuytbytbf765rb65u56rv\nusername=anvesh\npassword=anveshpassword\n```\n\nì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! Vaultì— ì‹œí¬ë¦¿ì„ ì„±ê³µì ìœ¼ë¡œ ìƒì„±í•˜ê³  í•´ë‹¹ ì‹œí¬ë¦¿ì„ íŒŸ ë‚´ì—ì„œ í™œìš©í–ˆìŠµë‹ˆë‹¤.\n\n# ì†ŒìŠ¤ ì½”ë“œ\n\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìœ„ì˜ í…ìŠ¤íŠ¸ë¥¼ í•œêµ­ì–´ë¡œ ë²ˆì—­í•˜ì˜€ìŠµë‹ˆë‹¤.\n\nì¹œêµ¬ì•¼! ë‹¹ì‹ ì„ ìš°ë¦¬ì˜ GitHub ì €ì¥ì†Œë¡œ ì´ˆëŒ€í•©ë‹ˆë‹¤. ê±°ê¸°ì—ëŠ” Kubernetesìš© ì†ŒìŠ¤ ì½”ë“œì˜ í¬ê´„ì ì¸ ì»¬ë ‰ì…˜ì´ ì €ì¥ë˜ì–´ ìˆì–´ìš”.\n\në˜í•œ, ì—¬ëŸ¬ë¶„ì˜ í”¼ë“œë°±ê³¼ ì œì•ˆì„ í™˜ì˜í•©ë‹ˆë‹¤! ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ê°œì„  ì•„ì´ë””ì–´ê°€ ìˆë‹¤ë©´, ì €í¬ì˜ GitHub ì €ì¥ì†Œì—ì„œ issueë¥¼ ì—´ì–´ì£¼ì„¸ìš”. ğŸš€\n\n\u003cimg src=\"/assets/img/2024-05-23-AHand-OnGuidetoVaultinKubernetes_6.png\" /\u003e\n\n# Connect With Me\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ ë¸”ë¡œê·¸ë¥¼ ìœ ìµí•˜ê²Œ ì°¾ìœ¼ì…¨ê³  AWS, í´ë¼ìš°ë“œ ì „ëµ, Kubernetes ë˜ëŠ” ê´€ë ¨ëœ ëª¨ë“  ì£¼ì œì— ëŒ€í•´ ë” ê¹Šì´ ì•Œê³  ì‹¶ë‹¤ë©´, LinkedInì—ì„œ ì—°ê²°í•  ê¸°íšŒë¥¼ ê°–ê²Œ ë˜ì–´ ê¸°ì©ë‹ˆë‹¤. ì˜ë¯¸ ìˆëŠ” ëŒ€í™”ë¥¼ ë‚˜ëˆ„ê³  í†µì°°ì„ ê³µìœ í•˜ë©° í•¨ê»˜ í´ë¼ìš°ë“œ ì»´í“¨íŒ…ì˜ ê´‘í™œí•œ ì˜ì—­ì„ íƒìƒ‰í•´ ë´…ì‹œë‹¤.\n\nì–¸ì œë“ ì§€ ì—°ë½ ì£¼ì‹œê±°ë‚˜ ìƒê°ì„ ê³µìœ í•˜ê±°ë‚˜ ì§ˆë¬¸ì„ í•  ììœ ê°€ ìˆìŠµë‹ˆë‹¤. ë™ì ì¸ ë¶„ì•¼ì—ì„œ ì—°ê²°í•˜ê³  í•¨ê»˜ ì„±ì¥í•˜ê¸°ë¥¼ ê¸°ëŒ€í•©ë‹ˆë‹¤!\n\ní–‰ë³µí•œ ë°°í¬ ë˜ì„¸ìš”! ğŸš€\n\ní–‰ë³µí•œ ì¿ ë²„ë„¤íŒ… ë˜ì„¸ìš”! âˆ\n\n","ogImage":{"url":"/assets/img/2024-05-23-AHand-OnGuidetoVaultinKubernetes_0.png"},"coverImage":"/assets/img/2024-05-23-AHand-OnGuidetoVaultinKubernetes_0.png","tag":["Tech"],"readingTime":11},{"title":"íŒŒì´ì¬ ì œë„ˆë ˆì´í„° ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•","description":"","date":"2024-05-23 14:16","slug":"2024-05-23-PythonGeneratorsHowToEfficientlyFetchDataFromDatabases","content":"\n![image](/assets/img/2024-05-23-PythonGeneratorsHowToEfficientlyFetchDataFromDatabases_0.png)\n\n# ì˜¨ë””ë§¨ë“œ ì½”ìŠ¤ | ì¶”ì²œ\n\nëª‡ëª‡ ë…ìë“¤ì´ ë°ì´í„° ì—”ì§€ë‹ˆì–´ë¡œ ì„±ì¥í•˜ëŠ” ë° ë„ì›€ì´ ë  ì˜¨ë””ë§¨ë“œ ì½”ìŠ¤ë¥¼ ìš”ì²­í–ˆìŠµë‹ˆë‹¤. ì œê°€ ì¶”ì²œí•˜ëŠ” 3ê°€ì§€ ì¢‹ì€ ìì›ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n- ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§ ë‚˜ë…¸ë””ê·¸ë¦¬ (UDACITY)\n- ì•„íŒŒì¹˜ ì¹´í”„ì¹´ \u0026 ì•„íŒŒì¹˜ ìŠ¤íŒŒí¬ë¥¼ ì´ìš©í•œ ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë° ë‚˜ë…¸ë””ê·¸ë¦¬ (UDACITY)\n- íŒŒì´ìŠ¤íŒŒí¬ë¥¼ ì´ìš©í•œ ìŠ¤íŒŒí¬ ë° íŒŒì´ì¬ ë¹…ë°ì´í„° ê³¼ì • (UDEMY)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì•„ì§ Medium íšŒì›ì´ ì•„ë‹ˆì‹ ê°€ìš”? Mediumì´ ì œê³µí•˜ëŠ” ëª¨ë“  ê²ƒì— ì•¡ì„¸ìŠ¤í•˜ë ¤ë©´ ë§¤ì›” $5ë¡œ ê°€ì…í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ë³´ì„¸ìš”!\n\n# ì†Œê°œ\n\në°ì´í„° ì—”ì§€ë‹ˆì–´ë¡œì¨ ìš°ë¦¬ëŠ” ì¢…ì¢… ìš´ì˜ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ íŠ¹íˆ í° ë°ì´í„° ì§‘í•©ì„ ê°€ì ¸ì™€ì„œ ì¼ë ¨ì˜ ë³€í™˜ì„ ìˆ˜í–‰í•œ í›„ì— ë¶„ì„ ë°ì´í„°ë² ì´ìŠ¤ë‚˜ S3 ë²„í‚·ê³¼ ê°™ì€ í´ë¼ìš°ë“œ ê°ì²´ ì €ì¥ì†Œì— ê¸°ë¡í•´ì•¼ í•˜ëŠ” ìƒí™©ì— ì§ë©´í•©ë‹ˆë‹¤.\n\nì´ ê²½ìš° Airflow ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ì˜ í° ë¶€ë¶„ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° íŒ€ì˜ ë‹¤ë¥¸ ë™ë£Œë“¤ì˜ ì‘ì—…ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì„ ì°¾ì•„ì•¼ í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\níŒŒì´ì¬ ìƒì„±ê¸°ê°€ ë©”ëª¨ë¦¬ í”¼í¬ë¥¼ í”¼í•˜ë©´ì„œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê°€ì ¸ì˜¬ ë•Œ ì‚¬ìš©ë  ìˆ˜ ìˆëŠ” ì¢‹ì€ ì˜µì…˜ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì‹¤ì œë¡œ, ë³¸ ììŠµì„œì—ì„œëŠ” ìƒì„±ê¸°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë°ì´í„° ì—”ì§€ë‹ˆì–´ì—ê²Œ í˜„ëª…í•œ ì ‘ê·¼ ë°©ì‹ì¸ ë‘ ê°€ì§€ ì‹¤ìš©ì ì¸ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ì‚´í´ë³¼ ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ Docker ì»¨í…Œì´ë„ˆë¥¼ êµ¬ë™í•˜ì—¬ ì‹¤ì œ ì—”ë“œ íˆ¬ ì—”ë“œ ë°ì´í„° ì›Œí¬í”Œë¡œë¥¼ ì‹œë®¬ë ˆì´ì…˜í•˜ê¸° ìœ„í•´ ì„¸ ê°€ì§€ ì„œë¹„ìŠ¤(í¬ìŠ¤íŠ¸ê·¸ë ˆìŠ¤ ë°ì´í„°ë² ì´ìŠ¤, ì£¼í”¼í„° ë…¸íŠ¸ë¶ ë° MinIO)ë¥¼ ì‹¤í–‰í•  ê²ƒì…ë‹ˆë‹¤.\n\n# íŒŒì´ì¬ì—ì„œ ìƒì„±ê¸°ì˜ ì¥ì \n\níŒŒì´ì¬ì—ì„œ í‘œì¤€ í•¨ìˆ˜ëŠ” ë‹¨ì¼ ê°’ ê³„ì‚° í›„ ì¢…ë£Œë˜ì§€ë§Œ, ìƒì„±ê¸°ëŠ” í•„ìš”ì— ë”°ë¼ ì¼ì‹œ ì¤‘ì§€í•˜ê³  ë‹¤ì‹œ ì‹œì‘í•˜ë©´ì„œ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ê°’ ì‹œí€€ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì œë„ˆë ˆì´í„°ëŠ” ê°’ì„ ì‹œí€€ìŠ¤ë¡œ ìƒì„±í•˜ê¸° ìœ„í•´ return ëŒ€ì‹  yield ë¬¸ì„ ì‚¬ìš©í•˜ëŠ” íŠ¹ë³„í•œ í•¨ìˆ˜ì…ë‹ˆë‹¤. ê°’ì€ í•œ ë²ˆì— í•˜ë‚˜ì”© ìƒì„±ë˜ë©° ì „ì²´ ì‹œí€€ìŠ¤ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.\n\nì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ ì œë„ˆë ˆì´í„°ì— ì˜í•´ ìƒì„±ëœ ê°’ì˜ ì‹œí€€ìŠ¤ë¥¼ ë°˜ë³µí•  ìˆ˜ ìˆëŠ” ì´í„°ë ˆì´í„° ê°ì²´ê°€ ë°˜í™˜ë©ë‹ˆë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´, 0ë¶€í„° ì…ë ¥ ë³€ìˆ˜ n ì‚¬ì´ì˜ ìˆ«ìë“¤ì˜ ì œê³±ì„ ìƒì„±í•˜ëŠ” squares_generator(n) í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë´…ì‹œë‹¤:\n\n```js\ndef squares_generator(n):\n  num = 0\n  while num \u003c n:\n    yield num * num\n    num += 1\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\ní•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì´í„°ë ˆì´í„°ë§Œ ë°˜í™˜ë©ë‹ˆë‹¤:\n\n```js\nsquares_generator(n)\n\n#ì¶œë ¥:\n# \u003cgenerator object squares_generator at 0x10653bdd0\u003e\n```\n\nëª¨ë“  ê°’ì˜ ì‹œí€€ìŠ¤ë¥¼ ê°€ì ¸ì˜¤ë ¤ë©´ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ ë£¨í”„ ì•ˆì—ì„œ í˜¸ì¶œí•´ì•¼í•©ë‹ˆë‹¤:\n\n```js\nfor num in squares_generator(5):\n  print(num)\n\n#ì¶œë ¥:\n0\n1\n4\n9\n16\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në” íš¨ìœ¨ì ì´ê³  ì„¸ë ¨ëœ ì˜µì…˜ì€ í•¨ìˆ˜ ëŒ€ì‹  í•œ ì¤„ë¡œ ì‘ì„±ëœ ìƒì„±ê¸° í‘œí˜„ì‹ì„ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤:\n\n```js\nn = 5\ngenerator_exp = (num * num for num in range(n))\n```\n\nì´ì œ ê°’ì„ next() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\nprint(next(generator_exp)) # 0\nprint(next(generator_exp)) # 1\nprint(next(generator_exp)) # 4\nprint(next(generator_exp)) # 9\nprint(next(generator_exp)) # 16\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìš°ë¦¬ê°€ ë³¼ ìˆ˜ ìˆë“¯ì´, ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì—ì„œ ê°’ì´ ë°˜í™˜ë˜ëŠ” ë°©ì‹ì€ ì¼ë°˜ì ì¸ íŒŒì´ì¬ í•¨ìˆ˜ì™€ëŠ” ì¦‰ê°ì ìœ¼ë¡œ ì§ê´€ì ì´ì§€ ì•ŠìŠµë‹ˆë‹¤. ì•„ë§ˆë„ ê·¸ê²ƒì´ ë§ì€ ë°ì´í„° ì—”ì§€ë‹ˆì–´ë“¤ì´ ë°œìƒí•´ì•¼ í•  ì •ë„ë¡œ ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì´ìœ ì¼ ê²ƒì…ë‹ˆë‹¤.\n\në‹¤ìŒ ì„¹ì…˜ì—ì„œ ë‘ ê°€ì§€ ì¼ë°˜ì ì¸ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ì„¤ëª…í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n# ëª©í‘œ ë° ì„¤ì •\n\nì´ ììŠµì„œì˜ ëª©í‘œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- Postgres DBë¡œë¶€í„° ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ pandas ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤.\n- pandas ë°ì´í„°í”„ë ˆì„ì„ Parquet í˜•ì‹ìœ¼ë¡œ S3 ë²„í‚·ì— ì”ë‹ˆë‹¤.\n\nê° ëª©í‘œëŠ” ì¼ë°˜ í•¨ìˆ˜ì™€ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë‘ ë‹¬ì„±ë  ê²ƒì…ë‹ˆë‹¤.\n\nì´ëŸ¬í•œ ì›Œí¬í”Œë¡œìš°ë¥¼ ì‹œë®¬ë ˆì´ì…˜í•˜ê¸° ìœ„í•´ ì„¸ ê°€ì§€ ì„œë¹„ìŠ¤ê°€ ìˆëŠ” ë„ì»¤ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤:\n\n- Postgres DB = ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ì†ŒìŠ¤ ìš´ì˜ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ì‚¬ìš©ë  ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. Docker-composeê°€ mainDBë¥¼ ìƒì„±í•˜ê³  transactionsì´ë¼ëŠ” í…Œì´ë¸”ì— 5ë°±ë§Œ ê°œì˜ ëª¨ì˜ ë ˆì½”ë“œë¥¼ ì‚½ì…í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. ì°¸ê³ : ì´ íŠœí† ë¦¬ì–¼ì„ ìœ„í•œ ìë£Œë¥¼ ì¤€ë¹„í•˜ëŠ” ë™ì•ˆ, ë” í° ë°ì´í„°ì…‹ì„ ì‹œë®¬ë ˆì´ì…˜í•˜ê¸° ìœ„í•´ 5ì²œë§Œ ê°œ, 1ì–µ ê°œì˜ í–‰ì„ ì‹œë„í•´ ë³´ì•˜ì§€ë§Œ Docker ì„œë¹„ìŠ¤ì˜ ì„±ëŠ¥ì— ì˜í–¥ì„ ë¯¸ì³¤ìŠµë‹ˆë‹¤.\n- MinIO = AWS S3 ë²„í‚·ì„ ì‹œë®¬ë ˆì´ì…˜í•˜ëŠ” ë° ì‚¬ìš©ë  ì„œë¹„ìŠ¤ë¡œ, awswrangler íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ pandas ë°ì´í„°í”„ë ˆì„ì„ Parquet í˜•ì‹ìœ¼ë¡œ ì“¸ ë•Œ ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤.\n- Jupyter Notebook = ìµìˆ™í•œ ì»´íŒŒì¼ëŸ¬ë¥¼ í†µí•´ Python ì½”ë“œ ì¡°ê°ì„ ëŒ€í™”ì‹ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” ë° ì‚¬ìš©ë  ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì§€ê¸ˆê¹Œì§€ ì„¤ëª…í•œ ë‚´ìš©ì„ ì‹œê°ì ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” ê·¸ë˜í”„ì…ë‹ˆë‹¤:\n\n![ê·¸ë˜í”„](/assets/img/2024-05-23-PythonGeneratorsHowToEfficientlyFetchDataFromDatabases_1.png)\n\nì²« ë²ˆì§¸ ë‹¨ê³„ë¡œëŠ” í”„ë¡œì íŠ¸ì˜ GitHub ë¦¬í¬ì§€í† ë¦¬ë¥¼ ë³µì œí•˜ê³  í•´ë‹¹ í´ë”ë¡œ ì´ë™í•©ë‹ˆë‹¤:\n\n```js\ngit clone git@github.com:anbento0490/projects.git \u0026\u0026\ncd fetch_data_with_python_generators\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nê·¸ëŸ¬ë©´ ì„¸ ê°€ì§€ ì„œë¹„ìŠ¤ë¥¼ ì‹œì‘í•˜ëŠ” ë„ì»¤ ì»´í¬ì¦ˆë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆì–´ìš”:\n\n```js\ndocker compose up -d\n\n[+] Running 5/5\n â ¿ Network shared-network                 Created                                                 0.0s\n â ¿ Container jupyter-notebooks            Started                                                 1.0s\n â ¿ Container minio                        Started                                                 0.7s\n â ¿ Container postgres-db                  Started                                                 0.9s\n â ¿ Container mc                           Started                                                 1.1s\n```\n\næœ€çµ‚ì ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”:\n\n- í¬ìŠ¤íŠ¸ê·¸ë ˆìŠ¤ ë°ì´í„°ë² ì´ìŠ¤ì— transactions í…Œì´ë¸”ì´ ìƒì„±ë˜ì—ˆê³  5ë°±ë§Œ ê°œì˜ ë ˆì½”ë“œê°€ í¬í•¨ë˜ì–´ ìˆì–´ìš”:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\ndocker exec -it postgres-db /bin/bash\n\nroot@9632469c70e0:/# psql -U postgres\n\npsql (13.13 (Debian 13.13-1.pgdg120+1))\në„ì›€ë§ì„ ë³´ë ¤ë©´ \"help\"ë¥¼ ì…ë ¥í•˜ì„¸ìš”.\n\npostgres=# \\c mainDB\në°ì´í„°ë² ì´ìŠ¤ \"mainDB\"ì— ì‚¬ìš©ì \"postgres\"ë¡œ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.\n\nmainDB=# select count(*) from transactions;\n  count\n---------\n 5000000\n(1 ë¡œìš°)\n```\n\n- MinIO UIëŠ” localhost:9001 í¬íŠ¸ì—ì„œ ì ‘ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìê²© ì¦ëª…ì„ ìš”ì²­ ë°›ì„ ë•Œ (ê´€ë¦¬ì ë° ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥)ë¥¼ ì‚¬ìš©í•˜ê³  generators-test-bucketì´ë¼ëŠ” ë¹ˆ ë²„í‚·ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤:\n\n![image](/assets/img/2024-05-23-PythonGeneratorsHowToEfficientlyFetchDataFromDatabases_2.png)\n\n- Jupyter Notebook UIëŠ” localhost:8889ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆìœ¼ë©° ì•„ë˜ì— í† í°ì„ ê²€ìƒ‰í•˜ì—¬ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```bash\ndocker exec -it jupyter-notebooks /bin/bash\n\nroot@eae08d1f4bf6:~# jupyter server list\n\ní˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ì„œë²„:\nhttp://eae08d1f4bf6:8888/?token=8a45d846d03cf0c0e4584c3b73af86ba5dk9e83c8ac47ee7 :: /home/jovyan\n```\n\n![Python Generators](/assets/img/2024-05-23-PythonGeneratorsHowToEfficientlyFetchDataFromDatabases_3.png)\n\nì¢‹ì•„ìš”! Jupyterì—ì„œ ëª‡ ê°€ì§€ ì½”ë“œë¥¼ ì‹¤í–‰í•  ì¤€ë¹„ê°€ ëª¨ë‘ ëë‚¬ì–´ìš”.\n\ní•˜ì§€ë§Œ ê·¸ ì „ì— MinIOì˜ ë²„í‚·ê³¼ ìƒí˜¸ ì‘ìš©í•˜ë ¤ë©´ ìƒˆë¡œìš´ access_keyì™€ secret_access_keyë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-05-23-PythonGeneratorsHowToEfficientlyFetchDataFromDatabases_4.png\" /\u003e\n\nì•Œë¦¼: MinIO ë²„í‚·ì˜ ê°€ì¥ ë©‹ì§„ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ëŠ” AWS S3 ë²„í‚·ì²˜ëŸ¼ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤ (ì˜ˆ: boto3, awswrangler ë“±ì„ ì‚¬ìš©í•˜ì—¬). í•˜ì§€ë§Œ ì´ëŸ¬í•œ ê¸°ëŠ¥ì€ ë¹„ìš©ì´ ë°œìƒí•˜ì§€ ì•Šìœ¼ë©°, ë¡œì»¬ í™˜ê²½ì—ë§Œ ì¡´ì¬í•˜ë¯€ë¡œ ë¹„ë°€ì„ ë…¸ì¶œí•  ê±±ì •ì´ ì—†ìŠµë‹ˆë‹¤. ì»¨í…Œì´ë„ˆê°€ ì¤‘ì§€ë  ë•Œê¹Œì§€ ìœ ì§€ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë°ì´í„°ê°€ ê³„ì† ìœ ì§€ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\nì´ì œ ìƒì„±ê¸° ë…¸íŠ¸ë¶ì—ì„œ ë‹¤ìŒ ì½”ë“œë¥¼ ì‹¤í–‰í•´ ë´…ì‹œë‹¤ (ë¹„ë°€ ì •ë³´ë¥¼ ê¼­ êµì²´í•´ì£¼ì„¸ìš”):\n\n```python\nimport psycopg2\nimport pandas as pd\nimport boto3\nimport awswrangler as wr\n\n#######################################################\n######## PG DBì— ì—°ê²°í•˜ê³  ì»¤ì„œ ìƒì„± #######\nconnection = psycopg2.connect(user=\"postgres\",\n                              password=\"postgres\",\n                              port=\"5432\",\n                              database=\"mainDB\")\ncursor = connection.cursor()\n\nquery = \"select * from transactions;\"\n\n#######################################################\n######## MINIO ë²„í‚·ì— ì—°ê²° ###################\n\nboto3.setup_default_session(aws_access_key_id='your_access_key',\n                            aws_secret_access_key='your_secret_key')\n\nbucket = 'generators-test-bucket'\nfolder_gen = 'data_gen'\nfolder_batch = 'data_batch'\nparquet_file_name = 'transactions'\nbatch_size = 1000000\n\nwr.config.s3_endpoint_url = 'http://minio:9000'\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ê²ƒì€ mainDBì— ì—°ê²°í•˜ê³  ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ì»¤ì„œë¥¼ ë§Œë“­ë‹ˆë‹¤. ë˜í•œ generators-test-bucketì™€ ìƒí˜¸ ì‘ìš©í•˜ê¸° ìœ„í•œ ê¸°ë³¸ ì„¸ì…˜ì´ ì„¤ì •ë©ë‹ˆë‹¤.\n\n# ì‚¬ìš© ì‚¬ë¡€ #1: ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì½ê¸°\n\në°ì´í„° ì—”ì§€ë‹ˆì–´ë¡œì„œ ë°ì´í„°ë² ì´ìŠ¤ ë˜ëŠ” ì™¸ë¶€ ì„œë¹„ìŠ¤ì—ì„œ ëŒ€ê·œëª¨ ë°ì´í„° ì„¸íŠ¸ë¥¼ Python íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ê°€ì ¸ì˜¬ ë•Œ, ë‹¤ìŒ ì‚¬í•­ ì‚¬ì´ì˜ ê· í˜•ì„ ì°¾ì•„ì•¼ í•©ë‹ˆë‹¤:\n\n- ë©”ëª¨ë¦¬: í•œêº¼ë²ˆì— ì „ì²´ ë°ì´í„° ì„¸íŠ¸ë¥¼ ê°€ì ¸ì˜¤ë©´ OOM ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê±°ë‚˜ ì „ì²´ ì¸ìŠ¤í„´ìŠ¤/í´ëŸ¬ìŠ¤í„°ì˜ ì„±ëŠ¥ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ì†ë„: í–‰ì„ í•˜ë‚˜ì”© ê°€ì ¸ì˜¤ëŠ” ê²ƒë„ ë¹„ì‹¼ I/O ë„¤íŠ¸ì›Œí¬ ì‘ì—…ì„ ì´ˆë˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## ë°©ë²• #1: ì¼ê´„ì ìœ¼ë¡œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n\nì‹¤ë¬´ì—ì„œ ìì£¼ ì‚¬ìš©í•˜ëŠ” í•©ë¦¬ì ì¸ ì ˆì¶©ì•ˆì€ ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ì™€ ë°ì´í„° íŒŒì´í”„ë¼ì¸ì˜ ì†ë„ ìš”êµ¬ ì‚¬í•­ì— ë”°ë¼ ë°°ì¹˜ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì…ë‹ˆë‹¤:\n\n```js\n# 1.1. ë°°ì¹˜ë¥¼ ì‚¬ìš©í•˜ì—¬ DF ìƒì„±\ndef create_df_batch(cursor, batch_size):\n\n    print('ìƒì„± ì¤‘...')\n    colnames = ['transaction_id',\n                'user_id',\n                'product_name',\n                'transaction_date',\n                'amount_gbp']\n\n    df = pd.DataFrame(columns=colnames)\n    cursor.execute(query)\n\n    while True:\n        rows = cursor.fetchmany(batch_size)\n        if not rows:\n            break\n        # ì¼ë¶€ ë³€í™˜\n        batch_df = pd.DataFrame(data = rows, columns=colnames)\n        df = pd.concat([df, batch_df], ignore_index=True)\n\n    print('DF ìƒì„± ì™„ë£Œ!\\n')\n\n    return df\n```\n\nìœ„ ì½”ë“œëŠ” ë‹¤ìŒì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- ë¹ˆ dfë¥¼ ìƒì„±;\n- ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê³  ì „ì²´ ê²°ê³¼ë¥¼ ì»¤ì„œ ê°ì²´ì— ìºì‹±;\n- while ë£¨í”„ë¥¼ ì´ˆê¸°í™”í•˜ì—¬ ë§¤ ë°˜ë³µë§ˆë‹¤ ì§€ì •ëœ ë°°ì¹˜ í¬ê¸°(ì´ ê²½ìš° 1ë°±ë§Œ í–‰)ì™€ ë™ì¼í•œ í–‰ ìˆ˜ë¥¼ ê°€ì ¸ì™€ ì´ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°ì¹˜\\_dfë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\n- ìµœì¢…ì ìœ¼ë¡œ ë°°ì¹˜\\_dfê°€ ì£¼ dfì— ì¶”ê°€ë©ë‹ˆë‹¤. ì „ì²´ ë°ì´í„°ì…‹ì´ í†µê³¼ë  ë•Œê¹Œì§€ ì´ í”„ë¡œì„¸ìŠ¤ê°€ ë°˜ë³µë©ë‹ˆë‹¤.\n\në¶„ëª…íˆ ë§í•˜ìë©´, ì´ê²ƒì€ ê¸°ë³¸ì ì¸ ì˜ˆì‹œì´ë©°, ë‹¨ìˆœíˆ í•œ ë²ˆì— í•œ ë°°ì¹˜ì”© dfë¥¼ ìƒì„±í•˜ëŠ” ê²ƒ ì™¸ì—ë„ while ë£¨í”„ì˜ ì¼ë¶€ë¡œ ë‹¤ë¥¸ ë§ì€ ì‘ì—…(í•„í„°ë§, ì •ë ¬, ì§‘ê³„, ë°ì´í„°ë¥¼ ë‹¤ë¥¸ ìœ„ì¹˜ë¡œ ì“°ê¸° ë“±)ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n\në…¸íŠ¸ë¶ì—ì„œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\n%%time\ndf_batch = create_df_batch(cursor, batch_size)\ndf_batch.head()\n\nê²°ê³¼:\n\nìƒì„± ì¤‘...\nDF ìƒì„± ì™„ë£Œ!\n\nCPU ì‹œê°„: ì‚¬ìš©ì 9.97ì´ˆ, ì‹œìŠ¤í…œ: 13.7ì´ˆ, ì´: 23.7ì´ˆ\nì‹¤ì œ ì‹œê°„: 25ì´ˆ\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n![Python Generators](/assets/img/2024-05-23-PythonGeneratorsHowToEfficientlyFetchDataFromDatabases_5.png)\n\n## Method #2: Using Generators\n\nA less common -but powerful- strategy for data engineers is to fetch data as a stream using generators:\n\n```python\n# AUXILIARY FUNCTION\ndef generate_dataset(cursor):\n\n    cursor.execute(query)\n\n    for row in cursor.fetchall():\n        # some transformation\n        yield row\n\n# 2.1. CREATE DF USING GENERATORS\ndef create_df_gen(cursor):\n    print('Creating pandas DF using generator...')\n\n    colnames = ['transaction_id',\n                'user_id',\n                'product_name',\n                'transaction_date',\n                'amount_gbp']\n\n    df = pd.DataFrame(data=generate_dataset(cursor), columns=colnames)\n\n    print('DF successfully created!\\n')\n\n    return df\n```\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìœ„ì˜ ì½”ë“œ ìŠ¤ë‹ˆí«ì—ì„œëŠ” ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê³  í–‰ì„ ì‹œí€€ìŠ¤ë¡œ ë°˜í™˜í•˜ëŠ” 'generate_dataset' ë³´ì¡° í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” 'pd.DataFrame()' ì ˆì˜ ë°ì´í„° ì¸ìˆ˜ì— ì§ì ‘ ì „ë‹¬ë˜ë©°, ë‚´ë¶€ì ìœ¼ë¡œ ëª¨ë“  ê²€ìƒ‰ëœ ë ˆì½”ë“œë¥¼ ìˆœíšŒí•˜ê³  í–‰ì´ ì†Œì§„ë  ë•Œê¹Œì§€ ìš”ì†Œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\n\në‹¤ì‹œ ë§í•˜ì§€ë§Œ, ì´ ì˜ˆì œëŠ” ë§¤ìš° ê¸°ë³¸ì ì´ë©°(ì£¼ë¡œ ì„¤ëª… ëª©ì ìœ¼ë¡œ), ë³´ì¡° í•¨ìˆ˜ ë‚´ì—ì„œ ì–´ë–¤ ì¢…ë¥˜ì˜ í•„í„°ë§ì´ë‚˜ ë³€í™˜ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ê°€ ë‚˜ì˜µë‹ˆë‹¤:\n\n```js\n%%time\ndf_gen = create_df_gen(cursor)\ndf_gen.head()\n\níŒ¬ë”ìŠ¤ ë°ì´í„°í”„ë ˆì„ ìƒì„± ì¤‘...\nDFê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!\n\nCPU ì†Œìš” ì‹œê°„: ì‚¬ìš©ì 9.04ì´ˆ, ì‹œìŠ¤í…œ 2.1ì´ˆ, ì´ 11.1ì´ˆ\nì‹¤ì œ ì‹œê°„: 14.4ì´ˆ\n```\n\n\u003cimg src=\"/assets/img/2024-05-23-PythonGeneratorsHowToEfficientlyFetchDataFromDatabases_6.png\" /\u003e\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në‘ ê°€ì§€ ë°©ë²• ëª¨ë‘ ë°ì´í„° í”„ë ˆì„ì´ ë°˜í™˜ë˜ê¸° ë•Œë¬¸ì— ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ë™ì¼í•  ê²ƒ ê°™ì§€ë§Œ, ì´ëŠ” ì‚¬ì‹¤ì´ ì•„ë‹™ë‹ˆë‹¤. ë°ì´í„° í”„ë ˆì„ì´ ìƒì„±ë˜ëŠ” ë™ì•ˆ ë°ì´í„° ì²˜ë¦¬ ë°©ì‹ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤:\n\n- ë°©ë²• #1ì˜ ê²½ìš°, ë°ì´í„° êµí™˜ ê³¼ì •ì´ ë‹¤ì†Œ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ì´ë£¨ì–´ì§€ê³  ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë°ì´í„°ê°€ êµí™˜ë˜ì–´ ë” ë†’ì€ ìµœëŒ€ ë©”ëª¨ë¦¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.\n- ë°©ë²• #2ì˜ ê²½ìš°, í•„ìš”í•  ë•Œë§Œ ê°’ì„ ê³„ì‚°í•˜ê³  í•˜ë‚˜ì”© ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ë” ì‘ì€ ë©”ëª¨ë¦¬ ê³µê°„ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\n# ì‚¬ìš© ì‚¬ë¡€ #2: í´ë¼ìš°ë“œ ê°ì²´ ì €ì¥ì†Œì— ì“°ê¸°\n\nê°€ë” ë°ì´í„° ì—”ì§€ë‹ˆì–´ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ëœ ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ì´ëŸ¬í•œ ë ˆì½”ë“œë¥¼ ì™¸ë¶€(ì˜ˆ: ê·œì œê¸°ê´€, ê°ì‚¬ì¸, íŒŒíŠ¸ë„ˆ)ì™€ ê³µìœ í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì¼ë°˜ì ì¸ í•´ê²°ì±…ì€ í´ë¼ìš°ë“œ ê°ì²´ ì €ì¥ì†Œë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë°ì´í„°ê°€ ì „ë‹¬ë˜ì–´ ì œ 3ì(ì ì ˆí•œ ì•¡ì„¸ìŠ¤ ê¶Œí•œì´ ë¶€ì—¬ëœ)ê°€ ë°ì´í„°ë¥¼ ì½ê³  ìì‹ ì˜ ì‹œìŠ¤í…œìœ¼ë¡œ ë³µì‚¬í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.\n\nì‚¬ì‹¤, ìš°ë¦¬ëŠ” ë°ì´í„°ê°€ parquet í˜•ì‹ìœ¼ë¡œ ì‘ì„±ë  ë²„í‚·ì¸ generators-test-bucketì„ ìƒì„±í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” awswrangler íŒ¨í‚¤ì§€ë¥¼ í™œìš©í•˜ì—¬ ë°ì´í„°ê°€ ì €ì¥ë  ê²ƒì…ë‹ˆë‹¤.\n\nawswranglerì˜ ì¥ì ì€ pandas ë°ì´í„°í”„ë ˆì„ê³¼ ë§¤ìš° ì˜ ì‘ë™í•˜ë©° ë°ì´í„° ì§‘í•© êµ¬ì¡°ë¥¼ ìœ ì§€í•œ ì±„ë¡œ ë°ì´í„°í”„ë ˆì„ì„ parquet í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n## ë°©ë²• #1: ì¼ê´„ ì²˜ë¦¬ë¥¼ ì‚¬ìš©í•˜ê¸°\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì²« ë²ˆì§¸ ì‚¬ìš© ì‚¬ë¡€ì˜ ê²½ìš°, ì¼ë°˜ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì¼ê´„ì ìœ¼ë¡œ ê°€ì ¸ì™€ì„œ ì“°ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë©° ì „ì²´ ë°ì´í„° ì§‘í•©ì´ ìˆœíšŒë  ë•Œê¹Œì§€ ê³„ì†ë©ë‹ˆë‹¤ :\n\n```js\n# 1.2 WRITING DF TO MINIO BUCKET IN PARQUET FORMAT USING BATCHES\ndef write_df_to_s3_batch(cursor, bucket, folder, parquet_file_name, batch_size):\n    colnames = ['transaction_id',\n                'user_id',\n                'product_name',\n                'transaction_date',\n                'amount_gbp']\n    cursor.execute(query)\n    batch_num = 1\n    while True:\n        rows = cursor.fetchmany(batch_size)\n        if not rows:\n            break\n        print(f\"Writing DF batch #{batch_num} to S3 bucket...\")\n        wr.s3.to_parquet(df= pd.DataFrame(data = rows, columns=colnames),\n                         path=f's3://{bucket}/{folder}/{parquet_file_name}',\n                         compression='gzip',\n                         mode = 'append',\n                         dataset=True)\n        print('Batch successfully written to S3 bucket!\\n')\n        batch_num += 1\n```\n\nwrite_df_to_s3_batch() í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ ê°ê° 100ë§Œ ê°œì˜ ë ˆì½”ë“œë¥¼ í¬í•¨í•˜ëŠ” 5ê°œì˜ íŒŒì¼€ì´ íŒŒì¼ì´ í•´ë‹¹ ë²„í‚·ì— ìƒì„±ë©ë‹ˆë‹¤ :\n\n```js\nwrite_df_to_s3_batch(cursor, bucket, folder_batch, parquet_file_name, batch_size)\n\nWriting DF batch #1 to S3 bucket...\nBatch successfully written to S3 bucket!\n\nWriting DF batch #2 to S3 bucket...\nBatch successfully written to S3 bucket!\n\nWriting DF batch #3 to S3 bucket...\nBatch successfully written to S3 bucket!\n\nWriting DF batch #4 to S3 bucket...\nBatch successfully written to S3 bucket!\n\nWriting DF batch #5 to S3 bucket...\nBatch successfully written to S3 bucket!\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-05-23-PythonGeneratorsHowToEfficientlyFetchDataFromDatabases_7.png\" /\u003e\n\n## ë°©ë²• #2: ì œë„ˆë ˆì´í„° ì‚¬ìš©í•˜ê¸°\n\nëŒ€ì•ˆìœ¼ë¡œ, ì œë„ˆë ˆì´í„°ë¥¼ í™œìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ê³  ë²„í‚·ì— ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì œë„ˆë ˆì´í„°ëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³  ì´ë™í•˜ëŠ” ë™ì•ˆ ë©”ëª¨ë¦¬ ë¹„íš¨ìœ¨ì„±ì„ ì•¼ê¸°í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì „ì²´ DataFrameì„ í•œ ë²ˆì— ì“°ê¸°ë¥¼ ê²°ì •í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:\n\n```js\n# 2.2 GENERATORë¥¼ ì‚¬ìš©í•˜ì—¬ PARQUET í˜•ì‹ìœ¼ë¡œ DFë¥¼ MINIO ë²„í‚·ì— ì“°ê¸°\ndef write_df_to_s3_gen(cursor, bucket, folder, parquet_file_name):\n    print('DFë¥¼ S3 ë²„í‚·ì— ì“°ëŠ” ì¤‘...')\n\n    colnames = ['transaction_id',\n                'user_id',\n                'product_name',\n                'transaction_date',\n                'amount_gbp']\n\n    wr.s3.to_parquet(df=pd.DataFrame(data=generate_dataset(cursor), columns=colnames),\n             path=f's3://{bucket}/{folder}/{parquet_file_name}',\n             compression='gzip',\n             mode='append',\n             dataset=True)\n    print('ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ S3 ë²„í‚·ì— ì“°ì—¬ì¡ŒìŠµë‹ˆë‹¤!\\n')\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```python\ndef wirte_df_to_s3_gen(cursor, bucket, folder_gen, parquet_file_name):\n\nWriting DF to S3 bucket...\nData successfully written to S3 bucket!\n```\n\n![Python Generators](/assets/img/2024-05-23-PythonGeneratorsHowToEfficientlyFetchDataFromDatabases_8.png)\n\n# ê²°ë¡ \n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì¼ë°˜ì ì¸ Python í•¨ìˆ˜ë³´ë‹¤ ì§ê´€ì„±ì´ ë–¨ì–´ì§€ëŠ” ì œë„ˆë ˆì´í„°ëŠ” ë©”ëª¨ë¦¬ë¥¼ ì ê²Œ ì°¨ì§€í•˜ë©´ì„œë„ ì¢‹ì€ ì„±ëŠ¥ì„ ì œê³µí•˜ê¸° ë•Œë¬¸ì— ëœ ì‚¬ìš©ë˜ì§€ë§Œ ì´ì ì´ ë§ìŠµë‹ˆë‹¤.\n\nì‹¤ì œë¡œ ì´ ììŠµì„œì—ì„œëŠ” ë°ì´í„° ì—”ì§€ë‹ˆì–´ê°€ Python ì œë„ˆë ˆì´í„°ë¥¼ í™œìš©í•´ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê²€ìƒ‰í•˜ëŠ” ë°©ë²•ì„ ì—°êµ¬í•˜ê¸° ìœ„í•´ ì„¸ ê°€ì§€ ë¡œì»¬ ì„œë¹„ìŠ¤(í¬ìŠ¤íŠ¸ê·¸ë ˆìŠ¤DB, ì£¼í”¼í„° ë…¸íŠ¸ë¶, MinIO)ë¥¼ ë„ì»¤ë¥¼ í†µí•´ êµ¬ë™í•˜ì—¬ ë°ì´í„°ë¥¼ ì¼ê´„ë¡œ ì²˜ë¦¬í•˜ëŠ” ëŒ€ì‹  ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ” ë‘ ê°€ì§€ ì‹¤ì œ ì˜ˆì‹œë¥¼ ê³µìœ í–ˆìŠµë‹ˆë‹¤.\n","ogImage":{"url":"/assets/img/2024-05-23-PythonGeneratorsHowToEfficientlyFetchDataFromDatabases_0.png"},"coverImage":"/assets/img/2024-05-23-PythonGeneratorsHowToEfficientlyFetchDataFromDatabases_0.png","tag":["Tech"],"readingTime":14},{"title":"ì»¨í…Œì´ë„ˆ ì„¸ê³„ì—ì„œ Runc ëŒ€ Crun","description":"","date":"2024-05-23 14:15","slug":"2024-05-23-RuncvsCrunincontainersworld","content":"\n\në§Œì•½ ì»¨í…Œì´ë„ˆí™” ê¸°ìˆ ì— í¥ë¯¸ê°€ ìˆë‹¤ë©´, runcì— ëŒ€í•´ ë“¤ì–´ë´¤ì„ ìˆ˜ë„ ìˆì–´ìš”.\n\nìì„¸í•œ ë‚´ìš©ì„ ì„¤ëª…í•´ ë“¤ì–´ê°€ê¸° ì „ì— ì»¨í…Œì´ë„ˆê°€ ì •í™•íˆ ë¬´ì—‡ì¸ì§€ ì•Œë ¤ë“œë¦´ê²Œìš”.\n\nì£¼ë¡œ ë‘ ê°€ì§€ ë¦¬ëˆ…ìŠ¤ ì»¤ë„ ëª¨ë“ˆ, ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì™€ cgroupìœ¼ë¡œ ë§Œë“¤ì–´ì§„ í™˜ê²½ ì•ˆì—ì„œ ê°€ìƒ ê°ì˜¥ ë˜ëŠ” ê²©ë¦¬ëœ í™˜ê²½ì„ ë§Œë“¤ì–´ë‚¸ë‹µë‹ˆë‹¤.\n\n- ë„¤ì„ìŠ¤í˜ì´ìŠ¤: ë³¼ ìˆ˜ ìˆê±°ë‚˜ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê²ƒì„ ì œì–´í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nCgroup: ë¦¬ì†ŒìŠ¤(ì˜ˆ: RAM ë° CPU) ì–¼ë§ˆë‚˜ ì‚¬ìš©í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n![Image](/assets/img/2024-05-23-RuncvsCrunincontainersworld_0.png)\n\nì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì´ ë¬´ì—‡ì¸ê°€ìš”?\n\nì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì€ ì´ë¯¸ ì´ì•¼ê¸°í•œ ì»¨í…Œì´ë„ˆë¼ê³  ë¶ˆë¦¬ëŠ” ê²©ë¦¬ëœ í™˜ê²½ì„ ê´€ë¦¬í•˜ëŠ” ë° ë„ì›€ì„ ì£¼ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ì…ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nRuncê³¼ Crunì€ í˜„ì¬ ì‚¬ìš©ë˜ëŠ” ë‘ ê°€ì§€ ì£¼ìš” ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì…ë‹ˆë‹¤.\n\nê·¸ë ‡ë‹¤ë©´ containerd ë˜ëŠ” cri-oë€ ë¬´ì—‡ì¸ê°€ìš”?\n\nì´ ë‘˜ì€ ëª¨ë‘ runc ìœ„ì—ì„œ ì‘ë™í•˜ëŠ” ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì˜ ì¶”ìƒí™”ëœ ë ˆì´ì–´ì…ë‹ˆë‹¤. ì´ê²ƒë“¤ì€ ì»¨í…Œì´ë„ˆë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ í”„ë¡ íŠ¸ ì—”ë“œë¡œ, ì¦‰ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±, ì œê±°, ì‹œì‘ ë° ì¤‘ì§€í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-23-RuncvsCrunincontainersworld_1.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\ní¬ë¦¬ì˜¬(Containerd)ê³¼ í¬ë¼ì´ì˜¤(CRI-O)ëŠ” ë‘˜ ë‹¤ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ìœ¼ë¡œ runcë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\nì§€ê¸ˆê¹Œì§€ëŠ” runcì™€ crunì´ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤; ì´ì œ ì°¨ì´ë¥¼ ì‚´í´ë´…ì‹œë‹¤.\n\në‘˜ ë‹¤ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì´ë©° ì»¨í…Œì´ë„ˆë¥¼ ì²˜ë¦¬í•˜ëŠ” ë° ë™ì¼í•œ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ì°¨ì´ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n1) runcì€ Goë¡œ ì‘ì„±ë˜ì—ˆê³  crunì€ Cë¡œ ì‘ì„±ë˜ì–´ì„œ Linux ì»¤ë„ê³¼ ë” í˜¸í™˜ì„±ì´ ë†’ì•„ìš”.\n\n2) runcëŠ” ë„ì»¤ì— ì˜í•´ ê°œë°œë˜ì—ˆê³  crunì€ RedHatì— ì˜í•´ ê°œë°œë˜ì—ˆì–´ìš”.\n\n3) crunì€ ë” ê°€ë²¼ì›Œì„œ ë©”ëª¨ë¦¬ ì†Œë¹„ê°€ ë‚®ì•„ìš”. crunì€ 300Kì´ê³  runcëŠ” 15Mì´ì—ìš”.\n\nPodmanì€ ì–´ë– ì„¸ìš”?\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\ní¬ë“œë§¨ì€ ì»¨í…Œì´ë„ˆë¥¼ ê´€ë¦¬í•˜ëŠ” ë° ì±…ì„ì´ ìˆëŠ” crunì˜ frontend ì—­í• ì„ í•˜ëŠ” ë„ì»¤ì™€ ë¹„ìŠ·í•œ ìœ í‹¸ë¦¬í‹°ì…ë‹ˆë‹¤.\n\n## ìš”ì•½\n\n![RuncvsCrunincontainersworld_2](/assets/img/2024-05-23-RuncvsCrunincontainersworld_2.png)\n\nê²°ë¡ \n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì–´ë–¤ ê²ƒì„ ì‚¬ìš©í•´ì•¼ í• ê¹Œìš”?\n\nê°œë°œ ë° í”„ë¡œë•ì…˜ í™˜ê²½ ëª¨ë‘ì—ì„œ ì¶”ê°€ êµ¬ì„± ìš”ì†Œ ì—†ì´ ê°€ë³ê²Œ ì‚¬ìš©í•  ì»¨í…Œì´ë„ˆ ì—”ì§„ì´ í•„ìš”í•˜ë‹¤ë©´ Podmanì„ ì„ íƒí•˜ì„¸ìš”.\n\níŠ¹íˆ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•  í•„ìš”ê°€ ì—†ëŠ” í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” Podmanì„ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì´ë¯¸ì§€ ë¹Œë“œ êµ¬ì„± ìš”ì†ŒëŠ” ë¶ˆí•„ìš”í•˜ê³  ìì›ì„ ì†Œë¹„í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ë¡œ ê°„ì£¼ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê·¸ë¦¬ê³  ì´ê²ƒì´ Dockerë¥¼ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‚¬ìš©í•˜ì§€ ì•Šì•„ì•¼ í•˜ëŠ” ë˜ ë‹¤ë¥¸ ì´ìœ ì…ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\ní•˜ì§€ë§Œ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì‚¬ìš© ì¤‘ì´ë¼ë©´ cri-oë¥¼ ì„ íƒí•˜ì„¸ìš”. ê·¸ë¦¬ê³  runcì— ë§Œì¡±ìŠ¤ëŸ½ì§€ ì•Šë‹¤ë©´ C ì–¸ì–´ë¡œ ëœ ê°€ë²¼ìš´ ëŸ°íƒ€ì„ì„ ì›í•œë‹¤ë©´ crunìœ¼ë¡œ ëŸ°íƒ€ì„ì„ ì‰½ê²Œ ì „í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nkloudino.com (ë©”ë”” íƒˆë ˆê°€ë‹ˆ)ê°€ ì‘ì„±í•¨","ogImage":{"url":"/assets/img/2024-05-23-RuncvsCrunincontainersworld_0.png"},"coverImage":"/assets/img/2024-05-23-RuncvsCrunincontainersworld_0.png","tag":["Tech"],"readingTime":2},{"title":"ë„ì»¤ ëŒ€ Podman ì•ˆì „í•œ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ì˜ ìƒˆ ì‹œëŒ€","description":"","date":"2024-05-23 14:14","slug":"2024-05-23-DockervsPodmanANewErainSecureOrchestration","content":"\n\níƒêµ¬í•˜ëŠ” Root vs Rootless Orchestration: ë³´ì•ˆ ê´€ì ì—ì„œ\n\nì•ˆë…•í•˜ì„¸ìš”, ê¸°ìˆ  ì• í˜¸ê°€ ì—¬ëŸ¬ë¶„! ğŸ˜Š ì˜¤ëŠ˜ì€ ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ì˜ ë§¤í˜¹ì ì¸ ì„¸ê³„ë¡œ ë¹ ì ¸ë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤. ì´ ë„êµ¬ë“¤ì´ ë‚˜ì˜¤ê¸° ì „ì—ëŠ” ê°œë°œìë“¤ì´ ìˆ˜ë™ ë°°í¬ì˜ ê³ í†µ, í‘œì¤€í™” ë¶€ì¡± (ë‚´ ì»´í“¨í„°ì—ì„œëŠ” ë™ì‘í•˜ëŠ”)ìœ¼ë¡œ ì¸í•œ ë³µì¡í•˜ê³  ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê¸° ì‰¬ìš´ ê³¼ì •ì„ ê²ªì–´ì•¼ í–ˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ê¸°ìˆ ì„ ê°œë°œí•œ ì‚¬ëŒë“¤ì—ê²Œ ì´í•´ì™€ ê°ì‚¬ì˜ ë§ˆìŒì„ ì „í•´ë´…ì‹œë‹¤.\n\nì´ë¥¼ ì—¼ë‘ì— ë‘ê³ , ìš°ë¦¬ì˜ ê´€ì‹¬ì„ ë³´ì•ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ì˜ ì„¸ê³„ì—ì„œ ëœ¨ê±°ìš´ ë°˜í–¥ì„ ì¼ìœ¼í‚¤ëŠ” ìƒˆë¡œìš´ ë„êµ¬ì¸ Podmanìœ¼ë¡œ ëŒë ¤ë´…ì‹œë‹¤. ì´ ë„êµ¬ëŠ” íŠ¹íˆ ì•ˆì „í•œ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë¶„ì•¼ì—ì„œ Dockerì™€ 10ë…„ê°„ ì‚¬ë‘ë°›ì•„ì˜¨ ê¸°ì¡´ ê°•ìì— ë„ì „í•˜ê³  ìˆìŠµë‹ˆë‹¤ ğŸ’ª. ì´ í¥ë¯¸ì§„ì§„í•œ ë°œì „ì— ëŒ€í•´ ë” ê¹Šì´ íŒŒí—¤ì¹˜ê¸° ìœ„í•´ ê¸°ëŒ€í•´ ì£¼ì„¸ìš”!\n\n# ğŸš€ ì»¨í…Œì´ë„ˆ ì´í•´: ì™œ í•„ìš”í•œê°€ë¶€í„° ì–´ë–»ê²Œ í•˜ëŠ”ê°€ê¹Œì§€\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì»¨í…Œì´ë„ˆëŠ” ì½”ë“œ, ëŸ°íƒ€ì„, ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ì‹œìŠ¤í…œ ì„¤ì •ì„ í¬í•¨í•œ ì‘ìš© í”„ë¡œê·¸ë¨ ì‹¤í–‰ì— í•„ìš”í•œ ëª¨ë“  ê²ƒì´ í¬í•¨ëœ ë…ë¦½ ì‹¤í–‰ ê°€ëŠ¥í•œ íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤. \n\nì´ëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ì´ ì–´ë””ì—ì„œ ì‹œì‘í•˜ë”ë¼ë„ ë™ì¼í•˜ê²Œ ì‹¤í–‰ëœë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì¦‰, ë‹¹ì‹ ì˜ ë©íƒ‘, í´ë¼ìš°ë“œ ì„œë²„ ë˜ëŠ” ë™ë£Œì˜ ì»´í“¨í„° ë“± ì–´ë””ì—ì„œë“  ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì¼ê´€ì„±ì€ 'ë‚´ ì»´í“¨í„°ì—ì„œëŠ” ì‘ë™í•˜ëŠ”ë°'ë¼ëŠ” ì˜¤ëœ ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤.\n\nì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ì˜ í•µì‹¬ì€ ì»¨í…Œì´ë„ˆ ì‹¤í–‰ í™˜ê²½ì´ë©°, ì»¨í…Œì´ë„ˆ ìƒì„±, ê´€ë¦¬ ë° ì‹¤í–‰ì— ë„ì›€ì„ ì¤ë‹ˆë‹¤.\n\n- ì»¨í…Œì´ë„ˆê°€ ì‹œì‘ë˜ë©´ ì‹¤í–‰ í™˜ê²½ì€ ì €ì¥ì†Œì—ì„œ ì§€ì •ëœ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ìš”ì²­í•©ë‹ˆë‹¤. ì´ ì´ë¯¸ì§€ëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ ë° ì¢…ì†ì„±ì— ëŒ€í•œ ì²­ì‚¬ì§„ ì—­í• ì„ í•©ë‹ˆë‹¤.\n- ì‹¤í–‰ í™˜ê²½ì€ Linux ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•ˆì „í•˜ê³  ë¶„ë¦¬ëœ í™˜ê²½ì„ ì œê³µí•˜ì—¬ ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤(CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬, ë„¤íŠ¸ì›Œí¬ ë“±)ì— ëŒ€í•œ ë…íŠ¹í•œ ì´í•´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n- Linux ì»¤ë„ì˜ ì»¨íŠ¸ë¡¤ ê·¸ë£¹(cgroups)ì€ ë¦¬ì†ŒìŠ¤ ê³µì •í•œ ë¶„ë°°ë¥¼ ë³´ì¥í•˜ë©° ì–´ë–¤ ì»¨í…Œì´ë„ˆë„ ë¦¬ì†ŒìŠ¤ë¥¼ ë…ì°¨ì§€í•˜ê±°ë‚˜ ì‹œìŠ¤í…œ ì„±ëŠ¥ì„ ì €í•˜ì‹œí‚¤ì§€ ì•ŠìŠµë‹ˆë‹¤.\n- í•œ ë²ˆì— í•œ ì»¨í…Œì´ë„ˆê°€ ê²©ë¦¬ë˜ë©´ ì‹¤í–‰ í™˜ê²½ì€ í•´ë‹¹ í™˜ê²½ ë‚´ì—ì„œ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•˜ì—¬ í˜¸ìŠ¤íŠ¸ ì‹œìŠ¤í…œê³¼ ì‰½ê²Œ í†µì‹ í•©ë‹ˆë‹¤.\n- ë°ëª¬ í”„ë¡œì„¸ìŠ¤ë¡œ ì‘ë™í•˜ëŠ” ì»¨í…Œì´ë„ˆ ì‹¤í–‰ í™˜ê²½ ë„êµ¬ëŠ” ë¦¬ëˆ…ìŠ¤ ì»¤ë„ê³¼ ìƒí˜¸ì‘ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆë¥¼ ê´€ë¦¬í•˜ë©°, ê´€ë¦¬ë¥¼ ìœ„í•´ ë£¨íŠ¸ ì•¡ì„¸ìŠ¤ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì´ ìƒí˜¸ì‘ìš©ì€ íš¨ìœ¨ì ì¸ ì»¨í…Œì´ë„ˆ ê´€ë¦¬ì— ì¤‘ìš”í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì˜ ì•Œë ¤ì§„ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ì¤‘ì—ëŠ” Docker, k8s, nerdctl ë“±ì—ì„œ ì‚¬ìš©ë˜ëŠ” containerdì™€ cri-oê°€ ìˆìŠµë‹ˆë‹¤.\n\n# ğŸ† ë„ì»¤ì˜ ì§€ë°° ì†ì—ì„œ Podmanì˜ ë¶€ìƒ\n\n\u003cimg src=\"/assets/img/2024-05-23-DockervsPodmanANewErainSecureOrchestration_0.png\" /\u003e\n\nì»¨í…Œì´ë„ˆ ê´€ë¦¬ ì„¸ê³„ì—ì„œ ì¸ê¸°ê°€ Podmanìœ¼ë¡œ ë³€í™”ë˜ê³  ìˆìœ¼ë©°, ê·¸ ì´ìœ ì—ëŠ” ëª‡ ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- Rootless Architecture: ë„ì»¤ì™€ëŠ” ë‹¬ë¦¬ ë£¨íŠ¸ ì•¡ì„¸ìŠ¤ê°€ ìˆëŠ” ë°ëª¬ í”„ë¡œì„¸ìŠ¤ë¡œ ì‘ë™í•˜ëŠ” Podmanê³¼ ë‹¬ë¦¬, Podmanì€ ë£¨íŠ¸ë¦¬ìŠ¤ ì ‘ê·¼ ë°©ì‹ì„ ì±„íƒí•©ë‹ˆë‹¤. ì´ ê¸°ë³¸ì ì¸ ì°¨ì´ê°€ Podmanì˜ ì¸ê¸° ì¦ì§„ì— ìƒë‹¹í•œ ê¸°ì—¬ë¥¼ í•©ë‹ˆë‹¤.\n- ë³´ì•ˆ ì·¨ì•½ì : Dockerì˜ ë£¨íŠ¸ ì•¡ì„¸ìŠ¤ëŠ” íŒŒì¼ì„ ì½ê³  í”„ë¡œê·¸ë¨ì„ ì„¤ì¹˜í•˜ë©° ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í¸ì§‘í•˜ëŠ” ë“± ì»¨í…Œì´ë„ˆë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ëŠ” ì‹œìŠ¤í…œì— ë³´ì•ˆ ì·¨ì•½ì ì„ ë„ì…í•˜ì—¬ í—¤ì»¤ë“¤ë¡œ í•˜ì—¬ê¸ˆ ìœ í˜¹ì ì¸ ëŒ€ìƒì´ ë˜ê²Œ í•©ë‹ˆë‹¤.\n- í•´ì»¤ë“¤ì˜ íƒ€ê¹ƒ: í•´ì»¤ê°€ ë°ëª¬ì„ compromiseí•˜ëŠ” ë° ì„±ê³µí•˜ë©´ ë¯¼ê°í•œ ë°ì´í„°ì— ì ‘ê·¼í•˜ê±°ë‚˜ ì•…ì„± ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê±°ë‚˜ ì»¨í…Œì´ë„ˆ êµ¬ì„±ì„ ë³€ê²½í•˜ê±°ë‚˜ ì‹œìŠ¤í…œ ì „ì²´ë¥¼ ë‹¤ìš´ì‹œí‚¬ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.\n- SELinuxë¡œ ë³´ê°•ëœ ë³´ì•ˆ: Dockerì™€ëŠ” ë‹¤ë¥´ê²Œ Podmanì€ ê° ì»¨í…Œì´ë„ˆë¥¼ Security-Enhanced Linux (SELinux) ë ˆì´ë¸”ê³¼ í•¨ê»˜ ì‹œì‘í•˜ì—¬ ë³´ì•ˆì„ ê°•í™”í•©ë‹ˆë‹¤.\n- ë‹¤ë¥¸ ë„êµ¬ì— ì˜ì¡´: ë£¨íŠ¸ë¦¬ìŠ¤ ì ‘ê·¼ ë°©ì‹ìœ¼ë¡œ Podmanì€ ì»¨í…Œì´ë„ˆë¥¼ ì§ì ‘ ê´€ë¦¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëŒ€ì‹  ì´ ì•„ë˜ì„œ ì„¤ëª…í•˜ëŠ” ë‹¤ë¥¸ ë„êµ¬ë“¤ì„ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ ê´€ë¦¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.\n- Buildah: OCI (Open Container Initiative) í˜¸í™˜ ì»¨í…Œì´ë„ˆë¥¼ ë¹Œë“œí•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ ë¦¬ëˆ…ìŠ¤ ê¸°ë°˜ ë„êµ¬ì…ë‹ˆë‹¤. BuildahëŠ” ì „ì²´ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì´ë‚˜ ë°ëª¬ì„ ì„¤ì¹˜í•˜ì§€ ì•Šê³ ë„ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- Skopeo: ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë° ì´ë¯¸ì§€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ì–‘í•œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ëª…ë ¹ì¤„ ìœ í‹¸ë¦¬í‹°ì…ë‹ˆë‹¤. ì „ì²´ ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì§€ ì•Šê³  ì›ê²© ë ˆì§€ìŠ¤íŠ¸ë¦¬ì˜ ì´ë¯¸ì§€ë¥¼ ê²€ì‚¬í•  ìˆ˜ ìˆì–´ ì»¨í…Œì´ë„ˆ ì‘ì—…ì— ëŒ€í•œ ê°€ë²¼ìš´ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.\n- Systemd: Podmanì€ ì„¤ì •ëœ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì„ í˜¸ì¶œí•˜ì—¬ ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ê·¸ë ‡ì§€ë§Œ ì „ìš© ë°ëª¬ì´ ì—†ëŠ” Podmanì€ ì‹œìŠ¤í…œ ë° ì„œë¹„ìŠ¤ ê´€ë¦¬ìì¸ systemdë¥¼ ì‚¬ìš©í•˜ì—¬ ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê³  ì»¨í…Œì´ë„ˆë¥¼ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìœ ì§€í•©ë‹ˆë‹¤.\n\n# ğŸ”’ Podmanì˜ ë³´ì•ˆì— ëŒ€í•œ í–‰ë™: Dockerì— ëŒ€í•œ ì•ˆì „í•œ ëŒ€ì²´í’ˆ\n\n\u003cimg src=\"/assets/img/2024-05-23-DockervsPodmanANewErainSecureOrchestration_1.png\" /\u003e\n\n- ì£¼ì–´ì§„ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ì„¸ ëª…ì˜ ë¦¬ëˆ…ìŠ¤ ì‚¬ìš©ìì¸ Bob, Dawg, BadBoyê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. Bobê³¼ DawgëŠ” Podmanì„ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ë©°, ì´ëŸ¬í•œ ì»¨í…Œì´ë„ˆë“¤ì€ ê° ì‚¬ìš©ì ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë‚´ì˜ ë¦¬ì†ŒìŠ¤ì—ë§Œ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì„¤ì •ì€ ê° ì»¨í…Œì´ë„ˆì˜ ì•¡ì„¸ìŠ¤ë¥¼ í•´ë‹¹í•˜ëŠ” ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¡œ ì œí•œí•˜ì—¬ ë³´ì•ˆì„ ê°•í™”í•©ë‹ˆë‹¤.\n- BadBoyëŠ” Dockerë¥¼ ì‚¬ìš©í•˜ë©° ë£¨íŠ¸ ì•¡ì„¸ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆì–´ í˜¸ìŠ¤íŠ¸ ì‹œìŠ¤í…œì˜ ëª¨ë“  ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ê°€ì‹œì„±ì„ í—ˆìš©í•©ë‹ˆë‹¤. ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë°–ì— ìˆëŠ” ë¦¬ì†ŒìŠ¤ê¹Œì§€ë„ ë³¼ ìˆ˜ ìˆì–´ ì‹œìŠ¤í…œì— ì ì¬ì ì¸ ê³µê²© ê°€ëŠ¥ì„±ì„ ë…¸ì¶œì‹œí‚µë‹ˆë‹¤. ì´ì— ë°˜í•´ ë£¨íŠ¸ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜ì¸ Podmanì€ ì‚¬ìš©ì ê°œë³„ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì—ë§Œ ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ì œí•œí•˜ì—¬ ë³´ì•ˆì„ ê°•í™”í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# Podman ì„¤ì •\n\nPodmanì„ ì„¤ì •í•˜ëŠ” ì‹¤ìš©ì ì¸ ì˜ˆì œì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. macOSì—ì„œ ì„¤ì •ì„ ì§„í–‰í•  ê²ƒì´ì§€ë§Œ í•„ìš”ì— ë”°ë¼ ë‹¤ë¥¸ í™˜ê²½ì—ì„œ ì„¤ì •í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ í•´ë‹¹ ë¬¸ì„œë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n- Podman ì„¤ì¹˜: Homebrewë¥¼ ì´ìš©í•˜ì—¬ Podmanì„ ì„¤ì¹˜í•˜ë ¤ë©´ brew install podmanì„ ì‹¤í–‰í•˜ì„¸ìš”.\n- Podman Machine ì´ˆê¸°í™”: Podman ë¨¸ì‹ ì„ ì´ˆê¸°í™”í•˜ë ¤ë©´ podman machine initì„ ì‚¬ìš©í•˜ì„¸ìš”.\n- Podman-Compose ì„¤ì¹˜: Docker Composeë¥¼ Podmanìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ì¸ Podman-Composeë¥¼ ì„¤ì¹˜í•˜ë ¤ë©´ brew install podman-composeì„ ì‚¬ìš©í•˜ì„¸ìš”.\n- Podman-Desktop ì„¤ì¹˜: Podmanì— ëŒ€í•œ Docker Desktopê³¼ ìœ ì‚¬í•œ ê²½í—˜ì„ ì œê³µí•˜ëŠ” Podman-Desktopì„ ì„¤ì¹˜í•˜ë ¤ë©´ brew install podman-desktopì„ ì‚¬ìš©í•˜ì„¸ìš”.\n- Podman ì„¸ë¶€ ì •ë³´ í™•ì¸: ë§ˆì§€ë§‰ìœ¼ë¡œ, podman infoë¥¼ ì‚¬ìš©í•˜ì—¬ Podmanì˜ ì„¤ì¹˜ ë° êµ¬ì„± ì„¸ë¶€ì‚¬í•­ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” ì¤‘ìš”í•œ ëª‡ ê°€ì§€ í•„ë“œê°€ ê°•ì¡°ëœ ì˜ˆì‹œì…ë‹ˆë‹¤.\n\n```js\nhost:\n  arch: amd64\n  buildahVersion: 1.32.0\n  cgroupControllers:\n  - cpu\n  - io\n  - memory\n  - pids\n  cgroupManager: systemd\n  cgroupVersion: v2\n  ociRuntime:\n    name: crun\n    package: crun-1.12-1.fc39.x86_64\n    path: /usr/bin/crun\n    version: |-\n      crun version 1.12\n      commit: ce429cb2e277d001c2179df1ac66a470f00802ae\n      rundir: /run/user/501/crun\n      spec: 1.0.0\n      +SYSTEMD +SELINUX +APPARMOR +CAP +SECCOMP +EBPF +CRIU +LIBKRUN +WASM:wasmedge +YAJL\n  os: linux\n  security:\n    apparmorEnabled: false\n    capabilities: CAP_CHOWN,CAP_DAC_OVERRIDE,CAP_FOWNER,CAP_FSETID,CAP_KILL,CAP_NET_BIND_SERVICE,CAP_SETFCAP,CAP_SETGID,CAP_SETPCAP,CAP_SETUID,CAP_SYS_CHROOT\n    rootless: true\n    seccompEnabled: true\n    seccompProfilePath: /usr/share/containers/seccomp.json\n    selinuxEnabled: true\n  serviceIsRemote: true\nregistries:\n  search:\n  - docker.io\nversion:\n  APIVersion: 4.7.2\n  Built: 1698762721\n  BuiltTime: Tue Oct 31 20:02:01 2023\n  GitCommit: \"\"\n  GoVersion: go1.21.1\n  Os: linux\n  OsArch: linux/amd64\n  Version: 4.7.2\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- Podmanì˜ ì„¸ë¶€ ì •ë³´ë¥¼ í™•ì¸í•˜ê³  ì´ë¯¸ì§€ë¥¼ ê²€ì‚¬í•˜ë©° ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆë¥¼ ê´€ë¦¬í•˜ëŠ” ë° Podman CLIë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-23-DockervsPodmanANewErainSecureOrchestration_2.png)\n\n- ì•„ë˜ ì œê³µëœ Docker Compose íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”: podman compose up -d\n\n```yaml\nservices:\n  postgres:\n    image: postgres\n    restart: always\n    environment:\n      POSTGRES_DB: podman-psql\n      POSTGRES_USER: podman-psql-user\n      POSTGRES_PASSWORD: podman-pass\n    ports:\n      - '5432:5432'\n\n  redis:\n    image: 'redis:6.0.14'\n    restart: always\n    command: redis-server\n    ports:\n      - '6379:6379'\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- ë‹¤ìŒì€ Podman ë°ìŠ¤í¬í†± ë‚´ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆì™€ ì´ë¯¸ì§€ë¥¼ ê²€ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![image1](/assets/img/2024-05-23-DockervsPodmanANewErainSecureOrchestration_3.png)\n\n![image2](/assets/img/2024-05-23-DockervsPodmanANewErainSecureOrchestration_4.png)\n\n# ë§ˆì§€ë§‰ìœ¼ë¡œ\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në””ì§€í„ˆ ì‹œëŒ€ì—ëŠ” ë³´ì•ˆì´ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤. ì¹¨ì…ì´ ë°œìƒí•˜ë©´ ì‹¬ê°í•œ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Dockerì™€ Podmanì€ ê°ê° ê°•ì ê³¼ ì•½ì ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. Podmanì€ ì•ˆì „í•œ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ì˜ ê¸°ì´ˆë¥¼ ë°”íƒ•ìœ¼ë¡œ ë§Œë“¤ì–´ì¡Œì§€ë§Œ Dockerì™€ ê°™ì€ ê¸°ëŠ¥(ì˜ˆ: Docker Swarm)ì´ ë¶€ì¡±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°˜ë©´ DockerëŠ” ì‚¬ìš© í¸ì˜ì„±ì„ ê°•ì¡°í•˜ì§€ë§Œ ë³´ì•ˆ ì¸¡ë©´ì—ì„œëŠ” ë¯¸í¡í•˜ë‹¤ê³  ì—¬ê²¨ì§‘ë‹ˆë‹¤.\n\nì´ í† ë¡ ì´ ìœ ìµí–ˆê³  ì•ˆì „í•œ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ì— ëŒ€í•œ ì´í•´ë ¥ì„ ë†’ì¼ ìˆ˜ ìˆì—ˆê¸°ë¥¼ ë°”ëë‹ˆë‹¤. ì´ ì •ë³´ê°€ ìœ ìš©í–ˆë‹¤ë©´ ë” ë§ì€ ê¸€ì„ ì½ê³  ì‹¶ë‹¤ë©´ ì €ë¥¼ íŒ”ë¡œìš°í•´ì£¼ì„¸ìš”. ì¦ê±°ìš´ í•™ìŠµë˜ì„¸ìš”! ğŸš€\n\n# ì°¸ê³  ìë£Œ\n\n- Podmanì´ë€? (redhat.com)\n- Podman ì„¤ì¹˜ | Podman\n- Dockerë¥¼ ëŒ€ì²´í•  ë„êµ¬ ë° ê·¸ ì´ìœ  | mkdevì˜ í”„ë¡œê·¸ë˜ë° ê¸€\n- Alfrescoì™€ í•¨ê»˜ Podman ì‚¬ìš©í•˜ê¸° â€” Alfresco Hub","ogImage":{"url":"/assets/img/2024-05-23-DockervsPodmanANewErainSecureOrchestration_0.png"},"coverImage":"/assets/img/2024-05-23-DockervsPodmanANewErainSecureOrchestration_0.png","tag":["Tech"],"readingTime":7},{"title":"ëŸ¬ìŠ¤íŠ¸ ë°°ìš°ê¸° 11ë¶€  ë¹Œë”ì™€ ë°ì´í„°ë² ì´ìŠ¤ ìƒí˜¸ì‘ìš©","description":"","date":"2024-05-23 14:11","slug":"2024-05-23-LearningRustPart11BuildersandDatabaseInteraction","content":"\në‹¤ìŒ ì‹œë¦¬ì¦ˆë¡œ ë„˜ì–´ê°€ë³´ê² ìŠµë‹ˆë‹¤; ì´ ë¶€ë¶„ì—ì„œëŠ” ë°ì´í„° êµ¬ì¡°ì— ë¹Œë” íŒ¨í„´ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ sqlxì™€ Postgresë¥¼ ì‚¬ìš©í•œ ë°ì´í„°ë² ì´ìŠ¤ ìƒí˜¸ì‘ìš©ìœ¼ë¡œ ë„˜ì–´ê°€ê² ìŠµë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-23-LearningRustPart11BuildersandDatabaseInteraction_0.png)\n\n# Rust ì‹œë¦¬ì¦ˆ\n\në¶€ë¶„ 1 â€” ê¸°ë³¸ ê°œë…\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nPart 2 â€” ë©”ëª¨ë¦¬\n\nPart 3 â€” íë¦„ ì œì–´ì™€ í•¨ìˆ˜\n\nPart 4 â€” ì˜µì…˜/ê²°ê³¼ ë° ì»¬ë ‰ì…˜\n\nPart 5 â€” íŠ¸ë ˆì´íŠ¸, ì œë„¤ë¦­ ë° í´ë¡œì €\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì œ 6ë¶€ â€” ë§¤í¬ë¡œ, ë°˜ë³µì ë° íŒŒì¼ ì²˜ë¦¬\n\nì œ 7ë¶€ â€” ìŠ¤ë ˆë“œ ê³µìœ  ìƒíƒœ ë° ì±„ë„\n\nì œ 8ë¶€ â€” Cargo, í¬ë ˆì´íŠ¸, ëª¨ë“ˆ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬\n\nì œ 9ë¶€ â€” ëª…ë ¹í–‰ ì¸ìˆ˜, ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë° í…ŒìŠ¤íŒ…\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì œ 10ë¶€ â€” ìƒì í¬ì¸í„° ë° ì›¹ ì•±\n\nì œ 11ë¶€ â€” ë¹Œë”ì™€ ë°ì´í„°ë² ì´ìŠ¤ ìƒí˜¸ì‘ìš© (ì´ ê¸°ì‚¬)\n\n# ì†Œê°œ\n\nì´ê²ƒì€ ëŸ¬ìŠ¤íŠ¸ í•™ìŠµ ì‹œë¦¬ì¦ˆì˜ ì—´í•œ ë²ˆì§¸ ì„¹ì…˜ì…ë‹ˆë‹¤. ì´ë²ˆì—ëŠ” ëŸ¬ìŠ¤íŠ¸ì—ì„œ ë¹Œë” íŒ¨í„´ì„ ë‹¤ë£° ê²ƒì…ë‹ˆë‹¤. ì´ ê³µí†µëœ íŒ¨í„´ì€ êµ¬ì¡°ì²´ë¥¼ ì•ˆì „í•˜ê³  íˆ¬ëª…í•˜ê²Œ ì´ˆê¸°í™”í•˜ëŠ” ì¢‹ì€ ë°©ë²•ì…ë‹ˆë‹¤. ë‹¤ìŒìœ¼ë¡œ, ìš°ë¦¬ëŠ” í¬ìŠ¤íŠ¸ê·¸ë ˆìŠ¤ì™€ SQLX í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ CRUD ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³¼ ê²ƒì…ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# ì¤€ë¹„ë¬¼\n\nì´ ê¸€ì˜ ë°ì´í„°ë² ì´ìŠ¤ ë¶€ë¶„ì„ ìœ„í•œ ìœ ì¼í•œ ì¤€ë¹„ë¬¼ì€ Rustì™€ Cargoê°€ ì„¤ì¹˜ë˜ì–´ ìˆê³  ì‹œìŠ¤í…œì— Dockerê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ” ê²ƒì…ë‹ˆë‹¤. ë§Œì•½ Dockerë¥¼ ê°€ì§€ê³  ìˆì§€ ì•Šì§€ë§Œ ë¡œì»¬ Postgres DBê°€ ì´ë¯¸ ì„¤ì¹˜ë˜ì–´ ìˆê±°ë‚˜ ë‹¤ë¥¸ ì„œë²„ì˜ DBì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë‹¤ë©´ Docker Postgres ì„¤ì •ì„ ê±´ë„ˆë›°ê³  DBì— ì—°ê²°í•˜ê¸° ìœ„í•œ ì—°ê²° ì†ì„±ë§Œ ìˆ˜ì •í•˜ë©´ ë©ë‹ˆë‹¤.\n\n# ë¹Œë” íŒ¨í„´\n\në¹Œë” íŒ¨í„´ì€ ë³µì¡í•œ ê°ì²´ì˜ êµ¬ì„±ì„ í•´ë‹¹ í‘œí˜„ì—ì„œ ë¶„ë¦¬í•˜ëŠ” ë””ìì¸ íŒ¨í„´ì…ë‹ˆë‹¤. ì´ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•˜ê³  ê¸°ë³¸ê°’ìœ¼ë¡œ ëŒ€ì²´í•˜ë©° ê°’ì„ ë¶€ë¶„ì ìœ¼ë¡œ í• ë‹¹í•œ í›„ì— í•­ëª©ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nRustë¡œ ê·¸ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³¼ ê±°ì˜ˆìš”. ì´ê²ƒì´ ìš°ë¦¬ì˜ ì½”ë“œì…ë‹ˆë‹¤.\n\n```js\n#[derive(Debug)]\nstruct ChargingSession {\n    id: String,\n    watts: u32,\n    vin: String,\n}\n\nstruct ChargingSessionBuilder {\n    id: String,\n    watts: Option\u003cu32\u003e,\n    vin: Option\u003cString\u003e,\n}\n\nimpl ChargingSessionBuilder {\n    fn new(id: \u0026str) -\u003e ChargingSessionBuilder {\n        ChargingSessionBuilder {\n            id: id.to_string(),\n            watts: None,\n            vin: None,\n        }\n    }\n\n    fn watts(mut self, watts: u32) -\u003e ChargingSessionBuilder {\n        self.watts = Some(watts);\n        self\n    }\n\n    fn vin(mut self, vin: \u0026str) -\u003e ChargingSessionBuilder {\n        self.vin = Some(vin.to_string());\n        self\n    }\n\n    fn build(self) -\u003e ChargingSession {\n        ChargingSession {\n            id: self.id,\n            watts: self.watts.unwrap_or_else(|| 0),\n            vin: self.vin.unwrap_or_else(|| \"Unknown\".to_string()),\n        }\n    }\n}\n\nfn main() {\n    // ì´ê²ƒì€ ChargingSessionì„ ìƒì„±í•˜ëŠ” í‘œì¤€ì ì¸ ë°©ë²•ì…ë‹ˆë‹¤.\n    let cs_old_way = ChargingSession {\n        id: String::from(\"11111\"),\n        watts: 420,\n        vin: String::from(\"4Y1SL65848Z411439\"),\n    };\n    println!(\"Regular way to create struct: {:?}\", cs_old_way);\n\n    // ë¹Œë”ë¥¼ ì‚¬ìš©í•´ì„œ ìƒì„±í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.\n    let cs = ChargingSessionBuilder::new(\"11111\")\n        .watts(420)\n        .vin(\"4Y1SL65848Z411439\")\n        .build();\n    println!(\"Builder pattern to create struct: {:?}\", cs);\n\n    // IDë§Œ ì œê³µí•˜ì—¬ ìƒì„±í•˜ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤.\n    let cs_lean = ChargingSessionBuilder::new(\"11111\")\n    .build();\n     println!(\"Builder pattern to create struct (default values): {:?}\", cs_lean);\n}\n```\n\nì´ê±¸ í•œ ë²ˆì— ì´í•´í•˜ê¸°ì— ë§ì§€ë§Œ, ë‹¨ê³„ì ìœ¼ë¡œ ì§„í–‰í•´ ë´…ì‹œë‹¤.\n\në¨¼ì €, ì¶©ì „ ì„¸ì…˜ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” êµ¬ì¡°ì²´ë¥¼ ì •ì˜í–ˆìŠµë‹ˆë‹¤. ì´ ì‹œë¦¬ì¦ˆì˜ ì´ì „ ì˜ˆì œì—ì„œ í•˜ë‚˜ì˜ í•„ë“œì¸ ì„¸ì…˜ìš© ì°¨ëŸ‰ ID ë²ˆí˜¸ì¸ vinì„ ì¶”ê°€í–ˆì–´ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nê·¸ëŸ¬ë©´ ë°ì´í„° êµ¬ì¡°ì²´ì™€ ë™ì¼í•œ í•„ë“œë¥¼ ê°€ì§„ ë¹Œë”ë¥¼ ìœ„í•œ êµ¬ì¡°ì²´ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\n\në¹Œë”ëŠ” impl ë¸”ë¡ì—ì„œ êµ¬í˜„ë˜ë©°, id ë° ê° ì¶”ê°€ í•„ë“œë¥¼ ì„¤ì •í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ëŠ” ìƒˆ í•¨ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ëª‡ ê°€ì§€ ì¤‘ìš”í•œ ì‚¬í•­ì´ ìˆìŠµë‹ˆë‹¤.\n\n- ê° í•¨ìˆ˜ëŠ” ChargingSessionBuilder ìœ í˜•ì„ ë°˜í™˜í•©ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ selfì…ë‹ˆë‹¤.\n- ì¶”ê°€ ì†ì„± í•„ë“œì—ëŠ” mut selfë¥¼ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¡œ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œê°€ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì´ëŸ¬í•œ í•¨ìˆ˜ í˜¸ì¶œì˜ ì²´ì´ë‹ì„ í—ˆìš©í•˜ëŠ” ë° ì¤‘ìš”í•©ë‹ˆë‹¤. ë˜í•œ ì—¬ê¸°ì— ìœ íš¨ì„± ê²€ì‚¬ ë…¼ë¦¬ë¥¼ ì½”ë”©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- build í•¨ìˆ˜ê°€ ëª¨ë‘ í†µí•©ë˜ëŠ” ê³³ì…ë‹ˆë‹¤. ì¡´ì¬í•˜ëŠ” ê°’ë“¤ì„ í• ë‹¹í•˜ê³  ë‚˜ë©´ ê¸°ë³¸ê°’ì„ ê²°ì •í•˜ê³  ëŒ€ìƒ êµ¬ì¡°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ë¥¼ í†µí•´ ë¹Œë” íŒ¨í„´ì˜ ìš°ì•„í•¨ê³¼ Rust ë‚´ì—ì„œì˜ êµ¬í˜„ ë°©ë²•ì„ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤. ì´ê²ƒì´ ì•±ì´ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì½”ë“œë¥¼ êµ¬í˜„í•˜ëŠ” í›Œë¥­í•œ ë°©ë²•ì„ì„ ì•Œ ìˆ˜ ìˆê¸°ë¥¼ ë°”ëë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në‹¤ìŒ ì„¹ì…˜ì¸ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ë„˜ì–´ê°€ ë´…ì‹œë‹¤.\n\n# ë°ì´í„°ë² ì´ìŠ¤ â€” sqlx\n\nì´ ì„¹ì…˜ì—ì„œëŠ” Rust í”„ë¡œê·¸ë¨ì—ì„œ sqlxë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—…ì„ ì‚´í´ë³¼ ê²ƒì…ë‹ˆë‹¤. ë¨¼ì € ì¼ë¶€ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.\n\n## ì„¤ì •\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìƒˆ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•´ë´…ì‹œë‹¤. db_appì´ë¼ê³  ì´ë¦„ ì§“ê³ , cargo new db_appìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆì–´ìš”. ê¸°ë³¸ ë””ë ‰í† ë¦¬ì— ëª‡ ê°œì˜ íŒŒì¼ì„ ìƒì„±í•  ê±°ì—ìš”. ì²« ë²ˆì§¸ íŒŒì¼ì€ docker-compose.ymlì´ë¼ê³  í•˜ë©° ë‹¤ìŒ ë‚´ìš©ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. Postgresì™€ Pgadminì´ ë…¸ì¶œë˜ëŠ” ì„ì˜ì˜ í¬íŠ¸ë¥¼ ì„ íƒí–ˆìœ¼ë©°, ì»´í“¨í„°ì— ì„¤ì¹˜ëœ ë‹¤ë¥¸ ì•±ë“¤ê³¼ ì¶©ëŒí•˜ì§€ ì•Šë„ë¡ í–ˆì–´ìš”.\n\n```js\nversion: '3'\nservices:\n  postgres:\n    image: postgres:latest\n    container_name: postgres\n    ports:\n      - '6500:5432'\n    volumes:\n      - postgresDB:/data/postgres\n    env_file:\n      - ./.env\n  pgAdmin:\n    image: dpage/pgadmin4\n    container_name: pgAdmin\n    env_file:\n      - ./.env\n    ports:\n      - \"5050:80\"\nvolumes:\n  postgresDB:\n```\n\n.envì´ë¼ëŠ” íŒŒì¼ì´ í•˜ë‚˜ ë” í•„ìš”í•˜ë©°, ë‹¤ìŒ ë‚´ìš©ì´ ìˆì–´ì•¼ í•´ìš”. ì´ íŒŒì¼ì€ docker-compose íŒŒì¼ê³¼ ë‚˜ì¤‘ì— Rust ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ëª¨ë‘ ì‚¬ìš©í•  ê±°ì—ìš”.\n\n```js\nPOSTGRES_HOST=127.0.0.1\nPOSTGRES_PORT=6500\nPOSTGRES_USER=admin\nPOSTGRES_PASSWORD=password123\nPOSTGRES_DB=charging_session\n\nDATABASE_URL=postgresql://admin:password123@localhost:6500/charging_session?currentSchema=public\n\nPGADMIN_DEFAULT_EMAIL=admin@admin.com\nPGADMIN_DEFAULT_PASSWORD=password123\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìœ„ì˜ ë‚´ìš©ê³¼ í•¨ê»˜ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì, ë¹„ë°€ë²ˆí˜¸, ê·¸ë¦¬ê³  Pgadminì— ëŒ€í•œ ì—°ê²° ì •ë³´ë¥¼ ì œê³µí•´ ë“œë ¸ìŠµë‹ˆë‹¤.\n\nì´ ë‘ ê°€ì§€ í•­ëª©ì„ ë§Œë“¤ê³  ìœ„ì˜ ë‚´ìš©ì„ ì‚¬ìš©í•˜ì—¬ Docker Composeë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œì»¬ DB ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì²˜ìŒì—ëŠ” í•­ìƒ ì „ê²½ì—ì„œ ì‹œì‘í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•©ë‹ˆë‹¤. ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ë° ê¸°íƒ€ ì‘ì—…ì„ í•˜ê¸° ë•Œë¬¸ì— ì—¬ëŸ¬ë¶„ì˜ ì»´í“¨í„° ë° ë„¤íŠ¸ì›Œí¬ ì†ë„ì— ë”°ë¼ ì‹œê°„ì´ ì†Œìš”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. docker-compose.yml ë° .env íŒŒì¼ì´ ìˆëŠ” ë””ë ‰í† ë¦¬ì™€ ë™ì¼í•œ ìœ„ì¹˜ì—ì„œ ë‹¤ìŒì„ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤.\n\n```js\ndocker-compose up\n```\n\nì‹œì‘ëœ ëª¨ë“  ê²ƒì„ í™•ì¸í•œ í›„ì—ëŠ” ì–¸ì œë“ ì§€ -d ìŠ¤ìœ„ì¹˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ëª¬ ëª¨ë“œë¡œ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì™„ë£Œë˜ë©´ ë‘ ì»¨í…Œì´ë„ˆê°€ ì‹œì‘ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ ë´…ì‹œë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ëª…ë ¹ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\ndocker ps\n```\n\në¹„ìŠ·í•œ ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤.\n\n\u003cimg src=\"/assets/img/2024-05-23-LearningRustPart11BuildersandDatabaseInteraction_1.png\" /\u003e\n\në§Œì•½ ë‘ ê°œì˜ ì»¨í…Œì´ë„ˆê°€ í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤ë©´, docker-composeë¥¼ ì‹¤í–‰í•œ í„°ë¯¸ë„ì—ì„œ ì—ëŸ¬ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\ní•œ ë²ˆ ì´ë“¤ì´ ì‹¤í–‰ë˜ë©´ DBì— ì—°ê²°í•´ ë´…ì‹œë‹¤. Pgadminì„ í¬íŠ¸ 5050ì—ì„œ ì‹¤í–‰í•˜ë„ë¡ êµ¬ì„±í–ˆìœ¼ë‹ˆ ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:5050ì„ ì…ë ¥í•˜ë©´ pgadminì˜ ë¡œê·¸ì¸ í™”ë©´ì´ í‘œì‹œë©ë‹ˆë‹¤. .env íŒŒì¼ì— êµ¬ì„±ëœ ìê²© ì¦ëª…(ê´€ë¦¬ì@ê´€ë¦¬ì.com/ë¹„ë°€ë²ˆí˜¸123)ì„ ì‚¬ìš©í•˜ì—¬ pgadminì— ë¡œê·¸ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ°ë° ì•„ì§ ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ë‹¤ìŒì„ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤.\n\n```js\ndocker inspect postgres\n```\n\nì¶œë ¥ì„ í™•ì¸í•˜ì—¬ \"NetworkSettings\" ì„¹ì…˜ìœ¼ë¡œ ì´ë™í•˜ê³  \"IPAddress\" ì†ì„±ì˜ ê°’ì„ ë³µì‚¬í•©ë‹ˆë‹¤. ì´ ê°’ì€ DBì— ì—°ê²°í•˜ëŠ” ë° ì‚¬ìš©í•  í˜¸ìŠ¤íŠ¸(IP)ì…ë‹ˆë‹¤. ì œ ì»´í“¨í„°ì—ì„œ ì´ ê°’ì€ 172.23.0.1 ì´ì—ˆìŠµë‹ˆë‹¤.\n\në¡œê·¸ì¸í•œ í›„ \"ìƒˆ ì„œë²„ ì¶”ê°€\" ë²„íŠ¼ì„ í´ë¦­í•˜ê³ , \"í˜¸ìŠ¤íŠ¸ ì´ë¦„/ì£¼ì†Œ\"ë¡œ ì´ì „ì— ë³µì‚¬í•œ IP ì£¼ì†Œë¥¼ í¬í•¨í•œ í•„ìˆ˜ ìê²© ì¦ëª…ì„ ì œê³µí•˜ê³  \"ì €ì¥\" ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì„œë²„ì— ë¡œê·¸ì¸í•˜ë©´ ë°ì´í„°ë² ì´ìŠ¤ charging_sessionì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-23-LearningRustPart11BuildersandDatabaseInteraction_2.png)\n\nì˜ í–ˆì–´ìš”. ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ì¤€ë¹„ê°€ ë˜ì—ˆê³  Pgadminì—ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ì œ Rust ì•±ì˜ ì¢…ì†ì„±ì„ êµ¬ì„±í•´ ë´…ì‹œë‹¤. ì²˜ìŒì—ëŠ” ëª¨ë‘ í•„ìš”í•˜ì§€ ì•Šì§€ë§Œ ê²°êµ­ í•„ìš”í•˜ê²Œ ë  ê²ƒì´ë¯€ë¡œ ì§€ê¸ˆ ì¶”ê°€í•´ ë‘ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nCargo.toml íŒŒì¼ì˜ ì¢…ì†ì„± ë¶€ë¶„ì„ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•˜ì„¸ìš”.\n\n```toml\n[dependencies]\nchrono = { version = \"0.4.31\", features = [\"serde\"] }\ndotenv = \"0.15.0\"\nenv_logger = \"0.10.1\"\nlog = \"0.4.20\"\nserde = { version = \"1.0.193\", features = [\"derive\"] }\nserde_json = \"1.0.108\"\nsqlx = { version = \"0.7.3\", features = [\"runtime-tokio-native-tls\", \"postgres\", \"uuid\", \"chrono\"] }\ntokio = { version = \"1.35.0\", features = [\"macros\", \"rt-multi-thread\"]}\nuuid = { version = \"1.6.1\", features = [\"serde\", \"v4\"] }\n```\n\në‹¤ì–‘í•œ ì¢…ì†ì„±ì— ëŒ€í•´ í™œì„±í™”ëœ ê¸°ëŠ¥ì„ ê²€í† í•˜ëŠ” ë°ë„ ì‹œê°„ì„ í• ì• í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\n\në‹¤ìŒìœ¼ë¡œ, í•„ìš”í•œ í…Œì´ë¸”ì„ ë§Œë“¤ê¸° ìœ„í•´ sqlx-cli ë§ˆì´ê·¸ë ˆì´ì…˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìš°ì„  ëª…ë ¹ ì¤„ì—ì„œ ë‹¤ìŒì„ ì‹¤í–‰í•˜ì—¬ CLIë¥¼ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.\n\n```js\ncargo install sqlx-cli --no-default-features --features rustls,postgres\n```\n\nê·¸ëŸ° ë‹¤ìŒ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ì„ ì´ˆê¸°í™”í•´ì•¼ í•©ë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ì‹¤í–‰í•©ë‹ˆë‹¤.\n\n```js\nsqlx migrate add initial-tables\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ ëª…ë ¹ì–´ëŠ” ìš°ë¦¬ê°€ ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•´ ìƒˆ íŒŒì¼ migrations/`timestamp`\\_initial-tables.sqlì„ ìƒì„±í•©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-23-LearningRustPart11BuildersandDatabaseInteraction_3.png)\n\nì´ íŒŒì¼ì„ ì—´ê³  ì•„ë˜ SQL ë¬¸ì„ ì¶”ê°€í•˜ì—¬ í…Œì´ë¸”ì„ ìƒì„±í•˜ì„¸ìš”.\n\n\ncreate table locations (\n  id bigserial primary key,\n  name varchar(255) unique not null\n);\n\ncreate table sessions (\n  id bigserial primary key,\n  location_id bigint not null,\n  watts bigint not null,\n  vin varchar(255) not null,\n  constraint fk_location foreign key (location_id) references locations(id) on delete cascade\n);\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìœ„ ì˜ˆì œì—ì„œ ì‚¬ìš©í•  ë‘ ê°œì˜ í…Œì´ë¸” ì •ì˜ì…ë‹ˆë‹¤. ì´ ì‹œë¦¬ì¦ˆì˜ ì¶©ì „ ì„¸ì…˜ì— ëŒ€í•œ í‘œì¤€ ì˜ˆì œë¥¼ í™•ì¥í•˜ì—¬, ì¶©ì „ ì¥ì¹˜ì˜ ìœ„ì¹˜ë¥¼ ì €ì¥í•  locations í…Œì´ë¸”ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\n\nì´ì œ ë‹¤ìŒì„ ì‹¤í–‰í•˜ì—¬ í…Œì´ë¸”ì„ ìƒì„±í•˜ì„¸ìš”.\n\n```js\nsqlx migrate run\n```\n\nê·¸ëŸ¬ë©´ ì¦‰ì‹œ 20231212235431/migrate initial-tables (íƒ€ì„ìŠ¤íƒ¬í”„ ë¶€ë¶„ì€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŒ)ê³¼ ê°™ì€ ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤. ì´ì œ Pgadminì— ê°€ì„œ í…Œì´ë¸”ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-05-23-LearningRustPart11BuildersandDatabaseInteraction_4.png\" /\u003e\n\nìœ„ì—ì„œ ë³´ë“¯ì´ ë‘ ê°œì˜ í…Œì´ë¸”ì´ ìƒì„±ë˜ì—ˆê³ , ë¬¸ì„œ ëª©ì ì„ ìœ„í•´ Pgadmin ë‚´ì— ERD ë‹¤ì´ì–´ê·¸ë¨ë„ ìƒì„±í–ˆìŠµë‹ˆë‹¤. ì´ì œ ì´ˆê¸° ì„¤ì •ê³¼ í”„ë¡œì íŠ¸ êµ¬ì„±ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤.\n\n# ë°ì´í„°ë² ì´ìŠ¤ í•¨ìˆ˜\n\nì´ ì„¹ì…˜ì—ì„œëŠ” ë°ì´í„°ë² ì´ìŠ¤ ìƒí˜¸ ì‘ìš©ì˜ ë‹¤ì–‘í•œ ìœ í˜•ê³¼ Rust êµ¬í˜„ì„ ì‚´í´ë³¼ ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°í•˜ëŠ” ê²ƒìœ¼ë¡œ ì‹œì‘ë©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nDBì— ì—°ê²°í•˜ê¸°\n\në°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°í•˜ëŠ” ë°©ë²•ì€ PgPoolOptions connect í•¨ìˆ˜ë¥¼ í†µí•´ ì—°ê²°ì„ ìƒì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ìš°ë¦¬ì˜ .env íŒŒì¼ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë¬¸ìì—´ì„ ì½ê³  ë¡œê¹…ì„ êµ¬ì„±í•˜ë©° ì„±ê³µ ë˜ëŠ” ì˜¤ë¥˜ë¥¼ ê¸°ë¡í•˜ëŠ” ì½”ë“œ ì „ì²´ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\n\n```js\nuse sqlx::{postgres::PgPoolOptions, Pool, Postgres};\nuse dotenv::dotenv;\nuse log::{info, error};\n\n#[tokio::main]\nasync fn main() {\n    if std::env::var_os(\"RUST_LOG\").is_none() {\n        std::env::set_var(\"RUST_LOG\", \"info\");\n    }\n    dotenv().ok();\n    env_logger::init();\n\n    let database_url = std::env::var(\"DATABASE_URL\").expect(\"DATABASE_URL must be set\");\n    let pool = match PgPoolOptions::new()\n        .max_connections(10)\n        .connect(\u0026database_url)\n        .await\n    {\n        Ok(pool) =\u003e {\n            info!(\"âœ… ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤!\");\n            pool\n        }\n        Err(err) =\u003e {\n            error!(\"ğŸ”¥ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: {:?}\", err);\n            std::process::exit(1);\n        }\n    };\n}\n```\n\nì‹œì‘ ë¶€ë¶„ì˜ #[tokio::main] ë§¤í¬ë¡œë¥¼ ì£¼ëª©í•´ì£¼ì„¸ìš”. ì´ëŠ” async fn main()ì„ ë™ê¸° fn main()ë¡œ ë³€í™˜í•˜ì—¬ ëŸ°íƒ€ì„ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•˜ê³  async main í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê²Œ í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìœ„ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì¶œë ¥ ë¡œê¹…ì—ì„œ ë‹¤ìŒ ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤.\n\n[2023-12-13T00:16:42Z INFO db_app] âœ… ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤!\n\nìš°ë¦¬ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. .env íŒŒì¼ì—ì„œ êµ¬ì„±í•œ ëª¨ë“  ì—°ê²° ì •ë³´ë¥¼ ê¸°ì–µí•´ ì£¼ì„¸ìš”. ì´ ì •ë³´ëŠ” docker-compose, sqlx-cli, ê·¸ë¦¬ê³  ìš°ë¦¬ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê³µìœ ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n## Inserts\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ì œ ì—°ê²° í’€ì´ ì¤€ë¹„ë˜ì—ˆìœ¼ë‹ˆ, ìš°ë¦¬ê°€ ì‚´í´ë³¼ ì²« ë²ˆì§¸ ë°ì´í„°ë² ì´ìŠ¤ ë¡œì§ì€ ì‚½ì…ì…ë‹ˆë‹¤. sqlxë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚½ì…í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n```rust\nlet insert_result = sqlx::query_as!(\n    Locations,\n    \"INSERT INTO locations (id,name) VALUES (1, 'Location A') RETURNING *\"\n)\n.fetch_one(\u0026pool)\n.await;\n\nmatch insert_result {\n    Ok(location) =\u003e {\n        info!(\"âœ“Inserted: {:?}\", location);\n    }\n    Err(e) =\u003e {\n        error!(\"Error Insert: {}\", e.to_string())\n    }\n}\n```\n\nì´ ì½”ë“œëŠ” í•˜ë‚˜ì˜ ë ˆì½”ë“œë¥¼ ì‚½ì…í•  ê²ƒì…ë‹ˆë‹¤. ë¬¼ë¡  ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìœ¼ë©°, ì´ëŠ” ì—…ë°ì´íŠ¸ë¥¼ ì‚´í´ë³¼ ë•Œ ì‚´í´ë³¼ ê²ƒì…ë‹ˆë‹¤.\n\n## ì§ˆì˜í•˜ê¸°\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në‹¤ìŒìœ¼ë¡œ, ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°íšŒí•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n\n```js\n    let query_result = sqlx::query_as!(Locations, \"SELECT * FROM Locations\")\n        .fetch_all(\u0026pool)\n        .await;\n    if query_result.is_err() {\n        let message = \"ëª¨ë“  ìœ„ì¹˜ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë™ì•ˆ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\";\n        error!(\"{}{}\", message, query_result.err().unwrap());\n    } else {\n        info!(\"ğŸ˜ ìœ„ì¹˜ì— ëŒ€í•œ ì¿¼ë¦¬ ê²°ê³¼ {:?}\", query_result.unwrap());\n    }\n```\n\nì´ê²ƒì€ ì„±ê³µì ìœ¼ë¡œ ì‘ë™í–ˆë‹¤ë©´ unwrapì„ í†µí•´ ê²°ê³¼ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì¿¼ë¦¬ ë‚´ì˜ ì´ìŠˆê°€ ë°œìƒí–ˆë‹¤ë©´ í•´ë‹¹ ì—ëŸ¬ì— ì ‘ê·¼í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n## ì—…ë°ì´íŠ¸\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në‹¤ìŒ ì‘ì—…ì€ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” ì´ì „ì— ì‚½ì…í•œ ê²ƒê³¼ ë¹„ìŠ·í•  ê²ƒì…ë‹ˆë‹¤.\n\n```js\n    let update_result = sqlx::query_as!(\n        Sessions,\n        \"UPDATE sessions SET watts = 415 WHERE id = $1 RETURNING *\",\n        1i64,\n    )\n    .fetch_one(\u0026pool)\n    .await;\n\n    match update_result {\n        Ok(session) =\u003e {\n            info!(\"âœ“Update: {:?}\", session);\n        }\n        Err(e) =\u003e {\n            error!(\"Error Update: {}\", e.to_string())\n        }\n    }\n```\n\nì´ ì˜ˆì œì—ì„œ ì£¼ëª©í•  ì ì€ $1ì´ë¼ëŠ” ë§¤ê°œë³€ìˆ˜ ìë¦¬ í‘œì‹œìë¥¼ ì‚¬ìš©í•˜ëŠ” ì¤€ë¹„ëœ ë¬¸(statement)ë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ SQL ë¬¸ìì—´ ë’¤ì— ë§¤ê°œë³€ìˆ˜ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.\n\n## Deletes\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në§ˆì§€ë§‰ìœ¼ë¡œ, ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë ˆì½”ë“œë¥¼ ì‚­ì œí•˜ëŠ” CRUD ì‘ì—…ì„ ì™„ë£Œí•©ë‹ˆë‹¤. ìš°ë¦¬ì˜ ëª©ì ì€ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì •ë¦¬í•˜ëŠ” ë° ì‚¬ìš©í•  ê²ƒì´ë©°, ì´ë ‡ê²Œ í•˜ë©´ ì–¸ì œë“ ì§€ ì‘ìš© í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\nlet rows_deleted = sqlx::query!(\"DELETE from sessions\")\n    .execute(\u0026pool)\n    .await\n    .unwrap()\n    .rows_affected();\n\ninfo!(\"âœ• ì„¸ì…˜ í…Œì´ë¸”ì—ì„œ {}ê°œì˜ í–‰ ì‚­ì œë¨\", rows_deleted);\n```\n\nì—¬ê¸°ì„œëŠ” ì—°ì‚°ì—ì„œì²˜ëŸ¼ sqlx::query ëŒ€ì‹  sqlx::query_asë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ë˜í•œ ì–¸ë© ì´í›„ .rows_affectedë¥¼ ì¶”ê°€í•˜ì—¬ ì‚­ì œëœ í–‰ ìˆ˜ë¥¼ ì–»ìŠµë‹ˆë‹¤.\n\n## íŠ¸ëœì­ì…˜\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```rust\n   let tx = pool.begin().await.expect(\"íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤\");\n\n   // ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—… ìˆ˜í–‰(ë°ì´í„° ì‚½ì… ë˜ëŠ” ë³€ê²½)\n\n   tx.commit().await.expect(\"íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤\");\n```\n\nì»¤ë°‹ì„ í˜¸ì¶œí•˜ì§€ ì•Šìœ¼ë©´ íŠ¸ëœì­ì…˜ì´ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ë©´ ìë™ìœ¼ë¡œ ë¡¤ë°±ë©ë‹ˆë‹¤.\n\n## ì™„ì „í•œ ì‘ìš© í”„ë¡œê·¸ë¨\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìœ„ì˜ ì½”ë“œëŠ” ìš°ë¦¬ê°€ ì´ì „ì— ë…¼ì˜í•œ ëª¨ë“  ë‹¤ì–‘í•œ ê¸°ëŠ¥ì´ í•˜ë‚˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ëª¨ë‘ í¬í•¨ëœ ì™„ì „í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.\n\n```js\nuse dotenv::dotenv;\nuse log::{error, info};\nuse sqlx::{postgres::PgPoolOptions, Pool, Postgres};\n\n#[derive(Debug)]\nstruct Locations {\n    id: i64,\n    name: String,\n}\n\n#[derive(Debug)]\nstruct Sessions {\n    id: i64,\n    location_id: i64,\n    watts: i64,\n    vin: String,\n}\nasync fn insert_into_locations(pool: Pool\u003cPostgres\u003e) {\n    let tx = pool.begin().await.expect(\"Unable to begin transaction\");\n\n    let insert_result = sqlx::query_as!(\n        Locations,\n        \"INSERT INTO locations (id,name) VALUES (1, 'Location A') RETURNING *\"\n    )\n    .fetch_one(\u0026pool)\n    .await;\n\n    match insert_result {\n        Ok(location) =\u003e {\n            info!(\"âœ“Inserted: {:?}\", location);\n        }\n        Err(e) =\u003e {\n            error!(\"Error Insert: {}\", e.to_string())\n        }\n    }\n    let insert_result = sqlx::query_as!(\n        Locations,\n        \"INSERT INTO locations (id,name) VALUES (2, 'Location B') RETURNING *\"\n    )\n    .fetch_one(\u0026pool)\n    .await;\n\n    match insert_result {\n        Ok(location) =\u003e {\n            info!(\"âœ“Inserted: {:?}\", location);\n        }\n        Err(e) =\u003e {\n            error!(\"Error Insert: {}\", e.to_string())\n        }\n    }\n\n    tx.commit().await.expect(\"Unable to commit the transaction\");\n}\n\nasync fn insert_into_sessions(pool: Pool\u003cPostgres\u003e) {\n    let tx = pool.begin().await.expect(\"Unable to begin transaction\");\n\n    let insert_result = sqlx::query_as!(\n        Sessions,\n        \"INSERT INTO sessions (id,location_id, watts, vin) VALUES (1, 1, 420, '2FMZA52286BA02033') RETURNING *\"\n    )\n    .fetch_one(\u0026pool)\n    .await;\n\n    match insert_result {\n        Ok(session) =\u003e {\n            info!(\"âœ“Inserted: {:?}\", session);\n        }\n        Err(e) =\u003e {\n            error!(\"Error Insert: {}\", e.to_string())\n        }\n    }\n    let insert_result = sqlx::query_as!(\n        Sessions,\n        \"INSERT INTO sessions (id,location_id, watts, vin) VALUES (2, 2, 393, '1GMYA52286BA04055') RETURNING *\"\n)\n    .fetch_one(\u0026pool)\n    .await;\n\n    match insert_result {\n        Ok(session) =\u003e {\n            info!(\"âœ“Inserted: {:?}\", session);\n        }\n        Err(e) =\u003e {\n            error!(\"Error Insert: {}\", e.to_string())\n        }\n    }\n\n    tx.commit().await.expect(\"Unable to commit the transaction\");\n}\n\nasync fn update_sessions(pool: Pool\u003cPostgres\u003e) {\n    let tx = pool.begin().await.expect(\"Unable to begin transaction\");\n\n    let update_result = sqlx::query_as!(\n        Sessions,\n        \"UPDATE sessions SET watts = 415 WHERE id = $1 RETURNING *\",\n        1i64,\n    )\n    .fetch_one(\u0026pool)\n    .await;\n\n    match update_result {\n        Ok(session) =\u003e {\n            info!(\"âœ“Update: {:?}\", session);\n        }\n        Err(e) =\u003e {\n            error!(\"Error Update: {}\", e.to_string())\n        }\n    }\n\n    tx.commit().await.expect(\"Unable to commit the transaction\");\n}\n\nasync fn clean_db(pool: Pool\u003cPostgres\u003e) {\n    let rows_deleted = sqlx::query!(\"DELETE from sessions\")\n        .execute(\u0026pool)\n        .await\n        .unwrap()\n        .rows_affected();\n\n    info!(\"âœ•Deleted {} rows from sessions table\", rows_deleted);\n\n    let rows_deleted = sqlx::query!(\"DELETE from locations\")\n        .execute(\u0026pool)\n        .await\n        .unwrap()\n        .rows_affected();\n    info!(\"âœ•Deleted {} rows from locations table\", rows_deleted);\n}\n\nasync fn query_locations(pool: Pool\u003cPostgres\u003e) {\n    let query_result = sqlx::query_as!(Locations, \"SELECT * FROM Locations\")\n        .fetch_all(\u0026pool)\n        .await;\n    if query_result.is_err() {\n        let message = \"Something bad happened while fetching all locations\";\n        error!(\"{}\", message);\n    } else {\n        info!(\"ğŸ˜Query Result For Locations {:?}\", query_result);\n    }\n}\n\nasync fn query_sessions(pool: Pool\u003cPostgres\u003e) {\n    let query_result = sqlx::query_as!(Sessions, \"SELECT * FROM Sessions\")\n        .fetch_all(\u0026pool)\n        .await;\n    if query_result.is_err() {\n        let message = \"Something bad happened while fetching all sessions\";\n        error!(\"{}\", message);\n    } else {\n        info!(\"ğŸ˜Query Result for Sessions {:?}\", query_result);\n    }\n}\n\n#[tokio::main]\nasync fn main() {\n    if std::env::var_os(\"RUST_LOG\").is_none() {\n        std::env::set_var(\"RUST_LOG\", \"info\");\n    }\n    dotenv().ok();\n    env_logger::init();\n\n    let database_url = std::env::var(\"DATABASE_URL\").expect(\"DATABASE_URL must be set\");\n    let pool = match PgPoolOptions::new()\n        .max_connections(10)\n        .connect(\u0026database_url)\n        .await\n    {\n        Ok(pool) =\u003e {\n            info!(\"âœ…Connection to the database is successful!\");\n            pool\n        }\n        Err(err) =\u003e {\n            error!(\"ğŸ”¥ Failed to connect to the database: {:?}\", err);\n            std::process::exit(1);\n        }\n    };\n    clean_db(pool.clone()).await;\n\n    insert_into_locations(pool.clone()).await;\n    query_locations(pool.clone()).await;\n\n    insert_into_sessions(pool.clone()).await;\n    query_sessions(pool.clone()).await;\n\n    update_sessions(pool.clone()).await;\n    query_sessions(pool.clone()).await;\n}\n```\n\nìœ„ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•œ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n\u003cimg src=\"/assets/img/2024-05-23-LearningRustPart11BuildersandDatabaseInteraction_5.png\" /\u003e\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìœ„ì™€ ê°™ì´ ë°ì´í„°ë² ì´ìŠ¤ ìƒí˜¸ì‘ìš© í† ë¡ ì„ ë§ˆì³¤ìŠµë‹ˆë‹¤. sqlxë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì¢‹ì€ ê°œìš”ë¥¼ ì œê³µí–ˆì„ ê²ë‹ˆë‹¤.\n\n# ìš”ì•½\n\nì €í¬ ëŸ¬ìŠ¤íŠ¸ í•™ìŠµ ì‹œë¦¬ì¦ˆì˜ ì´ ë¶€ë¶„ì„ ì¦ê¸°ì…¨ê¸°ë¥¼ ë°”ëë‹ˆë‹¤. ì‹œë¦¬ì¦ˆ ì´ë²ˆ ì„¹ì…˜ì—ì„œëŠ” ë¨¼ì € ëŸ¬ìŠ¤íŠ¸ì—ì„œ ê°ì²´ ìƒì„±ì— ëŒ€í•œ ë§¤ìš° ìœ ìš©í•œ íŒ¨í„´ì¸ ë¹Œë” íŒ¨í„´ì„ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤. ì´ëŠ” ë‹¤ë¥¸ ì–¸ì–´ì—ì„œ ìµìˆ™í•  ìˆ˜ ìˆì§€ë§Œ, ëŸ¬ìŠ¤íŠ¸ì—ì„œ ì–´ë–»ê²Œ êµ¬í˜„í•˜ëŠ”ì§€ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤.\n\në‹¤ìŒìœ¼ë¡œ, ìš°ë¦¬ëŠ” Rustë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì¸ íŠ¹íˆ Postgresì™€ ìƒí˜¸ì‘ìš©í•˜ëŠ” ë°©ë²•ì„ ê²€í† í–ˆìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì‹¤í–‰í•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°í•˜ëŠ” ë°©ë²•ì„ ë³´ì•˜ìœ¼ë©°, ê·¸ í›„ DBì— ëŒ€í•´ ì—¬ëŸ¬ ê°€ì§€ CRUD ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nëŸ¬ìŠ¤íŠ¸ í•™ìŠµ ì—¬ì •ì— í•¨ê»˜í•´ì¤˜ì„œ ê³ ë§ˆì›Œìš”.\n\nì¢‹ì€ ì—¬í–‰ ë˜ì„¸ìš”!\n","ogImage":{"url":"/assets/img/2024-05-23-LearningRustPart11BuildersandDatabaseInteraction_0.png"},"coverImage":"/assets/img/2024-05-23-LearningRustPart11BuildersandDatabaseInteraction_0.png","tag":["Tech"],"readingTime":18},{"title":"ë°ë¸Œ ì»¨í…Œì´ë„ˆë¡œ Rails ì•±ì„ ë„ì»¤ë¼ì´ì¦ˆí•˜ê¸°","description":"","date":"2024-05-23 14:10","slug":"2024-05-23-DockerizeRailsappwithDevContainers","content":"\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-23-DockerizeRailsappwithDevContainers_0.png)\n\në§Œì•½ Rails í”„ë¡œì íŠ¸ ë˜ëŠ” ë‹¤ë¥¸ í”„ë ˆì„ì›Œí¬ì— ëŒ€í•´ Dockerë¥¼ ì‹œë„í•´ë³´ë ¤ê³  ë§ì„¤ì´ê³  ìˆë‹¤ë©´, ê¼­ í•œ ë²ˆ ì‹œë„í•´ë³´ê¸°ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤. VSCodeì˜ Dev Containers í™•ì¥ í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•˜ë©´ í”„ë¡œì„¸ìŠ¤ê°€ ë†€ë„ ë§Œí¼ ìŠ¤ë¬´ìŠ¤í•´ì§€ê³  ë¡œì»¬ ê°œë°œ ê³¼ì •ì´ ê°„í¸í•´ì§‘ë‹ˆë‹¤.\n\nì´ë¯¸ CI/CD íŒŒì´í”„ë¼ì¸ì´ë‚˜ ë°°í¬ì— Dockerë¥¼ ì‚¬ìš©í•´ë³¸ ì ì´ ìˆë‹¤ë©´ ì»¨í…Œì´ë„ˆí™”ì˜ ì´ì ì— ìµìˆ™í•  ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì†”ì§íˆ ë§í•´ì„œ ë¡œì»¬ ê°œë°œì— ìˆì–´ì„œ DockerëŠ” í•­ìƒ í¸ë¦¬í•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤. ëª¨ë“  ê²ƒì— docker ë˜ëŠ” docker-compose ëª…ë ¹ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì€ ì¡°ê¸ˆ ê·€ì°®ì€ ì¼ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ë•Œ DevContainersê°€ ë“±ì¥í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë¡œì»¬ Rails ê°œë°œ í™˜ê²½ (ë° ë‹¤ë¥¸ í”„ë ˆì„ì›Œí¬)ì„ ìœ„í•œ ì „ì²´ Docker ì„¤ì •ì´ ê°„ë‹¨í•´ì§‘ë‹ˆë‹¤. ë” ì´ìƒ ëª…ë ¹ì¤„ì´ í˜¼ì¡í•´ì§€ì§€ ì•Šê³ , ë§¤ë„ëŸ½ê³  ì¼ê´€ëœ ê°œë°œ ê²½í—˜ë§Œì„ ê°€ì ¸ë‹¤ì¤ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nVSCodeì—ì„œ ê°œë°œ ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©í•˜ì—¬ Railsë¥¼ ë„ì»¤í™”í•˜ëŠ” ê°„ë‹¨í•œ íŠœí† ë¦¬ì–¼ì„ ì œê³µí•©ë‹ˆë‹¤. ë˜í•œ ë„ì»¤ë‚˜ ë„ì»´í¬ì¦ˆ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•  í•„ìš” ì—†ì´ ì»¨í…Œì´ë„ˆ í™˜ê²½ ë‚´ì—ì„œ ì‘ì—…í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.\n\në³¸ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” ë‹¤ìŒì„ ë°°ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n- VSCode í¸ì§‘ê¸°ì˜ DevContainers í™•ì¥ í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•˜ì—¬ Docker ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ ìƒˆë¡œìš´ Rails í”„ë¡œì íŠ¸ë¥¼ ì‹ ì†í•˜ê²Œ ìƒì„±í•˜ëŠ” ë°©ë²•\n- í„°ë¯¸ë„ì—ì„œ ë³µì¡í•œ Docker ëª…ë ¹ì–´ë¥¼ í•„ìš”ë¡œí•˜ì§€ ì•Šë„ë¡ í•¨\n- ë°ì´í„° ì§€ì†ì„±ì„ ìœ„í•´ MySQL ë°ì´í„°ë² ì´ìŠ¤ ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ì¤‘ êµ¬ì¡° ì•„í‚¤í…ì²˜ êµ¬ì¶•\n- Railsì™€ í•¨ê»˜ MySQLì„ ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ ì‹¤í–‰\n- ë©€í‹° ìŠ¤í…Œì´ì§€ ë„ì»¤ íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ê°œë°œ ë° í”„ë¡œë•ì…˜ í™˜ê²½ì— ëŒ€í•œ ì´ë¯¸ì§€ ë¹Œë“œ ìµœì í™”\n- VSCode ë‚´ì—ì„œ ê°„í¸í•˜ê³  íš¨ìœ¨ì ì¸ Rails ê°œë°œ ì›Œí¬í”Œë¡œìš° ë‹¬ì„±\n\nì´ ê¸€ê³¼ ê´€ë ¨ëœ íŠœí† ë¦¬ì–¼ì„ í†µí•´ Rails í”„ë¡œì íŠ¸ì—ì„œ Dev Containersë¥¼ ì‚¬ìš©í•´ë³´ê¸°ë¥¼ ê³ ë ¤í•˜ê²Œë” ë„ì™€ë“œë¦¬ê¸°ë¥¼ ë°”ëë‹ˆë‹¤. ê°œë°œ í”„ë¡œì„¸ìŠ¤ë¥¼ ìµœì í™”í•˜ê³ , í˜‘ì—…ì„ ê°œì„ í•˜ë©°, ì¼ê´€ëœ í™˜ê²½ì„ ìœ ì§€í•˜ëŠ” í™˜ìƒì ì¸ ë°©ë²•ì…ë‹ˆë‹¤. ì¦ê±°ìš´ ì½”ë”© ë˜ì„¸ìš”!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në§Œì•½ ë„ì›€ì´ ë˜ì—ˆë‹¤ë©´, ì¶”ê°€ì ì¸ íŒê³¼ íŠœí† ë¦¬ì–¼ì„ ë³´ê¸° ìœ„í•´ LinkedInì„ íŒ”ë¡œìš°í•˜ê³  YouTube ì±„ë„ì„ êµ¬ë…í•´ì£¼ì„¸ìš”.\n\n## ì¶”ê°€ í•™ìŠµ ë‚´ìš©:\n\n- ë©€í‹° ìŠ¤í…Œì´ì§€ ë„ì»¤ ë¹Œë“œ ë°°ìš°ê¸°\n- DevContainersë¡œ ë¡œì»¬ DevOps í™˜ê²½ ì„¤ì •í•˜ëŠ” ë°©ë²• ë°°ìš°ê¸°\n- VSCode í™•ì¥ í”„ë¡œê·¸ë¨ DevContainers","ogImage":{"url":"/assets/img/2024-05-23-DockerizeRailsappwithDevContainers_0.png"},"coverImage":"/assets/img/2024-05-23-DockerizeRailsappwithDevContainers_0.png","tag":["Tech"],"readingTime":2},{"title":"ê¿ˆíŒ€ ì¡°í•© êµ¬ì¶• ìŠ¤íŠ¸ë¦¼ë¼ì¸ëœ ë°ì´í„° íŒŒì´í”„ë¼ì¸ì„ ìœ„í•œ Snowflake, Databricks ë° Delta Lake","description":"","date":"2024-05-23 14:09","slug":"2024-05-23-BuildingtheDreamTeamSnowflakeDatabricksandDeltaLakeforStreamlinedDataPipelines","content":"\n\n\u003cimg src=\"/assets/img/2024-05-23-BuildingtheDreamTeamSnowflakeDatabricksandDeltaLakeforStreamlinedDataPipelines_0.png\" /\u003e\n\në¹… ë°ì´í„° ì‹œëŒ€ì—ëŠ” ì •ë³´ ê´€ë¦¬ê°€ ì§€ì†ì ì¸ ì‹¸ì›€ì…ë‹ˆë‹¤. ë°ì´í„° ì–‘ì´ ê¸‰ì¦í•¨ì— ë”°ë¼ ì €ì¥ë¿ë§Œ ì•„ë‹ˆë¼ ê°€ì¹˜ ìˆëŠ” í†µì°°ì„ ì¶”ì¶œí•˜ê¸° ìœ„í•œ íš¨ìœ¨ì ì¸ ì²˜ë¦¬ì™€ ë¶„ì„ë„ í•„ìš”í•©ë‹ˆë‹¤. ì´ê²ƒì´ ê¿ˆì˜ íŒ€ì´ ë‚˜íƒ€ë‚˜ëŠ” ê³³ì…ë‹ˆë‹¤: Snowflake, Databricks ë° Delta Lake. ê°ê°ì´ ê°•ë ¥í•œ ì†”ë£¨ì…˜ìœ¼ë¡œ í´ë¼ìš°ë“œ ê¸°ë°˜ì˜ ì†”ë£¨ì…˜ì„ ê²°í•©í•˜ì—¬ íš¨ìœ¨ì ì¸ ë°ì´í„° íŒŒì´í”„ë¼ì¸ì„ ë§Œë“¤ì–´ë‚´ì–´ ë‹¹ì‹ ì„ ì±”í”¼ì–¸ì²˜ëŸ¼ ë°ì´í„°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.\n\ní”Œë ˆì´ì–´ì™€ ê·¸ë“¤ì˜ ì—­í• :\n\n- Snowflake: ì£¼ì—­ ì¿¼í„°ë°±. êµ¬ì¡°í™”ëœ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ë¶„ì„í•˜ëŠ” ë° ë›°ì–´ë‚œ í´ë¼ìš°ë“œ ê¸°ë°˜ ë°ì´í„° ì›¨ì–´í•˜ìš°ìŠ¤ì¸ SnowflakeëŠ” ë°ì´í„° ë¶„ì„ê°€ì—ê²Œ ì¹œìˆ™í•œ ì‚¬ìš©ì ì¹œí™”ì  SQL ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ìˆëŠ”ëŒ€ë¡œ ë°ì´í„° íƒìƒ‰ ë° íš¨ìœ¨ì ì¸ ì¿¼ë¦¬ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤. ë˜í•œ, SnowflakeëŠ” í™•ì¥ì„±ê³¼ ë³´ì•ˆì„ ìë‘í•˜ë©° ë°ì´í„°ê°€ í•­ìƒ ì ‘ê·¼ ê°€ëŠ¥í•˜ê³  ë³´í˜¸ë˜ë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.\n- Databricks: ë§ŒíšŒí•˜ëŠ” ì™€ì´ë“œ ë¦¬ì‹œë²„. Apache Sparkë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ DatabricksëŠ” ëŒ€ê·œëª¨ ë°ì´í„° ì²˜ë¦¬ì™€ ê³ ê¸‰ ë¶„ì„ì˜ ë‹¬ì¸ì…ë‹ˆë‹¤. ë‹¤ì–‘í•œ ì†ŒìŠ¤ì—ì„œ ë°ì´í„° ìˆ˜ì§‘, ë°ì´í„° ë³€í™˜ (ì •ì œ ë° ê°€ê³µ) ë° ì‹¬ì§€ì–´ ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ì„ êµ¬ì¶•í•˜ê³  ë°°í¬í•˜ëŠ” ê²ƒê³¼ ê°™ì€ ì‘ì—…ì—ì„œ ë¹›ì„ ë°œí•©ë‹ˆë‹¤. DatabricksëŠ” ë¶„ì„ì„ ìœ„í•´ ë°ì´í„°ë¥¼ ì¤€ë¹„í•˜ëŠ” ì¼ê¾¼ ì—­í• ì„ í•©ë‹ˆë‹¤.\n- Delta Lake: ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ëŸ¬ë‹ ë°±. ë°ì´í„° í˜¸ìˆ˜ ìœ„ì— êµ¬ì¶•ëœ ì˜¤í”ˆ ì†ŒìŠ¤ ì €ì¥ ë ˆì´ì–´ì¸ Delta LakeëŠ” ë°ì´í„° ì•ˆì •ì„±ì˜ ì±”í”¼ì–¸ì…ë‹ˆë‹¤. ê¸°ì¡´ ë˜ëŠ” ë°˜êµ¬ì¡°ì  ë°ì´í„°ì— êµ¬ì¡°ì™€ ê´€ë¦¬ì„±ì„ ì¶”ê°€í•˜ì—¬ ë°ì´í„° í˜¸ìˆ˜ ì•ˆì— ìœ„ì¹˜í•œ Delta LakeëŠ” ACID íŠ¸ëœì­ì…˜ (ë°ì´í„° ì¼ê´€ì„± ë³´ì¥), ìŠ¤í‚¤ë§ˆ ê°•ì œ ì‚¬í•­ (ë°ì´í„° êµ¬ì¡° ì •ì˜), ë°ì´í„° ë²„ì „ ê´€ë¦¬ (ë°ì´í„° ë³€ê²½ ì¶”ì )ì™€ ê°™ì€ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ë°ì´í„°ì˜ ì •í™•ì„±ê³¼ ì‹ ë¢°ì„±ì„ ë³´ì¥í•˜ëŠ” ë°ì´í„°ì˜ ê¸°ì´ˆë¡œ ìƒê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìŠ¹ë¦¬ì˜ í”Œë ˆì´ë¶: ê°„ì†Œí™”ëœ ë°ì´í„° íŒŒì´í”„ë¼ì¸ êµ¬ì¶•\n\nì„±ëŠ¥ê³¼ íš¨ìœ¨ì„±ì„ ìµœì í™”í•˜ì—¬ ê° ë‹¨ê³„ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ íë¥´ëŠ” ë°ì´í„° íŒŒì´í”„ë¼ì¸ì„ ìƒìƒí•´ë³´ì„¸ìš”. Snowflake, Databricks ë° Delta Lakeê°€ ì´ë¥¼ ë‹¬ì„±í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n- Touchdown â€” ë°ì´í„° ìˆ˜ì§‘: DatabricksëŠ” ë‹¤ì–‘í•œ ì†ŒìŠ¤(ë°ì´í„°ë² ì´ìŠ¤, API ë˜ëŠ” ë°ì´í„° ë ˆì´í¬ì— ìˆëŠ” raw íŒŒì¼ ë“±)ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ”ë° ì‚¬ìš©ë˜ëŠ” ë‹¤ì–‘í•œ ì»¤ë„¥í„°ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤.\n- The Handoff â€” ë°ì´í„° ë³€í™˜: Databricksê°€ ì¤‘ì‹¬ì— ìœ„ì¹˜í•©ë‹ˆë‹¤. Sparkì˜ ì²˜ë¦¬ ëŠ¥ë ¥ì´ ë¹›ë‚˜ë©° ì£¼ì…ëœ ë°ì´í„°ë¥¼ ë…¸íŠ¸ë¶ì„ ì‚¬ìš©í•˜ì—¬ ì •ì œ, ë³€í™˜ ë° ì¤€ë¹„í•©ë‹ˆë‹¤. ì´ ë‹¨ê³„ì—ì„œëŠ” ëˆ„ë½ëœ ê°’ì„ ì²˜ë¦¬í•˜ê³  ë°ì´í„° ìœ í˜•ì„ ë³€í™˜í•˜ê±°ë‚˜ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ë„ì¶œí•˜ëŠ” ë“± ë¶„ì„ ì „ì— ëª¨ë‘ ì¤‘ìš”í•œ ê³¼ì •ì…ë‹ˆë‹¤.\n- The Choice of Plays â€” ETL ëŒ€ ELT: ì—¬ê¸°ì„œ ë°ì´í„° ì €ì¥ì„ ìœ„í•´ ë‘ ê°€ì§€ ì˜µì…˜ì´ ìˆìŠµë‹ˆë‹¤:\n\n  - ETL (ì¶”ì¶œ, ë³€í™˜, ë¡œë“œ): ì´ í”Œë ˆì´ì—ì„œ DatabricksëŠ” ë³€í™˜ëœ ë°ì´í„°ë¥¼ ë°ì´í„° ì›¨ì–´í•˜ìš°ìŠ¤ì¸ Snowflakeë¡œ ì´ê´€í•˜ëŠ” ì¤‘ì‹¬ ì—­í• ì„ í•©ë‹ˆë‹¤. SnowflakeëŠ” ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê²Œ ì €ì¥í•˜ì—¬ ì¿¼ë¦¬ ë° ë¶„ì„ì— ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.\n  - ELT (ì¶”ì¶œ, ë¡œë“œ, ë³€í™˜): ì´ í”Œë ˆì´ëŠ” Delta Lakeì˜ ê°•ì ì„ í™œìš©í•©ë‹ˆë‹¤. ì›ë³¸ ë°ì´í„°ëŠ” ë°ì´í„° ë ˆì´í¬ì— ì§ì ‘ ë“¤ì–´ê°€ë©°, DatabricksëŠ” í´ë¼ìš°ë“œ í™˜ê²½ ë‚´ì—ì„œ ë°ì´í„°ë¥¼ ì§ì ‘ Delta í…Œì´ë¸”ì— ë³€í™˜í•©ë‹ˆë‹¤. ì´ ì ‘ê·¼ ë°©ì‹ì€ ë°ì´í„° ì´ë™ì„ ìµœì†Œí™”í•˜ì§€ë§Œ ë¶„ì„ì„ ìœ„í•´ Delta í…Œì´ë¸”ì— ì˜ì¡´í•˜ê¸° ì „ì— ë°ì´í„° í’ˆì§ˆì„ ë³´ì¥í•´ì•¼ í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n4. ìŠ¹ë¦¬ì˜ ì¶¤ â€” ë°ì´í„° ë¶„ì„ ë° ì†Œë¹„: Snowflakeê°€ ìŠ¬ê¸°ë¡­ê²Œ ë– ë‚˜ë‹¤. ë°ì´í„° ë¶„ì„ê°€ ë° ë°ì´í„° ê³¼í•™ìë“¤ì€ Snowflakeì˜ SQL ì¸í„°í˜ì´ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ Snowflakeì— ì €ì¥ëœ ë°ì´í„°ì— ëŒ€í•œ ì² ì €í•œ íƒìƒ‰, ì‹œê°í™” ë° ê³ ê¸‰ ë¶„ì„ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, êµ¬ì²´ì ì¸ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ìœ„í•´ Delta í…Œì´ë¸”ì„ ì§ì ‘ ì¿¼ë¦¬í•˜ê±°ë‚˜ ì‹¤ì‹œê°„ ìŠ¤ì½”ì–´ë§ê³¼ ë¶„ì„ì„ ìœ„í•´ í›ˆë ¨ëœ ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ì„ Snowflakeì— ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë°ì´í„°ë¡œë¶€í„° ê°€ì¹˜ ìˆëŠ” í†µì°°ë ¥ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nìƒ˜í”Œ ì½”ë“œ ì‹¤í–‰ (Delta Lakeë¥¼ ì‚¬ìš©í•œ ETL):\n\n```js\n# Databricks ë…¸íŠ¸ë¶ - Python\n\n# 1. Snowflakeì— ì—°ê²°\nsnowflake_conn = {\n    \"host\": \"your_snowflake_account.snowflakecomputing.com\",\n    \"user\": \"your_username\",\n    \"password\": \"your_password\",\n    \"database\": \"your_database\",\n    \"schema\": \"your_schema\"\n}\n\n# 2. CSV íŒŒì¼ì—ì„œ ë°ì´í„° ë¡œë“œ (ë°ì´í„° ë ˆì´í¬ì— ì €ì¥ëœ ê²ƒìœ¼ë¡œ ê°€ì •)\ndf = spark.read.csv(\"path/to/your/data.csv\", header=True)  # í—¤ë”ê°€ ìˆëŠ” CSVë¥¼ ê°€ì •\n\n# 3. ë°ì´í„° ë³€í™˜ (ì˜ˆì‹œ: ê²°ì¸¡ê°’ ì²˜ë¦¬)\ndf = df.fillna(0, subset=[\"column_with_missing_values\"])  # ê²°ì¸¡ê°’ì„ 0ìœ¼ë¡œ ëŒ€ì²´\n\n# 4. ë³€í™˜ëœ ë°ì´í„°ë¥¼ Snowflake í…Œì´ë¸”ì— ì‘ì„±\ndf.write.format(\"snowflake\").options(**snowflake_conn).mode(\"overwrite\").saveAsTable(\"your_snowflake_table_name\")\n```\n\nê²Œì„ ë„˜ì–´ì„œ: íŒŒì´í”„ë¼ì¸ ìµœì í™”\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\níŒ€ì˜ ìŠ¹ë¦¬ë¥¼ ìœ„í•´ì„œëŠ” ì§€ì†ì ì¸ ìµœì í™”ê°€ í•„ìš”í•´ìš”. ì—¬ê¸° ëª‡ ê°€ì§€ ì¶”ê°€ íŒì´ ìˆì–´ìš”:\n\n- ì˜¬ë°”ë¥¸ ì „ëµ ì„ íƒí•˜ê¸°: ETL ë° ELT ë°©ë²• ì¤‘ ì„ íƒí•  ë•Œ ë°ì´í„° ì–‘, ì²˜ë¦¬ ë³µì¡ì„± ë° ì›í•˜ëŠ” ëŒ€ê¸° ì‹œê°„ê³¼ ê°™ì€ ìš”ì†Œë¥¼ ì‹ ì¤‘í•˜ê²Œ ê³ ë ¤í•´ì£¼ì„¸ìš”.\n- ë°ì´í„° í’ˆì§ˆì´ ì¤‘ìš”í•´ìš”: í†µì°°ë ¥ì˜ ë¬´ê²°ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ë°ì´í„° í’ˆì§ˆ ì ê²€ì„ íŒŒì´í”„ë¼ì¸ ì „ì²´ì— êµ¬í˜„í•´ì£¼ì„¸ìš”.\n- ì „ëµ ì‹¤í–‰í•˜ê¸°: Airflowë‚˜ Databricks Workflowsì™€ ê°™ì€ ë„êµ¬ë¥¼ í™œìš©í•˜ì—¬ ë°ì´í„° íŒŒì´í”„ë¼ì¸ì˜ ì‹¤í–‰ì„ ì¼ì •í™”í•˜ê³  ì¡°ì •í•˜ì—¬ ì •ë³´ê°€ ì›í™œí•˜ê²Œ íë¥¼ ìˆ˜ ìˆë„ë¡ í•´ì£¼ì„¸ìš”.\n- ë¹„ìš© ê´€ë¦¬: Snowflakeì™€ DatabricksëŠ” ì‚¬ìš©ëŸ‰ ê¸°ë°˜ì˜ ê°€ê²© ëª¨ë¸ì„ ê°–ê³  ìˆì–´ìš”. ìì› ì‚¬ìš©ëŸ‰ì„ ëª¨ë‹ˆí„°ë§í•˜ê³  Databricksì˜ ìœ íœ´ í´ëŸ¬ìŠ¤í„°ë¥¼ ì¤‘ì§€í•˜ëŠ” ë“± ë¹„ìš© ì ˆê° ë°©ì•ˆì„ ë„ì…í•´ì£¼ì„¸ìš”.\n\nìµœì¢… ì—”ë”©: ë°ì´í„°ì˜ í˜ì„ ë°œíœ˜í•´ë³´ì„¸ìš”\n\nSnowflake, Databricks, ê·¸ë¦¬ê³  Delta Lakeë¥¼ ê²°í•©í•˜ì—¬ ê²¬ê³ í•˜ê³  í™•ì¥ ê°€ëŠ¥í•œ ë°ì´í„° ê´€ë¦¬ ì‹œìŠ¤í…œì„ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”. ì´ ê¿ˆì˜ íŒ€ì€ ëŒ€ìš©ëŸ‰ ë°ì´í„°ì˜ ê³¼ì œì— ëŒ€ì²˜í•˜ê³ , ì›ì‹œ ì •ë³´ë¥¼ ì‹¤í–‰ ê°€ëŠ¥í•œ í†µì°°ë ¥ìœ¼ë¡œ ë³€í™”ì‹œí‚¤ëŠ” ëŠ¥ë ¥ì„ ë¶€ì—¬í•´ì¤˜ìš”. ìƒìƒí•´ë³´ì„¸ìš”:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- ì •ë³´ì— ëŒ€í•œ ë¹ ë¥¸ í†µì°°ë ¥: ê°„ì†Œí™”ëœ ë°ì´í„° íŒŒì´í”„ë¼ì¸ì€ ìœ ìš©í•œ ë°ì´í„°ì—ë³´ë‹¤ ë¹ ë¥´ê²Œ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ì–´ ë°ì´í„° ê¸°ë°˜ì˜ ê²°ì •ì„ ì´ì „ë³´ë‹¤ ë¹¨ë¦¬ ë‚´ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ê°œì„ ëœ ë°ì´í„° ê±°ë²„ë„ŒìŠ¤: Delta Lake ë° Snowflakeì˜ ë³´ì•ˆ ê¸°ëŠ¥ì€ ë°ì´í„°ì˜ ë³´í˜¸ì™€ ì‹ ë¢°ì„±ì„ ë³´ì¥í•˜ì—¬ ë°ì´í„° ë¶„ì„ì— ëŒ€í•œ ì‹ ë¢°ë¥¼ ì¦ì§„ì‹œí‚µë‹ˆë‹¤.\n- ë¯¸ë˜ë¥¼ ìœ„í•œ ìœ ì—°ì„±: ì´ ì•„í‚¤í…ì²˜ëŠ” í™•ì¥ ê°€ëŠ¥í•˜ê²Œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ë°ì´í„° ìš”êµ¬ ì‚¬í•­ì´ ë°œì „í•¨ì— ë”°ë¼, ìƒˆë¡œìš´ ë°ì´í„° ì†ŒìŠ¤, ì²˜ë¦¬ ìš”êµ¬ ì‚¬í•­ ë° ë¶„ì„ ìš”êµ¬ ì‚¬í•­ì„ ìˆ˜ìš©í•˜ê¸° ìœ„í•´ íŒŒì´í”„ë¼ì¸ì„ ì¡°ì •í•˜ê³  í™•ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê·¸ëŸ¬ë‹ˆ ìì‹ ê° ìˆê²Œ í•„ë“œì— ë°œì„ ë“¤ì´ì„¸ìš”. Snowflake, Databricks ë° Delta Lakeê°€ ê³ì— ìˆëŠ” ë‹¹ì‹ ì€ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ê³  ê·¸ ì°¸ëœ ì ì¬ë ¥ì„ ê°œë°©í•  ìˆ˜ ìˆëŠ” ìŠ¹ë¦¬íŒ€ì…ë‹ˆë‹¤.","ogImage":{"url":"/assets/img/2024-05-23-BuildingtheDreamTeamSnowflakeDatabricksandDeltaLakeforStreamlinedDataPipelines_0.png"},"coverImage":"/assets/img/2024-05-23-BuildingtheDreamTeamSnowflakeDatabricksandDeltaLakeforStreamlinedDataPipelines_0.png","tag":["Tech"],"readingTime":4},{"title":"ë°ì´í„°ë² ì´ìŠ¤DBT ê°„ë‹¨ ì •ë¦¬","description":"","date":"2024-05-23 14:08","slug":"2024-05-23-DBTinaNutshell","content":"\n\nì´ ê²Œì‹œë¬¼ì€ ì¼ë°˜ì ìœ¼ë¡œ DBT(Data Build Tool)ì— ëŒ€í•œ ë‚´ ì´í•´ì™€ ëˆ„ê°€ ì‚¬ìš©í•´ì•¼ í•˜ê³  ì‚¬ìš©í•˜ì§€ ë§ì•„ì•¼ í•˜ëŠ”ì§€ì— ì¤‘ì ì„ ë‘˜ ê²ƒì…ë‹ˆë‹¤. ì•ìœ¼ë¡œì˜ ê²Œì‹œë¬¼ì—ì„œ ë” ìì„¸íˆ ë‹¤ë£° ì˜ˆì •ì…ë‹ˆë‹¤.\n\nDBT(Data Build Tool)ì™€ Snowflakeâ„ï¸ë¥¼ í†µí•´ ë¹„ì¦ˆë‹ˆìŠ¤ ë¬¸ì œ í•´ê²°í•˜ê¸°ğŸ‘¨â€ğŸ’»\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-23-DBTinaNutshell_0.png)\n\nâ– Snowflakeâ„ï¸ + DBTğŸ‘¨â€ğŸ’» í”„ë¡œì íŠ¸ ì „ì²´ íŒŒíŠ¸ 1 : [ë§í¬](https://lnkd.in/gASCckRR)\nâ– Snowflakeâ„ï¸ + DBTğŸ‘¨â€ğŸ’» í”„ë¡œì íŠ¸ ì „ì²´ íŒŒíŠ¸ 2 : [ë§í¬](https://lnkd.in/gMqfKZRW)\nâ– Snowflakeâ„ï¸ + DBTğŸ‘¨â€ğŸ’» í”„ë¡œì íŠ¸ ì „ì²´ íŒŒíŠ¸ 3 : [ë§í¬](https://lnkd.in/g8BuWy66)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nâ—‰ ì°¸ì—¬í•˜ê¸°:\nğŸ‘‰ GitHub: [ë§í¬](https://lnkd.in/ggt3ZzUx)\nğŸš€ ê¸°ì—¬í•˜ê³ , ë³µì œí•˜ê³ , ê³µìœ í•˜ì„¸ìš”!\n\nâ—‰ YouTube ì±„ë„ ì°¾ê¸°ğŸ¥: [ë§í¬](https://lnkd.in/esW5M3vb)\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-23-DBTinaNutshell_1.png)\n\n- DBTë€ ë¬´ì—‡ì¸ê°€ìš”?\n- DBTëŠ” ë¬´ë£Œì¸ê°€ìš”?\n- DBTê°€ í•´ê²°í•˜ê³  ìˆëŠ” ë¬¸ì œëŠ” ë¬´ì—‡ì¸ê°€ìš”?\n- ETLì˜ ì–´ëŠ ë¶€ë¶„ì—ì„œ DBTë¥¼ ì‚¬ìš©í•˜ë‚˜ìš”?\n- DBTê°€ ì§€ì›í•˜ëŠ” ë°ì´í„° ì–´ëŒ‘í„°(ë°ì´í„° í”Œë«í¼)ëŠ” ë¬´ì—‡ì¸ê°€ìš”?\n- DBTê°€ Databricksì™€ ê°™ì€ ê¸°ì¡´ ì œí’ˆê³¼ ë‹¤ë¥¸ ì ì€ ë¬´ì—‡ì¸ê°€ìš”?\n- DBTë¥¼ ë°°ìš°ê³  ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ ë¬´ì—‡ì¸ê°€ìš”?\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## DBTì´ë€ ë¬´ì—‡ì¸ê°€ìš”?\n\nDBT(data build tool)ëŠ” SQL ìŠ¤í¬ë¦½íŠ¸(.sql)ì™€ YAML ìŠ¤í¬ë¦½íŠ¸(.yml)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì›Œí¬í”Œë¡œìš°ë¥¼ ë³€í™˜í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ ë„êµ¬(Core ë²„ì „)ì…ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-23-DBTinaNutshell_2.png)\n\n- SQL ìŠ¤í¬ë¦½íŠ¸ëŠ” CTEë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ëª¨ë“ˆí™”ëœ ë°©ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.\n- YAML ìŠ¤í¬ë¦½íŠ¸ëŠ” ìŠ¤í‚¤ë§ˆ, ì„¤ëª… ë° ì—´ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ê·œì¹™(Nullì´ ì•„ë‹Œ ê°’, ê³ ìœ  ê°’ ë“±)ì„ ì •ì˜í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## DBTì€ ë¬´ë£Œì¸ê°€ìš”?\n\nDBTì—ëŠ” DBT ì½”ì–´ì™€ DBT í´ë¼ìš°ë“œ ë‘ ê°€ì§€ ë²„ì „ì´ ìˆìŠµë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-23-DBTinaNutshell_3.png)\n\n- DBT ì½”ì–´: CLI(Command Line Interface) ë²„ì „ìœ¼ë¡œ, ê°„ë‹¨í•œ pip ëª…ë ¹ì–´ `pip install dbt-core`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—°ê²°ì„ ìœ„í•´ ì–´ëŒ‘í„°(snowflakes, SQL Server)ë¥¼ ì„¤ì¹˜í•˜ë ¤ë©´ `pip install dbt-snowflake`ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.\n- DBT í´ë¼ìš°ë“œ: GIT ë° ì–´ëŒ‘í„°(ë°ì´í„° ì†ŒìŠ¤)ë¥¼ í†µí•©í•˜ê³  ë“œë˜ê·¸ ì•¤ ë“œë¡­ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆëŠ” GUI(Graphical User Interface)ë¥¼ ì œê³µí•˜ë©°, ëª¨ë¸(ë‹¹ì‹ ì˜ .sql íŒŒì¼)ì„ ì˜ˆì•½í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## DBTê°€ í•´ê²°í•˜ë ¤ëŠ” ë¬¸ì œëŠ” ë¬´ì—‡ì¸ê°€ìš”?\n\n![DBTinaNutshell_4](/assets/img/2024-05-23-DBTinaNutshell_4.png)\n\nì›í™œí•œ í˜‘ì—…:\n\n- í˜‘ì—…ì„ ìœ„í•œ í†µí•© í”Œë«í¼ì„ ì¦ê¸°ì„¸ìš”.\n- íš¨ìœ¨ì ì¸ íŒ€ì›Œí¬ë¥¼ ìœ„í•œ CI/CD-Git í†µí•©ì„ í™œìš©í•˜ì„¸ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\ní¸ë¦¬í•œ ë°ì´í„° ë³€í™˜:\n\n- ë²ˆê±°ë¡œì›€ ì—†ì´ ê°„ë‹¨í•œ SQL ì„ íƒ ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë³€í™˜í•˜ì„¸ìš”.\n\ní…ŒìŠ¤íŠ¸ë¡œ ì‹ ë¢°ì„± í™•ë³´:\n\n- ì‚¬ìš©ì ì •ì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ í¬í•¨í•˜ì—¬ ë°ì´í„° ë³€í™˜ì„ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\ní¸ë¦¬í•˜ê²Œ ë°°í¬í•˜ê³  ì¼ì •ì„ ê³„íší•˜ì„¸ìš”:\n\n- ì½”ë”©ì„ ê°œë°œ ë° í”„ë¡œë•ì…˜ê³¼ ê°™ì€ ë‹¤ì–‘í•œ í™˜ê²½ì— ë°°í¬í•˜ê³  ì¼ì •ì„ ì¡°ì •í•˜ì„¸ìš”.\n\nê°„í¸í•˜ê²Œ ì‘ì—… ë¬¸ì„œí™”í•˜ì„¸ìš”:\n\n- ê°„ë‹¨í•œ .yml íŒŒì¼ë¡œ ì „ì²´ í”„ë¡œì„¸ìŠ¤ë¥¼ ë¬¸ì„œí™”í•˜ì„¸ìš”.\n- ë°ì´í„° ë³€í™˜ ì—¬ì •ì— ëŒ€í•œ í¬ê´„ì ì¸ ë¬¸ì„œë¥¼ ì‘ì„±í•˜ì„¸ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## ETLì—ì„œ DBTëŠ” ì–´ëŠ ë¶€ë¶„ì— ì‚¬ìš©ë˜ë‚˜ìš”?\n\nDBTëŠ” ë‹¤ë¥¸ ELTâœ… ë°©ë²•ì„ ì‚¬ìš©í•©ë‹ˆë‹¤âŒ ETLì´ ì•„ë‹Œë°ìš”, ì—¬ê¸°ì„œëŠ” ë°ì´í„° í”Œë«í¼ìœ¼ë¡œ ëª¨ë“  ë°ì´í„°ë¥¼ ì¶”ì¶œ ë° ë¡œë“œí•˜ê³  DBTë¥¼ ì‚¬ìš©í•˜ì—¬ ë³€í˜•í•œ í›„ ë‹¤ì–‘í•œ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ìœ„í•´ ë‹¤ì‹œ ë°ì´í„° í”Œë«í¼ì— ë¡œë“œí•©ë‹ˆë‹¤.\n\n\u003cimg src=\"/assets/img/2024-05-23-DBTinaNutshell_5.png\" /\u003e\n\n## DBTëŠ” ì–´ë–¤ ë°ì´í„° ì–´ëŒ‘í„°(ë°ì´í„° í”Œë«í¼)ë¥¼ ì§€ì›í•˜ë‚˜ìš”?\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì§€ê¸ˆì€ ë‹¤ìŒ ë°ì´í„° í”Œë«í¼ì„ ì§ì ‘ ì§€ì›í•©ë‹ˆë‹¤:\n\n- Snowflakes\n- Google Big Query\n- Data Bricks\n- AWS Redshift\n- Trino\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-23-DBTinaNutshell_6.png)\n\nTrinoëŠ” ì§ì ‘ì ìœ¼ë¡œê°€ ì•„ë‹Œ Trinoë¥¼ í†µí•´ ì—¬ëŸ¬ ë°ì´í„° ì†ŒìŠ¤ì— ì—°ê²°í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ì´ë¯¸ì§€ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-05-23-DBTinaNutshell_7.png\" /\u003e\n\n## DBTì™€ Databricksì™€ ê°™ì€ ë‹¤ë¥¸ ê¸°ì¡´ ì œí’ˆê³¼ì˜ ì°¨ì´ì ì€ ë¬´ì—‡ì¸ê°€ìš”?\n\n- DBT: DBTëŠ” ì£¼ë¡œ ë°ì´í„°ì›¨ì–´í•˜ìš°ìŠ¤ ë‚´ì—ì„œ ë°ì´í„° ë³€í™˜ ë° ë¬¸ì„œí™” ë¬¸ì œë¥¼ .sql ë° .yml íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ CICD-git í™˜ê²½ì—ì„œ ê°„ë‹¨í•˜ê³  íš¨ê³¼ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì— ì¤‘ì ì„ ë‘¡ë‹ˆë‹¤.\n- Databricks (ìœ ëª…í•œ ì˜ˆì‹œ): DatabricksëŠ” ëŒ€ìš©ëŸ‰ ë°ì´í„° ë¶„ì„ì„ ìœ„í•œ í˜‘ì—… í™˜ê²½ì„ ì œê³µí•˜ëŠ” í†µí•© ë¶„ì„ í”Œë«í¼ì…ë‹ˆë‹¤. ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§, ë¨¸ì‹  ëŸ¬ë‹, í˜‘ì—… ë°ì´í„° ê³¼í•™ ê¸°ëŠ¥ì´ í¬í•¨ë˜ì–´ ìˆìœ¼ë©° ì£¼ë¡œ ë¶„ì‚° ë°ì´í„° ì²˜ë¦¬ë¥¼ ìœ„í•´ Sparkì™€ í•¨ê»˜ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n## ì–´ë–»ê²Œ DBTë¥¼ í•™ìŠµí•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆì„ê¹Œìš”?\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- DBTë¥¼ ë°°ìš°ê¸° ì‹œì‘í•˜ë ¤ë©´ í•´ë‹¹ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ì‹œì‘í•  ìˆ˜ ìˆì–´ìš”. ì´ 16ê°œì˜ ë‹¤ì–‘í•œ ì½”ìŠ¤ê°€ ì´ˆê¸‰, ì¤‘ê¸‰ ë° ê³ ê¸‰ ìˆ˜ì¤€ìœ¼ë¡œ ë¶„ë¥˜ë˜ì–´ ìˆì–´ìš”.\n\n![DBTinaNutshell_8](/assets/img/2024-05-23-DBTinaNutshell_8.png)\n\n- DBTë¥¼ ë” ì˜ ë°°ìš¸ ìˆ˜ ìˆë„ë¡ ë§ì€ ë§¤ì²´ ê¸°ì‚¬ì™€ ìœ íŠœë¸Œ ë¹„ë””ì˜¤ë“¤ì´ ìˆì–´ìš” (DBT ì½˜í…ì¸ ì— ëŒ€í•œ ì—…ë°ì´íŠ¸ ë°›ìœ¼ì‹œë ¤ë©´ ì§€ì¼œë´ì£¼ì„¸ìš”! ë‹¤ê°€ì˜¤ëŠ” ê²Œì‹œë¬¼ ë° DBT ê´€ë ¨ ë¹„ë””ì˜¤ì— ëŒ€í•œ ì—…ë°ì´íŠ¸ë¥¼ ë°›ìœ¼ì‹œë ¤ë©´ ì €ë¥¼ íŒ”ë¡œìš°í•´ì£¼ì„¸ìš”).\n\nLeo Godinì˜ DBT ì‹œë¦¬ì¦ˆ ê²Œì‹œë¬¼: ë§í¬\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në‚˜ì— ëŒ€í•´ ë” ì•Œì•„ë³´ê¸°:\n\nì €ëŠ” ë°ì´í„° ê³¼í•™ ì• í˜¸ê°€ğŸŒºì´ë©°, ìˆ˜í•™, ë¹„ì¦ˆë‹ˆìŠ¤ ë° ê¸°ìˆ ì´ ë°ì´í„° ê³¼í•™ ë¶„ì•¼ì—ì„œ ë” ë‚˜ì€ ê²°ì •ì„ ë‚´ë¦¬ëŠ” ë° ì–´ë–»ê²Œ ë„ì›€ì´ ë  ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•´ ë°°ìš°ê³  íƒêµ¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\në” ë§ì€ ë‚´ìš© ë³´ê¸°: https://medium.com/@ravikumar10593/\n\në‚´ ëª¨ë“  í•¸ë“¤ ì°¾ê¸°: https://linktr.ee/ravikumar10593\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në‚˜ì˜ ë‰´ìŠ¤ë ˆí„°ë¥¼ ì°¾ì•„ë³´ì„¸ìš”: [https://substack.com/@ravikumar10593](https://substack.com/@ravikumar10593)","ogImage":{"url":"/assets/img/2024-05-23-DBTinaNutshell_0.png"},"coverImage":"/assets/img/2024-05-23-DBTinaNutshell_0.png","tag":["Tech"],"readingTime":4},{"title":"ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§ ê°œë… ì œ10ë¶€, ìŠ¤íŒŒí¬ì™€ ì¹´í”„ì¹´ë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬","description":"","date":"2024-05-23 14:05","slug":"2024-05-23-DataEngineeringconceptsPart10RealtimeStreamProcessingwithSparkandKafka","content":"\nì´ê²ƒì€ ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§ ê°œë… 10ë¶€ì‘ ì‹œë¦¬ì¦ˆì˜ ë§ˆì§€ë§‰ ë¶€ë¶„ì…ë‹ˆë‹¤. ì´ë²ˆì—ëŠ” ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ì— ëŒ€í•´ ì´ì•¼ê¸°í•  ê²ƒì…ë‹ˆë‹¤.\n\nëª©ì°¨:\n\n1. ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ë€\n2. ì¹´í”„ì¹´ì˜ íŠ¹ì§•\n3. ì¹´í”„ì¹´ êµ¬ì„±\n4. ì¹´í”„ì¹´ ì„œë¹„ìŠ¤ â€” ì¹´í”„ì¹´ ìŠ¤íŠ¸ë¦¼, ksqlDB, ìŠ¤í‚¤ë§ˆ ë ˆì§€ìŠ¤íŠ¸ë¦¬\n5. ìŠ¤íŒŒí¬ êµ¬ì¡°í™” ìŠ¤íŠ¸ë¦¬ë° API\n6. ë°ì´íƒ€ë¸Œë¦­ìŠ¤ ë¸íƒ€ ë ˆì´í¬\n7. ì‹¤ì „ í”„ë¡œì íŠ¸\n\nì´ì „ ë°ì´í„° ë³´ì•ˆ ë¶€ë¶„ìœ¼ë¡œ ì´ë™í•˜ëŠ” ë§í¬ì…ë‹ˆë‹¤:\n\n## ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ë€?\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì¼ê´„ ì²˜ë¦¬ëŠ” ë°ì´í„° ì²˜ë¦¬ë¥¼ ì¼ì •í•œ ê°„ê²©ìœ¼ë¡œ, í•œ ë²ˆì— ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë˜ë©° ì¦‰ê°ì ì¸ í†µì°°ë ¥ì´ í•„ìš”í•˜ì§€ ì•Šì€ ê²½ìš°ì— ì‚¬ìš©ë©ë‹ˆë‹¤. í•œí¸, ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ëŠ” ì´ ê¸°ì‚¬ì—ì„œ ë…¼ì˜í•  ë‹¤ë¥¸ ì‹œë‚˜ë¦¬ì˜¤ì— ì í•©í•  ê²ƒì…ë‹ˆë‹¤.\n\n![ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§ ê°œë… ì‹œë¦¬ì¦ˆ 10ë¶€: Sparkì™€ Kafkaë¥¼ ì´ìš©í•œ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬](/assets/img/2024-05-23-DataEngineeringconceptsPart10RealtimeStreamProcessingwithSparkandKafka_0.png)\n\nìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ëŠ” ì‚¬ê¸° íƒì§€, IoT ì„¼ì„œ ëª¨ë‹ˆí„°ë§, ì‹¤ì‹œê°„ ë§ì¶¤í˜• ì¶”ì²œ, êµí†µ ë°ì´í„° ë¶„ì„ì„ í†µí•œ í˜¼ì¡ ê°ì§€ ë° êµí†µ íë¦„ ìµœì í™”ì™€ ê°™ì€ ì‚¬ìš© ì‚¬ë¡€ì— í•„ìˆ˜ì ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ì‘ì—…ë“¤ì€ ì‹ ì†í•œ ì‘ë‹µ, ì‹¤ìš©ì„± ë° ìì› ì´ìš© íš¨ìœ¨ì„±ì„ í•„ìš”ë¡œ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ëŸ¬í•œ ì‹œìŠ¤í…œì„ êµ¬í˜„í•˜ëŠ” ê²ƒì€ ë†’ì€ ì§€ì—° í™˜ê²½ì—ì„œ ê¸°ëŒ€ë˜ëŠ” ë°ì´í„° ë¬´ê²°ì„±, ë³´ì•ˆ ë° ì¥ì•  í—ˆìš©ì„± ë•Œë¬¸ì— ë³µì¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ í•­ìƒ ì¼œì ¸ ìˆëŠ” í•˜ë“œì›¨ì–´ ë•Œë¬¸ì— í™•ì¥/ì„¸ë°€ ì¡°ì • ë° ëª¨ë‹ˆí„°ë§ì´ ë¹„ì‹¸ê²Œ ë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ìµœê³  ìˆ˜ì¤€ì˜ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì¸í”„ë¼ ë° ì € ë ˆì´í„´ì‹œë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë„ë¡ ì˜ ë¶„í• ëœ ë°ì´í„°ë² ì´ìŠ¤ê°€ í•„ìš”í•©ë‹ˆë‹¤.\n\nì¹´í”„ì¹´ëŠ” ìŠ¤íŠ¸ë¦¬ë° ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë„êµ¬ ì¤‘ í•˜ë‚˜ì´ë©°, ì—¬ê¸°ì—ì„œ ìì„¸íˆ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## ì¹´í”„ì¹´ íŠ¹ì§•\n\n- ê²¬ê³ í•¨ â€” í•œ ëŒ€ì˜ ë¸Œë¡œì»¤(ì„œë²„)ê°€ ë‹¤ìš´ë˜ì–´ë„ ë°ì´í„° ì†ì‹¤ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ë³µì œë¨.\n- ìœ ì—°ì„± â€” AVRO, JSONê³¼ ê°™ì€ ë‹¤ì–‘í•œ ë°ì´í„° í˜•ì‹ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìœ¼ë©°, ë‹¤ì–‘í•œ í¬ê¸°ì™€ ìƒì‚°ì ë° ì†Œë¹„ì ìˆ˜ê°€ ë‹¤ë¥¸ í† í”½ì„ ê°€ì§ˆ ìˆ˜ ìˆìŒ.\n- í™•ì¥ì„± â€” ë°ì´í„° íë¦„ì´ ì¦ê°€í•¨ì— ë”°ë¼ ì„±ì¥í•¨. ì´ ê¸°ëŠ¥ì„ ìš©ì´í•˜ê²Œ í•˜ê¸° ìœ„í•´ ë‹¤ìŒ ê¸°ìˆ ë“¤ì´ êµ¬í˜„ë¨:\n\n  - íŒŒí‹°ì…”ë‹: ë³‘ë ¬ ì²˜ë¦¬ë¥¼ ìœ„í•´ í† í”½ì„ ì¶”ê°€ë¡œ íŒŒí‹°ì…˜(ìƒ¤ë“œ)ìœ¼ë¡œ ë¶„í• í•  ìˆ˜ ìˆìŒ. ì‚¬ëŒë“¤ì„ ë‹¤ë¥¸ ì„¹ì…˜ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ê½‰ ì°¨ì§€ ì•Šê²Œí•˜ê³ , ëª¨ë“  ì‚¬ëŒì´ ìŒì•…ì„ ë“¤ì„ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤ê³  ìƒê°í•´ë³´ì„¸ìš”.\n  - ìˆ˜í‰ í™•ì¥: í´ëŸ¬ìŠ¤í„°ì— ë” ë§ì€ ë¸Œë¡œì»¤ë¥¼ ì¶”ê°€í•˜ì—¬ ì¦ê°€í•˜ëŠ” ë°ì´í„° ì–‘ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìŒ. ê´€ê°ì´ ì¦ê°€í•¨ì— ë”°ë¼ ì½˜ì„œíŠ¸ ì¥ì†Œì— ë” ë§ì€ ìŠ¤í”¼ì»¤ë¥¼ ì¶”ê°€í•œë‹¤ê³  ìƒìƒí•´ë³´ì„¸ìš”.\n\n## ì¹´í”„ì¹´ êµ¬ì„±\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì¹´í”„ì¹´ êµ¬ì„±ì€ ëª¨ë“  ì¹´í”„ì¹´ í´ëŸ¬ìŠ¤í„°ì˜ ì†ì„± ë° ë™ì‘ ì„¤ì •ì„ ì§€ì›í•˜ì—¬ ì„±ëŠ¥, ì‹ ë¢°ì„± ë° í™•ì¥ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.\n\n- íŒŒí‹°ì…˜ â€” í† í”½ì„ ë³‘ë ¬ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ íŒŒí‹°ì…˜ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê° íŒŒí‹°ì…˜ì€ ë³€ê²½í•  ìˆ˜ ì—†ëŠ” ë©”ì‹œì§€ì˜ ìˆœì„œê°€ ì§€ì •ëœ ì„¸íŠ¸ì…ë‹ˆë‹¤.\n- ë³µì œ â€” ì—¬ëŸ¬ ë¸Œë¡œì»¤ ë…¸ë“œì— ê±¸ì³ Kafka í† í”½ íŒŒí‹°ì…˜ì˜ ë³µì œ íšŸìˆ˜ë¥¼ ì œê³µí•˜ì—¬ ì¥ì•  í—ˆìš©ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.\n- ìœ ì§€ ê¸°ê°„ â€” ë³´ê´€í•  ë¡œê·¸ ì„¸ê·¸ë¨¼íŠ¸ íŒŒì¼ì˜ ìµœëŒ€ í¬ê¸° ë˜ëŠ” ë©”ì‹œì§€ ë³´ê´€ ê¸°ê°„ ì‹œê°„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\n- ìë™ ì˜¤í”„ì…‹ ì¬ì„¤ì • â€” íŒŒí‹°ì…˜ì—ì„œ ì½ê¸° ìœ„í•´ ì˜¤í”„ì…‹ì€ ì‹œì‘ì ìœ¼ë¡œ ì œê³µë˜ë©°, ìë™ ì˜¤í”„ì…‹ì´ ì²˜ìŒì¼ ê²½ìš° ì‹œì‘ë¶€í„° ëª¨ë“  ë©”ì‹œì§€ë¥¼ ì½ê³ , ìµœì‹ ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë©´ ìµœì‹  ë©”ì‹œì§€ë§Œ ì½ìŠµë‹ˆë‹¤.\n- ack â€” ack êµ¬ì„±ì€ ìƒì‚°ìê°€ ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•œ í›„ ì†Œë¹„ìë¡œë¶€í„° í™•ì¸ì„ ë°›ëŠ”ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤. acks=0ì€ í™•ì¸ ì—†ìŒ, ack=1ì€ ë¦¬ë”ê°€ í™•ì¸ì„ ë³´ë‚´ê³ , ack=allì€ íŒŒí‹°ì…˜ì˜ ëª¨ë“  ë³µì œë³¸ì´ í™•ì¸ì„ ë³´ë‚´ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\n## ë‹¤ë¥¸ ì¹´í”„ì¹´ ì„œë¹„ìŠ¤\n\nKafka Streams â€” ì´ëŠ” ìŠ¤íŠ¸ë¦¬ë° ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‘ì„±í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” Java ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ì„ ì–¸ì  ì–¸ì–´ í˜•ì‹ì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤íŠ¸ë¦¬ë° ì²˜ë¦¬ ë…¼ë¦¬ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆëŠ” APIë¡œ, ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ í¬í•¨í•˜ì—¬ ë¶€ê°€ ì½”ë“œë¥¼ í”¼í•˜ê³  ë‚®ì€ ëŒ€ê¸° ì‹œê°„, íƒ„ë ¥ì„± ë° ì•”í˜¸í™” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-05-23-DataEngineeringconceptsPart10RealtimeStreamProcessingwithSparkandKafka_1.png\" /\u003e\n\nksqlDB â€” ksqlDBì€ ìŠ¤íŠ¸ë¦¼ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ê³  SQL ì¿¼ë¦¬ë¥¼ í†µí•´ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë° íŠ¹ë³„íˆ ì„¤ê³„ëœ ë°ì´í„°ë² ì´ìŠ¤ë¡œ, í•„í„°ë§, ì§‘ê³„ ë° ë‹¤ë¥¸ í† í”½ì„ ê²°í•©í•˜ëŠ” ê¸°ëŠ¥ì„ í¬í•¨í•©ë‹ˆë‹¤. ksqlDBì—ì„œ ì‚¬ìš©ë˜ëŠ” ë‘ ê°€ì§€ ì£¼ìš” êµ¬ì¡°ëŠ” ë³€ê²½í•  ìˆ˜ ì—†ëŠ” append only ì´ë²¤íŠ¸ì˜ ì´ì „ ì´ë²¤íŠ¸ì˜ ì»¬ë ‰ì…˜ì¸ ìŠ¤íŠ¸ë¦¼ê³¼ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì˜ í˜„ì¬ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë°ì´í„°ì˜ ë¶ˆë³€í•œ ìŠ¤ëƒ…ìƒ·ì¸ í…Œì´ë¸”ì…ë‹ˆë‹¤.\n\n\u003cimg src=\"/assets/img/2024-05-23-DataEngineeringconceptsPart10RealtimeStreamProcessingwithSparkandKafka_2.png\" /\u003e\n\nìŠ¤í‚¤ë§ˆ ë ˆì§€ìŠ¤íŠ¸ë¦¬ â€” ìŠ¤í‚¤ë§ˆ ë ˆì§€ìŠ¤íŠ¸ë¦¬ëŠ” ìƒì‚°ìì™€ ì†Œë¹„ì ì„œë¹„ìŠ¤ê°€ ì¤€ìˆ˜í•´ì•¼ í•˜ëŠ” ì‚¬ìš©ìê°€ ì •ì˜í•œ ìŠ¤í‚¤ë§ˆì˜ ì¤‘ì•™ ì €ì¥ì†Œì…ë‹ˆë‹¤. ë²„ì „ ê´€ë¦¬, ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬, ë°ì´í„° ì†ì‹¤ ë˜ëŠ” ì†ìƒ ìœ„í—˜ ê°ì†Œ ë° í˜¸í™˜ì„± ê²€ì‚¬ì™€ ê°™ì€ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-23-DataEngineeringconceptsPart10RealtimeStreamProcessingwithSparkandKafka_3.png)\n\n## Spark Structured Streaming API\n\nSpark Structured Streamingì€ Spark SQL ì—”ì§„ì„ ê¸°ë°˜ìœ¼ë¡œí•˜ë©°, ì´ ìŠ¤íŠ¸ë¦¬ë° ëª¨ë¸ì€ DataFrame/Dataset APIë¥¼ ê¸°ë°˜ìœ¼ë¡œí•©ë‹ˆë‹¤. ì…ë ¥ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì€ ë¯¸ë¦¬ ì •ì˜ëœ ê°„ê²©ìœ¼ë¡œ í¡ìˆ˜ë˜ë©° ì‚¬ìš©ìê°€ ì •ì˜í•œ ì¿¼ë¦¬ì˜ ê²°ê³¼ëŠ” ë¬´í•œí•œ í…Œì´ë¸”ì—ì„œ ì—…ë°ì´íŠ¸(ì¦ë¶„)ë©ë‹ˆë‹¤. ì¶œë ¥ ëª¨ë“œ(append, complete, update)ëŠ” ì‚¬ìš©ìê°€ êµ¬í˜„í•˜ê³ ì í•˜ëŠ” ì‚¬ìš© ì‚¬ë¡€ì— ë”°ë¼ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-23-DataEngineeringconceptsPart10RealtimeStreamProcessingwithSparkandKafka_4.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në”°ë¼ì„œ, ì´ ì ‘ë‘ì–´ ë¬´ê²°ì„±(ì–´ë–¤ ì‹œì ì—ì„œë“  ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ì¶œë ¥ = ë°ì´í„°ì˜ ì ‘ë‘ì–´ ì¼ê´„ ì‘ì—…)ì€ ì¼ê´€ì„±(ì¶œë ¥ë¬¼ì€ í•­ìƒ ì ‘ë‘ì–´ì˜ ê²°ê³¼ì´ë©° ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬ë¨), ì¥ì•  ë‚´ì„±(ì‹œìŠ¤í…œì´ ì‹¤íŒ¨í•´ë„ ê²°ê³¼ ìƒíƒœë¥¼ ìœ ì§€) ë° ìŠ¤íŠ¸ë¦¼ ë°ì´í„°ì˜ ìˆœì„œë¥¼ ìœ ì§€í•˜ëŠ” ì—¬ëŸ¬ ì´ì ì´ ìˆìŠµë‹ˆë‹¤.\n\në˜í•œ, ì´ëŠ” ë‹¤ë¥¸ ìŠ¤íŠ¸ë¦¬ë° ì‹œìŠ¤í…œê³¼ ë¹„êµí–ˆì„ ë•Œ ë‹¤ìŒê³¼ ê°™ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤:\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-23-DataEngineeringconceptsPart10RealtimeStreamProcessingwithSparkandKafka_5.png)\n\n## Databricks Delta Lake\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nDatabricksëŠ” ìŠ¤íŒŒí¬ì˜ ì°½ì¡°ìë“¤ì—ì˜í•´ ì„¤ê³„ëœ í´ë¼ìš°ë“œ ê¸°ë°˜ í”Œë«í¼ìœ¼ë¡œ, ìƒì‚° ë“±ê¸‰ ì†”ë£¨ì…˜ì„ êµ¬ì¶•, ë°°í¬, ê³µìœ  ë° ìœ ì§€í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” í†µí•© ë°ì´í„° ë¶„ì„ ì²˜ë¦¬ ë§¤ì²´ë¡œ Spark ìƒíƒœê³„ì˜ ëª¨ë“  ê¸°ëŠ¥ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ì¸í…”ë¦¬ì „ìŠ¤, ë¨¸ì‹ ëŸ¬ë‹ ë° AIë¥¼ ìœ„í•œ ì¶”ê°€ ë¦¬ì†ŒìŠ¤ê°€ êµ¬ë¹„ë˜ì–´ ìˆìŠµë‹ˆë‹¤. Databricksì˜ ëª¨ë“  í•˜ìœ„ ì‹œìŠ¤í…œì˜ ê¸°ë³¸ ì €ì¥ í˜•ì‹ì€ Delta Lakeì…ë‹ˆë‹¤.\n\nDelta Lake í…Œì´ë¸”ì€ Databricksì— êµ¬í˜„ëœ Delta Lakehouse ì•„í‚¤í…ì³ì˜ ê¸°ë°˜ì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì¼ê´„ ë° ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„°ì˜ ë³‘ë ¬ ì²˜ë¦¬ê°€ ê³µìœ  íŒŒì¼ ì €ì¥ì†Œì—ì„œ ê°€ëŠ¥í•˜ë©°, delta lakeëŠ” ì›ì‹œ í˜•ì‹ì—ì„œ êµ¬ì¡°í™”ëœ í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ì˜ ì—°ì†ì ì¸ íë¦„ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ë©°, ë“¤ì–´ì˜¤ëŠ” ì‹ ì„ í•œ ë°ì´í„°ì™€ í•¨ê»˜ ì‘ì—…í•  ìˆ˜ ìˆë„ë¡ ë¶„ì„ ë° ML ì‘ìš©í”„ë¡œê·¸ë¨ì„ ì§€ì›í•©ë‹ˆë‹¤.\n\nìŠ¤í‚¤ë§ˆ ê°•ì œ ë° ë°ì´í„° ë²„ì „ ê´€ë¦¬ë¥¼ ì œê³µí•˜ì—¬ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ì§€ì›í•˜ê³  ì¬ì‚¬ìš©ì„± ë° ê°ì‚¬ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ë”ë¶ˆì–´, Spark êµ¬ì¡°í™” ìŠ¤íŠ¸ë¦¬ë° APIì™€ ì›° ë§¤ì¹­í•˜ì—¬ ê·œëª¨ ìˆëŠ” ì ì§„ì  ì²˜ë¦¬ë¥¼ ê°€ëŠ¥í•˜ë„ë¡ ìµœì í™”ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n\u003cimg src=\"/assets/img/2024-05-23-DataEngineeringconceptsPart10RealtimeStreamProcessingwithSparkandKafka_6.png\" /\u003e\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ì•„í‚¤í…ì²˜\n\nì¹´í”„ì¹´, ìŠ¤íŒŒí¬ ë° ë¸íƒ€ ë ˆì´í¬ì™€ ê°™ì€ ìŠ¤íŠ¸ë¦¬ë° ê¸°ìˆ ì„ í™œìš©í•˜ì—¬ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° í”Œë«í¼ì„ êµ¬ì¶•í•  ì˜ˆì •ì…ë‹ˆë‹¤.\n\në¬¸ì œ ì •ì˜: ì‹¤ì‹œê°„ í™˜ê²½ ì´ìŠˆ ë³´ê³ ì„œë¥¼ ìˆ˜ì§‘í•˜ê³ , ë³€í™˜ ë° ë¶„ì„í•´ì„œ ì‹¬ê°ì„± ìˆ˜ì¤€ ë° ìœ„ì¹˜ ê¸°ì¤€ì— ë”°ë¼ ê´€ë ¨ í™˜ê²½ ë‹¹êµ­ì´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°ì´í„°ë¥¼ ë§Œë“œëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ì„ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤. ì¤‘ë³µ ë³´ê³ ì„œë¥¼ í•„í„°ë§í•˜ê³  íŠ¸ë Œë“œë¥¼ íŒŒì•…í•˜ê¸° ìœ„í•´ ì—­ì‚¬ì  ë¶„ì„ë„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ ì•„í‚¤í…ì²˜ë¥¼ êµ¬í˜„í•˜ë ¤ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¥¼ ê²ƒì…ë‹ˆë‹¤:\n\n- ë‹¨ê³„ 1: Confluent Cloud ê³„ì • ë° Kafka í´ëŸ¬ìŠ¤í„° ìƒì„±\n- ë‹¨ê³„ 2: í† í”½ ìƒì„±\n- ë‹¨ê³„ 3: í´ëŸ¬ìŠ¤í„° API í‚¤ ìŒ ìƒì„±\n\nìœ„ 3 ë‹¨ê³„ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ ì•„ë˜ ë§í¬ë¥¼ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤-\n\n- ë‹¨ê³„ 4: í™˜ê²½ ë³´ê³ ì„œë¥¼ ìƒì„±í•˜ëŠ” Streamlit ì›¹ ì•±ì„ ë§Œë“­ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Image](/assets/img/2024-05-23-DataEngineeringconceptsPart10RealtimeStreamProcessingwithSparkandKafka_8.png)\n\nUse the following link to set up a Python client in streamlit app to push the incidents to the Kafka topics:\n\n- Step 5: Go to the Confluent Cloud dashboard and verify if the topics are being populated\n\n![Image](/assets/img/2024-05-23-DataEngineeringconceptsPart10RealtimeStreamProcessingwithSparkandKafka_9.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- ë‹¨ê³„ 6: Databricks Community Edition ê³„ì • ë° ì»´í“¨íŒ… ì¸ìŠ¤í„´ìŠ¤ ìƒì„±\n\n- ë‹¨ê³„ 7: Kafka í† í”½ì—ì„œ ìŠ¤íŠ¸ë¦¼ ì½ê¸°\n\n```js\nfrom pyspark.sql import SparkSession\n\nspark = SparkSession.builder.appName(\"Environmental Reporting\").getOrCreate()\n\nkafkaDF = spark \\\n    .readStream \\\n    .format(\"kafka\") \\\n    .option(\"kafka.bootstrap.servers\", \"abcd.us-west4.gcp.confluent.cloud:9092\") \\\n    .option(\"subscribe\", \"illegal_dumping\") \\\n    .option(\"startingOffsets\", \"earliest\") \\\n    .option(\"kafka.security.protocol\",\"SASL_SSL\") \\\n    .option(\"kafka.sasl.mechanism\", \"PLAIN\") \\\n    .option(\"kafka.sasl.jaas.config\", \"\"\"kafkashaded.org.apache.kafka.common.security.plain.PlainLoginModule required username=\"\" password=\"\";\"\"\") \\\n    .load()\n\nprocessedDF = kafkaDF.selectExpr(\"CAST(key AS STRING)\", \"CAST(value AS STRING)\")\n\ndisplay(processedDF)\n```\n\n- ë‹¨ê³„ 8: ë³€í™˜ ì ìš© â€” ì²˜ë¦¬ëœ ë°ì´í„°í”„ë ˆì„ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ ì˜¤ê¸° ìœ„í•´ SQL ì¿¼ë¦¬ ì‘ì„±\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nimport pyspark.sql.functions as F\nfrom  pyspark.sql.functions import col, struct, to_json\nfrom pyspark.sql.types import StructField, StructType, StringType, MapType\n\njson_schema = StructType(\n  [\n    StructField(\"incident_type\", StringType(), nullable = False),\n    StructField(\"location\", StringType(), nullable = False),\n    StructField(\"description\", StringType(), nullable = True),\n    StructField(\"contact\", StringType(), nullable = True)\n  ]\n)\n\n# Using Spark SQL to write queries on the streaming data in processedDF\n\nquery = processedDF.withColumn('value', F.from_json(F.col('value').cast('string'), json_schema))  \\\n      .select(F.col(\"value.incident_type\"),F.col(\"value.location\"))\ndisplay(query)\n```\n\nWe will now add another column called Region which would be mapped from the Location column, helping the authorities assign the issues to appropriate regional centres.\n\nDefine a UDF(User Defined Function) to find out the region from the location:\n\n```js\nfrom pyspark.sql.functions import udf\nfrom pyspark.sql.types import StringType\n\n# Define the regions_to_states dictionary\nregions_to_states = {\n    'South': ['West Virginia', 'District of Columbia', 'Maryland', 'Virginia',\n              'Kentucky', 'Tennessee', 'North Carolina', 'Mississippi',\n              'Arkansas', 'Louisiana', 'Alabama', 'Georgia', 'South Carolina',\n              'Florida', 'Delaware'],\n    'Southwest': ['Arizona', 'New Mexico', 'Oklahoma', 'Texas'],\n    'West': ['Washington', 'Oregon', 'California', 'Nevada', 'Idaho', 'Montana',\n             'Wyoming', 'Utah', 'Colorado', 'Alaska', 'Hawaii'],\n    'Midwest': ['North Dakota', 'South Dakota', 'Nebraska', 'Kansas', 'Minnesota',\n                'Iowa', 'Missouri', 'Wisconsin', 'Illinois', 'Michigan', 'Indiana',\n                'Ohio'],\n    'Northeast': ['Maine', 'Vermont', 'New York', 'New Hampshire', 'Massachusetts',\n                  'Rhode Island', 'Connecticut', 'New Jersey', 'Pennsylvania']\n}\n\n#from geotext import GeoText\nfrom geopy.geocoders import Nominatim\n\n# Define a function to extract state names from location text\ndef extract_state(location_text):\n    geolocator = Nominatim(user_agent=\"my_application\")\n    location = geolocator.geocode(location_text)\n    #print(location)\n    #print(type(location.raw))\n    if location:\n        state = location.raw['display_name'].split(',')[-2]\n        return state\n    else:\n        return \"Unknown\"\n\n# Create a UDF to map states to regions\n@udf(StringType())\ndef map_state_to_region(location):\n    state = extract_state(location).strip()\n    for region, states in regions_to_states.items():\n        if state in states:\n            return region\n    return \"Unknown\"  # Return \"Unknown\" for states not found in the dictionary\n\n# Apply the UDF to map states to regions\ndf_with_region = query.withColumn(\"region\", map_state_to_region(query[\"location\"]))\n\ndisplay(df_with_region)\n```\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- ë‹¨ê³„ 9: ë¶„ì„ ìˆ˜í–‰ â€” ìš°ë¦¬ëŠ” Descriptionì˜ ê°ì •ì„ ë¶„ì„í•˜ì—¬ ì‚¬ê±´ ì‹¬ê°ë„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë‹¤ë¥¸ ì—´ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ì´ëŠ” ë‹¹êµ­ì´ ë…¸ë ¥ì„ ìš°ì„ ìˆœìœ„ë¡œ ì •í•˜ëŠ” ë° ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤.\n\n```js\nfrom pyspark.sql.functions import udf\nfrom pyspark.sql.types import StringType\nfrom vaderSentiment.vaderSentiment import SentimentIntensityAnalyzer\n\n# VADER ê°ì • ë¶„ì„ê¸° ì´ˆê¸°í™”\nanalyzer = SentimentIntensityAnalyzer()\n\n# Description í…ìŠ¤íŠ¸ì— ëŒ€í•œ ê°ì • ë¶„ì„ì„ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ ì •ì˜\ndef analyze_sentiment(description):\n    # VADERì—ì„œ compound ê°ì • ì ìˆ˜ ê°€ì ¸ì˜¤ê¸°\n    sentiment_score = analyzer.polarity_scores(description)['neg']\n\n    # ê°ì • ì ìˆ˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹¬ê°ë„ ë¶„ë¥˜\n    if sentiment_score \u003e= 0.4:\n        return \"High\"\n    elif sentiment_score \u003e= 0.2 and sentiment_score \u003c 0.4:\n        return \"Medium\"\n    else:\n        return \"Low\"\n\n# ê°ì • ë¶„ì„ì„ ìœ„í•œ UDF ìƒì„±\nsentiment_udf = udf(analyze_sentiment, StringType())\n\n# ì²˜ë¦¬ëœ DataFrame(processedDF)ì˜ description ì—´ì— UDF ì ìš©\n# ì‹¤ì œ DataFrame ë° ì—´ ì´ë¦„ìœ¼ë¡œ \"processedDF\" ë° \"description_column\"ì„ ëŒ€ì²´í•©ë‹ˆë‹¤.\nprocessedDF_with_severity = query.withColumn(\"severity\", sentiment_udf(\"description\"))\n\n# ì¶”ê°€ëœ ì‹¬ê°ë„ ì—´ì´ ìˆëŠ” DataFrame í‘œì‹œ\ndisplay(processedDF_with_severity)\n```\n\ní™˜ê²½ ìœ„í—˜ ë°ì´í„°ë¡œ í›ˆë ¨ëœ ML ë¶„ë¥˜ ëª¨ë¸ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ì‹¬ê°ë„ ìˆ˜ì¤€ì„ ì‹ë³„í•˜ê¸° ìœ„í•´ LLMsë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì‹¬ê°ë„ UDFê°€ í¬ê²Œ ê°œì„ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ê°„ë‹¨í•¨ì„ ìœ„í•´ ì—¬ê¸°ì—ì„œëŠ” vaderSentiment ë¶„ì„ê¸°ë¥¼ ì‚¬ìš©í•œ ê°ì • ë¶„ì„ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.\n\në°ì´í„°ì— ëŒ€í•œ ë‹¤ì–‘í•œ í†µê³„ ë¶„ì„ì„ ìˆ˜í–‰í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n![Real-time Stream Processing](/assets/img/2024-05-23-DataEngineeringconceptsPart10RealtimeStreamProcessingwithSparkandKafka_10.png)\n\nìœ„ì™€ ê°™ì´ ìœ„ì¹˜ë³„ë¡œ ê·¸ë£¹í™”í•˜ê³  ì‹¬ê°ë„ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•˜ì—¬ í•´ë‹¹ ì¹´ìš´íŠ¸ì˜ ë¹ˆë„ë¥¼ ì–»ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:\n\në˜í•œ ì„ì‹œ ë·°ë¥¼ ìƒì„±í•˜ê³  í•´ë‹¹ ë·°ì—ì„œ SQL ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:\n\n```js\n# ìŠ¤íŠ¸ë¦¬ë° DataFrameì„ ì„ì‹œ ë·°ë¡œ ë“±ë¡\nprocessedDF_with_severity.createOrReplaceTempView(\"incident_reports\")\n\n# ì§‘ê³„ë¥¼ ìœ„í•œ SQL ì¿¼ë¦¬ ì •ì˜\ntotal_incidents_query = \"\"\"\n    SELECT\n        incident_type,\n        COUNT(*) AS total_incidents\n    FROM\n        incident_reports\n    GROUP BY\n        incident_type\n\"\"\"\n\nseverity_incidents_query = \"\"\"\n    SELECT\n        incident_type,\n        severity,\n        COUNT(*) AS severity_incidents\n    FROM\n        incident_reports\n    GROUP BY\n        incident_type, severity\n\"\"\"\n\n# ì§‘ê³„ ìˆ˜í–‰\ntotal_incidents_df = spark.sql(total_incidents_query)\nseverity_incidents_df = spark.sql(severity_incidents_query)\n\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n\n![Data Engineering Concepts](/assets/img/2024-05-23-DataEngineeringconceptsPart10RealtimeStreamProcessingwithSparkandKafka_11.png)\n\nSpark êµ¬ì¡°í™”ëœ ìŠ¤íŠ¸ë¦¬ë° ë¶„ì„ì— ëŒ€í•œ ì¼ë¶€ ì œí•œ ì‚¬í•­:\n\n1. ë¹„ ì‹œê°„ ì—´ì— ëŒ€í•œ ìœˆë„ìš° í•¨ìˆ˜ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n2. ì „ì²´ ì¶œë ¥ ëª¨ë“œì—ì„œ ì¡°ì¸ì„ ìˆ˜í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì¶”ê°€ ëª¨ë“œì—ì„œë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n- ë‹¨ê³„ 10: ë¸íƒ€ í…Œì´ë¸”ì„ ë§Œë“¤ê³  ë¶„ì„ ê²°ê³¼ë¥¼ í•´ë‹¹ í…Œì´ë¸”ì— ì €ì¥í•©ë‹ˆë‹¤\n\n```js\n# Delta Lakeì— ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„°ë¥¼ ì €ì¥í•  ê²½ë¡œ ì •ì˜\ndelta_table_path = \"`result_delta_table`\"\n\n# ìŠ¤íŠ¸ë¦¬ë° ì¿¼ë¦¬ì— ëŒ€í•œ ì²´í¬í¬ì¸íŠ¸ ìœ„ì¹˜ ì„¤ì •\ncheckpoint_location = \"/FileStore/tables/checkpoints\"\n\n# ì²´í¬í¬ì¸íŠ¸ ë° íŠ¸ë¦¬ê±°ë¥¼ ì‚¬ìš©í•˜ì—¬ ìŠ¤íŠ¸ë¦¬ë° ì¿¼ë¦¬ ì‹œì‘\nstreaming_query = processedDF_with_severity.writeStream\\\n  .outputMode(\"append\")\\\n  .option(\"checkpointLocation\", checkpoint_location)\\\n  .trigger(processingTime='10 seconds')\\ # 10ì´ˆã”ã¨ã« ë°ì´í„°ì˜ ë¯¸í¬ë¡œë°°ì¹˜ë¥¼ ì²˜ë¦¬í•  íŠ¸ë¦¬ê±° ì •ì˜\n  .format(\"delta\")\\\n  .toTable(delta_table_path)\n```\n\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nê·¸ëŸ¬ë©´ Delta í…Œì´ë¸”ì—ì„œ ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¼ì„ ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n![Delta Table as Dataframe](/assets/img/2024-05-23-DataEngineeringconceptsPart10RealtimeStreamProcessingwithSparkandKafka_12.png)\n\në˜ëŠ” Delta í…Œì´ë¸”ì„ ì¿¼ë¦¬í•˜ê¸° ìœ„í•´ SQLì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:\n\n![Query Delta Table with SQL](/assets/img/2024-05-23-DataEngineeringconceptsPart10RealtimeStreamProcessingwithSparkandKafka_13.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤ :) ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„° ì•„í‚¤í…ì²˜ì— ëŒ€í•œ ë¹ ë¥¸ í†µì°°ì´ ë§ˆìŒì— ë“¤ì—ˆìœ¼ë©´ ì¢‹ê² ë„¤ìš”. ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§ ëª¨í—˜ì„ ìœ„í•´ í–‰ìš´ì„ ë¹•ë‹ˆë‹¤! ì—¬ê¸° GitHub ì €ì¥ì†Œ ë§í¬ì…ë‹ˆë‹¤:\n\n","ogImage":{"url":"/assets/img/2024-05-23-DataEngineeringconceptsPart10RealtimeStreamProcessingwithSparkandKafka_0.png"},"coverImage":"/assets/img/2024-05-23-DataEngineeringconceptsPart10RealtimeStreamProcessingwithSparkandKafka_0.png","tag":["Tech"],"readingTime":13},{"title":"ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§ ë””ìì¸ íŒ¨í„´","description":"","date":"2024-05-23 14:04","slug":"2024-05-23-DataEngineeringDesignPatterns","content":"\n\në””ìì¸ íŒ¨í„´ì€ ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´ë“¤ë§Œì„ ìœ„í•œ ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤. ìµœì‹  ë°ì´í„° ì†”ë£¨ì…˜ì„ êµ¬ì¶•í•˜ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ì¸ê¸°ìˆëŠ” ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§ ë””ìì¸ íŒ¨í„´ì„ ì•Œì•„ë´…ì‹œë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-23-DataEngineeringDesignPatterns_0.png)\n\nELT íŒ¨í„´: ì¶”ì¶œ, ë¡œë“œ, ë³€í™˜\n\nì´ëŠ” RDBMS ì„¸ê³„ì—ì„œ ì¸ê¸°ìˆë˜ ETL íŒ¨í„´ì˜ í›„ì†ì…ë‹ˆë‹¤. ë°ì´í„° ì—”ì§€ë‹ˆì–´ë“¤ì´ ë‹¤ì–‘í•œ ì†ŒìŠ¤(RDBMS, API ë˜ëŠ” ìŠ¤í¬ë˜í•‘)ì—ì„œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ê³ , S3, ADLS Gen 2, ë˜ëŠ” GCSì™€ ê°™ì€ ê°ì²´ ìŠ¤í† ì–´ì— ë¡œë“œí•œ í›„ Databricksì™€ ê°™ì€ í˜„ëŒ€ì ì¸ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ íš¨ìœ¨ì ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ì¸ê¸°ìˆëŠ” ê³µí†µ íŒ¨í„´ì…ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n![Lakehouse Pattern](/assets/img/2024-05-23-DataEngineeringDesignPatterns_1.png)\n\nDatabricksì€ Lakehouse ì•„í‚¤í…ì²˜ì˜ ì„ ë‘ì£¼ìì…ë‹ˆë‹¤. ì´ëŠ” ë°ì´í„° ë ˆì´í¬(Data Lake)ì™€ ë°ì´í„° ì›¨ì–´í•˜ìš°ìŠ¤(Datawarehouse)ë¥¼ í†µí•©í•©ë‹ˆë‹¤. ì›ì‹œ ë˜ëŠ” ê°€ê³µëœ, êµ¬ì¡°í™”ëœ ë˜ëŠ” ë°˜êµ¬ì¡°í™”ëœ ë°ì´í„°ê°€ ëª¨ë‘ í•˜ë‚˜ì˜ í™˜ê²½ ì•ˆì— ëª¨ë‘ ì‚¬ìš© ê°€ëŠ¥í•˜ë©° í•˜ë‚˜ì˜ í”Œë«í¼(Databricks)ì—ì„œ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![Lakehouse Pattern](/assets/img/2024-05-23-DataEngineeringDesignPatterns_2.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì¤‘ê°œ ì•„í‚¤í…ì²˜ íŒ¨í„´:\n\në©”ë‹¬ë¦¬ì˜¨ ì•„í‚¤í…ì²˜ íŒ¨í„´ì€ ì£¼ë¡œ Databricksì™€ í•¨ê»˜ ì‚¬ìš©ë˜ë©° ì´ì œëŠ” ì‚¬ì‹¤ìƒì˜ í‘œì¤€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤. ë°ì´í„° ì²˜ë¦¬ë¥¼ ìœ„í•´ ì›ë³¸ ë°ì´í„°ì¸ ì²­ë™, ì •ë¦¬ ë° í’ë¶€í™”ëœ ë°ì´í„°ì¸ ì€, ê·¸ë¦¬ê³  ë¹„ì¦ˆë‹ˆìŠ¤ ìˆ˜ì¤€ì˜ ì§‘ê³„í•œ ë°ì´í„°ì¸ ê¸ˆ ë ˆì´ì–´ë¡œ ì´ë£¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤.\n\nDeltaLake ì•„í‚¤í…ì²˜ íŒ¨í„´:\n\nDelta Lakeì€ ì´ˆê¸°ì— Databricksì—ì„œ ê°œë°œëœ ì˜¤í”ˆ ì†ŒìŠ¤ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ëŠ” ë°ì´í„° í˜¸ìˆ˜ì— ì•ˆì •ì„±ì„ ì œê³µí•©ë‹ˆë‹¤. DeltalakeëŠ” ACID íŠ¸ëœì­ì…˜, íƒ€ì„ íŠ¸ë˜ë²Œ, z-order, CDC, ìŠ¤í‚¤ë§ˆ ì§„í™” ë° ê¸°íƒ€ ìµœì í™”ë¡œ ë°ì´í„° í˜¸ìˆ˜ë¥¼ ê°œì„ í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nKappa Architecture Pattern:\n\nKappa Architectureì—ì„œëŠ” ëª¨ë“  ë°ì´í„°ê°€ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤. ì´ëŠ” ê¸°ì¡´ì— ë°°ì¹˜ ì²˜ë¦¬ë¡œ ë‹¤ë¤„ì¡Œì„ ê²ƒë“¤ì„ ì—°ì†ì ì¸ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì‹œìŠ¤í…œì€ ë°ì´í„°ê°€ ë„ì°©í•˜ëŠ” ì¦‰ì‹œ ì‹¤ì‹œê°„ìœ¼ë¡œ ì²˜ë¦¬í•˜ë©° ë³„ë„ì˜ ë°°ì¹˜ë¡œ ì²˜ë¦¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. Kappa ArchitectureëŠ” ì‹¤ì‹œê°„ ì²˜ë¦¬ì— ìµœì í™”ë˜ì–´ ìˆì§€ë§Œ, \"ë°°ì¹˜\" ë°ì´í„°ë¡œ ê°„ì£¼ë  ìˆ˜ ìˆëŠ” ëŒ€ê·œëª¨ì˜ ê³¼ê±° ë°ì´í„°ë¥¼ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì¬ìƒí•˜ì—¬ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Databricks AutoloaderëŠ” Kappa Architectureë¥¼ êµ¬í˜„í•˜ëŠ” ë° ê°€ì¥ ì í•©í•©ë‹ˆë‹¤.\n\nServerless Architecture Pattern:\n\në°ì´í„° ì—”ì§€ë‹ˆì–´ë§ì—ì„œ ì„œë²„ë¦¬ìŠ¤ëŠ” í´ë¼ìš°ë“œ ì§€ì—­/IP ì œì•½ ì‚¬í•­ì´ë‚˜ ê¸°íƒ€ ê¸°ë³¸ ì¸í”„ë¼ ì œì•½ ì¡°ê±´ì— ëŒ€í•´ ê±±ì •í•˜ì§€ ì•Šê³  ë°ì´í„° íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ë³€ìˆ˜ ì‚¬ìš© íŒ¨í„´ì„ ê°–ëŠ” ì›Œí¬ë¡œë“œì— ëŒ€í•œ ì¦‰ì‹œ í´ëŸ¬ìŠ¤í„° ê°€ìš©ì„±ê³¼ ë¹„ìš© íš¨ìœ¨ì ì¸ ìŠ¤ì¼€ì¼ë§ì„ ìœ„í•´ ìœ ìš©í•©ë‹ˆë‹¤. ë§ì€ í´ë¼ìš°ë“œ ì œê³µì—…ì²´ê°€ ì´ë¥¼ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. Databricks SQLì€ Serverlessë¥¼ ì œê³µí•˜ë©°, SQL ì›¨ì–´í•˜ìš°ìŠ¤ë¥¼ 3ì´ˆ ë¯¸ë§Œì˜ ì‹œê°„ ì•ˆì— ë¡ ì¹­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nMLFlow ì•„í‚¤í…ì²˜ íŒ¨í„´:\n\nMLflowëŠ” Databricksê°€ ê°œë°œí•œ ì˜¤í”ˆ ì†ŒìŠ¤ í”„ë¡œì íŠ¸ë¡œ, ì‹¤í—˜, ì¬í˜„ì„±, ëª¨ë¸ ë°°í¬ ë° ëª¨ë¸ ì œê³µì„ í¬í•¨í•œ ê¸°ê³„ í•™ìŠµ ë¼ì´í”„ì‚¬ì´í´ì„ ê´€ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\nì´ëŸ¬í•œ íŒ¨í„´ì€ ê²¬ê³ í•˜ê³  í™•ì¥ ê°€ëŠ¥í•œ ë°ì´í„° ì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ëŠ” ë° ì¤‘ìš”í•©ë‹ˆë‹¤. Databricksë¥¼ ì´ìš©í•˜ë©´ ì´ëŸ¬í•œ íŒ¨í„´ì„ ë”ìš± ê°„í¸í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìœ¼ë©° íš¨ìœ¨ì ì¸ ë°ì´í„° ì²˜ë¦¬ ë° ë¶„ì„ì„ ìœ„í•œ í†µí•© ë„êµ¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n\nì¢‹ì•„í•˜ëŠ” íŒ¨í„´ì´ ë¹ ì¡Œë‚˜ìš”? ëŒ“ê¸€ ì„¹ì…˜ì—ì„œ ì•Œë ¤ì£¼ì„¸ìš”. í¥ë¯¸ë¡œìš´ ë‚´ìš©ì´ë¼ê³  ìƒê°ë˜ë©´ ë°˜ê°€ì›Œ í•˜ì§€ ë§ˆì„¸ìš”.","ogImage":{"url":"/assets/img/2024-05-23-DataEngineeringDesignPatterns_0.png"},"coverImage":"/assets/img/2024-05-23-DataEngineeringDesignPatterns_0.png","tag":["Tech"],"readingTime":3}],"page":"50","totalPageCount":98,"totalPageGroupCount":5,"lastPageGroup":20,"currentPageGroup":2},"__N_SSG":true},"page":"/posts/[page]","query":{"page":"50"},"buildId":"o1YmnmSuZvAX2O4TI9r41","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>