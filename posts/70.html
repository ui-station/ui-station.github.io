<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>ui-station</title><meta name="description" content="I develop websites, games and apps with HTML, CSS and JS."/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://ui-station.github.io///posts/70" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="ui-station" data-gatsby-head="true"/><meta property="og:title" content="ui-station" data-gatsby-head="true"/><meta property="og:description" content="I develop websites, games and apps with HTML, CSS and JS." data-gatsby-head="true"/><meta property="og:image" content="/favicons/ms-icon-310x310.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://ui-station.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://ui-station.github.io///posts/70" data-gatsby-head="true"/><meta name="twitter:title" content="ui-station" data-gatsby-head="true"/><meta name="twitter:description" content="I develop websites, games and apps with HTML, CSS and JS." data-gatsby-head="true"/><meta name="twitter:image" content="/favicons/ms-icon-310x310.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | ui-station" data-gatsby-head="true"/><meta name="next-head-count" content="18"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BHFR6GTH9P"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-BHFR6GTH9P');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/a22d13b8e6bc8203.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a22d13b8e6bc8203.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/873-8ce515d2b46d0f43.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bpage%5D-cd321dee6458c228.js" defer=""></script><script src="/_next/static/T_Nz0g9U1yttYMSEma95P/_buildManifest.js" defer=""></script><script src="/_next/static/T_Nz0g9U1yttYMSEma95P/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="posts_container__s9Z_H posts_-list__bsl0U"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">UI STATION</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><div class="posts_inner__HIBjT"><article><h2 class="SectionTitle_section_title__HS_xr">Posts</h2><div class="posts_project_list__oDV_y"><div class="PostList_post_list__or0rl"><a class="PostList_post_item__gAdVi" aria-label="성능 평가와 프로파일링" href="/post/2024-05-23-BenchmarkingandProfiling"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="성능 평가와 프로파일링" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-23-BenchmarkingandProfiling_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="성능 평가와 프로파일링" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">성능 평가와 프로파일링</strong><div class="PostList_meta__VCFLX"><span class="date">May 23, 2024</span><span class="PostList_reading_time__6CBMQ">6<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="루비 온 레일즈에서 GRASP 원칙 이해하기" href="/post/2024-05-23-UnderstandingGRASPPrinciplesinRubyonRails"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="루비 온 레일즈에서 GRASP 원칙 이해하기" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-23-UnderstandingGRASPPrinciplesinRubyonRails_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="루비 온 레일즈에서 GRASP 원칙 이해하기" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">루비 온 레일즈에서 GRASP 원칙 이해하기</strong><div class="PostList_meta__VCFLX"><span class="date">May 23, 2024</span><span class="PostList_reading_time__6CBMQ">6<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Logstash에서 Ruby 코드를 공유하는 방법" href="/post/2024-05-23-HowtoshareRubycodeinLogstash"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Logstash에서 Ruby 코드를 공유하는 방법" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-23-HowtoshareRubycodeinLogstash_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Logstash에서 Ruby 코드를 공유하는 방법" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">Logstash에서 Ruby 코드를 공유하는 방법</strong><div class="PostList_meta__VCFLX"><span class="date">May 23, 2024</span><span class="PostList_reading_time__6CBMQ">8<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="자바 함수형 인터페이스를 사용하여 의존성을 역전하는 방법" href="/post/2024-05-23-How-toUseJavaFunctionalInterfacestoInvertDependencies"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="자바 함수형 인터페이스를 사용하여 의존성을 역전하는 방법" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-23-How-toUseJavaFunctionalInterfacestoInvertDependencies_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="자바 함수형 인터페이스를 사용하여 의존성을 역전하는 방법" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">자바 함수형 인터페이스를 사용하여 의존성을 역전하는 방법</strong><div class="PostList_meta__VCFLX"><span class="date">May 23, 2024</span><span class="PostList_reading_time__6CBMQ">8<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="제 1장 반응형 프로그래밍 소개" href="/post/2024-05-23-Chapter1IntroductiontoReactiveProgramming"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="제 1장 반응형 프로그래밍 소개" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-23-Chapter1IntroductiontoReactiveProgramming_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="제 1장 반응형 프로그래밍 소개" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">제 1장 반응형 프로그래밍 소개</strong><div class="PostList_meta__VCFLX"><span class="date">May 23, 2024</span><span class="PostList_reading_time__6CBMQ">5<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="자바에서 엔티티를 DTO로 매핑하고 그 반대로하기" href="/post/2024-05-23-MappingEntitiestoDTOsandviceversainJava"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="자바에서 엔티티를 DTO로 매핑하고 그 반대로하기" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-23-MappingEntitiestoDTOsandviceversainJava_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="자바에서 엔티티를 DTO로 매핑하고 그 반대로하기" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">자바에서 엔티티를 DTO로 매핑하고 그 반대로하기</strong><div class="PostList_meta__VCFLX"><span class="date">May 23, 2024</span><span class="PostList_reading_time__6CBMQ">7<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="자바 스레드 로컬Thread Locals은 어떻게 동작하나요" href="/post/2024-05-23-HowdoJavaThreadLocalswork"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="자바 스레드 로컬Thread Locals은 어떻게 동작하나요" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-23-HowdoJavaThreadLocalswork_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="자바 스레드 로컬Thread Locals은 어떻게 동작하나요" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">자바 스레드 로컬Thread Locals은 어떻게 동작하나요</strong><div class="PostList_meta__VCFLX"><span class="date">May 23, 2024</span><span class="PostList_reading_time__6CBMQ">8<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="자바 애플리케이션에서 JMX와 프로메테우스로 메트릭 수집하기" href="/post/2024-05-23-CollectingMetricswithJMXandPrometheusinaJavaApplication"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="자바 애플리케이션에서 JMX와 프로메테우스로 메트릭 수집하기" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-23-CollectingMetricswithJMXandPrometheusinaJavaApplication_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="자바 애플리케이션에서 JMX와 프로메테우스로 메트릭 수집하기" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">자바 애플리케이션에서 JMX와 프로메테우스로 메트릭 수집하기</strong><div class="PostList_meta__VCFLX"><span class="date">May 23, 2024</span><span class="PostList_reading_time__6CBMQ">12<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="당신의 차가 당신을 감시하고 보험 회사에 폭로합니다" href="/post/2024-05-20-Yourcarspiesonyouandratsyououttoinsurancecompanies"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="당신의 차가 당신을 감시하고 보험 회사에 폭로합니다" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-20-Yourcarspiesonyouandratsyououttoinsurancecompanies_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="당신의 차가 당신을 감시하고 보험 회사에 폭로합니다" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">당신의 차가 당신을 감시하고 보험 회사에 폭로합니다</strong><div class="PostList_meta__VCFLX"><span class="date">May 20, 2024</span><span class="PostList_reading_time__6CBMQ">17<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="자신의 PC에서 대규모 언어 모델 실행하기 개인 정보 보호 및 그 이상" href="/post/2024-05-20-RunningLargeLanguageModelsonyourPCprivacyandbeyond"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="자신의 PC에서 대규모 언어 모델 실행하기 개인 정보 보호 및 그 이상" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-20-RunningLargeLanguageModelsonyourPCprivacyandbeyond_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="자신의 PC에서 대규모 언어 모델 실행하기 개인 정보 보호 및 그 이상" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">자신의 PC에서 대규모 언어 모델 실행하기 개인 정보 보호 및 그 이상</strong><div class="PostList_meta__VCFLX"><span class="date">May 20, 2024</span><span class="PostList_reading_time__6CBMQ">7<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a></div></div></article><div class="posts_pagination__R_03T"><button type="button" class="page_button -prev">&lt;</button><a class="link" href="/posts/61">61</a><a class="link" href="/posts/62">62</a><a class="link" href="/posts/63">63</a><a class="link" href="/posts/64">64</a><a class="link" href="/posts/65">65</a><a class="link" href="/posts/66">66</a><a class="link" href="/posts/67">67</a><a class="link" href="/posts/68">68</a><a class="link" href="/posts/69">69</a><a class="link posts_-active__YVJEi" href="/posts/70">70</a><a class="link" href="/posts/71">71</a><a class="link" href="/posts/72">72</a><a class="link" href="/posts/73">73</a><a class="link" href="/posts/74">74</a><a class="link" href="/posts/75">75</a><a class="link" href="/posts/76">76</a><a class="link" href="/posts/77">77</a><a class="link" href="/posts/78">78</a><a class="link" href="/posts/79">79</a><a class="link" href="/posts/80">80</a><button type="button" class="page_button -prev">&gt;</button></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"title":"성능 평가와 프로파일링","description":"","date":"2024-05-23 12:46","slug":"2024-05-23-BenchmarkingandProfiling","content":"\n이 안내서는 모든 언어와 프레임워크에 적용됩니다. 일부 제안 사항은 루비에 맞게 조정되어 있습니다.\n\n# 벤치마크\n\n벤치마크는 정의된 프로시저에 의해 사용되는 자원 또는 시간의 합성 측정입니다.\n\n합성 측정 - 프로덕션에서 발생하는 조건을 완벽하게 재현하지는 않습니다. 대략적인 추정 값을 제공하는 것이 목적입니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n자원 또는 시간, 절차 - 우리는 메서드가 실행되는 데 얼마나 오랜 시간이 걸렸는지, 초당 몇 번의 반복이 실행되었는지 또는 얼마나 많은 객체가 생성되었는지와 같은 정보를 얻을 수 있습니다 - 이 모든 것은 메서드나 컨트롤러 액션과 같은 정의된 절차에 의해 가능합니다.\n\n다른 범위 수준을 가진 3 가지 종류의 벤치마킹 -\n\n- Micro - 이러한 벤치마크는 작은 기능을 테스트합니다. 많은 반복이 실행됩니다. 예: 코드 한 줄이 100만 번 실행됩니다. 이 코드 라인은 자체적으로 더 많은 메서드를 호출할 수 있습니다. 이 개별 LOC에 대한 최적화는 LOC가 많은 곳에서 호출되지 않는 경우에는 유용하지 않을 수 있습니다.\n- Macro - 이러한 벤치마크는 비교적 큰 기능을 테스트합니다. 상대적으로 적은 반복이 실행됩니다. 예: 컨트롤러 액션 또는 서비스 객체가 수천 번 실행됩니다. 이곳에서의 최적화는 유용할 수 있습니다. 결과는 벤치마킹 결과에서 확인할 수 있습니다.\n- App - 이러한 벤치마크는 훨씬 큰 기능을 테스트합니다. 매우 적은 반복이 실행됩니다. 예: 전체 기능이 수백 번 실행됩니다. 이곳에서의 최적화는 유용할 수 있습니다. 그러나 최적화의 효과는 많은 코드를 실행하므로 벤치마킹 결과에서는 보이지 않을 수 있습니다.\n\n루비 세계의 몇 가지 벤치마킹 젬은 - benchmark-ips와 benchmark-ipsa가 있습니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n일부 벤치마킹 매개변수 —\n\n- 워밍업 시간 — 벤치마킹 이전에 데이터를로드하고 캐시를 채우면서 코드가 안정 상태에 도달하는 데 필요합니다. 안정적인 결과를 얻기 위해 코드를 충분히 워밍업하십시오. 예를 들어, CRuby는 JRuby나 TruffleRuby보다 훨씬 빠르게 안정 상태에 도달합니다. 따라서 후자의 경우 더 긴 워밍업 시간이 필요할 수 있습니다.\n- 벤치마킹 시간 — 실제 벤치마킹이 실행될 시간을 결정합니다. 분산을 낮추기 위해 충분히 길어야 합니다. 분산이 높은 경우 벤치마킹 시간을 늘리면 도움이 될 수 있습니다.\n\n팁: 실제로 중요한 것만 측정하도록 합니다. 벤치마킹 중인 코드를 정확히 알고 있는지 확인하십시오. 벤치마킹 블록 외에 필요하지 않은 코드는 모두 제외하도록 합니다.\n\n팁: 쓴 모든 벤치마크를 /benchmarks 폴더와 같은 위치에 저장하여 손쉽게 접근할 수 있도록 합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 프로파일링\n\n프로파일은 프로시저의 여러 서브루틴에 의해 사용된 자원의 상대적 소비를 **단계별로** 기록한 것입니다.\n\n단계별 계산 - 초당 몇 번의 반복이 실행되었는지와 같이 누적 또는 단일 값 대신 우리는 많은 정보를 얻습니다. 예를 들어, 우리는 1번째 줄에서 10%의 시간을 보내고 2번째 줄에서 5%를 사용했으며, 이와 같은 방식으로 매우 세부적인 수준에서 정보를 얻을 수 있습니다.\n\n상대적 소비 - 100밀리초의 시간을 소비했다는 벤치마크가 하는 것처럼 절대 숫자를 제공하지 않습니다. 대신 백분율과 같은 상대적 측정치를 제공합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n리소스 — 우리는 메모리나 시간과 같은 다양한 리소스를 프로파일링할 수 있어요.\n\n서브루틴 — 프로시저의 서브루틴을 프로파일링할 거에요. 이는 Ruby와 같은 프로그래밍 언어의 메서드를 가리킬 수 있어요. 예를 들어 프로시저 내 각 메서드에 얼마나 많은 시간이 소요되었는지를 확인할 수 있어요.\n\n프로파일링 결과 — \"무엇이 느린가요?\". 이 결과는 상세하게 제공하려고 애쓰지만, 어플리케이션의 성능을 저하시키기 때문에 상용 프로파일러인 New relic, Scout, Skylight과 같은 제품은 앱에 큰 영향을 주지 않으면서도 충분한 데이터를 제공하기 위해 절충할 거에요.\n\n깊은 결과를 얻으려면, 프로파일링 환경이 거의 제품과 동일하게 작동해야 해요. 특히 데이터 양을 고려할 때 말이죠. 여기서 깊은 프로파일링을 활성화할 수 있어요.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n개발 환경에서 프로덕션과 유사한 동작을 얻기 위해 몇 가지 설정이 있습니다. Ruby on Rails에서 다음과 같은 조건문 뒤에 이 설정들을 넣는 것이 좋습니다. 예를 들어, RAILS_ENV가 \"PROFILE\"인 경우에만 이 변경 사항을 적용하십시오.\n\n![이미지](/assets/img/2024-05-23-BenchmarkingandProfiling_0.png)\n\n거의 모든 프로파일러에서 시간을 측정하는 두 가지 모드가 있습니다 —\n\n- CPU 시간: 이 모드는 CPU 사이클을 기준으로 시간을 측정합니다. 이는 IO 대기 및 슬립과 같은 작업이 해당 프로세스의 CPU 사이클 동안 발생했기 때문에 이러한 프로필에 나타나지 않습니다.\n- WALL 시간: 이는 시계를 기준으로 합니다. 따라서 IO 대기 및 슬립과 같은 모든 것이 나타납니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n사용 사례에 따라 때로는 CPU 시간을 사용하는 것이 좋을 수도 있고 때로는 WALL 시간을 사용하는 것이 좋을 수도 있습니다.\n\n프로파일러에는 두 가지 종류가 있습니다 —\n\n- 통계적 — 사용 가능한 스택 프레임의 일부를 샘플링합니다. 따라서 프로세스 실행을 X 밀리초마다 중단하여 스택 프레임의 스냅샷을 찍은 다음 프로세스를 계속 실행합니다. 그런 다음 그러한 스택 프레임이 프로파일로 집계됩니다.\n- 추적 — 언어에 훅을 걸어두는 방식입니다. 메소드를 호출할 때마다 관련 카운터를 증가시키고 해당 메소드가 실행되었다는 사실을 기록합니다.\n\n그래서 추적 프로파일러는 발생하는 모든 일을 기록할 수 있습니다. 반면에 통계적 프로파일러는 전체 데이터 중 1% 정도만 처리할 수도 있습니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n루비 세계에서 주로 사용하는 주요 프로파일러는 2가지가 있어요 —\n\n- Stackprof — 이것은 통계적입니다.\n- Ruby-prof — 이것은 추적적입니다.\n\nmemory_profiler를 사용하여 루비 세계에서 메모리 프로파일을 작성하세요.\n\n루비 세계에서 memory_profiler와 stackprof와 상호 작용하는 가장 좋은 방법은 rack-mini-profiler를 사용하는 것입니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n얼마나 좋게 측정하더라도 결국 하루 끝에는 모든 프로덕션 시나리오를 비프로덕션에서 완벽히 재현할 수는 없습니다.\n\n프로덕션 환경에서 성능을 측정하는 방법을 따라보세요 —\n\n1. 프로덕션 지표 읽기 — 예를 들어, 조사를 통해 검색이 너무 느린 것을 발견했다고 가정해봅시다.\n2. 핫스팟 찾기 위한 프로파일링 — 어디에서 문제가 발생하는지 정확하게 찾기 위해 프로파일링을 수행하세요. 어떤 작업이 가장 느린지 찾아보세요. 예를 들어, 검색 메서드가 가장 느리다고 가정해봅시다.\n3. 벤치마크 생성 — 느린 부분을 찾아 해당 부분에 대한 벤치마크를 만들어보세요. 예를 들어, 어떤 것을 검색할 때 각 결과 라인을 렌더링하는 데 얼마나 걸리는지 파악해보세요.\n4. 반복 — 벤치마크를 수행하고 문제를 찾았다면, 해결책을 구현하는 것은 꽤 간단합니다. 가장 느린 부분을 개선하기 위해 반복 작업하고 향상을 확인하세요. 예를 들어, 이전에 초당 1000개의 결과를 렌더링했다면, 이제 솔루션을 구현한 후 10000개의 결과를 벤치마크할 수 있습니다.\n5. 배포 — 솔루션을 배포하세요.\n\n이 노트는 Nate Berkopec의 강연을 바탕으로 준비되었습니다. 이 강연을 시청하려면 여기를 클릭하세요 —\n","ogImage":{"url":"/assets/img/2024-05-23-BenchmarkingandProfiling_0.png"},"coverImage":"/assets/img/2024-05-23-BenchmarkingandProfiling_0.png","tag":["Tech"],"readingTime":6},{"title":"루비 온 레일즈에서 GRASP 원칙 이해하기","description":"","date":"2024-05-23 12:45","slug":"2024-05-23-UnderstandingGRASPPrinciplesinRubyonRails","content":"\n![Understanding GRASP Principles in Ruby on Rails](/assets/img/2024-05-23-UnderstandingGRASPPrinciplesinRubyonRails_0.png)\n\n소프트웨어 엔지니어링에서, GRASP (General Responsibility Assignment Software Patterns) 원칙은 시스템 내의 여러 구성 요소에 책임을 할당하는 데 도움이 되는 지침 세트입니다. 이러한 원칙은 유지 관리 가능하고 확장 가능하며 견고한 애플리케이션을 만드는 데 중요합니다. 인기 있는 웹 애플리케이션 프레임워크인 Ruby on Rails의 맥락에서 GRASP 원칙을 적용하면 코드의 품질과 구조를 크게 향상시킬 수 있습니다. 본문에서는 GRASP 원칙과 Ruby on Rails 개발에서의 적용에 대해 탐구합니다.\n\n## Information Expert\n\n원칙: 책임을 완수하기 위해 필요한 정보를 갖고있는 클래스에 책임을 할당합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n레일즈에서: 레일즈 애플리케이션에서 모델은 일반적으로 정보 전문가입니다. 애플리케이션의 엔티티와 관련된 비즈니스 로직 및 데이터를 포함합니다. 예를 들어, 주문의 총 가격을 계산해야 한다면, 이 로직은 주문 모델에 있어야 합니다. 왜냐하면 주문 모델은 라인 아이템과 가격에 액세스할 수 있기 때문입니다.\n\n![이미지](/assets/img/2024-05-23-UnderstandingGRASPPrinciplesinRubyonRails_1.png)\n\n## 생성자\n\n원칙: 클래스 인스턴스를 만드는 책임을 집계, 포함 또는 밀접하게 사용하는 클래스에 할당합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n레일즈에서: 이 원칙은 종종 레일즈 컨트롤러와 모델이 상호 작용하는 방식에 반영됩니다. 예를 들어, 새로운 사용자를 만들 때 UsersController는 User 모델을 인스턴스화하는 역할을 담당할 것입니다.\n\n![이미지](/assets/img/2024-05-23-UnderstandingGRASPPrinciplesinRubyonRails_2.png)\n\n## Controller\n\n원칙: 시스템 이벤트 처리 책임을 전반적인 시스템 또는 특정 시나리오를 반영하는 컨트롤러 클래스에 할당합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n루비온 레일스: 레일스의 MVC(Model-View-Controller) 아키텍처는 이 원칙을 내재적으로 지원합니다. 컨트롤러는 들어오는 HTTP 요청을 처리하고 모델과 상호 작용하여 뷰를 렌더링합니다. UsersController는 사용자 계정과 관련된 모든 작업을 처리할 것입니다.\n\n![이미지](/assets/img/2024-05-23-UnderstandingGRASPPrinciplesinRubyonRails_3.png)\n\n## 낮은 결합도\n\n원칙: 클래스 간의 종속성을 줄여 시스템을 모듈식으로 만들고 유지보수하기 쉽게 만듭니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n레일즈에서: 이 원칙은 서비스 객체, 관심사 또는 데코레이터를 사용하여 비즈니스 로직을 모델과 컨트롤러 외부에 캡슐화하여 복잡성을 줄일 수 있습니다.\n\n![이미지](/assets/img/2024-05-23-UnderstandingGRASPPrinciplesinRubyonRails_4.png)\n\n## 높은 응집력\n\n원칙: 클래스가 하나의 명확히 정의된 목적을 가지고 있으며 그 책임이 밀접하게 관련되어 있음을 보장합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n레일즈에서는 관례를 통해 높은 응집력을 장려합니다. 모델은 데이터 관련 로직에 집중해야 하고, 컨트롤러는 요청 처리 로직에 집중하며, 뷰는 표현 로직에 집중해야 합니다. 이 분리를 명확히 유지하면 유지보수성이 향상됩니다.\n\n![UnderstandingGRASPPrinciplesinRubyonRails_5](/assets/img/2024-05-23-UnderstandingGRASPPrinciplesinRubyonRails_5.png)\n\n## 간접성\n\n원칙: 중간 객체에 책임을 할당하여 다른 구성 요소 또는 서비스 간의 중개를 수행합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n레일즈에서 미들웨어, 옵저버 또는 서비스 객체를 사용하면 간접적인 레이어를 도입할 수 있습니다. 예를 들어 레일즈의 Active Job은 백그라운드 작업 처리를 위한 추상화를 제공합니다.\n\n![이미지](/assets/img/2024-05-23-UnderstandingGRASPPrinciplesinRubyonRails_6.png)\n\n## 다형성\n\n원칙: 동작의 변화를 처리하기 위해 다형적 동작을 사용하여 시스템을 더 유연하고 확장 가능하게 만드세요.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n레일즈에서: 다형성은 인터페이스나 추상 클래스를 사용하여 구현할 수 있습니다. 또한 레일즈는 다형성 연관을 지원하여 모델이 단일 연관을 사용하여 다른 모델 중 하나 이상에 속할 수 있게 합니다.\n\n![이미지](/assets/img/2024-05-23-UnderstandingGRASPPrinciplesinRubyonRails_7.png)\n\n## 순수 패브릭\n\n원칙: 문제 도메인의 개념을 나타내지 않고 단지 높은 응집도와 낮은 결합도를 달성하기 위해 설계된 클래스를 생성하세요.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n루비온 레일즈에서는 서비스 객체가 순수한 패브릭 예제입니다. 이들은 모델이나 컨트롤러 내에 자연스럽게 들어 맞지 않는 복잡한 로직을 캡슐화합니다.\n\n![이미지](/assets/img/2024-05-23-UnderstandingGRASPPrinciplesinRubyonRails_8.png)\n\n## 보호된 변형\n\n원칙: 원하는 요소를 캡슐화하여 변동 요소에 의한 다른 요소의 변화로부터 보호하세요.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n루비온 레일즈에서는 스트래티지 패턴과 SOLID 원칙을 준수하여 GRASP 원칙과 중첩되는 디자인 패턴으로 이를 달성할 수 있습니다.\n\n![이미지](/assets/img/2024-05-23-UnderstandingGRASPPrinciplesinRubyonRails_9.png)\n\n# 결론\n\nGRASP 원칙은 소프트웨어 개발에 잘 근거한 디자인 결정을 내리기 위한 견고한 기반을 제공합니다. 루비온 레일즈 애플리케이션에 적용되면 이러한 원칙은 깔끔하고 조직적이며 유지보수 가능한 코드 기반을 유지하는 데 도움이 됩니다. GRASP 원칙을 준수함으로써, 레일즈 개발자는 기능적이고 확장 가능하며 이해하기 쉬운 애플리케이션을 구축할 수 있으며, 이는 궁극적으로 더 나은 소프트웨어 품질과 개발자 생산성으로 이어집니다.\n","ogImage":{"url":"/assets/img/2024-05-23-UnderstandingGRASPPrinciplesinRubyonRails_0.png"},"coverImage":"/assets/img/2024-05-23-UnderstandingGRASPPrinciplesinRubyonRails_0.png","tag":["Tech"],"readingTime":6},{"title":"Logstash에서 Ruby 코드를 공유하는 방법","description":"","date":"2024-05-23 12:44","slug":"2024-05-23-HowtoshareRubycodeinLogstash","content":"\n이전 기사에서는 루비 필터를 사용하여 문서를 비정규화하는 방법을 살펴보았습니다. 이 기사에서는 코드를 개선하고 필터간에 코드를 공유하는 방법을 보여드리겠습니다.\n\n## 이전 코드에 대해\n\n기억하시나요? 이전 코드는 다음과 같았습니다:\n\n```js\n# 'params'의 값은 로그스태시 구성에서 'script_params'로 전달된 해시의 값입니다.\ndef register(params)\n    @keep_original_event = params[\"keep_original_event\"]\nend\n\n# 필터 메서드는 이벤트를 받아들이고 이벤트 목록을 반환하여야 합니다.\n# 이벤트를 삭제하면 반환 배열에 포함되지 않습니다.\n# 새로운 이벤트를 만들려면 반환된 배열에 LogStash::Event의 새 인스턴스를 추가하기만 하면 됩니다.\ndef filter(event)\n\n    items = Array.new\n\n    # 원본 이벤트를 유지하도록 요청되었는지 확인\n    logger.debug('keep_original_event is :' + @keep_original_event.to_s)\n\n    if @keep_original_event.to_s == 'true'\n        event.set('[@metadata][_index]', 'prizes-original');\n        items.push event\n    end\n\n    # 상금 아이템 가져오기 (비정규화)\n    prizes = event.get(\"prize\");\n    if prizes.nil?\n        logger.warn(\"No prizes for event \" + event.to_s)\n        return items\n    end\n\n    # 복제된 기본 이벤트 생성\n    eventBase = event.clone();\n    eventBase.set('[@metadata][_index]', 'prizes-denormalized');\n    eventBase.remove(\"prize\");\n\n    # 각 상금 아이템별로 필요한 수정과 함께 이벤트 생성\n    prizes.each { |prize|\n        eventPrize = eventBase.clone();\n\n        # 각 상금 아이템 값을 상금 객체로 복사\n        prize.each { |key,value|\n            eventPrize.set(\"[prize][\" + key + \"]\", value)\n        }\n\n        items.push eventPrize\n    }\n\n    return items\nend\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n보시다시피, 우리에게는 매개변수를 설명하는 register 함수와 필터 기능을 구현하는 다른 함수가 2개뿐입니다. 그러나 기능 전체를 한 방법에 구현하는 것은 가독성, 유지 관리 가능성, 테스트 가능성 등 여러 가지 이유로 최선의 선택이 아닙니다.\n\n# 루비 코드 공유\n\n코드를 공유하는 첫 번째 방법은 다른 루비 파일에 일부 함수를 외부화하고 이러한 함수를 우리의 루비 필터에서 호출하는 것입니다.\n\n예를 들어, 우리는 일부 코드 조각을 간단한 함수로 외부화할 수 있습니다:\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- 원본 이벤트를 얻기 위한 함수(원하면 현재 이벤트를 유지하려면)\n- 이벤트로부터 상품 배열을 얻기 위한 함수\n- 각 상품을 위해 복제되는 이벤트 베이스를 구성하는 함수\n- 각 상품마다 이벤트를 생성하는 함수\n\n```js\n# 필요 시 원본 이벤트 유지\ndef getOriginalEvent(event)\n    logger.debug('keep_original_event is :' + @keep_original_event.to_s)\n    if @keep_original_event.to_s == 'true'\n        event.set('[@metadata][_index]', 'prizes-original');\n        return event;\n    end\n    return nil;\nend\n\n# 상품 항목 가져오기 (정규화)\ndef getPrizes(event)\n    prizes = event.get(\"prize\");\n    if prizes.nil?\n        logger.warn(\"No prizes for event \" + event.to_s)\n    end\n    return prizes;\nend\n\n# 복제된 베이스 이벤트 생성\ndef getEventBase(event)\n    eventBase = event.clone();\n    eventBase.set('[@metadata][_index]', 'prizes-denormalized');\n    eventBase.remove(\"prize\");\n    return eventBase;\nend\n\n# 필요한 수정을 수행한 현재 상품 항목 복제 이벤트 생성\ndef createEventForPrize(eventBase, prize)\n    eventPrize = eventBase.clone();\n    # 각 상품 항목 값을 상품 객체로 복사\n    prize.each { |key,value|\n        eventPrize.set(\"[prize][\" + key + \"]\", value)\n    }\n    return eventPrize;\nend\n```\n\n위 코드는 denormalized_by_prizes_utils.rb라는 이름의 파일에 작성되어 있습니다.\n\n그 이후에 필터의 주요 코드는 다음과 같습니다:\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```javascript\nrequire './script/denormalized_by_prizes_utils.rb'\n\n// `params`의 값은 로그스태시 구성에서 `script_params`로 전달된 해시 값입니다.\nfunction register(params) {\n    @keep_original_event = params[\"keep_original_event\"];\n}\n\n// 필터 메서드는 이벤트를 수신하고 이벤트 목록을 반환해야 합니다.\n// 이벤트를 삭제하면 반환 배열에 포함되지 않습니다.\n// 새 이벤트를 생성하려면 반환된 배열에 LogStash::Event 인스턴스를 추가하면 됩니다.\nfunction filter(event) {\n\n    var items = [];\n\n    // 필요하다면 원본 이벤트를 유지합니다.\n    var originalEvent = getOriginalEvent(event);\n    if (!originalEvent) {\n        items.push(originalEvent);\n    }\n\n    // 상금 아이템(정규화) 가져오기\n    var prizes = getPrizes(event);\n    if (!prizes) {\n        return items;\n    }\n\n    // 클론 기본 이벤트 생성\n    var eventBase = getEventBase(event);\n\n    // 필요한 수정을 가진 상금 항목별 하나의 이벤트 생성\n    prizes.forEach(function(prize) {\n        items.push(createEventForPrize(eventBase, prize));\n    });\n\n    return items;\n}\n```\n\n기존 코드보다 훨씬 읽기 쉽고 필터 기능의 다른 단계를 직접 확인할 수 있습니다. 작은 함수로 잘 세분화되고 이해하기 쉽게 작성하여 유지보수성이 향상될 것입니다.\n\n하지만 경우에 따라 코드를 공유하는 여러 파일과 여러 파일이 필요한 필터를 갖고 있는 경우, 충돌이 발생하거나 유지보수성이 일부 저하될 수 있습니다.\n\n# 모듈 생성하기\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n다른 방법으로 코드를 공유하는 방법은 모듈을 만드는 것입니다. 이 모듈은 같은 기능적 범위의 코드 조각을 그룹화할 것입니다. 우리는 공유 함수를 사용하기 전에 모듈 이름을 지정해야 하기 때문에 충돌이 발생하지 않을 것입니다.\n\n이전에 공유된 함수는 다음과 같이 될 것입니다:\n\n```js\nmodule LogStash::Util::DenormalizationByPrizesHelper\n    include LogStash::Util::Loggable\n\n    # 원래 이벤트 유지\n    def self.getOriginalEvent(event, keepOriginalEvent)\n        logger.debug('keepOriginalEvent is :' + keepOriginalEvent.to_s)\n        if keepOriginalEvent.to_s == 'true'\n            event.set('[@metadata][_index]', 'prizes-original');\n            return event;\n        end\n        return nil;\n    end\n\n    # 상품 항목 가져오기 (정규화 해제)\n    def self.getPrizes(event)\n        prizes = event.get(\"prize\");\n        if prizes.nil?\n            logger.warn(\"No prizes for event \" + event.to_s)\n        end\n        return prizes;\n    end\n\n    # 복제 기본 이벤트 생성\n    def self.getEventBase(event)\n        eventBase = event.clone();\n        eventBase.set('[@metadata][_index]', 'prizes-denormalized');\n        eventBase.remove(\"prize\");\n        return eventBase;\n    end\n\n    # 필요한 수정으로 현재 상품 항목을 위한 복제 이벤트 생성\n    def self.createEventForPrize(eventBase, prize)\n        eventPrize = eventBase.clone();\n        # 각 상품 항목 값을 상품 객체로 복사\n        prize.each { |key,value|\n            eventPrize.set(\"[prize][\" + key + \"]\", value)\n        }\n        return eventPrize;\n    end\n\nend\n```\n\nlogger 인스턴스를 사용할 수 있도록 Loggable Util 모듈을 포함해야 합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n주요 코드는 다음과 같습니다:\n\n```js\nrequire './script/denormalized_by_prizes_utils.rb'\n\n# `params`의 값은 Logstash 구성에서 `script_params`에 전달된 해시의 값입니다.\ndef register(params)\n    @keep_original_event = params[\"keep_original_event\"]\nend\n\n# 필터 메서드는 이벤트를 받아서 이벤트 목록을 반환해야 합니다.\n# 이벤트를 삭제하는 것은 반환 배열에 포함시키지 않는 것을 의미합니다.\n# 새 이벤트를 생성하는 것은 반환 배열에 LogStash::Event의 인스턴스를 추가하는 것만 필요합니다.\ndef filter(event)\n\n    items = Array.new\n\n    # 요청이 있을 경우 원본 이벤트 보존\n    originalEvent = LogStash::Util::DenormalizationByPrizesHelper::getOriginalEvent(event, @keep_original_event);\n    if not originalEvent.nil?\n        items.push originalEvent\n    end\n\n    # 상품 항목 가져오기 (정규화)\n    prizes = LogStash::Util::DenormalizationByPrizesHelper::getPrizes(event);\n    if prizes.nil?\n        return items\n    end\n\n    # 복제된 기본 이벤트 생성\n    eventBase = LogStash::Util::DenormalizationByPrizesHelper::getEventBase(event);\n\n    # 필요한 수정을 가한 상품 항목별로 이벤트 생성\n    prizes.each { |prize|\n        items.push LogStash::Util::DenormalizationByPrizesHelper::createEventForPrize(eventBase, prize);\n    }\n\n    return items;\nend\n```\n\n주요 코드를 수정할 필요가 많지 않습니다. 함수 호출을 모듈 이름과 함께 접두사로 붙이면 됩니다. 따라서 필터 기능에 통합된 다른 모듈에 있는 여러 `getEventBase` 함수와 같은 함수들이 있을 경우 충돌 없이 사용할 수 있습니다. 명시적으로 각 경우에 사용할 모듈을 설정하고 가독성을 향상시키기 때문에 좋습니다.\n\n다음 글에서는 필터 코드를 테스트하는 방법에 대해 이야기할 것입니다...\n","ogImage":{"url":"/assets/img/2024-05-23-HowtoshareRubycodeinLogstash_0.png"},"coverImage":"/assets/img/2024-05-23-HowtoshareRubycodeinLogstash_0.png","tag":["Tech"],"readingTime":8},{"title":"자바 함수형 인터페이스를 사용하여 의존성을 역전하는 방법","description":"","date":"2024-05-23 12:43","slug":"2024-05-23-How-toUseJavaFunctionalInterfacestoInvertDependencies","content":"\n자바 프로젝트 내에서 의존성을 역전시키기 위해 자바 함수형 인터페이스를 사용해 본 적이 있나요? 이 기사에서는 Supplier, Consumer 및 Function 세 가지 주요 인터페이스를 활용하여 이를 수행하는 방법을 살펴볼 것입니다.\n\n![이미지](/assets/img/2024-05-23-How-toUseJavaFunctionalInterfacestoInvertDependencies_0.png)\n\n## Supplier\n\nSupplier 인터페이스는 입력 매개변수가 필요하지 않은 객체를 제공해야 할 때 사용됩니다. 다음은 Supplier 인터페이스입니다:\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```java\npublic interface Supplier\u003cT\u003e {\n   T get();\n}\n```\n\n이 인터페이스를 활용하는 필요성을 더 잘 이해하기 위해 코드 몇 줄을 확인해 봅시다.\n\n```java\npublic class Logger {\n   public void log(String message) {\n      if (isLogEnabled()) {\n         write(message);\n      }\n   }\n}\n\n// Logger 클래스 사용 예시\npublic class Controller {\n   @Inject Logger logger;\n\n   public void execute() {\n      logger.log(generateLogMessage());\n   }\n}\n```\n\n위 코드에서는 로깅이 활성화되어 있을 때 로그 메시지를 작성하는 Logger 클래스가 있습니다. Controller 클래스는 generateLogMessage 메서드의 결과를 전달하여 로거를 호출합니다. 지금까지는 모든 것이 잘 보입니다. 그러나 만약 generateLogMessage 메서드가 많은 처리를 필요로 하거나 상당한 리소스를 소비하며 로깅이 비활성화된 경우를 상상해보세요. 이러한 경우 유용한 리소스가 낭비되며 생성된 로그 메시지가 활용되지 않을 것입니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이 문제의 해결책은 Logger 클래스에 Supplier를 전달하여 요청 시 메시지를 반환하고, 로거가 로그가 활성화된 경우에만 메서드를 호출하도록 하는 것입니다. 아래와 같이 구현할 수 있습니다:\n\n```js\npublic class Logger{\n   public void log(Supplier\u003cString\u003e messageSupplier){\n      if(isLogEnabled()){\n        write(messageSupplier.get());\n      }\n   }\n}\n\n// Logger 클래스 사용 예제\npublic class Controller{\n   @Inject Logger logger;\n\n   public void execute(){\n      logger.log(() -\u003e generateLogMessage());\n   }\n}\n```\n\n이제 generateLogMessage 메서드는 Supplier의 get 메서드가 호출될 때에만 실행되며, 로그가 비활성화된 경우 자원을 절약할 수 있습니다. 또한 Supplier를 사용한 이러한 솔루션은 로깅을 위한 매우 복잡한 로직을 구현할 유연성을 제공하며 필요할 때에만 호출됨을 보장합니다.\n\n# 기능\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nFunction 인터페이스를 사용하면 매개변수를 받아 결과를 생성하는 함수를 정의할 수 있습니다. 아래는 Function 인터페이스입니다 (일부 기본 메서드는 생략됨):\n\n```js\npublic interface Function\u003cT, R\u003e{\n   R apply(T t);\n}\n```\n\nFunction 인터페이스를 탐색하기 시작하려면, 판매 주문에서 품목의 가격을 계산하는 책임을 지는 클래스를 살펴보겠습니다. 이 클래스는 제품, 수량 및 할인 (0에서 100까지 범위)과 같은 입력을 가져옵니다:\n\n```js\npublic class PriceCalculator{\n   public BigDecimal calculatePrice(Product product,\n                                    Integer quantity,\n                                    BigDecimal discount){\n     var grossPrice = product.getUnitPrice()\n                             .multiply(BigDecimal.valueOf(quantity));\n     var discountAmount = grossPrice.multiply(discount)\n                                    .divide(BigDecimal.valueOf(100));\n     return grossPrice.minus(discountAmount);\n   }\n}\n\n// 사용 예시\nvar result = priceCalculator(product, 10, BigDecimal.value(10));\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이 클래스는 초기에 총 가격을 계산하고 할인을 적용한 후 총 가격에서 빼는 작업을 합니다. 이제 새로운 요구 사항을 고려해봅시다: 가격에 통화 변환을 수행해야 합니다.\n\n하나의 접근 방식은 이 클래스에 직접 통화 변환 로직을 추가하는 것일 수 있지만, 이는 버그를 도입할 수 있습니다. 더 견고한 해결책은 통화 변환을 처리하는 함수 매개변수를 추가하는 것입니다.\n\n```js\npublic class PriceCalculator{\n   public BigDecimal calculatePrice(\n                        Product product,\n                        Integer quantity,\n                        BigDecimal discount,\n                        Function\u003cBigDecimal,BigDecimal\u003e converterFunction){\n     var grossPrice = product.getUnitPrice()\n                             .multiply(BigDecimal.valueOf(quantity));\n     var discountAmount = grossPrice.multiply(discount)\n                                    .divide(BigDecimal.valueOf(100));\n     var netPrice = grossPrice.minus(discountAmount);\n     return converterFunction.apply(netPrice);\n   }\n}\n\n// Usage example\nvar result = priceCalculator(product,\n                             10,\n                             BigDecimal.value(10),\n                             netPrice -\u003e netPrice.multiply(CURRENCY_RATE));\n```\n\n새로운 요구 사항의 추가로 인해 최소한의 영향을 받았고, 의존성을 성공적으로 역전시켰습니다. PriceCalculator 클래스는 더 이상 통화 변환을 처리할 필요가 없으며, 대신 제공된 함수를 호출하고 최종 결과를 반환합니다. 이 설계를 통해 PriceCalculator 클래스를 수정하지 않고도 어떤 통화로든 변환할 수 있게 되었습니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n가격 계산기 클래스를 변경하지 않고 이 요구 사항을 해결하는 다양한 방법이 있습니다. PriceCalculator를 호출하는 퍼사드로 작동하는 또 다른 클래스를 만들어 화폐 변환을 수행할 수 있습니다. 일반적으로 어떤 솔루션을 따를지는 프로젝트 결정입니다.\n\n# 소비자\n\nConsumer 인터페이스를 통해 매개변수를 받아 특정 작업을 수행하고 값을 반환하지 않는 함수를 정의할 수 있습니다. 다음은 Consumer 인터페이스입니다 (일부 기본 메서드는 생략됨):\n\n```js\npublic interface Consumer\u003cT\u003e {\n    void accept(T t);\n}\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n소비자 인터페이스의 예제를 살펴보기 위해 이 클래스를 살펴봅시다. 여기에는 엔티티에 일부 정보를 설정한 후 데이터베이스에 저장하는 작업이 포함되어 있습니다:\n\n```java\npublic class EntitySaver{\n   public void create(Entity entity){\n      entity.setCreationDate(new Date());\n      database.insert(entity);\n   }\n}\n\n// 사용 예시\nentitySaver.create(entity);\n```\n\n이제 엔티티가 생성될 때 다른 클래스에 알림을 보내어야 하는 경우를 가정해 봅시다. 그러나 create 메서드 인터페이스를 수정할 수 없는 경우, 소비자 인터페이스를 사용하여 발행-구독 패턴을 구현할 수 있습니다. 다음은 이를 어떻게 달성할 수 있는지에 대한 예시입니다:\n\n```java\npublic class EntitySaver{\n   private List\u003cConsumer\u003cEntity\u003e\u003e consumerList = new ArrayList\u003c\u003e();\n\n   public void register(Consumer\u003cEntity\u003e consumer){\n      consumerList.add(consumer);\n   }\n\n   public void create(Entity entity){\n      entity.setCreationDate(new Date());\n      database.insert(entity);\n      consumerList.forEach(consumer -\u003e consumer.accept(entity));\n   }\n}\n\n// 사용 예시\nentitySaver.register(entity -\u003e log.info(entity));\nentitySaver.register(entity -\u003e mailerService.notifyUser(entity));\nentitySaver.create(entity);\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이 발행-구독 패턴의 구현에서는 Consumer 인터페이스를 활용합니다. EntitySaver 클래스는 이제 Consumer 리스트를 유지하고 등록 메서드를 포함하여 소비자를이 목록에 추가합니다. create 메서드의 인터페이스는 변경되지 않았지만, 만들어진 엔티티를 '소비'하기위한 한 줄의 코드를 도입했습니다.\n\n# 결론\n\nJava 기능 인터페이스는 많은 년 전에 소개되었으며, Java에서 개발을하던 방식에 큰 영향을 미쳤습니다. 우리는 이를 람다 함수로 사용할 수 있지만 의존성을 뒤집고 코드를 더 깔끔하게 만드는 데 사용할 수도 있습니다.\n","ogImage":{"url":"/assets/img/2024-05-23-How-toUseJavaFunctionalInterfacestoInvertDependencies_0.png"},"coverImage":"/assets/img/2024-05-23-How-toUseJavaFunctionalInterfacestoInvertDependencies_0.png","tag":["Tech"],"readingTime":8},{"title":"제 1장 반응형 프로그래밍 소개","description":"","date":"2024-05-23 12:42","slug":"2024-05-23-Chapter1IntroductiontoReactiveProgramming","content":"\n![Chapter 1 Introduction to Reactive Programming](/assets/img/2024-05-23-Chapter1IntroductiontoReactiveProgramming_0.png)\n\nIn the fast-paced world of software development, building applications that are not only responsive but also scalable is crucial. Traditional programming paradigms often struggle to keep up with the demands of modern applications, where users expect real-time responsiveness and seamless user experiences. Introducing reactive programming, a paradigm shift that promises to revolutionize the way we build software.\n\n## Understanding Reactive Programming\n\nReactive programming is not just a buzzword; it’s a fundamental shift in how we approach software development. At its core, reactive programming is about building asynchronous, event-driven, and non-blocking applications. But what exactly does that mean?\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n아래에서 설명을 해보겠습니다:\n\n## 비동기적이고 논블로킹\n\n전통적인 프로그래밍에서 작업은 순차적으로 실행되어 이전 작업이 완료될 때까지 기다립니다. 이러한 방식은 병목 현상과 성능 저하를 야기할 수 있으며, 특히 높은 동시성을 필요로 하는 애플리케이션에서 문제가 될 수 있습니다.\n\n한편, 반응형 프로그래밍은 작업을 비동기적으로 실행할 수 있도록 해주어 이전 작업이 완료될 때까지 기다릴 필요가 없다는 의미입니다. 이러한 비동기적인 특성은 쓰레드를 차단하지 않고 대량의 동시 요청을 처리할 수 있게 해주어 자원 활용 및 성능을 향상시킬 수 있습니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 이벤트 주도 아키텍처\n\n반응형 시스템에서 구성 요소는 이벤트를 발생시키고 반응함으로써 통신합니다. 이벤트는 사용자 입력부터 데이터 변경 또는 시스템 알림까지 무엇이든 될 수 있습니다. 이 이벤트 주도 아키텍처를 통해 느슨하게 결합되고 매우 확장 가능한 시스템이 가능하며, 구성 요소는 실시간으로 변경에 반응할 수 있습니다.\n\n## 반응형 애플리케이션\n\n반응형 프로그래밍의 주요 목표 중 하나는 사용자 상호작용 및 외부 이벤트에 반응하는 애플리케이션을 구축하는 것입니다. 비동기적으로 작업을 처리하고 신속하게 이벤트에 반응함으로써, 반응형 애플리케이션은 심한 부하 하에서도 원활하고 상호작용적인 사용자 경험을 제공할 수 있습니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 반응형 스트림\n\n반응형 프로그래밍은 종종 비동기적으로 처리되며 반응적으로 처리되는 데이터 항목의 시퀀스인 반응형 스트림 개념에 의존합니다. 반응형 스트림은 백프레셔(backpressure)를 처리하기 위한 메커니즘을 제공하며, 소비자가 생산자로부터 데이터를 소비하는 속도를 제어하여 과부하와 리소스 고갈을 방지합니다.\n\n# 반응형 프로그래밍의 장점\n\n이제 반응형 프로그래밍의 기본 개념을 이해했으므로, 이에 대한 주요 이점을 몇 가지 살펴보겠습니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- 확장성: 반응형 프로그래밍은 비동기적이고 이벤트 주도적인 특성 덕분에 응용 프로그램이 손쉽게 확장될 수 있습니다.\n- 반응성: 반응형 응용 프로그램은 실시간 피드백과 원할한 경험을 제공하여 사용자에게 높은 반응성을 제공합니다.\n- 탄력성: 비동기적이며 논블로킹 I/O를 채택함으로써, 반응형 응용 프로그램은 장애에 대해 견고하고 에러를 우아하게 처리할 수 있습니다.\n\n# 반응형 프로그래밍의 단점\n\n모든 해결책에는 고유의 도전 과제가 있고, 반응형 프로그래밍 또한 예외는 아닙니다. 이와 함께 따르는 주요한 단점들을 살펴보겠습니다:\n\n- 학습 곡선: 비동기적 프로그래밍 개념을 배우는 것은 강압적 프로그래밍에 익숙한 개발자에게 놀라울 수 있습니다. 비동기적 및 논블로킹 성질을 반응형 시스템에서 파악하는 데 시간과 노력이 필요합니다.\n- 복잡성: 반응형 프로그래밍을 구현하면 코드베이스에 복잡성을 도입할 수 있습니다. 개발자는 비동기식 연산을 이해하고 반응형 스트림을 효과적으로 관리해야 합니다.\n- 디버깅 과제: 비동기적이고 이벤트 주도적인 코드를 디버깅하는 것은 동기화된 코드와 비교해 고유의 도전 과제를 제기합니다. 데이터 흐름을 추적하고 동시성 문제를 진단하기 위해 전문 기술이 필요합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 결론\n\nReactive 프로그래밍은 단순히 흘러가는 유행이 아니라 소프트웨어를 구축하는 방식에서 패러다임 변화이며, 오랫동안 유지될 것으로 예상됩니다. 이것이 가지고 있는 도전에도 불구하고, reactive 프로그래밍의 장점은 특히 오늘날 매우 동시성이 높은 응용프로그램 환경에서 그 단점을 능가하는 경우가 많습니다. 비동기적이고 이벤트 주도적인 아키텍처를 채택함으로써, 개발자들은 그 어느 때보다도 더 민첩하고 확장 가능하며 견고한 응용프로그램을 만들 수 있습니다.\n\n이 블로그 포스트에서는 reactive 프로그래밍의 한 부분에 불과합니다. Reactive 스트림부터 고급 오류 처리 전략까지 더 탐구해야 할 부분이 많이 남아 있습니다. 하지만 이 소개가 reactive 프로그래밍에 대해 더 탐구하고 싶게 만들었으면 좋겠습니다.\n","ogImage":{"url":"/assets/img/2024-05-23-Chapter1IntroductiontoReactiveProgramming_0.png"},"coverImage":"/assets/img/2024-05-23-Chapter1IntroductiontoReactiveProgramming_0.png","tag":["Tech"],"readingTime":5},{"title":"자바에서 엔티티를 DTO로 매핑하고 그 반대로하기","description":"","date":"2024-05-23 12:41","slug":"2024-05-23-MappingEntitiestoDTOsandviceversainJava","content":"\n![Mapping entities to DTOs in Java](/assets/img/2024-05-23-MappingEntitiestoDTOsandviceversainJava_0.png)\n\nIn Java, entities and DTOs are two different types of classes often used together. Entities are used to represent data in the database, while DTOs are used to represent data that is sent to or received from a client.\n\nTo map data from an entity to a DTO, you need to define a mapping between the attributes of the two classes. This can be done manually or automatically.\n\n## Manual mapping\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n수동 매핑은 엔티티를 DTO로 매핑하는 가장 간단한 방법입니다. 이 접근 방식에서는 엔티티의 속성에서 DTO의 속성으로 값을 복사하는 코드를 작성합니다.\n\n예를 들어, 다음 코드는 Customer 엔티티의 속성을 CustomerDTO의 속성에 매핑합니다:\n\n```js\npublic CustomerDto toDto(Customer customer) {\n  CustomerDto dto = new CustomerDto();\n  dto.setName(customer.getName());\n  dto.setCpf(customer.getCpf());\n  dto.setDateOfBirth(customer.getDateOfBirth());\n  return dto;\n}\n```\n\n이 방법은 간단하고 유연하지만, 특히 복잡한 엔티티나 많은 매핑이 있는 경우에는 반복적이고 오류가 발생할 수 있습니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 자동 매핑\n\n자동 매핑은 엔티티를 DTO로 매핑하는 더 효율적이고 신뢰할 수 있는 방법입니다. 이 방법을 사용하면 프레임워크나 라이브러리를 사용하여 매핑 코드를 자동으로 생성합니다.\n\n자동 매핑을 위한 인기 있는 라이브러리 중 하나는 MapStruct입니다. MapStruct(https://mapstruct.org/)는 도메인별 언어(Domain-Specific Language, DSL)를 사용하여 매핑 규칙을 정의합니다.\n\n예를 들어, 다음 코드는 Customer 엔티티의 속성을 CustomerDTO의 속성에 매핑하는 매핑 규칙을 정의합니다:\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n@Mapper\npublic interface CustomerMapper {\n\n  CustomerDto toDto(Customer customer);\n\n}\n```\n\n위 코드는 Customer 엔티티를 입력으로 받아 CustomerDTO를 출력으로 반환하는 toDto() 메서드를 정의합니다. MapStruct는 이 두 클래스의 속성 간 매핑을 결정하기 위해 메서드의 이름을 사용합니다.\n\nMapStruct는 DTO에서 엔티티로 값들을 매핑하는 데에도 사용할 수 있습니다. 예를 들어, 다음 코드는 CustomerDTO의 속성들을 Customer의 속성들과 매핑하기 위한 매핑 규칙을 정의합니다:\n\n```js\n@Mapper\npublic interface CustomerMapper {\n\n  Customer fromDto(CustomerDto dto);\n\n}\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nModelMapper라고 하는 강력한 라이브러리도 있어요. 이 라이브러리는 객체 매핑 프로세스를 간단하게 해주며 매핑 동작을 사용자 정의하는 데 많은 유연성을 제공해요.\n\nJava 프로젝트에서 ModelMapper를 사용하려면 프로젝트에 ModelMapper 라이브러리를 추가해야 해요. 만약 Maven을 사용 중이라면 다음 종속성을 프로젝트의 pom.xml 파일에 추가하세요:\n\n```js\n\u003cdependency\u003e\n  \u003cgroupId\u003eorg.modelmapper\u003c/groupId\u003e\n  \u003cartifactId\u003emodelmapper\u003c/artifactId\u003e\n  \u003cversion\u003e2.4.2\u003c/version\u003e\n\u003c/dependency\u003e\n```\n\n만약 Gradle을 사용 중이라면 build.gradle 파일에 다음을 추가하세요:\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nimplementation 'org.modelmapper:modelmapper:2.4.2'\n\n프로젝트에 ModelMapper 라이브러리를 추가한 후, 서로 다른 구조를 갖는 두 개의 객체 간에 매핑을 시작할 수 있습니다.\n\n예를 들어, 서로 다른 구조를 갖는 두 개의 객체가 있고, 이들 사이의 데이터를 매핑하려고 한다고 가정해봅시다. 아래는 예시입니다:\n\n```java\npublic class User {\n    private String name;\n    private int age;\n\n    // 생성자, 게터, 세터 메서드\n}\n\npublic class UserDTO {\n    private String fullName;\n    private int userAge;\n\n    // 생성자, 게터, 세터 메서드\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        User user = new User(\"John\", 30);\n        ModelMapper modelMapper = new ModelMapper();\n        UserDTO userDTO = modelMapper.map(user, UserDTO.class);\n        System.out.println(userDTO.getFullName()); // 출력: John\n        System.out.println(userDTO.getUserAge()); // 출력: 30\n    }\n}\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n위의 예에서는 User 및 UserDTO라는 두 개의 다른 구조를 갖는 두 개의 객체가 있습니다. User 객체에는 이름(name)과 나이(age) 필드가 있고, UserDTO 객체에는 풀 네임(fullName)과 사용자 나이(userAge) 필드가 있습니다. User 객체를 UserDTO로 매핑하기 위해 ModelMapper 인스턴스를 사용합니다. map() 메서드는 소스 객체와 대상 객체 클래스 두 가지 인수를 사용합니다.\n\nmain 메서드를 실행하면 출력으로 John과 30이 나오는데, 이는 매핑이 성공적으로 수행되었음을 나타냅니다.\n\nModelMapper를 사용하고 사용자화하는 방법에 대한 자세한 안내를 원하시면 다음 기사를 참고하십시오: [링크](http://bit.ly/4b4b5sz)\n\n# 따라서, 어떤 접근 방식을 선택해야 할까요?\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n엔티티를 DTO로 매핑하는 가장 좋은 방법은 여러 요소에 따라 다릅니다. 일반적으로, 간단한 클래스나 매핑이 적은 경우 수동 매핑이 좋은 선택이 됩니다. 복잡한 클래스나 많은 매핑이 필요한 경우 자동 매핑이 좋은 선택입니다.\n\n다음은 접근 방식을 선택할 때 고려해야 할 사항입니다:\n\n- 관련된 클래스의 복잡성: 많은 속성을 가진 복잡한 클래스는 수동 매핑이 반복적이고 오류를 발생하기 쉽게 만들 수 있습니다. 이러한 클래스에 대해 자동 매핑이 좋은 선택일 수 있습니다.\n- 필요한 매핑의 양: 많은 매핑이 필요한 클래스는 수동 매핑을 유지하기 어렵게 만들 수 있습니다. 이러한 클래스에 대해 자동 매핑이 좋은 선택일 수 있습니다.\n- 사용자 정의 필요성: 수동 매핑을 통해 필요에 맞게 매핑을 사용자 정의할 수 있습니다. 자동 매핑은 더 제한적일 수 있습니다.\n\n최종적으로, 엔티티를 DTO로 매핑하는 가장 좋은 방법은 애플리케이션의 특정 요구사항을 충족시키는 방법입니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 추가 고려 사항\n\n위에서 언급된 요소들 외에도, 엔티티들을 DTO에 매핑할 때 고려해야 할 몇 가지 사항이 있습니다:\n\n- 데이터 유형: 두 클래스의 속성들의 데이터 유형이 호환되는지 확인하세요.\n- Null 값: Null 값을 어떻게 처리할지 고려해보세요.\n- 컬렉션: 두 클래스 중 하나가 속성의 컬렉션을 포함하고 있다면, 컬렉션 내 각 요소에 대한 매핑을 정의해야 합니다.\n\n이러한 사항들을 따르면, 매핑 코드가 정확하고 효율적임을 보장할 수 있습니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 결론\n\nMapStruct와 ModelMapper는 Java 프로젝트에서 엔티티를 DTO로 매핑하거나 그 반대로 하는 데 편리하고 효율적인 솔루션을 제공합니다. 이러한 라이브러리를 도입함으로써 개발자는 보일러플레이트 코드를 크게 줄이고 코드 유지 보수성을 향상시키며 타입 안정성을 보장할 수 있습니다. MapStruct 또는 ModelMapper를 프로젝트에 통합하면 매핑 프로세스를 간소화하여 견고하고 확장 가능한 애플리케이션을 구축하는 데 집중할 수 있습니다.\n\n즐거운 코딩 ;)\n\n아래 기사들도 참고해보세요\n","ogImage":{"url":"/assets/img/2024-05-23-MappingEntitiestoDTOsandviceversainJava_0.png"},"coverImage":"/assets/img/2024-05-23-MappingEntitiestoDTOsandviceversainJava_0.png","tag":["Tech"],"readingTime":7},{"title":"자바 스레드 로컬Thread Locals은 어떻게 동작하나요","description":"","date":"2024-05-23 12:39","slug":"2024-05-23-HowdoJavaThreadLocalswork","content":"\n\u003cimg src=\"/assets/img/2024-05-23-HowdoJavaThreadLocalswork_0.png\" /\u003e\n\n자바에서 쓰레드 로컬(Thread Locals)은 전체 쓰레드 범위를 가지는 변수입니다. 이 말은 쓰레드 어디서든지 이러한 변수를 설정하고, 동일한 쓰레드에서는 어디서든지 액세스할 수 있다는 것을 의미합니다. 한 쓰레드에서 설정된 값은 다른 쓰레드에서 접근할 수 없습니다.\n\n자바 ThreadLocal 클래스에는 두 가지 유형이 있음을 알아야 합니다 — ThreadLocal 및 InheritableThreadLocal. 두 클래스 간의 차이를 살펴봅시다.\n\n# ThreadLocal 클래스\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n아래는 쓰레드 로컬 변수가 선언된 예시입니다. user 변수는 User 타입(Class 또는 Interface)의 변수를 보유하는 ThreadLocal 변수입니다. 여기서 user 변수가 public 및 static으로 선언되어 어디서든 코드 내에서 접근할 수 있도록 설정되었습니다.\n\n```js\n// Declare a Thread Local Variable user\npublic static final ThreadLocal\u003cUser\u003e user\n                     = new ThreadLocal\u003c\u003e();\n```\n\n아래는 쓰레드를 위해 user를 설정하고 가져오는 방법입니다. 예시에서는 'bob'으로 설정된 User 객체에 user 변수를 설정하고, 동일한 쓰레드 내에서 get() 메소드를 호출하면 User 'bob'이 검색됩니다.\n\n```js\n// Sets the calling thread’s value for user\nuser.set(new User(\"bob\"));\n\n// Gets the calling thread’s value for user\nUser requestUser = user.get();\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n사용자 변수가 코드베이스 전체에서 접근 가능하더라도 set(..) 메서드는 전달된 User 객체가 \"호출\" 스레드와 연관되도록 합니다. get() 메서드는 또한 \"호출\" 스레드와 연관된 User 객체를 검색하며, 다른 스레드에서 get() 메서드를 호출하더라도 bob이 아니라 다른 사용자(또는 null)를 검색하지 않습니다. 각 Java 스레드는 해당 스레드에 설정된 모든 스레드 로컬을 포함하는 ThreadLocal Map과 연결됩니다.\n\n만약 아무것도 설정되지 않은 경우 get() 메서드를 호출하면 어떻게 될까요? 이 메서드는 단순히 null을 반환합니다.\n\n그러나 람다 공급자로 초기 User 객체를 반환하는 Thread Local 객체를 생성할 수 있습니다. 아래 예제는 'anonymous'라는 User를 반환하는 공급자를 보여줍니다. 따라서 값이 설정되지 않은 ThreadLocal에 get() 메서드를 호출하면 이전에 값을 설정하지 않았을 때 공급자의 get() 메서드가 호출되며 사용자의 초기 값으로 설정됩니다.\n\n```js\n// 공급자와 함께 Thread Local 변수 user를 선언\npublic static ThreadLocal\u003cUser\u003e user\n          = ThreadLocal.withInitial(\n                () -\u003e new User(\"anonymous\"))\n\n// 'Anonymous'를 반환\nUser requestUser = user.get();\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n다음과 같이 remove() 메서드를 호출하여 이전에 설정된 값을 제거할 수도 있습니다.\n\n```js\n// 호출 스레드의 사용자 값 제거\nuser.remove();\n```\n\n이 방법은 기본적으로 스레드와 관련된 User 객체를 제거합니다. 더 중요한 것은 이 작업으로 다른 스레드에는 영향을 미치지 않는다는 점입니다.\n\n스레드 로컬을 다이어그램 형식으로 시각화한다면(저는 이것을 좋아합니다), 다음과 같이 보일 것입니다. 두 스레드의 사용자 변수가 서로 다른 User 객체를 가리키는 것을 알 수 있습니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/assets/img/2024-05-23-HowdoJavaThreadLocalswork_1.png\" /\u003e\n\n# ThreadLocal 및 자식 스레드\n\n이전 섹션까지의 논의는 주로 한 개의 Java 스레드와 관련되어 있었습니다. 만약 Java 스레드가 새로운 자식 스레드를 시작한다면 어떻게 될까요? 자식 스레드가 부모에서 정의된 Thread Local 변수에 자동으로 액세스할 수 있을까요?\n\n답은 \"아니요\"입니다! 자식 스레드는 부모의 Thread Local에 액세스할 수 없으며 이에 대한 매우 좋은 이유가 있습니다. 만약 액세스 가능하다면, Thread Local 변수에 저장된 객체는 스레드 안전하게 작성되어야 할 것이며 이렇게 되면 여러 스레드가 동일한 사용자 객체에 액세스할 수 있을 것입니다. 이는 Java 엔지니어들에 의한 좋은 기본 디자인 결정입니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n하지만 때로는 그런 액세스가 유용할 때가 있습니다. 많은 사용자가 애플리케이션에 액세스하는 웹 애플리케이션과 같은 시나리오를 상상해보십시오. 요청 처리 중 사용자와 연결된 단일 Java 스레드가 있으며, 이 스레드의 Thread Local 객체에 사용자 객체가 저장되어 있다고 상상할 수 있습니다(이는 많은 응용 프로그램 서버 및 Spring Boot와 같은 프레임워크에서 수행됩니다). 그러나 생성된 자식 스레드도이 사용자 정보에 액세스하길 원할 수 있습니다.\n\n이 시나리오에 대해 Java는 InheritableThreadLocal이라는 다른 클래스를 제공합니다.\n\n# InheritableThreadLocal 클래스\n\n이 클래스를 사용하는 구문은 사실상 ThreadLocal 클래스와 거의 동일합니다. 아래 예제에서는 InheritableThreadLocal 클래스에 대한 해당 메서드를 보여줍니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```java\n// 상속 가능한 쓰레드 로컬 변수 user를 선언합니다\npublic static final InheritableThreadLocal\u003cUser\u003e user = new InheritableThreadLocal\u003c\u003e();\n\n// 호출 중인 쓰레드의 user 값을 설정합니다\nuser.set(new User(\"bob\"));\n\n// 호출 중인 쓰레드의 user 값을 가져옵니다\nUser requestUser = user.get();\n\n// 호출 중인 쓰레드의 user 값을 제거합니다\nuser.remove();\n```\n\n쓰레드 로컬 맵과 마찬가지로, 모든 쓰레드에는 상속 가능한 쓰레드 로컬 변수를 위한 맵이 있습니다. 여기서 큰 차이점은 자식 쓰레드가 생성될 때, 자식의 상속 가능한 쓰레드 로컬 맵이 부모로부터 복제된다는 것입니다. 따라서, 상속 가능한 쓰레드 로컬 변수는 자식 쓰레드에서도 접근할 수 있습니다.\n\n만약 상속 가능한 쓰레드 로컬 변수를 다이어그램 형태로 시각화한다면, 다음과 같이 보일 것입니다. 상속 가능한 쓰레드 로컬 맵이 부모로부터 복제된 것을 볼 수 있습니다.\n\n\u003cimg src=\"/assets/img/2024-05-23-HowdoJavaThreadLocalswork_2.png\" /\u003e\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 함정에 유의하세요!\n\n위 다이어그램에서 명확히 볼 수 있듯이, 상속 가능한 쓰레드 로컬 변수의 장점은 단점이 될 수도 있습니다. 기본적으로, 자식 쓰레드가 생성될 때 상속 가능한 쓰레드 로컬 맵도 복제됩니다. 그러나 부모와 자식 쓰레드에서 동일한 \"User\" 객체를 가리킨다는 것을 알 수 있습니다.\n\n이것은 User 객체가 여러 쓰레드에서 접근될 수 있고 스레드 안전하게 작성되어야 한다는 것을 의미합니다. 다시 말하면 - 단순한 ThreadLocal 클래스와 관련된 스레드 안전성이 InheritableThreadLocal 클래스를 사용할 때는 손실됩니다. 이것은 여러분의 디자인에 완벽히 적합할 수 있습니다 - 이에 문제는 없습니다.\n\n그러나 더 안전한 접근 방식이 있을 수 있습니다. InheritableThreadLocal을 생성할 때 다음과 같이 childValue(..) 메서드를 지정할 수 있습니다. 사실, 아래 예시에서는 초기값과 child 값도 지정합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```java\npublic static final InheritableThreadLocal\u003cUser\u003e user\n                   = new InheritableThreadLocal\u003c\u003e() {\n\n   @Override\n   protected User initialValue() {\n      return new User(\"anonymous\");\n   }\n\n   @Override\n   protected User childValue(User parentValue) {\n      return new User(parentValue.getId());\n   }\n};\n```\n\n위 변경 사항을 통해 상속 가능한 스레드 로컬 맵이 복제될 때 자식에 연관된 값은 childValue(..) 메소드를 사용하여 부모 값이 전달되어 설정됩니다. 상속 가능한 스레드 로컬마다 새로운 객체가 생성되므로, User 객체가 부모 및 자식 스레드 간에 공유되지 않습니다. 이 변경으로 스레드 안전성으로 돌아가지만 User 객체에는 읽기 전용으로 액세스할 수 있게됩니다(사실상 복사본을 생성함).\n\n다시 말하지만, 다이어그램 형식으로 상속 가능한 스레드 로컬을 시각화하면, 이와 같이 보일 것입니다. 이제 부모와 자식 스레드의 사용자가 서로 다른 User 객체를 가리키는 것을 명확히 알 수 있습니다.\n\n![Java Thread Locals 동작 방식](/assets/img/2024-05-23-HowdoJavaThreadLocalswork_3.png)\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n자바 스레드 지역 변수에 대한 좋은 이해를 얻을 수 있기를 바랍니다.\n\n이 게시물이 도움이 되었다면 지원을 표시하기 위해 클로버 아이콘 👏을 몇 번 클릭해 주세요. 읽어 주셔서 감사합니다!\n","ogImage":{"url":"/assets/img/2024-05-23-HowdoJavaThreadLocalswork_0.png"},"coverImage":"/assets/img/2024-05-23-HowdoJavaThreadLocalswork_0.png","tag":["Tech"],"readingTime":8},{"title":"자바 애플리케이션에서 JMX와 프로메테우스로 메트릭 수집하기","description":"","date":"2024-05-23 12:38","slug":"2024-05-23-CollectingMetricswithJMXandPrometheusinaJavaApplication","content":"\n저희 응용 프로그램의 내부 작업, 성능 특성 및 비즈니스 지표를 이해하는 것은 사용자 경험과 비즈니스 상태를 구분짓고, 비즈니스가 어떻게 진행되고 있는지를 나타낼 수 있습니다. 높은 CPU 또는 메모리 사용량, 느린 응답 시간 또는 높은 지연과 같은 성능 문제는 비효율성이나 자원 경합을 지적할 수 있습니다.\n\n하지만 이러한 수치가 사용자에게 영향을 주기 전에 어떻게 감지, 추적 및 관찰할 수 있을까요?\n\n# 소개\n\n우리는 지표를 수집하고 분석함으로써 응용 프로그램의 상태, 동작 및 건강 상태에 대한 통찰력을 얻을 수 있습니다. JMX 및 프로메테우스와 같은 도구를 활용하여 간단한 방식으로 자바 응용 프로그램 지표에 대한 심도있는 가시성을 제공하는 강력한 모니터링 인프라를 구축할 수 있습니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이 글에서는 다음을 배울 것입니다:\n\n- MBeans를 사용한 JMX 계측의 기본 사항.\n- jconsole을 사용하여 JMX에 노출된 메트릭을 시각화하는 방법.\n- Prometheus가 무엇이며 JMX와 통합하여 대시보드에 메트릭을 노출하는 방법.\n- Java Prometheus 에이전트를 구성하고 Prometheus 서버를 실행하는 방법.\n- Prometheus를 사용하여 시계열 데이터를 시각화하는 방법.\n\n![이미지](/assets/img/2024-05-23-CollectingMetricswithJMXandPrometheusinaJavaApplication_0.png)\n\n# JMX란 무엇인가요?\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nJMX (Java Management Extensions)은 애플리케이션, 시스템 객체, 장치 및 서비스 중심 네트워크를 관리하고 모니터링하는 도구를 제공하는 네이티브 Java 기술입니다. 이러한 자원들은 MBeans(또는 관리되는 빈)이라고 불리는 객체로 나타낼 수 있습니다.\n\n작동 방식은 다음과 같습니다: 하나 이상의 MBeans가 리소스에 의해 계측(instrumented)되며, MBeans는 표준(관리 인터페이스가 메서드 이름으로 설명됨) 또는 동적(런타임에 관리 인터페이스를 노출하여 최대 유연성을 제공) 중 하나일 수 있습니다. 그런 다음 MBeans는 MBean 서버로 알려진 코어-관리되는 객체 서버에 등록되어 레지스트리 역할을 하는데, 각 MBean은 ObjectName에 의해 식별된 MBeanServer 내에서 고유한 식별자를 갖습니다.\n\n이것들은 JMX의 기본 사항이지만 이 기사를 따라갈 정도로 충분합니다. 자세히 살펴보고 싶다면, 오라클의 \"Getting Started with Java Management Extensions (JMX): Developing Management and Monitoring Solutions\"라는 오래되었지만 상당히 유용한 기술 포스트를 읽어보시기를 권장합니다.\n\n## Mbeans 구현하기\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nJMX에 메트릭을 노출하는 MBean 규칙은 다음과 같습니다:\n\n- MBean 접미사를 가진 인터페이스를 정의합니다.\n- 이 인터페이스를 클래스에서 구현합니다.\n- 구현을 Platform MBean 서버에 ObjectName을 사용하여 등록합니다.\n\n세 가지 작업(step 1)이 있는 간단한 DemoJmxMBean 인터페이스를 정의해봅시다:\n\n```js\npublic interface DemoJmxMBean {\n    void increaseVolume();\n    void decreaseVolume();\n    int getVolume();\n}\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n다음으로 이 인터페이스를 구현해야 합니다 (단계 2). 다음과 같이 DemoJmx 클래스에서 작업해 봅시다:\n\n```js\npublic class DemoJmx implements DemoJmxMBean {\n    private int volume = 0;\n    @Override\n    public void increaseVolume() {\n        volume++;\n    }\n    @Override\n    public void decreaseVolume() {\n        volume--;\n    }\n    @Override\n    public int getVolume() {\n        return volume;\n    }\n...\n```\n\n이후, MBean 서버를 초기화하고 사용자 정의 MBean (DemoJmx)의 인스턴스를 생성한 다음, main 메소드 내에서 고유한 ObjectName을 사용하여 MBean 서버에 등록해야 합니다 (단계 3). 이 설정을 통해 JMX를 통해 DemoJmx 인스턴스를 관리하고 모니터링할 수 있게 됩니다. 이 경우, 볼륨을 관리하고 수집할 수 있습니다.\n\n```js\n// 모든 MBean을 위한 레지스트리인 플랫폼 MBeanServer를 검색합니다\nMBeanServer mbs = ManagementFactory.getPlatformMBeanServer();\n// MBean 구현의 인스턴스를 생성합니다\nDemoJmx demoService = new DemoJmx();\nObjectName name;\ntry {\n    // 특정 네이밍 패턴을 사용하여 새 ObjectName 인스턴스를 생성합니다\n    name = new ObjectName(\"com.example.DemoJmx:type=DemoJmxMBean,name=DemoJmxMetrics\");\n    // ObjectName을 사용하여 MBean 인스턴스 (demoService)를 MBeanServer에 등록합니다\n    // 이렇게 하면 JMX를 통해 MBean을 관리하고 모니터링할 수 있습니다\n    mbs.registerMBean(demoService, name);\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n시간을 절약하기 위해 전체 코드는 제 Github에서 확인할 수 있어요. 원하는 IDE를 선택하고 이 기사를 따라해보세요.\n\n## 노출된 MBean 시각화\n\n한 번 MBean이 등록되면, 우리는 JMX 클라이언트(예: JConsole)를 사용하여 메트릭에 액세스할 수 있어요. 이 클라이언트는 JVM에 연결되어 등록된 MBeans를 탐색하고 상호 작용할 수 있게 해줍니다 (그림 1).\n\n\u003cimg src=\"/assets/img/2024-05-23-CollectingMetricswithJMXandPrometheusinaJavaApplication_1.png\" /\u003e\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n만약 나처럼 JConsole을 사용 중이라면 MBeans 탭으로 이동하면 DemoJmxMetrics라는 우리의 MBeans가 있을 것입니다 (그림 2).\n\n![DemoJmxMetrics](/assets/img/2024-05-23-CollectingMetricswithJMXandPrometheusinaJavaApplication_2.png)\n\nJConsole UI에 노출된 volume 속성을 확인할 수 있습니다. 그러나 이는 해당 속성의 현재 상태입니다. 만약 우리가 이 속성의 볼륨을 시계열 그래프를 통해 보고 싶다면 어떻게 할까요? 이 임무를 위해 우리는 다른 도구 — Prometheus가 필요합니다. 다음에 소개됩니다.\n\n# Prometheus란 무엇인가요?\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n프로메테우스는 신뢰성과 확장성을 위해 설계된 오픈 소스 시스템 모니터링 및 경고 도구입니다. 특히 동적 클라우드 환경, 컨테이너화된 응용프로그램 및 마이크로서비스 아키텍처의 모니터링에 적합합니다. 프로메테우스는 Cloud Native Computing Foundation (CNCF)의 일부입니다. 이 어떻게 우리를 도울까요?\n\n프로메테우스는 JMX 메트릭을 수집하고 http 엔드포인트를 통해 노출시킵니다. 이 작업을 위해 일반적으로 프로메테우스 JMX 내보내기 도구를 사용합니다. 이 도구는 JMX 메트릭과 프로메테우스 사이의 다리 역할을 하며, 프로메테우스가 다른 메트릭 엔드포인트와 마찬가지로 JMX 메트릭을 수집할 수 있도록 합니다.\n\n이제 프로메테우스가 무엇이며 JMX 속성(또는 메트릭)을 내보내기하는 데 사용할 수 있는 것을 알았으니, 다시 손을 더럽히기 시작해봅시다.\n\n## 프로메테우스 JMX 내보내기로 JMX 메트릭 노출하기\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n단순해요. 먼저 GitHub 릴리스 페이지에서 최신 jmx_prometheus_javaagent-`버전`.jar 파일을 다운로드하세요.\n\n그런 다음 config.yaml(다른 이름일 수도 있음)이라는 설정 파일을 생성하여 JMX Exporter를 구성하세요. 이 파일은 수집할 JMX 메트릭과 Prometheus 메트릭으로의 매핑을 정의할 것입니다.\n\n다음은 promiscuous(넓은 범위) 설정 파일 예시입니다 (수집하려는 항목만 남기도록 필터링할 수 있습니다):\n\n```js\nrules:\n- pattern: \".*\"\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n프로메테우스에 메트릭 유형을 지정하려면 config.yaml에서해야 합니다. 이것은 JMX 익스포터 설명서에 설명되어 있습니다.\n\n다음으로, IntelliJ를 사용 중이라면 Figure 3처럼 Java 애플리케이션의 시작 매개변수로 JMX 익스포터를 Java 에이전트로 추가해야 합니다.\n\n![Figure 3](/assets/img/2024-05-23-CollectingMetricswithJMXandPrometheusinaJavaApplication_3.png)\n\n위와 동일합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```bash\njava -javaagent:./../jmx_prometheus_javaagent-0.20.0.jar=8080:./../config.yaml -classpath mbeans-example/target/classes com.example.DemoJmx\n```\n\n이전에 다운로드한 파일의 경로(jmx_prometheus_javaagent-`버전`.jar 및 config.yaml)를 사용함을 기억해주세요.\n\n이제 우리는 프로메테우스 에이전트가 게시한 메트릭에 /metrics 엔드포인트(http://localhost:8080/metrics)를 통해 액세스할 수 있어야 합니다. 도표 4에서 볼 수 있듯이, 자세히 살펴보면 DemoJmxMetrics 객체와 속성 volume을 확인할 수 있습니다.\n\n![이미지](/assets/img/2024-05-23-CollectingMetricswithJMXandPrometheusinaJavaApplication_4.png)\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이제 데이터가 캡처되는 것을 확인했지만, 이는 확실히 시각화하기에 최적의 방법은 아닙니다. 다음에는 이에 대해 처리해 봅시다.\n\n## 그래프를 통한 데이터 시각화\n\n먼저, JMX 익스포터에서 메트릭을 수집하기 위해 프로메테우스 설정 파일 (prometheus.yml)을 가져옵니다. 그림 5는 이 시점까지의 디렉토리 구조를 보여줌으로써 우리가 길을 잃지 않도록 도와줍니다.\n\n![Figure 5](/assets/img/2024-05-23-CollectingMetricswithJMXandPrometheusinaJavaApplication_5.png)\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n그럼, 새로운 작업을 추가하여 prometheus.yml 구성 파일을 업데이트합니다:\n\n```js\n- job_name: 'jmx-exporter'\n  static_configs:\n    - targets: ['\u003c당신의 IP 주소\u003e:8080']\n```\n\n`your IP address`는 우리의 Java 어플리케이션이 실행 중인 네트워크 인터페이스의 IP로 대체되어야 합니다.\n\n마지막으로, prometheus.yml 파일을 위한 볼륨을 만들어 컨테이너 이미지를 사용하여 Prometheus 서버를 실행합니다:\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\ndocker run \\\n    -p 9090:9090 \\\n    -v ./prometheus.yml:/etc/prometheus/prometheus.yml \\\n    prom/prometheus\n```\n\n모든 것이 잘 되면 콘솔에 다음 메시지가 표시될 것입니다: \"서버는 웹 요청을 받을 준비가 되었습니다.\"\n\n그런 다음, Prometheus 서버 UI 엔드포인트인 http://localhost:9090 으로 이동합니다 (그림 6). 우리의 애플리케이션에서 메트릭이 스크랩되고 있는지 확인하기 위해 상태 메뉴로 이동한 다음 타겟을 선택합니다.\n\n![이미지](/assets/img/2024-05-23-CollectingMetricswithJMXandPrometheusinaJavaApplication_6.png)\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n볼륨 측정치의 변화를 시각화하기 위해 JConsole 인터페이스를 사용하여 볼륨을 증가하거나 감소시킬 수 있습니다 (그림 7).\n\n![Figure 7](/assets/img/2024-05-23-CollectingMetricswithJMXandPrometheusinaJavaApplication_7.png)\n\nincreaseVolume() 또는 decreaseVolume()을 클릭한 후에는 볼륨 속성이 그에 맞게 변경되며 이러한 값은 Prometheus에 업데이트될 것입니다.\n\n그래프를 시각화하기 위해 Graph 메뉴로 이동하여 원하는 메트릭을 검색할 수 있습니다. 그림 8에서는 볼륨이라는 데모용으로 생성한 메트릭을 찾고 있습니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/assets/img/2024-05-23-CollectingMetricswithJMXandPrometheusinaJavaApplication_8.png\" /\u003e\n\n마지막이에요! 프로메테우스 서버가 응용 프로그램을 스크래핑하는 시간 주기를 구성할 수 있고, 다른 여러 옵션들을 파라미터화할 수도 있지만 이 부분은 당신의 요구에 따라 결정됩니다. 학습 목적으로는 충분할 것입니다.\n\n# 최종 고려 사항\n\n이 기사에서는 MBean 규약을 따르는 방법을 배웠습니다. 또한, 시계열 방식으로 이러한 메트릭을 시각화하기 위해 프로메테우스 서버를 설정했습니다. 프로메테우스가 노출하는 데이터를 시각화하기 위해 Grafana와 같은 다른 도구를 사용할 수 있음에 유의하십시오. Grafana는 대시보드를 생성, 탐색 및 공유하는 데 풍부한 기능 세트를 제공하는 도구입니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n기타 유의할 점은 Kafka, RabbitMQ, ActiveMQ 등을 포함한 많은 인기있는 Java 기반 라이브러리들이 기본적으로 JMX(metrics)를 제공한다는 것입니다. 이러한 메트릭들은 여기에서 배운 방법과 마찬가지로 노출될 수 있습니다. 따라서 이러한 MBeans를 활용하여 사용 가능한 메트릭을 찾고 응용 프로그램에서 간편하게 모니터링할 수 있습니다.\n\n마지막으로, 응용 프로그램 내에서 비즈니스 메트릭을 생성하고 수집하는 데도 이 같은 패턴을 적용할 수 있다는 점을 강조해야 합니다. 이 접근 방식은 제품 팀과 다른 이해관계자들을 위한 매우 관련성 높은 대시보드를 만들어주어 가치 있는 통찰력을 제공하고 정보에 근거한 의사 결정을 도울 수 있습니다.\n","ogImage":{"url":"/assets/img/2024-05-23-CollectingMetricswithJMXandPrometheusinaJavaApplication_0.png"},"coverImage":"/assets/img/2024-05-23-CollectingMetricswithJMXandPrometheusinaJavaApplication_0.png","tag":["Tech"],"readingTime":12},{"title":"당신의 차가 당신을 감시하고 보험 회사에 폭로합니다","description":"","date":"2024-05-20 21:37","slug":"2024-05-20-Yourcarspiesonyouandratsyououttoinsurancecompanies","content":"\n## 제품에 대한 비용을 지불하더라도, 여전히 당신이 제품입니다.\n\n![이미지](/assets/img/2024-05-20-Yourcarspiesonyouandratsyououttoinsurancecompanies_0.png)\n\n## 제 새로운 베스트셀러 소설 The Bezzle!으로 투어 중입니다! 내일 샌프란시스코에서 만나요 (3월 13일), 그리고 토론토 (3월 22일), 뉴욕, 애나하임 등에서도 만날 수 있어요!\n\n![이미지](/assets/img/2024-05-20-Yourcarspiesonyouandratsyououttoinsurancecompanies_1.png)\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n또 한 가지 특징적으로 탁월한 Kashmir Hill의 뉴욕 타임스 기사에서 현대 생활에 대한 또 다른 엄청난 사실을 밝히고 있습니다: 여러분의 자동차가 주행에 대한 세부 데이터를 비밀리에 기록하고 데이터 브로커에 판매하며, 이들은 보험사에 판매하여 보험료를 내려고 핑계로 사용합니다.\n\n거의 모든 자동차 제조사가 이를 하고 있습니다: 현대, 닛산, 포드, 크라이슬러 등등:\n\n[자세한 내용을 보려면 여기를 클릭해주세요](https://www.nytimes.com/2024/03/11/technology/carmakers-driver-tracking-insurance.html)\n\n[https://www.repairerdrivennews.com/2020/09/09/ford-state-farm-ford-metromile-honda-verisk-among-insurer-oem-telematics-connections/](https://www.repairerdrivennews.com/2020/09/09/ford-state-farm-ford-metromile-honda-verisk-among-insurer-oem-telematics-connections/)\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n차를 소유하든 임대하든 상관없이 이 사실은 변함없습니다. 또한 이는 보험사가 보험료 할인을 위해 제안한 \"블랙박스\"와는 별개입니다. 다시 말해, 보험사의 감시 기반 할인 제안을 거부하더라도, 그들은 보험료를 지불하지 않고 시장에서 귀속되어 있는 데이터를 구매할 수 있는 수단을 가지고 있습니다.\n\n항상 제가 싫어하는 격언이 있습니다. \"제품 값을 지불하지 않으면, 당신이 제품입니다\"라는 말인데, 그 이유는 이것이 고객을 대우하는 보상 프로그램으로 설정하여, 일등석 승객이 이륙 전에 받는 작은 램킨 따뜻한 견과류와 같이 차이점을 보도록 하는 것입니다. 기업은 고객이 지불할 때 당신을 잘 대하지 않습니다. 기업은 당신을 나쁘게 대하기에 대한 결과를 두려워할 때 당신을 잘 대합니다.\n\n애플을 예로 들어보죠. 이 회사는 IOS 사용자에게 상업 감시로부터 1탭으로 탈퇴할 수 있는 기회를 제공하고, 96% 이상의 사용자가 탈퇴했습니다. 나머지 4%는 혼란스러운 사용자이거나 Facebook에 급여를 받은 사용자일 것입니다. 애플 – 그리고 그 추종자들의 군단 – 는 이를 통해 세상의 불행은 광고 지원 제품을 사용하여 아무런 대가를 지불하지 않을 것으로 기대하는 인색한 \"소비자\"들 때문이라고 주장합니다.\n\n하지만 여기가 중요한 부분입니다. 모든 경쟁사에게 자사의 고객을 감시하는 것을 막은 후, 애플은 그 고객을 비밀리에 감시하기 시작했습니다! 애플은 경쟁사들이 자사의 아이폰 사용자를 감시하지 못하도록 차단한 이후에도 그 고객을 비밀리에 감시하고 데이터를 사용하여 광고를 위해 고객을 타겟팅합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nhttps://pluralistic.net/2022/11/14/luxury-surveillance/#liar-liar\n\n제품을 구매하고 있어도 여전히 제품은 당신입니다 - 회사가 당신을 제품으로 취급해도 괜찮다고 생각한다면요. Apple은 완전히 당신을 제품으로 취급해도 문제가 없습니다. 왜냐하면 Apple은 Apple과 다른 회사들이 당신을 제품으로 취급하는 것을 막았던 역사적 제약이 없기 때문입니다.\n\n저의 맥루한 강연에서 설명한 것처럼, 기술 기업들은 네 가지 힘에 의해 제약을 받을 수 있습니다:\n\nI. 경쟁\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nII. 규제\n\nIII. 자가 도움\n\nIV. 노동\n\n[https://pluralistic.net/2024/01/30/go-nuts-meine-kerle/#ich-bin-ein-bratapfel](https://pluralistic.net/2024/01/30/go-nuts-meine-kerle/#ich-bin-ein-bratapfel)\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n회사들이 실제 경쟁사를 갖고 있을 때 — 산업이 수십 개나 수백 개의 거의 동등한 기업으로 구성될 때 — 그들은 고객들이 다른 경쟁사로 옮겨갈 수 있다는 걱정을 해야 합니다. 40년간의 항공점 소홀은 기업들이 악의적인 합병과 가격 정책을 통해 우위를 확립하는 데 성공했음을 의미하며, 이는 오늘날의 비혈액인 하브스부르크 자본주의를 낳았습니다. 애플과 구글은 모바일 독점체제이고, 구글은 검색 독점체제 등이 있습니다. 기술뿐만 아니라 모든 산업이 이와 같이 보입니다.\n\n경쟁을 없애면 고객들이 대안을 잃는 것 뿐만 아니라 기업들에게 권한을 부여하기도 합니다. 집중된 산업의 회사들은 \"낭비되는 경쟁\"으로부터 해방되며 상당한 이익을 추출할 수 있습니다. 애플과 구글이 모두 앱 매출 및 거래에 대한 동일한 30% 앱 수수료에 \"경쟁적으로\" 도달하는 방식을 생각해보세요. 이 비율은 (비양분적이고 가격 폭리를 부리는) 신용카드 산업이 추출하는 거래 수수료보다 1,000% 이상 높습니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n하지만 카르텔의 권력은 그들의 전쟁 물자의 크기를 넘어서 있습니다. 카르텔의 진정한 권력의 원천은 소수의 기업이 공통된 로비 활동 위치에 도달하고 고수할 수 있는 쉬움에 있습니다. 여기에서 \"규제 캡처\"가 등장합니다: 모바일듀오플리가 그들의 규제기관을 잡는 것이 더 쉽기 때문에 두 기업은 그들의 앱 세금 수십억을 어떻게 쓸지 합의하는 데 쉬움이 있습니다:\n\n[소스](https://pluralistic.net/2022/06/05/regulatory-capture/)\n\n애플 - 그리고 구글, 페이스북, 그리고 당신의 자동차 회사도 - 당신의 개인정보를 침해할 수 있는 이유는 그들이 규제로 제한받지 않기 때문입니다. 마찬가지로 우버는 운전자의 노동 권리를 침해하고 아마존은 소비자 권리를 침해할 수 있습니다. 기술 카르텔은 그들의 규제 기관을 캡처하고 그들에게 법이 앱을 통해 어길 때는 적용되지 않는다고 확신시켰습니다:\n\n[소스](https://pluralistic.net/2023/04/18/cursed-are-the-sausagemakers/#how-the-parties-get-to-yes)\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n다시 말해, Apple은 당신을 감시할 수 있는 이유는 당신을 감시할 수 있기 때문에 허용되기 때문이다. 미국의 마지막 소비자 개인 정보 보호 법은 1988년에 제정되었고, 비디오 대여점 직원이 당신의 VHS 대여 기록을 유출하는 것을 금지합니다. 레이건 시절 이후로 소비자 개인 정보 보호에 대해 미국 의회는 아무런 조치를 취하지 않았습니다:\n\nhttps://www.eff.org/tags/video-privacy-protection-act\n\n그러나 기술은 일부 특별한 안전 방지 장치 유지 특성을 가지고 있습니다. 이러한 특성 중에서 가장 중요한 것은 상호 운용성입니다: 컴퓨터가 어떤 프로그램이든 실행할 수 있는 범용 디지털 기계임을 의미합니다. HP는 서드파티 잉크를 거부하는 프린터를 디자인하고 자체 색 가수분에서 갤런당 10,000달러를 청구할 수 있지만, 다른 사람이 당신의 프린터를 임의의 잉크 카트리지를 허용하도록 만들어주는 프로그램을 작성할 수 있습니다:\n\nhttps://www.eff.org/deeplinks/2020/11/ink-stained-wretches-battle-soul-digital-freedom-taking-place-inside-your-printer\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n기술 회사들은 제품을 엉망으로 만들 생각을 한다면 언제나 경쟁사가 나타나서 언제든 그들과 고객 사이에 클매지화 도구를 제공하고 그것을 들어마신다는 것을 염두에 두어야 했습니다. 만약 광고를 20%나 더 거슬리게 만들어서 순익이 2% 증가한다는 기대 속에서 하는 경우, 40%의 사용자가 광고를 차단하는 방법을 구글링할 수도 있다는 가능성을 고려해야 합니다. 광고를 차단하는 사용자의 수익은 현재 수준의 100%에 머물러 있지 않습니다 - 영원히 0으로 떨어지게 됩니다(어떤 사용자도 결코 \"어떻게 광고 차단을 중지하나요?\" 라고 구글링할 리가 없습니다).\n\n대부분의 웹 사용자들은 광고 차단기를 실행하고 있습니다:\n\nhttps://doc.searls.com/2023/11/11/how-is-the-worlds-biggest-boycott-doing/\n\n웹 운영자들은 제안을 했습니다(\"무제한 감시와 방해 없는 침입 대신 무료 웹사이트를 제공하겠다\") 그리고 사용자들은 대안을 제안했습니다(\"그건 괜찮은데요?\"):\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nhttps://www.eff.org/deeplinks/2019/07/adblocking-how-about-nah\n\n여기 요점이에요: 앱을 역공학하거나 다른 지식 재산권으로 보호된 기술을 분석하는 것은 법적으로 미끄러운 땅입니다. 앱을 디컴파일하는 것만으로도 DMCA의 섹션 1201을 위반하여 5년의 징역형과 50만 달러의 벌금에 처할 수 있습니다. 하지만 DMCA 뿐만 아니라 현대 제품은 경쟁사가 제품을 보완, 재구성 또는 적응하는 것을 막기 위해 IP 법을 적용할 수 있는 하이테크 함정으로 둘러싸여 있습니다. 기업이 \"IP를 보유했다\"고 말할 때는 그들이 고객, 비평가 및 경쟁사를 통제하기 위해 국가의 권력을 발동할 수 있도록 법적 사안을 처리했다는 뜻입니다:\n\nhttps://locusmag.com/2020/09/cory-doctorow-ip/\n\n\"앱\"은 광고 차단기를 추가하는 것을 범죄로 만들기 충분한 IP로 된 웹 페이지에 불과해요. 이것이 Jay Freeman이 \"비즈니스 모델에 대한 고의적인 경멸죄\"라고 부르는 것이며, 어디에나 있습니다. 기업들이 사용자들이 제품을 개선하는 자체적인 조치를 취할 것을 걱정할 필요가 없을 때, 그들은 제품에서 가치를 고객으로부터 자신들로 옮기는 충동을 피하는 제한에서 해방됩니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n애플의 존재는 상호 운용성(interoperability) 덕분입니다. 애플은 마이크로소프트 오피스 파일 형식을 복제하여 Pages, Numbers 및 Keynote용으로 사용한 능력 덕분에 2000년대 초 기업을 살렸습니다. 그 이후로 애플은 다른 사람들이 애플에게 했던 것처럼 애플에게 행하지 않도록 자신의 존재를 바쳤습니다.\n\n규제 캡쳐는 양날의 칼입니다: 이것은 강력한 기업들이 법을 무시하기에 방해가 되지만, 그들이 노동자, 고객, 공급업체 또는 다른 이해관계자들의 이익을 토대로 기업을 납득시키기 위해 법률을 동원할 수 있는 능력에 관한 것입니다.\n\n기술 기업에 대한 최종적인 역사적 제약은 그들의 노동자들이었습니다. 기술 산업의 노동 조합 밀도는 매우 낮았지만, 개별 기술 노동자들은 그들의 희소성으로 인해 많은 협상력을 갖추었습니다. 이것이 왜 그들의 상사들이 고급 카페테리아, 화려한 체육관 및 무료 마사지로 가득 찬 기발한 캠퍼스를 제공했는지 설명합니다. 이것은 기술 기업이 기술 노동자들을 달래기 위해 그들에게 세계를 디지털 미래로 이끄는 임무의 파트너라고 납득시킨 것입니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nhttps://pluralistic.net/2023/09/10/the-proletarianization-of-tech-workers/\n\n테크 보스들에게는 이런 전략이 잘 통했지만, 심각한 실패를 했습니다. 한편으로는, Fobazi Ettarh의 \"직업적 경외심\" 정신을 발동시켜, 그들은 그렇지 않았던 강력한 노동자들로 하여금 \"극단적으로 열정적\" 하도록 동의하게 했습니다:\n\nhttps://www.inthelibrarywiththeleadpipe.org/2018/vocational-awe/\n\n다른 한편으로는, 귀하의 노동자들에게 미션에 대한 감동을 일으킨다면, 단점은 그들이 미션을 느낀다는 것입니다. 즉, 테크 업무자에게 어떤 것을 가치 있게 만드라고 요구할 때, 그들은 어머니의 장례를 놓치고 쏟아부은 것을 하게 하고 싶다면, 그들은 심각한 도덕적 상처를 경험하게 되고 거부할 것이며, 해당 노동자의 교섭력은 그들이 그것을 고수하게 할 수 있다는 것을 의미합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n값을 지불하지 않았기 때문이 아니라, 제품을 판매하기 위해 사생활 정보를 수집하고 누구든지 원하는 사람에게 판매하는 선택을 했습니다. 제품을 위해 지불하지 않았으니 당신이 제품이 되는 것이 아니라, 그들이 그렇게 할 수 있기 때문입니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n차량에는 엉망으로 설치된 칩들이 있습니다. 자동차 제조사들이 자동차 디자인에 넣은 수십 개의 칩들은 더 나은 제품을 전달하는 데 부수적으로 관련이 있습니다. 이러한 칩들의 주요 용도는 자체 고객들의 무차별한 악용에 방해가 되는 수정 및 수리를 차단하는 법적 규제 (\"IP\")에 접근하는 것입니다:\n\n[Pluralistic 링크](https://pluralistic.net/2023/07/24/rent-to-pwn/#kitt-is-a-demon)\n\n자동차 소프트웨어의 엔지니어링을 뒤집고 수정하는 것이 범죄로 간주된다는 사실은 각종 엉망스러운 사기행위로 가득 차게 합니다. 매사추세츠의 자동차 제조업체들에게 '수리권 확보' 의무를 부과하기 위해 투표를 진행했던 때가 있었는데 기억하시나요? 수리권을 실현하기 위해 법적 개입이 필요한 유일한 이유는 대형 자동차 업체들이 진단 메시지를 암호화함으로써 제3자의 자동차 진단을 범죄화할 수 있음을 깨달았기 때문입니다. 왜냐하면 메시지의 복호화는 DMCA를 위반하기 때문이죠:\n\n[EFF 링크](https://www.eff.org/deeplinks/2013/11/drm-cars-will-drive-consumers-crazy)\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n'Big Car'가 VIN 잠금을 해제했는데, 엔진 부품 및 부속품용 DRM은 제삼자 스페어 파츠의 생산 및 설치를 범죄화시킬 수 있습니다:\n\nhttps://pluralistic.net/2022/05/08/about-those-kill-switched-ukrainian-tractors/\n\n자동차를 법적으로 수정할 수 없다는 사실은 자동차 제조업체가 자신들이 최저금리 대출을 판매하는 동안 무관리 은행으로 돌아갈 수 있다는 점을 의미합니다. 최저금리 자동차 대출 - 1조 달러 이상의 가치가 있는 물건! - 은 빌린 사람들의 차량이 렌더마이 중앙에서 원격으로 제어될 수 있음을 절대적으로 요구합니다. 한 번 납부를 잃어버리면 차량의 스테레오가 자동으로 켜지고 최대 볼륨으로 위협 메시지를 송출합니다. 그것을 끌 수 없습니다. 차량을 카운티 선을 넘어 운전하지 않겠다고 하는 임대 계약을 위반하면 차량이 기본 기능을 중지시킵니다. 이러한 소프트웨어 중 하나를 변경하려고 하면 DMCA의 1201조에 따라 범죄를 저지를 것입니다:\n\nhttps://pluralistic.net/2021/04/02/innovation-unlocks-markets/#digital-arm-breakers\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n테슬라는 당연히 가장 고급스러운 안티-기능을 가지고 있습니다. BMW가 좌석 난방기를 렌트하려고 하거나, 메르세데스가 엑셀러레이터 페달에 매월 구독 서비스를 판매하려고 한 것보다 훨씬 오래전에 만든 것들이죠. 테슬라는 악마에 쫓기는 악몽 같은 자동차였습니다. 테슬라의 할부금을 놓치면 자동차가 기동을 중지하고 잠겨서 회수인이 오기 전까지는 잠금 상태가 유지됩니다. 그 후 자동차는 경적을 울리고 주차 공간에서 빠져나옵니다. 자동차의 배터리를 완전히 충전하거나 기본으로 제공된 기능을 사용하기 위해 \"구입\"하면, 그것들을 소유한 것이 아닙니다. 자동차가 소유주를 바꿔야 하는 경우, 이러한 기능들은 회수되어 중고 시장에서 차량의 다음 소유자가 이러한 기능을 다시 구매해야 해서 중고 가격이 낮아지게 됩니다:\n\nhttps://pluralistic.net/2023/07/28/edison-not-tesla/#demon-haunted-world\n\n또한 이 모든 DRM으로 제작업체는 제거할 수 없는 스파이웨어를 설치할 수 있습니다. 실제로 R2R 전략이 80% 승리를 향해 나아가는 동안 벽벽에 무서운 광고가 속출하여 자동차가 당신에 대해 수집하는 정보가 매우 많다는 점을 공개하였습니다. 서드파티가 이 정보에 접근하는 것으로 인해 당신의 살인 사건이 발생할 수 있다고 밝혔는데, 정말로요!\n\nhttps://pluralistic.net/2020/09/03/rip-david-graeber/#rolling-surveillance-platforms\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n그래서 당신의 자동차가 당신을 스파이하는 거죠. 그것이 가능하기 때문입니다. 그것을 만든 회사가 시장, 법률, 기술 또는 자체 직원의 윤리에 제약이 없기 때문입니다.\n\n제 enshittification 가설에 대한 일반적인 비판 중 하나는 이것이 \"종교적으로 합리적이고 정상적이다\"라는 것입니다. 왜냐하면 \"인터넷이 우리에게 놀라운 제품을 제공해주고, 우리에게 기쁨과 행복을 주며 하루 종일 걸쳐 사용하는데 아무것도 요구하지 않아야 한다\"고 믿기 시작했기 때문입니다:\n\n[https://freakonomics.com/podcast/how-to-have-great-conversations/](https://freakonomics.com/podcast/how-to-have-great-conversations/)\n\n이 비판이 놓치는 점은 기업이 우리로부터 어떤 가치를 가져다가 그들에게 이전시키려고 하는 협상을 하는 것이 아니라는 것입니다. Enshittification은 기업이 제품과 서비스가 우리가 의존하는 방식을 단순히 변경하도록 법률과 기술, 시장 권력을 이용하여 협상없이 모든 그 가치를 쥐면 발생합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n경쟁업체, 규제당국, 탈옥, 또는 근로자들이 제품을 역겹게 만들겠다며 거부하는 것을 두려워하지 않아도 되는 회사는 시장 협상을 할 필요가 없습니다. 그냥 가져갈 수 있죠. 다스 베이더 MBA에서 가르치는 첫 번째 수업입니다: \"거래를 변경하겠다. 나는 더 변경하지 않기를 기도하라\":\n\n[Pluralistic](https://pluralistic.net/2023/10/26/hit-with-a-brick/#graceful-failure)\n\n자동차가 당신을 스파이하는 것은 당신의 믿음 때문이 아닙니다. 자동차회사가 \"당신이 하루 종일 보내며 기쁨과 행복을 제공해야 하며, 그에 대한 보상을 요구해서는 안 된다\"라고 생각하는 것도 아닙니다. 제품에 값을 지불하지 않았기 때문에 이제 당신이 제품이 되었기 때문이 아닙니다. 이것은 그들이 그렇게 할 수 있기 때문입니다.\n\n이 스파이 활동의 결과는 보험료 인상에 그치지 않습니다. 자동차 텔레메트리는 우리의 데이터를 수집하고 판매하는 믿을 수 없을 만큼 트릭을 부리는 데이터 브로커 산업이 사용하는 퍼널의 꼭대기에 위치합니다. 이 회사들은 당신이 낙태 클리닉을 방문한 사실을 마케터, 현상금 사냥꾼, 광고주 또는 보복적인 가족 구성원들에게 판매하는 것과 같이 행합니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nhttps://pluralistic.net/2022/05/07/safegraph-spies-and-lies/#theres-no-i-in-uterus\n\n수십 년간의 친독점 정책으로 인해 광범위한 규제 캡처가 발생했습니다. 기업 카르텔은 우리로부터 추출한 독점 수익을 사용하여 규제 불이행을 지불하고, 이로써 더 많은 이익을 채취할 수 있습니다.\n\n그러나 개인 정보 보호에 관해서는 그 경기가 어떤 종식을 맞게 될 것입니다. 개인 정보 보호 규정의 부재는 많은 문제의 근본에 있어서, 개인 정보 보호 운동이 끊임없이 자신을 지지하는 선택유권을 가지게 되는 것입니다.\n\nEFF에서는 이를 \"개인 정보 우선\"이라고 부릅니다. 취약한 사람들을 음모 이론으로 겨누는 사기꾼, 정신적 건강을 해치는 미디어로 대상을 향하는 십대들, 외국 정부에 의해 감시당하는 미국인들, 혹은 경찰이 시위자들을 소탕하기 위해 상업 감시 데이터를 이용하는 등, 이 모든 해를 원동력으로 하는 데이터 유출의 수도꼭지를 닫을 수 있는 상당한 개인 정보 보호 입법을 제정하면:\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n[https://www.eff.org/wp/privacy-first-better-way-address-online-harms](https://www.eff.org/wp/privacy-first-better-way-address-online-harms)\n\n전통적인 경제학은 시장에 대한 생각 없이 권력에 대해 생각하기 때문에 실패합니다. 독점은 시장 권력 이상으로 이어지며, 규제 기반역습, 노동자들에 대한 권력, 그리고 IP 법을 통해 경쟁을 범죄화합니다. 우리의 문제가 단지 돈을 충분히 쓰지 않거나 잘못된 제품을 사는 데서 비롯된다는 이야기는 기업들이 우리 삶에 행사하는 권력을 일부러 무시한다면 의미가 있습니다. 독점에서 벗어나려고 소비한다는 생각은 좋지만, 독점에서 투표해서 벗어난다는 것보다 훨씬 쉽기 때문에, 지갑으로 투표하는 것이 언제나 이기려는 시장을 통제하는 군사들에게서 이길 것입니다:\n\n[https://pluralistic.net/2024/03/05/the-map-is-not-the-territory/#apor-locksmith](https://pluralistic.net/2024/03/05-the-map-is-not-the-territory/#apor-locksmith)\n\n![Image](/assets/img/2024-05-20-Yourcarspiesonyouandratsyououttoinsurancecompanies_2.png)\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 험블 코리 닥터로 번들로 18권의 DRM 없는 전자책을 자유롭게 선택할 가격을 정해주세요. 또한, Electronic Frontier Foundation을 지원할 수 있습니다.\n\n만약 이 게시물의 에세이 형식 버전이 필요하다면, 아래 링크를 통해 저의 추적 불가능하고 광고 없는 블로그인 pluralistic.net에서 읽거나 공유해보세요:\n\n[https://pluralistic.net/2024/03/12/market-failure/#car-wars](https://pluralistic.net/2024/03/12/market-failure/#car-wars)\n\n![Cryteria (modified)](https://commons.wikimedia.org/wiki/File:HAL9000.svg)\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nCC BY 3.0\nhttps://creativecommons.org/licenses/by/3.0/deed.en\n","ogImage":{"url":"/assets/img/2024-05-20-Yourcarspiesonyouandratsyououttoinsurancecompanies_0.png"},"coverImage":"/assets/img/2024-05-20-Yourcarspiesonyouandratsyououttoinsurancecompanies_0.png","tag":["Tech"],"readingTime":17},{"title":"자신의 PC에서 대규모 언어 모델 실행하기 개인 정보 보호 및 그 이상","description":"","date":"2024-05-20 21:36","slug":"2024-05-20-RunningLargeLanguageModelsonyourPCprivacyandbeyond","content":"\n![Running LLM on Your PC: Privacy and Beyond](/assets/img/2024-05-20-RunningLargeLanguageModelsonyourPCprivacyandbeyond_0.png)\n\n이 첫 번째 기사를 통해, 인터넷 연결 없이 PC에 로컬로 내 LLM을 설치하고 설정하고 실행하는 여정을 문서화할 일련의 기사를 시작합니다.\n\n내 PC에서 이 프로젝트를 구축하고 개인적으로 사용하기로 결정한 이유는 이 기사에서 확인할 수 있습니다.\n\nChat-GPT 3.5와 비슷하거나 심지어 동일한 기능을 가지려고 합니다. 이것은 이루기 어렵게 들릴 수 있지만, 기술은 매일 발전하고 있으며, 적절한 하드웨어, 소프트웨어 및 LLM의 조합을 통해 가능할 것으로 생각합니다. 이 과정에서 취하는 단계, 최적화 및 조정, 실수와 성공, 사용하는 소스, 그리고 향후 하드웨어 업그레이드에 대해 공유할 것입니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이 여정이 끝날 때 모든 기사들은 사용자 안내서로 요약될 것이며, 저는 이를 무료로 발행하여 누구나 이 경험에서 혜택을 받고 직접 시도해볼 수 있도록 할 것입니다. 물론 이 과정에서 모든 의견, 제안 및 지침은 환영합니다.\n\n이 여정이 시작되기 전에, 로컬 및 프라이빗 LLM을 위한 기반이 될 하드웨어와 소프트웨어인 나의 출발점을 공유할 것입니다.\n\n나의 초기 컴퓨터 구성은 다음과 같습니다:\n\n- CPU: AMD Ryzen 9 7950X3D, 16코어 @ 4.20 GHz\n- RAM: Corsair VENGEANCE DDR5, 64GB (2 X 32 GB)\n- HDD: 삼성 990 EVO NVMe™ M.2 SSD (1 TB 각 2개)\n- 비디오: Nvidia GeForce RTX 4070, 12GB (평택 에디션)\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이 설정의 소프트웨어 구성 요소는 다음과 같습니다:\n\n- Windows 11 Pro, ver. 23H2 (주 OS)\n- Ubuntu 22.04 (Windows PowerShell 콘솔에 설치 및 실행됨)\n- Ollama (LLM을 위해)\n- Docker (컨테이너용)\n- Python 3.11 (데이터 세트 및 일부 라이브러리 및 구성 요소 용)\n- Visual Studio Code (필요할 때 코딩을 위해)\n\nWindows PowerShell 콘솔에 Ubuntu를 설치해야 합니다. Windows에서 \"시작\" 메뉴를 열고 \"실행\"을 입력하고 새 창에서 \"PowerShell\"을 입력한 후 Enter 키를 누르십시오. 콘솔에서 다음 명령을 입력하십시오:\n\n```js\nwsl --install\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n설치 프로세스를 시작하고, 완료되면 Linux용 사용자 이름과 비밀번호를 입력하라는 메시지가 표시됩니다. 성공적으로 설치되면 다음과 같은 화면을 볼 수 있습니다:\n\n![이미지](/assets/img/2024-05-20-RunningLargeLanguageModelsonyourPCprivacyandbeyond_1.png)\n\n설치가 끝나면 Ubuntu 배포판을 업데이트하고 업그레이드하는 것과 같은 좋은 실천 동작들을 수행해야 합니다. 다음 명령어를 사용하여 이를 실행할 수 있습니다(사용자 이름과 비밀번호가 요청될 것입니다):\n\n```bash\nsudo apt update\nsudo apt upgrade -y\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이제 여러 추가 패키지가 설치됩니다. 그리고 이로써 귀하의 로컬 PC에 Ubuntu를 설치하는 작업이 완료되었습니다.\n\n다음은 Ollama입니다. 이를 통해 LLMs를 설치하고 실행할 수 있습니다.\n\n참고: Ollama를 설치하기 전에 이미 Linux 환경에 있는지 확인하세요. Ubuntu를 시작하려면 다음 명령을 입력하십시오:\n\n```js\nwsl -d Ubuntu\n```\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n설치는 콘솔에서 다시 실행되며 다음 명령어로 실행할 수 있습니다:\n\n```js\ncurl -fsSL https://ollama.com/install.sh | sh\n```\n\n성공적으로 설치되면 이 화면이 표시되어야 합니다. 여기서 중요한 점은 프로세스가 완료된 후 비디오 카드가 인식되어야 한다는 것입니다 (빨간색으로 표시됨).\n\n\u003cimg src=\"/assets/img/2024-05-20-RunningLargeLanguageModelsonyourPCprivacyandbeyond_2.png\" /\u003e\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n비디오 카드는 NVIDIA에서 제공하는 것이 좋습니다. 큰 언어 모델 작업에 있어서 결정적인 부분입니다. 머신에 설치된(또는 적합한) 카드가 없는 경우 모델은 CPU 전력을 사용하게 되어 작업이 훨씬 느리고 정확도가 떨어지게 됩니다.\n\nOllama를 설치한 후에는 하나 이상의 대형 언어 모델(LLM)을 설치해야 합니다. 저는 llama2:13b를 선택하여 Meta에서 제공하는 130억 파라미터 모델을 설치했습니다. 이 모델은 제 개인 GPT에서 사용하고 제 데이터로 훈련시킬 모델입니다. 모델 크기는 7.4GB이므로 제 12GB (RTX 4070 FE) 비디오 카드에 적합합니다.\n\n![Running Large Language Models on your PC: Privacy and Beyond](/assets/img/2024-05-20-RunningLargeLanguageModelsonyourPCprivacyandbeyond_3.png)\n\n설치는 콘솔과 리눅스 환경에서 다시 진행됩니다. 아래 명령어로 실행할 수 있습니다:\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n오레카 풀라마 2:13b\n\n모델을 다운로드하고 하드 드라이브에 저장하는 프로세스가 시작됩니다. 프로세스를 시작하기 전에 충분한 여유 공간이 있는지 확인하세요. 공간이 부족한 경우, llama:7b와 같은 더 작은 모델을 다운로드할 수도 있습니다. 이는 동일한 명령으로 수행할 수 있습니다: \"llama:13b\"를 \"llama:7b\"로 교체하면 됩니다. 7b 모델은 4.7GB이며, llama:13b 대신 사용할 수 있습니다.\n\n성공적인 설치 후 다음 화면을 볼 수 있어야 합니다:\n\n![image](/assets/img/2024-05-20-RunningLargeLanguageModelsonyourPCprivacyandbeyond_4.png)\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n모델이 이미 하드 드라이브에 있으면 상호 작용을 시작할 수 있습니다. 다음 명령어로 콘솔에서 수행할 수 있어요:\n\n```js\nollama run llama:13b\n```\n\nEnter 키를 누르면 다음 메시지가 표시됩니다:\n\n메시지를 전송하세요 (도움말을 보려면 /?)\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이제 모델이 준비되어 입력을 받을 준비가 되었습니다. 리눅스 환경에서 모델을 실험하고 탐색하여 기능을 느끼고 전파를 연습할 수 있습니다. 상호 작용은 다음과 같아야 합니다:\n\n![image](/assets/img/2024-05-20-RunningLargeLanguageModelsonyourPCprivacyandbeyond_5.png)\n\n이제 1단계인 리눅스 및 LLM 설치를 마치며 마무리합니다. 이제 인터넷 연결 없이도 로컬 PC에서 LLM을 실행하고 사용할 수 있습니다.\n\n다음 글에서는 컨테이너를 위해 Docker를 설치하고 모델을 위한 웹 인터페이스를 설치하고 모델을 훈련 및 최적화하는 데 도움이 되는 기타 Python 라이브러리와 도구를 검토할 것입니다.\n\n\u003c!-- ui-station 사각형 --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n다음에 또 봐요!\n\nStan\n","ogImage":{"url":"/assets/img/2024-05-20-RunningLargeLanguageModelsonyourPCprivacyandbeyond_0.png"},"coverImage":"/assets/img/2024-05-20-RunningLargeLanguageModelsonyourPCprivacyandbeyond_0.png","tag":["Tech"],"readingTime":7}],"page":"70","totalPageCount":113,"totalPageGroupCount":6,"lastPageGroup":20,"currentPageGroup":3},"__N_SSG":true},"page":"/posts/[page]","query":{"page":"70"},"buildId":"T_Nz0g9U1yttYMSEma95P","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>