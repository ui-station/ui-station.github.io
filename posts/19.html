<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>ui-station</title><meta name="description" content="I develop websites, games and apps with HTML, CSS and JS."/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://ui-station.github.io///posts/19" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="ui-station" data-gatsby-head="true"/><meta property="og:title" content="ui-station" data-gatsby-head="true"/><meta property="og:description" content="I develop websites, games and apps with HTML, CSS and JS." data-gatsby-head="true"/><meta property="og:image" content="/favicons/ms-icon-310x310.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://ui-station.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://ui-station.github.io///posts/19" data-gatsby-head="true"/><meta name="twitter:title" content="ui-station" data-gatsby-head="true"/><meta name="twitter:description" content="I develop websites, games and apps with HTML, CSS and JS." data-gatsby-head="true"/><meta name="twitter:image" content="/favicons/ms-icon-310x310.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | ui-station" data-gatsby-head="true"/><meta name="next-head-count" content="18"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BHFR6GTH9P"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-BHFR6GTH9P');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/a22d13b8e6bc8203.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a22d13b8e6bc8203.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/873-8ce515d2b46d0f43.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bpage%5D-cd321dee6458c228.js" defer=""></script><script src="/_next/static/T_Nz0g9U1yttYMSEma95P/_buildManifest.js" defer=""></script><script src="/_next/static/T_Nz0g9U1yttYMSEma95P/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="posts_container__s9Z_H posts_-list__bsl0U"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">UI STATION</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><div class="posts_inner__HIBjT"><article><h2 class="SectionTitle_section_title__HS_xr">Posts</h2><div class="posts_project_list__oDV_y"><div class="PostList_post_list__or0rl"><a class="PostList_post_item__gAdVi" aria-label="MLOps ì‘ì—…ì„ ìœ„í•œ GPUì™€ í•¨ê»˜ Kubernetes ì‚¬ìš© ë°©ë²•" href="/post/2024-06-23-KuberneteswithGPUforMLOpsWorkloads"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="MLOps ì‘ì—…ì„ ìœ„í•œ GPUì™€ í•¨ê»˜ Kubernetes ì‚¬ìš© ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-KuberneteswithGPUforMLOpsWorkloads_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="MLOps ì‘ì—…ì„ ìœ„í•œ GPUì™€ í•¨ê»˜ Kubernetes ì‚¬ìš© ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">MLOps ì‘ì—…ì„ ìœ„í•œ GPUì™€ í•¨ê»˜ Kubernetes ì‚¬ìš© ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">9<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Snowpark Container Servicesì—ì„œ Pytorch ì‹¤í–‰í•˜ëŠ” ë°©ë²•" href="/post/2024-06-23-SoYouWantToJustGetPytorchRunninginSnowparkContainerServices"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Snowpark Container Servicesì—ì„œ Pytorch ì‹¤í–‰í•˜ëŠ” ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-SoYouWantToJustGetPytorchRunninginSnowparkContainerServices_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Snowpark Container Servicesì—ì„œ Pytorch ì‹¤í–‰í•˜ëŠ” ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">Snowpark Container Servicesì—ì„œ Pytorch ì‹¤í–‰í•˜ëŠ” ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">16<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Nextjs ì•±ì„ Dockerizeí•˜ëŠ” ë°©ë²•" href="/post/2024-06-23-DockerizeaNextjsApp"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Nextjs ì•±ì„ Dockerizeí•˜ëŠ” ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-DockerizeaNextjsApp_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Nextjs ì•±ì„ Dockerizeí•˜ëŠ” ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">Nextjs ì•±ì„ Dockerizeí•˜ëŠ” ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">10<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Docker, Uptime Kuma, ê·¸ë¦¬ê³  Traefikì„ ì‚¬ìš©í•˜ì—¬ ì›¹ì‚¬ì´íŠ¸ ëª¨ë‹ˆí„°ë§ í•˜ëŠ” ë°©ë²•" href="/post/2024-06-23-UseDockerUptimeKumaandTraefikToMonitorYourWebsite"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Docker, Uptime Kuma, ê·¸ë¦¬ê³  Traefikì„ ì‚¬ìš©í•˜ì—¬ ì›¹ì‚¬ì´íŠ¸ ëª¨ë‹ˆí„°ë§ í•˜ëŠ” ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-UseDockerUptimeKumaandTraefikToMonitorYourWebsite_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Docker, Uptime Kuma, ê·¸ë¦¬ê³  Traefikì„ ì‚¬ìš©í•˜ì—¬ ì›¹ì‚¬ì´íŠ¸ ëª¨ë‹ˆí„°ë§ í•˜ëŠ” ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">Docker, Uptime Kuma, ê·¸ë¦¬ê³  Traefikì„ ì‚¬ìš©í•˜ì—¬ ì›¹ì‚¬ì´íŠ¸ ëª¨ë‹ˆí„°ë§ í•˜ëŠ” ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">10<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="ìŠ¤í”„ë§ ë¶€íŠ¸ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë„ì»¤ë¼ì´ì§• ë°©ë²• ë‹¨ê³„ë³„ ê°€ì´ë“œ" href="/post/2024-06-23-HowtoDockerizeSpringBootMicroservicesAStep-by-StepGuide"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="ìŠ¤í”„ë§ ë¶€íŠ¸ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë„ì»¤ë¼ì´ì§• ë°©ë²• ë‹¨ê³„ë³„ ê°€ì´ë“œ" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-HowtoDockerizeSpringBootMicroservicesAStep-by-StepGuide_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="ìŠ¤í”„ë§ ë¶€íŠ¸ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë„ì»¤ë¼ì´ì§• ë°©ë²• ë‹¨ê³„ë³„ ê°€ì´ë“œ" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">ìŠ¤í”„ë§ ë¶€íŠ¸ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë„ì»¤ë¼ì´ì§• ë°©ë²• ë‹¨ê³„ë³„ ê°€ì´ë“œ</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">6<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Poetryë¡œ ì´ˆê³ ì† Python Docker ë¹Œë“œ í•˜ëŠ” ë°©ë²• " href="/post/2024-06-23-BlazingfastPythonDockerbuildswithPoetry"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Poetryë¡œ ì´ˆê³ ì† Python Docker ë¹Œë“œ í•˜ëŠ” ë°©ë²• " loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-BlazingfastPythonDockerbuildswithPoetry_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Poetryë¡œ ì´ˆê³ ì† Python Docker ë¹Œë“œ í•˜ëŠ” ë°©ë²• " loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">Poetryë¡œ ì´ˆê³ ì† Python Docker ë¹Œë“œ í•˜ëŠ” ë°©ë²• </strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">12<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="ì €ë ´í•œ ë‚ ì”¨ ê´€ì¸¡ì†Œì™€ ê¸°ì¡´ ì¥ë¹„ë¡œ ê°œì¸ DevOps ìŠ¤íƒ€ì¼ ë‚ ì”¨ ëŒ€ì‹œë³´ë“œ ë§Œë“œëŠ” ë°©ë²•" href="/post/2024-06-23-HowIturnedacheapweatherstationandawholelotofthingsIalreadyownintoapersonalDevOps-styleweatherdashboard"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="ì €ë ´í•œ ë‚ ì”¨ ê´€ì¸¡ì†Œì™€ ê¸°ì¡´ ì¥ë¹„ë¡œ ê°œì¸ DevOps ìŠ¤íƒ€ì¼ ë‚ ì”¨ ëŒ€ì‹œë³´ë“œ ë§Œë“œëŠ” ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-HowIturnedacheapweatherstationandawholelotofthingsIalreadyownintoapersonalDevOps-styleweatherdashboard_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="ì €ë ´í•œ ë‚ ì”¨ ê´€ì¸¡ì†Œì™€ ê¸°ì¡´ ì¥ë¹„ë¡œ ê°œì¸ DevOps ìŠ¤íƒ€ì¼ ë‚ ì”¨ ëŒ€ì‹œë³´ë“œ ë§Œë“œëŠ” ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">ì €ë ´í•œ ë‚ ì”¨ ê´€ì¸¡ì†Œì™€ ê¸°ì¡´ ì¥ë¹„ë¡œ ê°œì¸ DevOps ìŠ¤íƒ€ì¼ ë‚ ì”¨ ëŒ€ì‹œë³´ë“œ ë§Œë“œëŠ” ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">22<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="GitLabì—ì„œ Dockerë¥¼ ì‚¬ìš©í•˜ì—¬ Playwright í…ŒìŠ¤íŠ¸ ì‹¤í–‰í•˜ëŠ” ë°©ë²•" href="/post/2024-06-23-RunningPlaywrighttestswithDockeronGitLab"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="GitLabì—ì„œ Dockerë¥¼ ì‚¬ìš©í•˜ì—¬ Playwright í…ŒìŠ¤íŠ¸ ì‹¤í–‰í•˜ëŠ” ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-RunningPlaywrighttestswithDockeronGitLab_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="GitLabì—ì„œ Dockerë¥¼ ì‚¬ìš©í•˜ì—¬ Playwright í…ŒìŠ¤íŠ¸ ì‹¤í–‰í•˜ëŠ” ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">GitLabì—ì„œ Dockerë¥¼ ì‚¬ìš©í•˜ì—¬ Playwright í…ŒìŠ¤íŠ¸ ì‹¤í–‰í•˜ëŠ” ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">9<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Alpine, Distroless, ì•„ë‹ˆë©´ Scratch ë„ì»¤ ì´ë¯¸ì§€ ì„ íƒ ê°€ì´ë“œ" href="/post/2024-06-23-alpinedistrolessorscratch"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Alpine, Distroless, ì•„ë‹ˆë©´ Scratch ë„ì»¤ ì´ë¯¸ì§€ ì„ íƒ ê°€ì´ë“œ" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-alpinedistrolessorscratch_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Alpine, Distroless, ì•„ë‹ˆë©´ Scratch ë„ì»¤ ì´ë¯¸ì§€ ì„ íƒ ê°€ì´ë“œ" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">Alpine, Distroless, ì•„ë‹ˆë©´ Scratch ë„ì»¤ ì´ë¯¸ì§€ ì„ íƒ ê°€ì´ë“œ</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">9<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="ì „ì²´ êµ¬ì„± Compose íŒŒì¼ ì‰½ê²Œ ì„¤ì •í•˜ëŠ” ë°©ë²•" href="/post/2024-06-23-TheWholeShebangComposeFiles"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="ì „ì²´ êµ¬ì„± Compose íŒŒì¼ ì‰½ê²Œ ì„¤ì •í•˜ëŠ” ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-23-TheWholeShebangComposeFiles_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="ì „ì²´ êµ¬ì„± Compose íŒŒì¼ ì‰½ê²Œ ì„¤ì •í•˜ëŠ” ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">UI STATION</span></div><strong class="PostList_title__loLkl">ì „ì²´ êµ¬ì„± Compose íŒŒì¼ ì‰½ê²Œ ì„¤ì •í•˜ëŠ” ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 23, 2024</span><span class="PostList_reading_time__6CBMQ">55<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a></div></div></article><div class="posts_pagination__R_03T"><a class="link" href="/posts/1">1</a><a class="link" href="/posts/2">2</a><a class="link" href="/posts/3">3</a><a class="link" href="/posts/4">4</a><a class="link" href="/posts/5">5</a><a class="link" href="/posts/6">6</a><a class="link" href="/posts/7">7</a><a class="link" href="/posts/8">8</a><a class="link" href="/posts/9">9</a><a class="link" href="/posts/10">10</a><a class="link" href="/posts/11">11</a><a class="link" href="/posts/12">12</a><a class="link" href="/posts/13">13</a><a class="link" href="/posts/14">14</a><a class="link" href="/posts/15">15</a><a class="link" href="/posts/16">16</a><a class="link" href="/posts/17">17</a><a class="link" href="/posts/18">18</a><a class="link posts_-active__YVJEi" href="/posts/19">19</a><a class="link" href="/posts/20">20</a><button type="button" class="page_button -prev">&gt;</button></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"title":"MLOps ì‘ì—…ì„ ìœ„í•œ GPUì™€ í•¨ê»˜ Kubernetes ì‚¬ìš© ë°©ë²•","description":"","date":"2024-06-23 00:51","slug":"2024-06-23-KuberneteswithGPUforMLOpsWorkloads","content":"\nì´ ê¸°ì‚¬ì—ì„œëŠ” GPUê°€ ì¿ ë²„ë„¤í‹°ìŠ¤ì™€ í†µí•©ë˜ì–´ ê¸°ê³„ í•™ìŠµ ì›Œí¬ë¡œë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ë…¼ì˜í•˜ê³ ì í•©ë‹ˆë‹¤.\n\nì €ëŠ” ì£¼ë³€ì— ìˆëŠ” NVIDIA GeForce RTX 3050ì„ ê°€ì§€ê³  ì•„ì´ë””ì–´ë¥¼ ì–»ì—ˆì–´ìš” ğŸ’¡... ` Kubernetes\n\në¹ ë¥´ê²Œ ì¿ ë²„ë„¤í‹°ìŠ¤ì™€ GPUë¥¼ í†µí•©í•˜ì—¬ ë”¥ ëŸ¬ë‹ í›ˆë ¨ ë°°í¬ë¥¼ ì‹¤í–‰í•´ë´…ì‹œë‹¤!\n\n0. Dockerê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. ì•„ì§ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì—¬ê¸°ì—ì„œ Dockerë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# NVIDIA Container Toolkit for Docker\n\n- NVIDIA ë“œë¼ì´ë²„ë¥¼ ì—…ë°ì´íŠ¸í•´ì£¼ì„¸ìš”\n\n```js\nwget https://developer.download.nvidia.com/compute/cuda/repos/wsl-ubuntu/x86_64/cuda-keyring_1.1-1_all.deb\nsudo dpkg -i cuda-keyring_1.1-1_all.deb\nsudo apt-get update\nsudo apt-get -y install cuda-toolkit-12-5\n```\n\n- ê³µì‹ ì›¹ì‚¬ì´íŠ¸ì—ì„œ í•´ë‹¹ OSì— ë§ëŠ” NVIDIA ì»¨í…Œì´ë„ˆ íˆ´í‚·ì„ ì„¤ì¹˜í•´ì£¼ì„¸ìš”.\n- ì œê°€ WSLì„ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— apt ëª…ë ¹ì–´ë¥¼ í†µí•´ ì„¤ì¹˜í•˜ê² ìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\ncurl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg \\\n  \u0026\u0026 curl -s -L https://nvidia.github.io/libnvidia-container/stable/deb/nvidia-container-toolkit.list | \\\n    sed 's#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g' | \\\n    sudo tee /etc/apt/sources.list.d/nvidia-container-toolkit.list\n```\n\n- ì €ì¥ì†Œì—ì„œ íŒ¨í‚¤ì§€ ëª©ë¡ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤:\n\n```js\nsudo apt-get update\n```\n\n- NVIDIA Container Toolkit íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nsudo apt-get install -y nvidia-container-toolkit\n```\n\n![KuberneteswithGPUforMLOpsWorkloads](/assets/img/2024-06-23-KuberneteswithGPUforMLOpsWorkloads_0.png)\n\n- ë„ì»¤ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ ëŸ°íƒ€ì„ êµ¬ì„±í•˜ê¸°\n\n```js\nsudo nvidia-ctk runtime configure --runtime=docker\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì•„ë˜ëŠ” í…Œì´ë¸” íƒœê·¸ë¥¼ Markdown í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•œ ì½”ë“œì…ë‹ˆë‹¤.\n\n\u003cimg src=\"/assets/img/2024-06-23-KuberneteswithGPUforMLOpsWorkloads_1.png\" /\u003e\n\n- restart docker\n\n```js\nsudo systemctl restart docker\n```\n\n- Docker Desktop\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në§Œì¼ Docker Desktopì„ ì‚¬ìš© ì¤‘ì´ë¼ë©´, ì„¤ì •ì„ ë‹¤ë¥´ê²Œ êµ¬ì„±í•˜ê³  daemon.jsonì„ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤.\n\n- ì™¼ìª½ ìƒë‹¨ì˜ ì„¤ì • âš™ï¸ ë¡œ ì´ë™í•˜ì—¬ Docker Engineìœ¼ë¡œ ì´ë™í•œ ë‹¤ìŒ ë‹¤ìŒ êµ¬ì„±ì„ ì¶”ê°€í•˜ì‹­ì‹œì˜¤. (,ë¥¼ ìŠì§€ ë§ê³  json êµ¬ë¬¸ì„ í™•ì¸í•´ì£¼ì„¸ìš” ğŸ˜…)\n\n```js\n\"runtimes\": {\n  \"nvidia\": {\n    \"args\": [],\n    \"path\": \"nvidia-container-runtime\"\n  }\n}\n```\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-KuberneteswithGPUforMLOpsWorkloads_2.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n2. Apply ë° ë‹¤ì‹œ ì‹œì‘ì„ í´ë¦­í•˜ê³  GPU í™•ì¸\n\në‹¤ìŒ ëª…ë ¹ì–´ë¡œ ë„ì»¤ê°€ ëŸ°íƒ€ì„ìœ¼ë¡œ GPUë¥¼ ì‚¬ìš©í•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.\n\n```shell\nsudo docker run --rm --runtime=nvidia --gpus all ubuntu nvidia-smi\n```\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-KuberneteswithGPUforMLOpsWorkloads_3.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# Minikube\n\në¡œì»¬ì—ì„œ Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ í”„ë¡œë¹„ì €ë‹í•˜ëŠ” ë° Minikubeë¥¼ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.\n\n- [ì—¬ê¸°](ë§í¬)ì—ì„œ ìš´ì˜ ì²´ì œì— ë§ê²Œ Minikubeë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”.\n- Minikube ì´ì§„ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•œ í›„ ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ Minikubeë¥¼ ì‹œì‘í•˜ì„¸ìš”. Minikubeë¥¼ ì‹œì‘í•˜ê¸° ì „ì— Dockerê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•˜ì„¸ìš”.\n\n```js\nminikube start --gpus all --driver=docker --addons=ingress\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nMinikubeì˜ nvidia-gpu-device-plugin ì• ë“œì˜¨ì€ Kubernetes í´ëŸ¬ìŠ¤í„°ì—ì„œ GPU ì§€ì›ì„ í™œì„±í™”í•˜ëŠ” ë° ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ ì• ë“œì˜¨ì„ ì‚¬ìš©í•˜ë©´ Kubernetesê°€ GPUê°€ í•„ìš”í•œ ì‘ì—…ë¡œë“œë¥¼ ì¸ì‹í•˜ê³  ì˜ˆì•½í•˜ì—¬ í´ëŸ¬ìŠ¤í„°ì—ì„œ GPU ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.\n\nNVIDIA GPU ì¥ì¹˜ í”ŒëŸ¬ê·¸ì¸ì´ë€ ë¬´ì—‡ì¸ê°€ìš”?\n\nNVIDIA GPU ì¥ì¹˜ í”ŒëŸ¬ê·¸ì¸ì€ Kubernetes í´ëŸ¬ìŠ¤í„°ì—ì„œ NVIDIA GPUë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” Kubernetes ì¥ì¹˜ í”ŒëŸ¬ê·¸ì¸ì…ë‹ˆë‹¤. ì´ í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ë©´ Kubernetesê°€ GPU ë¦¬ì†ŒìŠ¤ë¥¼ ì»¨í…Œì´ë„ˆì— í• ë‹¹í•˜ê³  ì˜ˆì•½í•˜ì—¬ ì‘ìš© í”„ë¡œê·¸ë¨ì´ GPU ê°€ì†ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n\nì£¼ìš” ê¸°ëŠ¥\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- GPU ë°œê²¬:\n\n  - ë…¸ë“œì—ì„œ NVIDIA GPUë¥¼ ìë™ìœ¼ë¡œ ë°œê²¬í•˜ì—¬ Kubernetesì—ì„œ ìŠ¤ì¼€ì¤„ ê°€ëŠ¥í•œ ë¦¬ì†ŒìŠ¤ë¡œ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n- GPU ë¦¬ì†ŒìŠ¤ ê´€ë¦¬:\n\n  - GPU ë¦¬ì†ŒìŠ¤ë¥¼ ì»¨í…Œì´ë„ˆì— í• ë‹¹í•˜ëŠ” ì‘ì—…ì„ ê´€ë¦¬í•©ë‹ˆë‹¤. Podì— ìš”ì²­ëœ GPU ìˆ˜ë¥¼ í™•ì¸í•˜ê³  GPU ë¦¬ì†ŒìŠ¤ë¥¼ ìŠ¤ì¼€ì¤„ë§í•˜ëŠ” ë³µì¡ì„±ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n3. ê²©ë¦¬:\n\n- GPU ë¦¬ì†ŒìŠ¤ì˜ ê²©ë¦¬ë¥¼ ì œê³µí•˜ì—¬ GPU ì›Œí¬ë¡œë“œê°€ ì„œë¡œ ê°„ì„­í•˜ì§€ ì•Šë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.\n\n4. ë©”íŠ¸ë¦­ ë° ëª¨ë‹ˆí„°ë§:\n\n- GPU í™œìš©ì— ê´€í•œ ë©”íŠ¸ë¦­ì„ ë…¸ì¶œí•˜ì—¬ GPU ì›Œí¬ë¡œë“œì˜ ëª¨ë‹ˆí„°ë§ê³¼ ìŠ¤ì¼€ì¼ë§ì— í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ GPU ê°€ìš©ì„± í™•ì¸í•˜ê¸°\n\nGPU ë…¸ë“œê°€ ì‚¬ìš© ê°€ëŠ¥í•œì§€ ë…¸ë“œ ì„¸ë¶€ì •ë³´ë¥¼ í™•ì¸í•˜ì—¬ í™•ì¸í•˜ì„¸ìš”\n\n```js\nkubectl get nodes -o \"custom-columns=NAME:.metadata.name,STATUS:.status.conditions[-1].type,CAPACITY:.status.capacity\"\n```\n\n- ì‘ì—…ìœ¼ë¡œ í™•ì¸í•˜ê³  ë§¤ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì„ ì ìš©í•˜ì„¸ìš”\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```yaml\napiVersion: batch/v1\nkind: Job\nmetadata:\n  name: gpu-job\nspec:\n  template:\n    spec:\n      containers:\n        - name: gpu-container\n          image: nvidia/cuda:12.5.0-base-ubuntu22.04\n          resources:\n            limits:\n              nvidia.com/gpu: 1 # Request 1 GPU\n          command: [\"nvidia-smi\"]\n      restartPolicy: Never\n```\n\n```bash\nkubectl apply -f gpu-verify.yaml\n```\n\n![Kubernetes with GPU for MLOps Workloads](/assets/img/2024-06-23-KuberneteswithGPUforMLOpsWorkloads_4.png)\n\n- íŒŒë“œ ê°€ì ¸ì˜¤ê¸°\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nkubectl get po\n```\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-KuberneteswithGPUforMLOpsWorkloads_5.png)\n\n- GPU ë¡œê·¸ í™•ì¸\n\n```js\nkubectl logs \u003cpod\u003e\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-KuberneteswithGPUforMLOpsWorkloads_6.png)\n\nê·¸ë¦¬ê³  ì‹œì‘í•©ë‹ˆë‹¤..!\n\nGPUë¥¼ ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—…ë°ì´íŠ¸ë¥¼ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”. ëª‡ ê°€ì§€ ì›Œí¬ë¡œë“œë¥¼ ì‹¤í–‰í•˜ê³  ì—¬ê¸°ì— ê³µìœ í•  ì˜ˆì •ì…ë‹ˆë‹¤.\n\nì´ì œ ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ì„ í›ˆë ¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!\n\n[LinkedIn í”„ë¡œí•„](https://www.linkedin.com/in/sivanaik/)\n\n[x.comì—ì„œì˜ í”„ë¡œí•„](https://x.com/sivanaikk)\n","ogImage":{"url":"/assets/img/2024-06-23-KuberneteswithGPUforMLOpsWorkloads_0.png"},"coverImage":"/assets/img/2024-06-23-KuberneteswithGPUforMLOpsWorkloads_0.png","tag":["Tech"],"readingTime":9},{"title":"Snowpark Container Servicesì—ì„œ Pytorch ì‹¤í–‰í•˜ëŠ” ë°©ë²•","description":"","date":"2024-06-23 00:49","slug":"2024-06-23-SoYouWantToJustGetPytorchRunninginSnowparkContainerServices","content":"\n![ê·¸ë¦¼](/assets/img/2024-06-23-SoYouWantToJustGetPytorchRunninginSnowparkContainerServices_0.png)\n\nê°„ëµí•˜ê²Œ ë§í•˜ìë©´: hello_worldì™€ ì„¸ê³„ë¥¼ ë¬´ëŒ€ë‚¼ ìˆ˜ ìˆëŠ” (Snowpark) ì»¨í…Œì´ë„ˆ ê¸°ë°˜ ì œí’ˆ ì‚¬ì´ì˜ ê°„ê·¹ì„ ë©”ìš°ëŠ” ì•½ê°„ ë” ê³ ê¸‰ê¸‰ íŠœí† ë¦¬ì–¼\n\nì»¨í…Œì´ë„ˆëŠ” ë³µì¡í•  ìˆ˜ ìˆì§€ë§Œ, ê¼­ ê·¸ë ‡ì§€ ì•Šì•„ìš”. ì´ ë³µì¡ì„±ì˜ í•œ ì´ìœ ëŠ” \"ë‹¤ì¤‘ ë…¸ë“œ ì»¨í…Œì´ë„ˆ ì»´í“¨íŒ… í’€ì„ í™œìš©í•˜ì—¬ ë¬´ì œí•œ ê·œëª¨ì™€ íƒ„ì„±ì„ ì‰½ê²Œ êµ¬ì¶•í•˜ê¸° ìœ„í•´ ì»¨í…Œì´ë„ˆ ì‚¬ìš©\"ê³¼ ê°™ì€ ì œëª©ì˜ ê³ ê¸‰ ì£¼ì œì— ë°”ë¡œ ë›°ì–´ë“  ê°€ì´ë“œê°€ ë„ˆë¬´ ë§ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ê°€ì´ë“œëŠ” ì¢…ì¢… ì»¨í…Œì´ë„ˆ ì „ë¬¸ ì§€ì‹ì„ ì „ì œë¡œ í•œ, yaml íŒŒì¼, ë„ì»¤, ëª…ë ¹ì¤„ ë“±ì— ëŒ€í•œ ê°€ì • ì§€ì‹ìœ¼ë¡œ ê°€ë“ ì°¨ ìˆìŠµë‹ˆë‹¤. í•œ ë§ˆë””ë¡œ, ì••ë„ì ì…ë‹ˆë‹¤. ë¬¸ì œê°€ ë°œìƒí•  ë•Œ ì‚¬ìš©ì ì—ëŸ¬ì™€ êµ¬í˜„ íŠ¹ì´ì ì„ êµ¬ë³„í•˜ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì €ì™€ ê°™ì€ ê²½ìš°ì—ëŠ” ë§ˆì¹˜ ì‚¬ê¸° ì¹˜ëŠ” ê²ƒì²˜ëŸ¼ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ì„œ, ë” ì–´ë ¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në‹¤í–‰íˆë„ SnowflakeëŠ” ì‚¬ìš©í•˜ê¸° ì‰¬ìš´ Snowpark Container Servicesë¡œ ì»¨í…Œì´ë„ˆì˜ ì„¸ê³„ë¥¼ ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ì–´ ëƒˆìŠµë‹ˆë‹¤. ì´ ì•ˆë‚´ì„œëŠ” ê¸°ë³¸ë¶€í„° ì‹œì‘í•˜ì—¬ ì—¬ëŸ¬ë¶„ì˜ ì‹¤ì œ ëª©í‘œì™€ íŠœí† ë¦¬ì–¼ ì‚¬ì´ì˜ ê°„ê²©ì„ ì¤„ì´ê¸° ìœ„í•´ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì»¨í…Œì´ë„ˆì— ëŒ€í•´ ê±°ì˜ ì „í˜€ ì•Œì§€ ëª»í•˜ê³  íŠœí† ë¦¬ì–¼ê³¼ ì‹¤ì œ ëª©í‘œ ê°„ì˜ ê°„ê·¹ì„ ë©”ìš°ê¸° ì–´ë µë‹¤ê³  ëŠë¼ëŠ” ê²ƒì„ ê°€ì •í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 0. ë„ì»¤ ì„¤ì¹˜\n\nê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ https://docs.docker.com/engine/install/ ë¡œ ì´ë™í•˜ì—¬ ê´€ë ¨ ì‚¬ë³¸ì„ ë‹¤ìš´ë¡œë“œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰í•´ì•¼ í•˜ë¯€ë¡œ ë‹¤ìš´ë¡œë“œí•˜ê³  ì„¤ì¹˜í•œ í›„ì—ëŠ” ì•±ì„ ë”ë¸” í´ë¦­í•´ì„œ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\n\n# 1. ê°€ì¥ ê°„ë‹¨í•œ íŠœí† ë¦¬ì–¼ ë”°ë¥´ê¸°\n\nê°„ë‹¨í•˜ë‹¤ê³  í–ˆì§€ë§Œ, ì •ë§ë¡œ ê°„ë‹¨í•˜ê³  ì‹¶ë‹¤ë©´ ì €í¬ ë¬¸ì„œì˜ ìŠ¤ë…¸ìš°íŒŒí¬ ì»¨í…Œì´ë„ˆ ì„œë¹„ìŠ¤ì— ìˆëŠ” í—¬ë¡œ ì›”ë“œ ë‚´ìš©ì„ ë”°ë¥´ëŠ” ê²Œ ì–´ëŠ ê²ƒë„ ì´ê¸¸ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì»¨í…Œì´ë„ˆì— ëŒ€í•´ ì „í˜€ ë“¤ì–´ë³´ì§€ ëª»í–ˆë‹¤ë©´ ëˆˆì„ ê°ê³  ë”°ë¼í•˜ê³  ë¬´ì–¸ê°€ë¥¼ ì‹¤í–‰í•œ í›„ì— ë‹¤ìŒ ë‹¨ê³„ë¡œ ë„˜ì–´ê°€ì„œ ë¬´ìŠ¨ ì¼ì´ ë²Œì–´ì§€ê³  ìˆëŠ”ì§€ ë” ë°°ì›Œë³´ì„¸ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 2. ë¡œì»¬ íŒŒì¼ ì„¤ì •í•˜ê¸° (ì»¨í…Œì´ë„ˆí™”í•˜ê¸° ìœ„í•´)\n\nì´ ì‘ì—…ì„ ëª¨ë‘ ìˆ˜í–‰í•˜ëŠ” ë°ëŠ” ì„¸ ê°€ì§€ê°€ í•„ìš”í•©ë‹ˆë‹¤\n\n- Python ìŠ¤í¬ë¦½íŠ¸ (main.pyëŠ” ì¢‹ì€ ì‹œì‘ ì´ë¦„ì…ë‹ˆë‹¤): ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰ë˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¡œ, Dockerfileì—ì„œ ì°¸ì¡°ë©ë‹ˆë‹¤. ì´ê²ƒì€ ë‹¨ì¼ íŒŒì¼ì´ ì•„ë‹ˆì–´ë„ ë©ë‹ˆë‹¤. í° íŒ¨í‚¤ì§€ì¼ ìˆ˜ë„ ìˆì§€ë§Œ, ì§€ê¸ˆì€ ê°„ë‹¨í•˜ê²Œ ìœ ì§€í•©ì‹œë‹¤.\n- Dockerfile: Docker ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•˜ëŠ” íŒŒì¼ë¡œ, ê¸°ë³¸ í™˜ê²½, íŒ¨í‚¤ì§€ ì„í¬íŠ¸ ë° ë‚´ë¶€ ì½”ë“œ ì‹¤í–‰ ë°©ë²•ê³¼ ê°™ì€ ë‚´ìš©ì´ í¬í•¨ë©ë‹ˆë‹¤. ê°€ìƒ í™˜ê²½ì„ êµ¬ì¶•í•˜ëŠ” conda create ê³¼ì •ê³¼ ìœ ì‚¬í•œ ê°œë…ìœ¼ë¡œ ìƒê°í•´ë³´ì„¸ìš”.\n- spec.yaml: Snowflakeê°€ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì„ Snowflakeì— ì•Œë ¤ì£¼ëŠ” íŒŒì¼ë¡œ, ì£¼ë¡œ í•˜ë“œì›¨ì–´ êµ¬ì„± ìš”ì†Œë¥¼ ì§€ì •í•©ë‹ˆë‹¤. ì´ íŒŒì¼ì€ snowflakeì— íŠ¹í™”ë˜ì–´ ìˆì§€ë§Œ, docker-compose.yamlì— ìƒë‹¹íˆ ìœ ì‚¬í•©ë‹ˆë‹¤.\n\nPython ìŠ¤í¬ë¦½íŠ¸\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì—¬ê¸° ì‰¬ìš´ ê²ƒë¶€í„° ì‹œì‘í•´ë´…ì‹œë‹¤; íŒŒì´ì¬ì—ì„œ ì‹¤í–‰í•  ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë§Œë“¤ì–´ ë³´ì„¸ìš”. ì´ëŠ” ë‹¤ë¥¸ ê²ƒì„ ì‹¤í–‰í•˜ëŠ” ê²ƒê³¼ ë‹¤ë¥´ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤; ê·¸ì € ëª‡ ê°€ì§€ íŒŒì´ì¬ì˜ íŠ¹ì´ì ì„ ì¤€ìˆ˜í•´ì•¼ í•©ë‹ˆë‹¤, ì¦‰ if **name** ë¹„íŠ¸). ì•„ë§ˆ ì´ëŸ° ì‹ì¼ ê²ƒì…ë‹ˆë‹¤:\n\n```python\n# all my fancy code...\n\ndef run_job():\n    #do something like run a pytorch neural network that references my fancy code\n\nif __name__ == \"__main__\":\n    run_job()\n```\n\në„ˆë¬´ ê¸¸ì–´ì§€ì§€ ì•Šê²Œ í•˜ë ¤ê³  ì „ì²´ë¥¼ ì œê±°í–ˆìœ¼ë‚˜ ì‹¤ì œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në¡œì»¬ì—ì„œëŠ” ê·¸ëƒ¥ main.pyë¥¼ í¬í•¨í•˜ëŠ” í´ë”ë¡œ ì´ë™í•˜ì—¬ ëª…ë ¹ì¤„ì—ì„œ \"python3 main.py\"ë¥¼ ì…ë ¥í•˜ë©´ ì‹¤í–‰ë©ë‹ˆë‹¤ (ì•„ë˜ Dockerfile ì„¤ëª… ì°¸ì¡°). ì´ ì¤‘ìš”í•œ ê²ƒì„ ê¸°ì–µí•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•œë°, ì´ê²ƒì€ ì„ì˜ë¡œ ë³µì¡í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— print(\"hello world\")ë‚˜ ì˜¤í”ˆAIë¥¼ êº¾ì„ ìƒˆë¡œìš´ LLMê³¼ ê°™ì€ ê²ƒì¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## Dockerfile\n\nìš”ë ‡ê²Œ, Dockerfileì´ì—ìš”; ì—¬ê¸°ì„œ íŒŒì¼ ìœ í˜•ì€ ë³´ì´ì§€ ì•Šì•„ìš”. ì´ë ‡ê²Œ ë³´ì¼ ê±°ì—ìš”:\n\n```js\nARG BASE_IMAGE=continuumio/miniconda3:4.12.0\nFROM $BASE_IMAGE\nRUN conda install python=3.8 \u0026\u0026 \\\n    pip install --upgrade pip \u0026\u0026 \\\n    pip install torch==2.0.0 \u0026\u0026 \\\n    pip install torchdata==0.6.0 \u0026\u0026 \\\n    pip install snowflake-ml-python==1.0.12 \u0026\u0026 \\\n    pip install snowflake-snowpark-python==1.9.0 \\\n    pip install accelerate==0.29.3\n\nCOPY main.py ./\nENTRYPOINT [\"python\", \"main.py\"]\n```\n\nARG BASE_IMAGEì€ ì´ê²Œ ê¸°ë°˜ì´ ë  í™˜ê²½ì¸ë°ìš”, ìš°ë¦¬ ê²½ìš°ì—ëŠ” \"continuumio/miniconda3:4.12.0\" ì´ì—ìš”. ë” ìì„¸í•œ ë‚´ìš©ì€ ì—¬ê¸°ì—ì„œ ì°¾ì•„ë³¼ ìˆ˜ ìˆì–´ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê·¸ ì´í›„ì—ëŠ” pip/conda ì„¤ì¹˜ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. ë¡œì»¬ í™˜ê²½ì—ì„œì™€ ê°™ì´ ì‹¤í–‰ë  ê²ƒì´ë¯€ë¡œ main.py íŒŒì¼ì—ì„œ ì‚¬ìš©í•  í•„ìš”ê°€ ìˆëŠ” ëª¨ë“  íŒ¨í‚¤ì§€ë¥¼ ë‚˜ì—´í•´ì£¼ì„¸ìš”.\n\nê·¸ëŸ° ë‹¤ìŒ COPY main.pyë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆê°€ ìˆ˜í–‰í•  ì‹¤ì œ ì‘ì—…ì„ ì •ì˜í•˜ëŠ” ë¡œì»¬ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\n\në§ˆì§€ë§‰ìœ¼ë¡œ, ENTRYPOINTê°€ Pythonì„ ì‹¤í–‰í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ëª…ë ¹ì¤„ì—ì„œ ì‹¤í–‰í•˜ëŠ” ê²ƒê³¼ ë‹¤ë¥¸ ì ì´ ì—†ìŠµë‹ˆë‹¤.\n\n## spec.yaml\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì¢‹ì•„ìš”, ë§ˆì§€ë§‰ìœ¼ë¡œëŠ” spec.yaml íŒŒì¼ì…ë‹ˆë‹¤. ì—¬ê¸°ì—ì„œ Snowflakeì— ì´ íŒŒì¼ì´ ì‘ë™í•˜ë„ë¡ ì‹¤ì œë¡œ í•´ì•¼ í•˜ëŠ” ì‘ì—…ì„ ì•Œë ¤ì¤ë‹ˆë‹¤.\n\n```js\nspec:\n  container:\n  - env:\n      MOUNT_PATH: /dev/shm\n    image: /tutorial_db/data_schema/tutorial_repository/my_2job_image:latest\n    name: main\n    resources:\n      limits:\n        memory: 192G\n        nvidia.com/gpu: 4\n      requests:\n        memory: 188G\n        nvidia.com/gpu: 4\n    volumeMounts:\n    - mountPath: /opt/training-output\n      name: training-output\n    - mountPath: /dev/shm\n      name: dshm\n  volumes:\n  - name: training-output\n    source: '@tutorial_db.data_schema.tutorial_stage'\n  - name: dshm\n    size: 10Gi\n    source: memory\n```\n\nì²« ë²ˆì§¸ ëˆˆì—ëŠ” ë³µì¡í•´ ë³´ì¼ ìˆ˜ ìˆì§€ë§Œ, ì‹¤ì œë¡œ ë“¤ì–´ê°€ë³´ë©´ ê½¤ ê°„ë‹¨í•©ë‹ˆë‹¤. Snowpark Container Services ë¬¸ì„œëŠ” ì¢‹ì€ ìë£Œì…ë‹ˆë‹¤. ì—¬ê¸°ì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³ , ëª‡ ê°€ì§€ ì£¼ìš” í¬ì¸íŠ¸ë¥¼ ì†Œê°œí•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ì´ë¯¸ì§€: ì´ëŠ” ìš°ë¦¬ê°€ 4ë‹¨ê³„ì™€ 5ë‹¨ê³„ì—ì„œ ë¹Œë“œí•˜ê³  í‘¸ì‹œí•˜ëŠ” ë™ì¼í•œ ì´ë¯¸ì§€ì…ë‹ˆë‹¤\n- ë¦¬ì†ŒìŠ¤: ìš°ë¦¬ëŠ” 4ëŒ€ì˜ Nvidia GPU(4ê°œì˜ A10G)ë¥¼ ì§€ì •í•œ ê²ƒì— ìœ ì˜í•©ë‹ˆë‹¤. ì´ëŠ” ì»´í“¨íŠ¸ í’€ì„ ë§Œë“¤ ë•Œ GPU_NV_Mì„ ì‚¬ìš©í•  ê²ƒì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. í•´ë‹¹ í’€ì—ëŠ” Nvidia A10Gê°€ 4ëŒ€ ë“¤ì–´ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ì—¬ê¸°ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.\n- ë³¼ë¥¨: ì´ëŠ” Snowflake ë‚´ì—ì„œ ì‘ì—… ì‹¤í–‰ê°„ì— ë¬´ì–¸ê°€ë¥¼ ì§€ì†ì‹œí‚¬ ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n# 3. Snowflake ì¤€ë¹„í•˜ê¸°\n\nSnowflake ë¬¸ì„œì˜ ììŠµì„œì—ì„œ ì˜ ë‹¤ë£¨ê³  ìˆì§€ë§Œ, ì™„ë²½ì„±ì„ ìœ„í•´ SQLë„ ì—¬ê¸°ì— í¬í•¨í–ˆìŠµë‹ˆë‹¤:\n\n```js\nUSE ROLE ACCOUNTADMIN;\n\nCREATE ROLE test_role;\n\nCREATE DATABASE IF NOT EXISTS tutorial_db;\nGRANT OWNERSHIP ON DATABASE tutorial_db TO ROLE test_role COPY CURRENT GRANTS;\n\nCREATE OR REPLACE WAREHOUSE tutorial_warehouse WITH\n  WAREHOUSE_SIZE='X-SMALL';\nGRANT USAGE ON WAREHOUSE tutorial_warehouse TO ROLE test_role;\n\nCREATE SECURITY INTEGRATION IF NOT EXISTS snowservices_ingress_oauth\n  TYPE=oauth\n  OAUTH_CLIENT=snowservices_ingress\n  ENABLED=true;\n\nGRANT BIND SERVICE ENDPOINT ON ACCOUNT TO ROLE test_role;\n\nCREATE COMPUTE POOL tutorial_gpu_pool\n  MIN_NODES = 1\n  MAX_NODES = 1\n  INSTANCE_FAMILY = GPU_NV_M;\nGRANT USAGE, MONITOR ON COMPUTE POOL tutorial_gpu_pool TO ROLE test_role;\n\nGRANT ROLE test_role TO USER admin --ë¡œê·¸ì¸ ì‚¬ìš©ìëª…\n\nUSE ROLE test_role;\nUSE DATABASE tutorial_db;\nUSE WAREHOUSE tutorial_warehouse;\n\nCREATE SCHEMA IF NOT EXISTS data_schema;\nCREATE IMAGE REPOSITORY IF NOT EXISTS tutorial_repository;\nCREATE OR REPLACE STAGE tutorial_stage;\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì¼ë¶€ ê³ ë ¤í•  ì‚¬í•­ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n- ACCOUNTADMINìœ¼ë¡œ ëª¨ë“  ì‘ì—…ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í•˜ì§€ ë§ˆì„¸ìš”. ê·¸ëŸ´ ìˆ˜ ì—†ì–´ìš”. ì´ê²ƒì€ ì˜ë„ëœ ê²ƒì´ë©°, í•´ë‹¹ ì—­í• ì´ ì œê³µí•˜ëŠ” ì‹ ì˜ ëª¨ë“œ ê¶Œí•œì„ ì¦ê¸°ë˜ ìš°ë¦¬ì—ê²ŒëŠ” ìƒˆë¡œìš´ ë³€í™”ì…ë‹ˆë‹¤. test_roleì´ ê¼­ í•„ìš”í•©ë‹ˆë‹¤ (ë˜ëŠ” ë‹¤ë¥¸ ë™ë“±í•œ ê¶Œí•œ).\n- Compute PoolsëŠ” ì´ ëª©ë¡ì—ì„œ ì•„ë¬´ ê²ƒì´ë‚˜ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì €í¬ì˜ ê²½ìš° GPUë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤ (GPU_NV_M, ì´ëŠ” 4ê°œì˜ Nvidia A10Gë¥¼ í¬í•¨í•˜ê³  ìˆìŒ) ì´ëŠ” ì‹ ê²½ë§ì´ ë¹ ë¥´ê²Œ ì‹¤í–‰ë©ë‹ˆë‹¤.\n\n# 4. ë¡œì»¬ í™˜ê²½ì—ì„œ ì»¨í…Œì´ë„ˆ ìƒì„±í•˜ê¸°\n\në¨¼ì €, Snowflakeì—ì„œ ë‹¤ìŒì„ ì‹¤í–‰í•˜ì„¸ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ë¯¸ì§€ ì €ì¥ì†Œ í‘œì‹œ\n\nì´ë ‡ê²Œ ë³´ì¼ ê²ƒì…ë‹ˆë‹¤:\n\n![image](/assets/img/2024-06-23-SoYouWantToJustGetPytorchRunninginSnowparkContainerServices_1.png)\n\nì €ì¥ì†Œ URLì´ ìˆìŠµë‹ˆë‹¤ (ì¶”ë¡ í•  ìˆ˜ ìˆì§€ë§Œ, í™•ì‹¤í•œ ê²ƒì´ ë¬´ë¦ì— í—ˆë¬¼ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì„¸ìš”)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në‹¤ìŒìœ¼ë¡œ, ëª…ë ¹ í”„ë¡¬í¬íŠ¸ ë˜ëŠ” í„°ë¯¸ë„ì—ì„œ ë¡œì»¬ ë¨¸ì‹ ì˜ DockerFile ìœ„ì¹˜ë¡œ ì´ë™í•œ ë‹¤ìŒ ë‹¤ìŒì„ ì‹¤í–‰í•˜ì„¸ìš”:\n\n```js\ndocker build --rm --platform linux/amd64 -t repository_url/my_2job_image:latest .\n```\n\nì—¬ê¸°ì„œ repository_urlì€ ìœ„ì˜ URLë¡œ ëŒ€ì²´ë©ë‹ˆë‹¤. ì¦‰, ì œ ê²½ìš°ì—ëŠ”\n\nsfseeurope-eu-demo211.registry.snowflakecomputing.com/tutorial_db/data_schema/tutorial_repository ì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ë„ì»¤ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì€ ë„ì»¤ë¼ê³  ìƒê°í•˜ë©´ ë©ë‹ˆë‹¤.\n- ë¹Œë“œëŠ” ë„ì»¤ì— ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ë¼ëŠ” ê²ƒì…ë‹ˆë‹¤.\n- --rmì€ ë¹Œë“œë¡œ ìƒì„±ëœ ì¤‘ê°„ ì»¨í…Œì´ë„ˆë¥¼ ì œê±°í•©ë‹ˆë‹¤.\n- --platformì€ ì´ë¥¼ ìœ„í•´ ì˜ë„ëœ í”Œë«í¼ì„ ì§€ì •í•©ë‹ˆë‹¤.\n- repository_url/my_2job_image:latest .ì€ ë§Œë“¤ê³  ìˆëŠ” REPOSITORYì…ë‹ˆë‹¤.\n\nì°¸ê³ ë¡œ, ë§ˆì¹¨í‘œ(â€œ.â€)ë¥¼ ëì— í¬í•¨í–ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. Dockerì— ìµìˆ™í•˜ì§€ ì•Šë‹¤ë©´ ì‰½ê²Œ ë†“ì¹  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì  ëª‡ ê°€ì§€ ì£¼ì˜í•  ì ì´ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ì €ëŠ” ë‚¯ìµì€ \"latest\" íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ê³  ìˆì§€ë§Œ, ì‹¤ì§ˆì ìœ¼ë¡œ ëª…ì‹œì  ë²„ì „ íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ í›¨ì”¬ ì¢‹ìŠµë‹ˆë‹¤. ìì„¸í•œ ì„¤ëª…ì€ ì—¬ê¸°ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.\n\n- ì´ì œ ì»¨í…Œì´ë„ˆê°€ ìƒì„±ë˜ì—ˆìœ¼ë‹ˆ, ì§„ì§œ ìƒì„±ë˜ì—ˆëŠ”ì§€ ë‘ ë²ˆ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤. ëª…ë ¹ì¤„ì—ì„œ ë‹¤ìŒì„ ì‹¤í–‰í•´ì£¼ì„¸ìš”:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\në„ì»¤ ì´ë¯¸ì§€ ls\n```\n\ní•˜ì‹œë©´ ë„ì»¤ê°€ ë¡œì»¬ë¡œ ë³´ìœ í•œ ì´ë¯¸ì§€ ëª©ë¡ì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.\n\n# 5. ëª…ë ¹ì¤„/í„°ë¯¸ë„ì„ í†µí•œ ë„ì»¤ ë¡œê·¸ì¸\n\nSnowflakeë¡œ ì»¨í…Œì´ë„ˆë¥¼ í‘¸ì‹œí•˜ë ¤ë©´ ë„ì»¤ì— ë¡œê·¸ì¸í•´ì•¼ í•´ìš”. í„°ë¯¸ë„/ëª…ë ¹ì¤„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•´ë³´ì„¸ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```bash\ndocker login \u003cregistry_hostname\u003e -u \u003cusername\u003e\n```\n\n- registry_hostnameì€ `orgname`-`acctname`.registry.snowflakecomputing.com í˜•ì‹ì„ ì·¨í•˜ë©°, sfseeurope-eu_demo1234.registry.snowflakecomputing.comì™€ ìœ ì‚¬í•œ í˜•íƒœë¥¼ ê°€ì§ˆ ê²ƒì…ë‹ˆë‹¤.\n- usernameì€ Snowflake GUIì— ë¡œê·¸ì¸í•˜ëŠ” ë° ì‚¬ìš©í•˜ëŠ” ì‚¬ìš©ì ì´ë¦„ì…ë‹ˆë‹¤.\n- ì•”í˜¸ëŠ” dockerê°€ ì•”í˜¸ë¥¼ ìš”ì²­í•  ê²ƒì´ë©°, GUIì— ë¡œê·¸ì¸í•˜ëŠ” ë° ì‚¬ìš©í•˜ëŠ” ë™ì¼í•œ ì•”í˜¸ì…ë‹ˆë‹¤.\n\n# 6. Snowflakeë¡œ ì»¨í…Œì´ë„ˆ í‘¸ì‹œí•˜ê¸°\n\në¡œì»¬ ì´ë¯¸ì§€ë„ ì¢‹ì§€ë§Œ, ìš°ë¦¬ëŠ” ê·¸ê²ƒë“¤ì„ Snowflakeë¡œ ì˜®ê¸°ê³  ì‹¶ì–´ìš”! ì—¬ê¸°ë„ ê°„ë‹¨í•œ ë‹¨ê³„ì…ë‹ˆë‹¤:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\në„ì»¤ í‘¸ì‹œ ì €ì¥ì†Œ_ì£¼ì†Œ/my_2job_image:latest\n```\n\n# 7. Snowflakeì— YAML ì¶”ê°€í•˜ê¸°\n\nê±°ì˜ ë‹¤ ì™”ì–´ìš”. ì´ì œ YAMLì„ Snowflakeë¡œ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤. ì´ ì‘ì—…ì„ í•˜ëŠ” ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ SNOWSQLì„ í†µí•´ í•˜ëŠ” ê²ƒì´ì—ìš”. ë‹¤ìš´ë¡œë“œ í˜ì´ì§€ë¡œ ì´ë™í•´ì£¼ì„¸ìš”. ë‹¤ìš´ë¡œë“œë¥¼ ì™„ë£Œí•œ í›„ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ê³„ì • ì„¸ë¶€ ì •ë³´ë¡œ ë¡œê·¸ì¸í•´ì•¼ í•©ë‹ˆë‹¤.\n\n```js\nsnowsql -a ê³„ì •_ì´ë¦„\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê³„ì • ì´ë¦„ì€ \"sfseeurope-eu_demo1234\"ì™€ ê°™ì€ í˜•ì‹ì¼ ê²ƒì…ë‹ˆë‹¤ (ì ì–´ë„ ì œ ê²½ìš°ì—ëŠ”ìš”).\n\nì‚¬ìš©ì ì´ë¦„ê³¼ ì•”í˜¸ë¥¼ ì…ë ¥í•œ í›„ CLIì—ì„œ SQLì„ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒì„ ìˆ˜í–‰í•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì´ í•˜ì„¸ìš”:\n\n```js\nUSE ROLE test_role;\nUSE DATABASE tutorial_db;\nUSE SCHEMA data_schema;\nPUT file:///the_file_location @tutorial_stage\n  AUTO_COMPRESS=FALSE\n  OVERWRITE=TRUE;\n```\n\në˜í•œ Snowflake GUIì—ì„œ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì•„ë˜ëŠ” Markdown í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•œ ë‚´ìš©ì…ë‹ˆë‹¤. ğŸ˜Š\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-SoYouWantToJustGetPytorchRunninginSnowparkContainerServices_2.png)\n\n# 8. ì»¨í…Œì´ë„ˆ ì‹¤í–‰ (ì„œë¹„ìŠ¤ ì‘ì—…ìœ¼ë¡œ)\n\nê·¸ëŸ° ë‹¤ìŒ ì œê³µëœ SQL ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ë©ë‹ˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤, ë¡¤, ìŠ¤í‚¤ë§ˆ ë“±ì— ëŒ€í•´ ëª…ì‹œì ìœ¼ë¡œ ì–¸ê¸‰í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” ì˜¬ë°”ë¥¸ ê²ƒë“¤ì„ ì‚¬ìš©í•˜ê³  ìˆìŒì„ í™•ì‹¤íˆ í•˜ê¸° ìœ„í•œ ê²ƒì…ë‹ˆë‹¤. Snowpark Container ServicesëŠ” ë¡¤ ê´€ë¦¬ì— íŠ¹íˆ ë¯¼ê°í•˜ë©° Snowflakeì˜ ë‹¤ë¥¸ ë¶€ë¶„ë³´ë‹¤ ë” ê·¸ë ‡ìŠµë‹ˆë‹¤. ì ì¬ì ì¸ ë¬¸ì œë¥¼ í”¼í•˜ê³  ë¨¸ë¦¬ì•„í”ˆ ì¼ì„ í”¼í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ëª…ì‹œì ìœ¼ë¡œ í•˜ì„¸ìš”:\n\n```js\nUSE ROLE test_role;\nUSE DATABASE tutorial_db;\nUSE SCHEMA data_schema;\nUSE WAREHOUSE tutorial_warehouse;\nEXECUTE JOB SERVICE\nIN COMPUTE POOL tutorial_gpu_pool\nNAME=tutorial_MT_job_service\nFROM @tutorial_stage\nSPEC='my_job_spec.yaml';\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 9. ì˜ëª»ëœ ë¶€ë¶„ì„ í•´ê²°í•´ë³´ì„¸ìš”\n\nì»¨í…Œì´ë„ˆëŠ” ë­”ê°€ ì˜ëª»ë  ë•Œ ë§¤ìš° ë´‰ì‡„ì ìœ¼ë¡œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”. íŠ¹íˆ í´ë¼ìš°ë“œ í”Œë«í¼ì—ì„œ ì‹¤í–‰ë˜ê³  ìˆëŠ” ìƒí™©ì—ì„œ ë§ì´ì£ . í•˜ì§€ë§Œ ì‚¬ì‹¤ì€, ëª‡ ê°€ì§€ ì¤‘ìš”í•œ ë¶€ë¶„ì˜ ì½”ë“œë§Œ ì¶”ê°€í–ˆë‹¤ë©´ ê°„ë‹¨í•©ë‹ˆë‹¤. ì¤‘ìš”ë„ ìˆœìœ¼ë¡œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:\n\n- ë¡œì»¬ì—ì„œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”: ë‹¹ì—°í•œ ì–˜ê¸°ì´ì§€ë§Œ, ê°€ë”ì€ ì²˜ìŒìœ¼ë¡œ ì»¨í…Œì´ë„ˆì—ì„œ ë¬´ì–¸ê°€ë¥¼ ì‹¤í–‰í•  ë•Œ, ì»¨í…Œì´ë„ˆì— ë¬¸ì œê°€ ìˆê±°ë‚˜ ì½”ë“œì— ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.\n- ë¹ ë¥´ê³  ë”ëŸ¬ìš´ ë°©ë²•: ì½”ë“œì— ëª‡ ê°€ì§€ í”„ë¦°íŠ¸ ë¬¸ì„ ì¶”ê°€í•˜ì—¬ ì§„í–‰ ìƒí™©ì„ ì²´í¬í•˜ê³  ì½”ë“œë¥¼ ë””ë²„ê¹…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ë¡œê¹…: \"íƒ„íƒ„í•œ\" ë°©ë²•ì€ ë¡œê¹… í•¨ìˆ˜ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ì§€ë§Œ, ì‹¤ì œë¡œëŠ” print() ë¬¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ìœ ì‚¬í•©ë‹ˆë‹¤.\n\n2ë²ˆê³¼ 3ë²ˆì€ ê²°ê³¼ë¬¼ì„ ê²€í† í•  ê³³ì´ ìˆë‹¤ëŠ” ê°€ì •í•˜ì— ì´ë£¨ì–´ì§‘ë‹ˆë‹¤. ë‹¤í–‰íˆë„, í™•ì¸í•  ê³µê°„ì´ ìˆìŠµë‹ˆë‹¤! í•„ìš”í•œ ê²ƒì€ ë‹¤ìŒì„ ì‹¤í–‰í•˜ëŠ” ê²ƒë¿ì…ë‹ˆë‹¤:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```sql\nSELECT SYSTEM$GET_SERVICE_LOGS('TUTORIAL_DB.data_schema.tutorial_MT_job_service', 0, 'main');\n```\n\nì´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ì—¬ëŸ¬ë¶„ì˜ ì‹œë„ì—ì„œ ë°œìƒí•œ ë¡œê·¸ íŒŒì¼ì´ ë°˜í™˜ë˜ë©°, ë¬´ìŠ¨ ë¬¸ì œê°€ ë°œìƒí–ˆëŠ”ì§€ ë””ë²„ê¹…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# ë§ˆë¬´ë¦¬\n\nì´ ì•ˆë‚´ì„œê°€ ì—¬ëŸ¬ë¶„ì´ ì»¨í…Œì´ë„ˆ ì‚¬ìš©ì„ ì‹œì‘í•˜ê³  ë³µì¡í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•  ë•Œ ìì‹ ê°ì„ ê°–ê²Œ í•´ì£¼ì–´ì„œ, ì´ë¯¸ \"ì¥ë‚œê°\" ì´ìƒì˜ ê²ƒì„ ë§Œë“¤ì—ˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆê¸°ë¥¼ ë°”ëë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nìµœì¢…ì ìœ¼ë¡œ, ì»¨í…Œì´ë„ˆë¥¼ ëª¨ë¸ í›ˆë ¨ì˜ ìˆ˜ë‹¨ìœ¼ë¡œë§Œ ë³´ëŠ” ë¶„ë“¤ì—ê²Œ í•œ ë§ˆë”” ì „í•˜ê³  ì‹¶ì–´ìš”. ìµœê·¼ Snowflakeì—ì„œëŠ” ì»¨í…Œì´ë„ˆ ì‹¤í–‰ì„ ë” ì‰½ê²Œ ë§Œë“¤ì–´ì£¼ëŠ” í”„ë¼ì´ë¹— í”„ë¦¬ë·°ë¥¼ ì‹œì‘í–ˆì–´ìš”. ë…¸íŠ¸ë¶ì—ì„œ ì¼ë°˜ì ì¸ íŒŒì´ì¬ ì‹¤í–‰ê³¼ 2ë²ˆì˜ í´ë¦­ë§Œìœ¼ë¡œ ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ ì½”ë“œ ì‹¤í–‰ì´ ê°€ëŠ¥í•´ì¡Œì£ . ì•ìœ¼ë¡œ ë” ì‰¬ì›Œì§ˆ ê²ƒì´ë‹ˆ ì´ ê³µê°„ì„ ì£¼ì˜ê¹Šê²Œ ì§€ì¼œë³´ì„¸ìš”.\n\n# ì¶”ê°€ ìë£Œ\n\nì „ì²´ ë¬¸ì„œëŠ” ì—¬ê¸°ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆê³ , ì œ ë™ë£Œë“¤ì€ Snowpark ì»¨í…Œì´ë„ˆ ì„œë¹„ìŠ¤ í™œìš© ë°©ë²•ì— ê´€í•œ ë©‹ì§„ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í–ˆì–´ìš”. ìœ„ ì‘ì—…ì„ ì™„ë£Œí–ˆë‹¤ë©´ ë‹¤ìŒ ë‹¨ê³„ë¡œ ê°€ëŠ” ê²ƒì´ ì¢‹ê² ì£ :\n\n- [Snowflakeì—ì„œ ì±…ì„ ìˆëŠ” AI: Snowflake Cortex, LLMS, Snowpark ì»¨í…Œì´ë„ˆ ì„œë¹„ìŠ¤ í™œìš©](https://medium.com/snowflake/responsible-ai-on-snowflake-snowflake-cortex-llms-snowpark-container-services-snowflake-a0acc3e93909)\n- [Snowpark ì»¨í…Œì´ë„ˆ ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•œ OCR í¬í•¨ ë¬¸ì„œ ì¶”ì¶œ ë° GPU ê°€ì†í™”](https://medium.com/@michaelgorkow/document-extraction-incl-ocr-with-gpu-acceleration-in-snowpark-container-services-d3d9f4d4764a)\n- [Snowflake Cortex ê¸°ëŠ¥ ë° Snowpark ì»¨í…Œì´ë„ˆ ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•œ ì½œì„¼í„° ë¶„ì„](https://medium.com/snowflake/call-centre-analytics-with-snowflake-cortex-function-and-snowpark-container-services-5e06b4baef46)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në˜í•œ â€” ë¦¬ë·° ì½”ë©˜íŠ¸ë¥¼ ì œê³µí•´ì¤€ Caleb Baechtoldì—ê²Œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.\n","ogImage":{"url":"/assets/img/2024-06-23-SoYouWantToJustGetPytorchRunninginSnowparkContainerServices_0.png"},"coverImage":"/assets/img/2024-06-23-SoYouWantToJustGetPytorchRunninginSnowparkContainerServices_0.png","tag":["Tech"],"readingTime":16},{"title":"Nextjs ì•±ì„ Dockerizeí•˜ëŠ” ë°©ë²•","description":"","date":"2024-06-23 00:47","slug":"2024-06-23-DockerizeaNextjsApp","content":"\në§Œì•½ Vercelì— Next.js ì•±ì„ ë°°í¬í•˜ê³  ì‹¶ë‹¤ë©´, ì´ ê²½ìš°ì—ëŠ” ì»¨í…Œì´ë„ˆê°€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. Next.jsëŠ” Vercelì—ì„œ ë§Œë“¤ì–´ì§€ê³  ìœ ì§€ë³´ìˆ˜ë˜ê¸° ë•Œë¬¸ì— ë°°í¬ê°€ ì‰½ê²Œ ê°€ëŠ¥í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ AWS, Google Cloud Run ë˜ëŠ” ë‹¤ë¥¸ í´ë¼ìš°ë“œ ê³µê¸‰ì—…ì²´ë¥¼ í†µí•´ ì•±ì„ ì‹¤í–‰í•˜ë ¤ëŠ” ê²½ìš°ì—ëŠ” ì»¨í…Œì´ë„ˆê°€ í•„ìš”í•©ë‹ˆë‹¤.\n\nì˜¨ë¼ì¸ì—ì„œ ì°¾ì€ ëŒ€ë¶€ë¶„ì˜ ê¸°ì‚¬ë“¤ì€ Node.js ì•±ì„ ë„ì»¤ë¼ì´ì¦ˆí•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•˜ì§€ë§Œ, Next.js ì•±ì— ì´ˆì ì„ ë§ì´ ë‘ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. í•´ê²°ì±…ë“¤ì€ ìˆì§€ë§Œ, ê·¸ í•´ê²°ì±…ë“¤ì€ ëª‡ ê°€ì§€ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œì¼œ ëª‡ ì‹œê°„ì´ ê±¸ë ¸ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì œê°€ ê·¸ê²ƒì„ ì–´ë–»ê²Œ í–ˆëŠ”ì§€, ë¶€ë”ªíŒ ë¬¸ì œì ë“¤, ê·¸ë¦¬ê³  ê·¸ì— ëŒ€í•œ ì œ í•´ê²°ì±…ì„ ê³µìœ í•˜ë ¤ê³  í•©ë‹ˆë‹¤.\n\n# ì‹œì‘í•˜ê¸°!\n\nê°€ì§€ê³  ê³„ì‹  Next.js í”„ë¡œì íŠ¸ ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, ê³µì‹ Vercelì—ì„œ ì œê³µí•˜ëŠ” ì˜ˆì œ ì¤‘ í•˜ë‚˜ë¥¼ í´ë¡ í•´ ì‹œì‘í•˜ì„¸ìš”. ì˜¨ë¼ì¸ì—ì„œ ì°¾ì€ ë‹¤ë¥¸ í•´ê²°ì±…ë“¤ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë…ë¦½ ì‹¤í–‰í˜• ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ë¹Œë“œí•˜ê¸° ìœ„í•´ next.config.jsì— ë‹¤ìŒ ë¼ì¸ë“¤ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì´ í•„ìˆ˜ì ì´ë¼ê³  ì œì•ˆí–ˆì§€ë§Œ, ê·¸ê²ƒì„ ì¶”ê°€í•˜ì§€ ì•Šê³ ë„ ëª¨ë“  ê²ƒì´ ì˜ ì‘ë™í•˜ëŠ” ê²ƒì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nconst nextConfig = {\n  output: \"standalone\", // ì´ ì¤„ì´ ì—†ì–´ë„ ì˜ ì‘ë™í–ˆë‹¤.\n  // ... ë‹¤ë¥¸ ì„¤ì •\n};\n```\n\n## DockerFile\n\në£¨íŠ¸ ì €ì¥ì†Œì— ë™ì¼í•œ ì´ë¦„ì„ ê°€ì§„ Dockerfileì„ ì¶”ê°€í•˜ì„¸ìš”. ì´ íŒŒì¼ì—ëŠ” ë¹Œë“œí•  ë„ì»¤ ì´ë¯¸ì§€ì— ëŒ€í•œ ëª…ë ¹ì„ ì¶”ê°€í•  ê²ƒì…ë‹ˆë‹¤.\n\nì œê°€ ë§Œë“  ë‘ ê°€ì§€ ë²„ì „ì˜ Dockerfileì„ ê³µìœ í•˜ê² ìŠµë‹ˆë‹¤. í•˜ë‚˜ëŠ” ê°œë°œ ë‹¨ê³„/ì„œë²„ í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œ í™•ì‹¤í•˜ê³  ê¸°ë³¸ì ì¸ ë‹¨ì¼ ë‹¨ê³„ ë²„ì „ì´ë©°, ë‹¤ë¥¸ í•˜ë‚˜ëŠ” ê°œë°œ ë° í”„ë¡œë•ì…˜ ëª¨ë‘ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” docker-compose.ymlê³¼ í•¨ê»˜ ë‹¤ì¤‘ ë‹¨ê³„ ë²„ì „ì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në‹¨ê³„ë³„ DockerFile\n\nì•„ë˜ëŠ” íŒŒì¼ì´ ì–´ë–»ê²Œ ìƒê²¼ëŠ”ì§€ë¥¼ ë³´ì—¬ì£¼ê³ , í•œ ì¤„ì”© ë‚´ê°€ í•œ ì‘ì—…ì„ ì„¤ëª…í•˜ê² ì–´.\n\n```js\nFROM node:18\n\nWORKDIR /app\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nEXPOSE 3000\nCMD npm run dev\n```\n\në¨¼ì €, Dockerì— ê³µì‹ Docker Node ì´ë¯¸ì§€ ë²„ì „ 18ì„ ì‚¬ìš©í•˜ë„ë¡ From node:18ì„ í†µí•´ ì„¤ì •í•œë‹¤. FROM ë’¤ì— ì˜¤ëŠ” ë‚´ìš©ì„ ë³€ê²½í•˜ì—¬ ì‚¬ìš©í•˜ê³  ì‹¶ì€ ì´ë¯¸ì§€ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. ì§€ì›ë˜ëŠ” ëª©ë¡ì€ ì—¬ê¸°ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nWORKDIRì€ ì´í›„ ëª…ë ¹ì˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ì´ë¦„ì€ ì›í•˜ëŠ” ëŒ€ë¡œ ì§€ì •í•  ìˆ˜ ìˆì–´ìš”. ì €ëŠ” ì œ ì•±ì„ appì´ë¼ê³  ë¶€ë¥´ê² ìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  package.jsonê³¼ package-lock.json íŒŒì¼ì„ ì»¨í…Œì´ë„ˆë¡œ ë³µì‚¬í•œ ë‹¤ìŒ npm installì„ ì‹¤í–‰í•˜ì—¬ ëª¨ë“  ì¢…ì†ì„±ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.\n\nê·¸ ë‹¤ìŒ, í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ì½”ë“œ(í˜„ì¬ ë£¨íŠ¸ ë””ë ‰í† ë¦¬)ë¥¼ WORKDIRë¡œ ë³µì‚¬í•©ë‹ˆë‹¤. ì œ ê²½ìš°ì—ëŠ” /appì´ì—ìš”.\n\nExpose 3000ì€ ì»¨í…Œì´ë„ˆì—ê²Œ ì•±ì´ 3000 í¬íŠ¸ì—ì„œ ì‹¤í–‰ëœë‹¤ëŠ” ê²ƒì„ ì•Œë ¤ì¤ë‹ˆë‹¤.\n\nëª¨ë“  ì„¤ì •ì„ ëë‚¸ í›„ì—ëŠ” CMD npm run devë¡œ ì»¨í…Œì´ë„ˆì—ê²Œ ê°œë°œ ì„œë²„ë¥¼ ì‹œì‘í•˜ë„ë¡ ìš”ì²­í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ì œ Dockerfileë¡œ ì‘ì—…ì„ ë§ˆì³¤ìŠµë‹ˆë‹¤!!\n\nìš°ë¦¬ê°€ ë°©ê¸ˆ ë§Œë“  Dockerfileë¡œë¶€í„° Docker ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ë ¤ë©´, ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”. ì €ëŠ” ì´ë¥¼ my-appì´ë¼ê³  ì´ë¦„ ì§€ì—ˆì§€ë§Œ, ì›í•˜ëŠ” ëŒ€ë¡œ ë³€ê²½í•´ë„ ìƒê´€ì—†ìŠµë‹ˆë‹¤. ë§ˆì§€ë§‰ì— .ì„ ê¼­ ì…ë ¥í•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì£¼ì„¸ìš”.\n\n```js\ndocker build -t my-app .\n```\n\nì´ë¯¸ì§€ê°€ ìƒì„±ë˜ë©´, ë‹¤ìŒê³¼ ê°™ì´ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\në„ì»¤ ëŸ° -p 3000:3000 my-app\n```\n\n3000:3000ì€ ì•±ì„ ì‹¤í–‰í•  í¬íŠ¸ë¥¼ ì§€ì •í•˜ëŠ” ê²ƒì´ì—ìš”. ì €ëŠ” 3000ë²ˆ í¬íŠ¸ì—ì„œ ì‹¤í–‰í•  ê±°ì˜ˆìš”. ê·¸ë¦¬ê³  http://localhost:3000 ì— ì ‘ì†í•˜ë©´ ì‘ë™ ì¤‘ì¸ ì•±ì„ ë³¼ ìˆ˜ ìˆì–´ìš”!\n\në‹¤ì¤‘ ë‹¨ê³„ DockerFile\n\nì´ì œ ë‹¤ì¤‘ ë‹¨ê³„ Dockerfileì„ ë§Œë“¤ì–´ì„œ ë” ë¹ ë¥´ê³  íš¨ìœ¨ì ì¸ ë¹Œë“œë¥¼ í•  ìˆ˜ ìˆê²Œ í•˜ê³ , ìš´ì˜ í™˜ê²½ê³¼ ê°œë°œ í™˜ê²½ì„ ì‰½ê²Œ ì „í™˜í•  ìˆ˜ ìˆê²Œ ë  ê±°ì˜ˆìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në„ì»¤ íŒŒì¼ì— ìˆëŠ” ë‚´ìš©ì„ ëª¨ë‘ ì‚­ì œí•˜ê³  ë‹¤ìŒ ë‚´ìš©ìœ¼ë¡œ ëŒ€ì²´í•´ì£¼ì„¸ìš”.\n\n```js\nFROM node:18-alpine as base\nRUN apk add --no-cache g++ make py3-pip libc6-compat\nWORKDIR /app\nCOPY package*.json ./\nEXPOSE 3000\n\nFROM base as builder\nWORKDIR /app\nCOPY . .\nRUN npm run build\n\n\nFROM base as production\nWORKDIR /app\n\nENV NODE_ENV=production\nRUN npm ci\n\nRUN addgroup -g 1001 -S nodejs\nRUN adduser -S nextjs -u 1001\nUSER nextjs\n\n\nCOPY --from=builder --chown=nextjs:nodejs /app/.next ./.next\nCOPY --from=builder /app/node_modules ./node_modules\nCOPY --from=builder /app/package.json ./package.json\nCOPY --from=builder /app/public ./public\n\nCMD npm start\n\nFROM base as dev\nENV NODE_ENV=development\nRUN npm install\nCOPY . .\nCMD npm run dev\n```\n\nì´ ê²½ìš° node:18-alpineë¥¼ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤. ì´ê²ƒì€ ê¸°ë³¸ ì´ë¯¸ì§€ë³´ë‹¤ í›¨ì”¬ ì‘ìŠµë‹ˆë‹¤. -alpineë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ëª¨ë“  ë‹¤ë¥¸ ê²ƒë³´ë‹¤ ë¨¼ì € íŒŒì´ì¬ì„ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ ê·¸ ì¶”ê°€ ëª…ë ¹(RUN apk add â€” no-cache g++ make py3-pip libc6-compat)ì´ ìˆëŠ” ê²ƒì…ë‹ˆë‹¤. ê³µí†µ ì„¤ì •ì„ base ë‹¨ê³„ì— ë„£ì–´ì„œ ë‚˜ì¤‘ì— ë‹¤ë¥¸ ë‹¨ê³„ì—ì„œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤. ì›í•˜ëŠ” ê²½ìš° ë‹¨ê³„ ì´ë¦„ì„ ë³€ê²½í•˜ì—¬ as ë‹¤ìŒì— ì˜¤ëŠ” ë‚´ìš©ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në¹Œë” ë‹¨ê³„ëŠ” ì‚¬ì‹¤ìƒ npm run buildë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤. ì´ ë‹¨ê³„ëŠ” production ë‹¨ê³„ì—ì„œ ì´ë¯¸ ì¡´ì¬í•˜ì§€ ì•Šì€ ê²½ìš° COPY â€” from=builderë¥¼ ì‹œë„í•  ë•Œ í˜¸ì¶œë©ë‹ˆë‹¤. ë³´ì„¸ìš”? ë‹¤ì¤‘ ë‹¨ê³„ Dockerfileì´ ìœ ìš©í•œ ì ì´ ì—¬ê¸°ì— ìˆìŠµë‹ˆë‹¤. ë¹Œë” ë‹¨ê³„ëŠ” í•„ìš”í•  ë•Œë§Œ í˜¸ì¶œë©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì €í¬ëŠ” í”„ë¡œë•ì…˜ ë‹¨ê³„ì—ì„œ NODE_ENVë¥¼ productionìœ¼ë¡œ ì„¤ì •í•˜ê³ , ì´ë ‡ê²Œ í•˜ë©´ ì„±ëŠ¥ì´ ì„¸ ë°° í–¥ìƒëœë‹¤ê³  í•©ë‹ˆë‹¤. ê·¸ ë‹¤ìŒìœ¼ë¡œ, npm cië¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. ì´ê²ƒì€ npm install ëŒ€ì‹ ì— ì§€ì†ì ì¸ í†µí•©ì„ ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\nê·¸ í›„, ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ ì•±ì„ ì‹¤í–‰í•  ë¹„ë£¨íŠ¸ ì‚¬ìš©ìë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. ì œê°€ ê²Œìœ¼ë¥¸ í„°ë¼ ì‚¬ìš©ìë¥¼ nextjsë¡œ ê·¸ë£¹ì„ nodejsë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.\n\nê·¸ í›„ì—, ë¹Œë” ë‹¨ê³„ì—ì„œ í•„ìš”í•œ ì—ì…‹ì„ COPY â€” from=builderë¥¼ í†µí•´ ë³µì‚¬í•©ë‹ˆë‹¤.\n\në§ˆì§€ë§‰ìœ¼ë¡œ, npm startë¥¼ í˜¸ì¶œí•˜ì—¬ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹œì‘í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê°œë°œ ìŠ¤í…Œì´ì§€ì—ì„œëŠ” ì‹±ê¸€ ìŠ¤í…Œì´ì§€ Dockerfileì—ì„œ í•œ ê²ƒê³¼ ê¸°ë³¸ì ìœ¼ë¡œ ë˜‘ê°™ì€ ì‘ì—…ì„ í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ë„˜ì–´ê°€ë„ë¡ í• ê²Œìš”.\n\ndocker-compose.ymlì„ ìƒì„±í•˜ê¸° ì „ì— Dockerfileì´ ì‹¤ì œë¡œ ë¹Œë“œë˜ëŠ”ì§€ í™•ì¸í•˜ê³  ì‹¶ë‹¤ë©´ docker build -t my-app . ë° docker run -p 3000:3000 my-appë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆì–´ìš”. í…ŒìŠ¤íŠ¸í•˜ê³  ì‹¶ì€ ìŠ¤í…Œì´ì§€ë¥¼ ì£¼ì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒì„ ìŠì§€ ë§ˆì„¸ìš”. ì˜ˆë¥¼ ë“¤ì–´, í”„ë¡œë•ì…˜ ìŠ¤í…Œì´ì§€ê°€ ì„±ê³µì ìœ¼ë¡œ ë¹Œë“œë˜ê³  ì‹¤í–‰ë˜ëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ FROM baseë¡œ ì‹œì‘í•˜ëŠ” ë¶€ë¶„ ì´í›„ì— ì˜¤ëŠ” ëª¨ë“  ê²ƒì„ ì£¼ì„ ì²˜ë¦¬í•´ì£¼ì„¸ìš”.\n\n## Docker Compose\n\nDocker Composeë¥¼ ì‚¬ìš©í•˜ë©´ ê¸´ ëª…ë ¹ì–´ë¥¼ ê¸°ì–µí•  í•„ìš”ê°€ ì—†ì–´ìš”. docker-compose build ë° docker-compose up ëª…ë ¹ì–´ë¥¼ ê°„í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në£¨íŠ¸ ë””ë ‰í† ë¦¬ì— ë‹¤ìŒ ë‚´ìš©ì„ ê°€ì§„ docker-compose.yml íŒŒì¼ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.\n\n```js\nversion: '3.8'\nservices:\n  app:\n    image: openai-demo-app\n    build:\n      context: ./\n      target: dev\n      dockerfile: Dockerfile\n    volumes:\n        - .:/app\n        - /app/node_modules\n        - /app/.next\n    ports:\n      - \"3000:3000\"\n```\n\nì—¬ê¸°ì„œ `3.8` ë²„ì „ì€ ì‚¬ìš©í•  Docker Compose ë²„ì „ì„ ì§€ì •í•©ë‹ˆë‹¤. ì´ ê²½ìš°ì—ëŠ” í•œ ê°œì˜ ì„œë¹„ìŠ¤ì¸ appì„ ê°€ì§€ê³  ìˆì§€ë§Œ, í•„ìš”ì— ë”°ë¼ ë” ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nBuild contextëŠ” í˜„ì¬ ë””ë ‰í† ë¦¬ë¥¼ ì§€ì •í•˜ë©°, targetì€ Docker ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•  ë‹¨ê³„ë¥¼ ì§€ì •í•©ë‹ˆë‹¤. í”„ë¡œë•ì…˜ì—ì„œ ì‹¤í–‰í•˜ë ¤ë©´ ë‹¨ìˆœíˆ target:productionìœ¼ë¡œ ì„¤ì •í•˜ì‹œë©´ ë©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nVolumeì€ í˜¸ìŠ¤íŠ¸ì˜ ./ ë¡œì»¬ ë””ë ‰í† ë¦¬ì˜ ë‚´ìš©ì„ Docker ì»¨í…Œì´ë„ˆì˜ /app ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬í•˜ë„ë¡ ì§€ì‹œí•©ë‹ˆë‹¤.\n\në§ˆì§€ë§‰ìœ¼ë¡œ, í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ í¬íŠ¸ 3000ì„ ì»¨í…Œì´ë„ˆì˜ í¬íŠ¸ 3000ìœ¼ë¡œ ë§¤í•‘í•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ë¹Œë“œí•  ë•Œ í¬íŠ¸ 3000ì„ ë…¸ì¶œí–ˆìœ¼ë©°, ìš°ë¦¬ì˜ ì•±ë„ 3000 í¬íŠ¸ì—ì„œ ì‹¤í–‰ë  ê²ƒì…ë‹ˆë‹¤.\n\n## Docker Composeë¡œ í…ŒìŠ¤íŠ¸í•˜ê¸°\n\në§ˆì¹¨ë‚´ Docker ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ëŠ” ê³¼ì •ì— ë„ë‹¬í–ˆìŠµë‹ˆë‹¤. ë” ë¹ ë¥¸ ë¹Œë“œë¥¼ ìœ„í•´ Dockerì˜ BuildKit ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nCOMPOSE_DOCKER_CLI_BUILD=1 DOCKER_BUILDKIT=1 docker-compose build\n```\n\në¹Œë“œê°€ ì™„ë£Œë˜ë©´ ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í•˜ì—¬ ì•±ì„ ì‹œì‘í•  ìˆ˜ ìˆì–´ìš”.\n\n```js\ndocker-compose up\n```\n\nê·¸ ë‹¤ìŒì— ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3000 ë¡œ ì´ë™í•˜ë©´ ì•±ì´ ì‹¤í–‰ ì¤‘ì¸ ê²ƒì„ ë³¼ ìˆ˜ ìˆì–´ìš”!!!\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê·¸ê²Œ ë‹¤ì•¼!\n\nì•„ë˜ì—ëŠ” ëª‡ ê°€ì§€ ë¬¸ì œê°€ ìˆì—ˆì–´ìš”. ë‚´ Docker ì»¨í…Œì´ë„ˆê°€ ì‘ë™í•˜ì§€ ì•Šê±°ë‚˜ ë¬¸ì œì˜ ì›ì¸ì„ ì°¾ê³  ì‹¶ë‹¤ë©´ ê³ ìƒ ì¤‘ì¼ ìˆ˜ë„ ìˆìœ¼ë‹ˆ ë¹ ë¥´ê²Œ ê³µìœ í• ê²Œìš”.\n\n# ë‚´ê°€ ê²ªì€ ë¬¸ì œë“¤\n\n- Pythonì´ ëª…ë ¹ì¤„ì´ë‚˜ npm êµ¬ì„±ì—ì„œ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤: (ë§¥ ì‚¬ìš©ìë¡œì„œ) pythonì„ ê²½ë¡œì— ì¶”ê°€í•˜ê±°ë‚˜ pythonì„ python3ë¡œ ë³„ì¹­ ì§€ì •, python ì‚­ì œ ë° ë‹¤ì‹œ ì„¤ì¹˜ ë“± ë§ì€ ì‹œë„ë¥¼ í•´ë³´ì•˜ì§€ë§Œ ì–´ë–¤ ê²ƒë„ ì œê² ë„ì›€ì´ ë˜ì§€ ì•Šì•˜ì–´ìš”. ê·¸ë˜ì„œ ì œê°€ ì°¾ì•„ë‚¸ ë‘ ê°€ì§€ í•´ê²°ì±…ì„ ì—¬ê¸°ì— ì†Œê°œí• ê²Œìš”. (1) node:18(ë˜ëŠ” ê¸°í˜¸í•˜ëŠ” ë‹¤ë¥¸ ë²„ì „) ëŒ€ì‹  node:18-alpineì„ ì‚¬ìš©í•˜ì„¸ìš”. (2) íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì „ì— RUN apk add --no-cache g++ make py3-pip libc6-compat ë¥¼ ì¶”ê°€í•˜ì„¸ìš”.\n- Docker-compose upì„ ì‚¬ìš©í•  ë•Œ '/app/.next' ë””ë ‰í† ë¦¬ì—ì„œ í”„ë¡œë•ì…˜ ë¹Œë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ: docker runì„ í†µí•´ ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í–ˆì„ ë•ŒëŠ” ëª¨ë“  ê²ƒì´ ì˜ˆìƒëŒ€ë¡œ ì‘ë™í–ˆìŠµë‹ˆë‹¤. í•´ê²° ë°©ë²•ì€ Dockerfileì—ì„œ CMD npm start ì•ì— CMD [\"npm\",\"run\",\"build\"]ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì„ ì œì•ˆí•˜ëŠ” ì†”ë£¨ì…˜ì´ ìˆì§€ë§Œ, ì´ë ‡ê²Œ í•˜ë©´ ë‘ ê°œì˜ CMDë¥¼ í—ˆìš©í•˜ì§€ ì•ŠëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì–´ìš”. ì œ í•´ê²°ì±…ì€ Docker-compose.ymlì˜ volumesì— â€” /app/.nextë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì˜¤ëŠ˜ì€ ì—¬ê¸°ê¹Œì§€ì…ë‹ˆë‹¤!\n\nì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ì´ íŒë“¤ì´ ë„ì›€ì´ ë˜ê¸¸ ë°”ëë‹ˆë‹¤!\n","ogImage":{"url":"/assets/img/2024-06-23-DockerizeaNextjsApp_0.png"},"coverImage":"/assets/img/2024-06-23-DockerizeaNextjsApp_0.png","tag":["Tech"],"readingTime":10},{"title":"Docker, Uptime Kuma, ê·¸ë¦¬ê³  Traefikì„ ì‚¬ìš©í•˜ì—¬ ì›¹ì‚¬ì´íŠ¸ ëª¨ë‹ˆí„°ë§ í•˜ëŠ” ë°©ë²•","description":"","date":"2024-06-23 00:46","slug":"2024-06-23-UseDockerUptimeKumaandTraefikToMonitorYourWebsite","content":"\n\u003cimg src=\"/assets/img/2024-06-23-UseDockerUptimeKumaandTraefikToMonitorYourWebsite_0.png\" /\u003e\n\n# ì†Œê°œ\n\nì´ ë¬¸ì„œì—ì„œëŠ” Docker/Docker Swarmì„ ì‚¬ìš©í•˜ì—¬ ë¡œì»¬ PC ë˜ëŠ” ì„œë²„ì—ì„œ ì›¹ì‚¬ì´íŠ¸ ëª¨ë‹ˆí„°ë§ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ë“œë¦¬ë ¤ê³  í•©ë‹ˆë‹¤. prometheus, node-exporter, ë˜ëŠ” graphanaì™€ ê°™ì´ ë³µì¡í•œ ëª¨ë‹ˆí„°ë§ ìŠ¤íƒ ëŒ€ì‹ ì— NodeJsì™€ Vueë¡œ ì‘ì„±ëœ ê°€ë²¼ìš´ ëŒ€ì•ˆì¸ Uptime Kumaë¥¼ ì†Œê°œí•  ì˜ˆì •ì…ë‹ˆë‹¤.\n\nì´ í”„ë¡œì íŠ¸ëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ë¡œ GitHubì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤: https://github.com/louislam/uptime-kuma\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ëŒ€ì•ˆì„ ì‚¬ìš©í•˜ê²Œ ëœ ì¤‘ìš”í•œ ì†ì„±ë“¤ì€ ë‹¤ìŒê³¼ ê°™ì•„ìš”:\n\n- UIê°€ ì•„ì£¼ ë©‹ì ¸ìš”!\n- Docker/Docker Swarmì„ ì‚¬ìš©í•œ ì•„ì£¼ ì‰¬ìš´ ì„¤ì •\n- ë§¤ìš° ê°„í¸í•œ êµ¬ì„±\n- Discord, Slack, ì´ë©”ì¼ (SMTP) ë“±ì„ í†µí•œ ì•Œë¦¼. ì „ì²´ ëª©ë¡ì„ ë³´ë ¤ë©´ ì—¬ê¸°ë¥¼ í´ë¦­í•˜ì„¸ìš”.\n\n# ì¤€ë¹„ ì‚¬í•­\n\nUptime Kumaë¥¼ ì„œë²„ ë˜ëŠ” ë¡œì»¬ ë¨¸ì‹ ì—ì„œ ì‹¤í–‰í•˜ë ¤ë©´ í™˜ê²½ì„ ì¤€ë¹„í•´ì•¼ í•´ìš”. ì €ëŠ” Traefikì„ Docker Swarmì—ì„œ ì‹¤í–‰ë˜ëŠ” ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë¡œ ì‹¤í–‰í•˜ì—¬ Docker Composeë¡œ ë°°í¬í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•´ìš”. Traefikì„ ì‚¬ìš©í•˜ë©´ ë‹¨ì¼ Compose íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ ì„œë¹„ìŠ¤ë¥¼ ë°°í¬í•˜ê³  ë„ë©”ì¸ì— ëŒ€í•œ Let's Encrypt ì¸ì¦ì„œë¥¼ ìë™ìœ¼ë¡œ ë°œê¸‰í•  ìˆ˜ ìˆì–´ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ë‘ ê°€ì§€ ì „ì œ ì¡°ê±´ì„ ê°„ë‹¨íˆ ì„¤ëª…í•œ í›„, Uptime Kumaë¥¼ ë°°í¬í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ë“œë¦´ ê±°ì—ìš”.\n\n## Docker\n\nDockerëŠ” ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•˜ê³  ë°°í¬í•˜ë©° ì‹¤í–‰í•˜ê¸° ìœ„í•´ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” í”Œë«í¼ì´ì—ìš”. ì´ë¥¼ í†µí•´ ì¸í”„ë¼ë¥¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë¶„ë¦¬í•˜ì—¬ í•œ ê¸°ê³„ì—ì„œ ë‹¤ë¥¸ ê¸°ê³„ë¡œ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë¹ ë¥´ê²Œ ì „ë‹¬í•  ìˆ˜ ìˆê²Œ í•´ì¤˜ìš”.\n\nDockerë¥¼ ì‚¬ìš©í•˜ì—¬ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ êµ¬í˜„í•˜ë©´ í”í•œ \"ë‚´ ì»´í“¨í„°ì—ì„œëŠ” ì‘ë™í•˜ëŠ”ë°\" ê°™ì€ ì¸í”„ë¼ ë¬¸ì œë¥¼ íš¨ê³¼ì ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆì–´ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n'img' íƒœê·¸ë¥¼ Markdown í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•´ì£¼ì„¸ìš”.\n\n![](/assets/img/2024-06-23-UseDockerUptimeKumaandTraefikToMonitorYourWebsite_1.png)\n\nì‹œìŠ¤í…œì´ë‚˜ ì„œë²„ì— Dockerë¥¼ ì„¤ì¹˜í•˜ë ¤ë©´ docker.comì˜ ê³µì‹ íŠœí† ë¦¬ì–¼ì„ ë”°ë¼ ì§„í–‰í•˜ì„¸ìš”.\n\në¡œì»¬ ë¨¸ì‹ ì— Uptime Kumaë§Œ í˜¸ìŠ¤íŒ…í•˜ê³  ì‹¶ê³  Windowsë¥¼ ì‚¬ìš©í•˜ë©° Docker Desktopì„ ì„¤ì¹˜í•  ìˆ˜ ì—†ë‹¤ë©´ ì´ ê°€ì´ë“œë¥¼ ë”°ë¼ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n## Traefik\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nTraefikì´ë€ ë¬´ì—‡ì¸ê°€ìš”?\n\nTraefikì€ ë„ì»¤ í™˜ê²½ì—ì„œ ë°°í¬ëœ ì„œë¹„ìŠ¤ë¡œ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ì „ë‹¬í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ë˜í•œ Traefikì´ ê´€ë¦¬í•˜ëŠ” ëª¨ë“  ë„ë©”ì¸ì— ëŒ€í•´ ìë™ìœ¼ë¡œ Letâ€™s Encrypt SSL ì¸ì¦ì„œë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤.\n\në„ì»¤ í™˜ê²½ì—ì„œ ë¡œì»¬ Traefik ì„œë¹„ìŠ¤ë¥¼ ì„¤ì •í•˜ë ¤ë©´ ì´ ë„ì»¤ Compose íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•˜ê³  ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ë©ë‹ˆë‹¤:\n\n1. Traefikì—ì„œ ì‚¬ìš©ë˜ëŠ” ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ë¥¼ ìƒì„±í•˜ì„¸ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n2. í•„ìš”í•œ ë³€ìˆ˜ ë‚´ë³´ë‚´ê¸°\n\n3. ì»¨í…Œì´ë„ˆ ì‹œì‘í•˜ê¸°\n\níŠ¸ë¼í”½ ëŒ€ì‹œë³´ë“œì— ì ‘ì†í•˜ë ¤ë©´ https://dashboard.yourdomain.de ë¡œ ì´ë™í•˜ê³  ë‹¤ìŒìœ¼ë¡œ ë¡œê·¸ì¸í•˜ì„¸ìš”:\n\n```js\nusername: devadmin;\npassword: devto;\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në„ì»¤ ìŠ¤ì›œ ëª¨ë“œ í™˜ê²½ì—ì„œ Traefikì„ ë°°í¬í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ì´ ë„ì»¤ Compose íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•˜ê³  1ë‹¨ê³„ì™€ 2ë‹¨ê³„ë¥¼ ìˆ˜í–‰í•œ í›„ ë‹¤ìŒê³¼ ê°™ì´ ë°°í¬í•˜ë©´ ë©ë‹ˆë‹¤:\n\nTraefikì— ëŒ€í•œ ê¹Šì€ ì´í•´ë¥¼ ì–»ìœ¼ë ¤ë©´ ë‹¤ìŒ ê¸°ì‚¬ì—ì„œ ë„ì»¤ ë‚´ì—ì„œ ë°°í¬í•˜ëŠ” ë°©ë²•ê³¼ ë„ì»¤ ìŠ¤ì›œ ëª¨ë“œ ë‚´ì—ì„œ ë°°í¬í•˜ëŠ” ë°©ë²•ì„ ì½ì–´ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# Dockerë¥¼ ì‚¬ìš©í•˜ì—¬ Uptime Kuma ë°°í¬í•˜ê¸°\n\nUptime Kumaë¥¼ ë°°í¬í•˜ëŠ” ë°©ë²•ì€ ì„¸ ê°€ì§€ í™˜ê²½ì—ì„œ ê°€ëŠ¥í•©ë‹ˆë‹¤: ë¡œì»¬ì—ì„œ ë„ì»¤ë¡œ, ë„ì»¤ì™€ Traefikì„ ì‚¬ìš©í•˜ì—¬ ì„œë²„ì—ì„œ, ê·¸ë¦¬ê³  ë„ì»¤ë¥¼ ì‹¤í–‰í•˜ëŠ” ì„œë²„ í´ëŸ¬ìŠ¤í„°ì—ì„œ Traefikê³¼ í•¨ê»˜.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ë¡œì»¬ Docker í™˜ê²½ì—ì„œ ë°°í¬í•˜ê¸°\n\nUptime Kumaë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ ìƒˆë¡œìš´ Docker Compose íŒŒì¼ì„ ë§Œë“¤ì–´ ë‹¤ìŒ ë‚´ìš©ì„ ë¶™ì—¬ë„£ì–´ ìì‹ ì˜ ì¥ì¹˜ì—ì„œ ë¡œì»¬ë¡œ ì‹¤í–‰í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nì´ Docker Compose íŒŒì¼ì€ ê³µì‹ Uptime Kuma ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ í¬íŠ¸ë¥¼ 1337ë¡œ ë§¤í•‘í•˜ê³  Uptime Kumaì˜ ë°ì´í„° í´ë”ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ ê³µìœ  í´ë”ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\ní´ë”ë¡œ ì´ë™í•˜ì—¬ Docker Compose íŒŒì¼ì„ ì‹¤í–‰í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‹¤í–‰í•˜ì„¸ìš”:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nìœ„ ëª…ë ¹ì´ ì™„ë£Œë˜ë©´ https://localhost:1337/ì„ ì—´ì–´ Uptime Kuma ì¸ìŠ¤í„´ìŠ¤ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## Traefikì„ ì‚¬ìš©í•˜ì—¬ Docker/Docker Swarmìœ¼ë¡œ ì›ê²©ìœ¼ë¡œ ë°°í¬\n\nê³ ìœ í•œ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê³  Dockerë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¨ì¼ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê±°ë‚˜ Dockerì˜ ìŠ¤ì›œ ëª¨ë“œë¡œ ì„œë²„ í´ëŸ¬ìŠ¤í„°ë¥¼ ì‹¤í–‰í•˜ê³  ìˆëŠ” ê²½ìš° Docker Compose íŒŒì¼ì„ ì—…ë°ì´íŠ¸í•´ì•¼ í•©ë‹ˆë‹¤.\n\në‹¹ì‹ ì´ ë‚˜ì˜ íŠœí† ë¦¬ì–¼ì— ì„¤ëª…ëœëŒ€ë¡œ Traefik ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì„¤ì •í–ˆë‹¤ê³  ê°€ì •í•˜ê² ìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nìƒˆë¡œìš´ Docker Compose íŒŒì¼ì„ ë§Œë“¤ê³  ë‹¤ìŒ ë‚´ìš©ì„ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”:\n\nì´ Docker Compose íŒŒì¼ì„ ë°°í¬í•˜ê¸° ì „ì— Traefikì„ ìœ„í•œ ê²ƒì²˜ëŸ¼ ë„ë©”ì¸ì„ ë‚´ë³´ë‚´ì•¼ í•©ë‹ˆë‹¤:\n\në‹¤ë¥¸ ì„¤ì •ì„ í•„ìš”ì— ë§ê²Œ ì¡°ì •í•˜ì„¸ìš”(Domain, container_name, network ë° volumes) ê·¸ë¦¬ê³  Uptime Kumaë¥¼ ë°°í¬í•˜ì„¸ìš”:\n\nTraefikì„ ì‚¬ìš©í•˜ëŠ” Docker in Docker Swarm ëª¨ë“œì˜ ê²½ìš°,ì´ Compose íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ì‹¶ì€ ë…¸ë“œì— monitorì´ë¦„ì˜ ìƒˆë¡œìš´ ë…¸ë“œ ë ˆì´ë¸”ì„ ì‘ì„±í•˜ê³  PRIMARY_DOMAINì„ ë‚´ë³´ë‚¸ í›„ ì•„ë˜ ëª…ë ¹ì–´ë¡œ ë°°í¬í•˜ì„¸ìš”:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nëª‡ ì´ˆ/ë¶„ í›„ì— Uptime Kumaê°€ ì„±ê³µì ìœ¼ë¡œ ë°°í¬ë˜ì–´ì„œ https://monitor.PRIMARY_DOMAIN/ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.\n\n# Uptime Kuma êµ¬ì„±\n\nUptime Kumaê°€ ì„±ê³µì ìœ¼ë¡œ ë°°í¬ëœ í›„ ì²˜ìŒìœ¼ë¡œ ì•¡ì„¸ìŠ¤í•˜ë©´ ì•ˆì „í•œ ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ êµ¬ì„±í•´ì•¼ í•©ë‹ˆë‹¤.\n\nì‘ì—…ì„ ì™„ë£Œí•˜ì‹  í›„ì—ëŠ” ì´ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì²« ë²ˆì§¸ ëª¨ë‹ˆí„°ë¥¼ ì¶”ê°€í•´ë³´ì„¸ìš”:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![2024-06-23-UseDockerUptimeKumaandTraefikToMonitorYourWebsite_2.png](/assets/img/2024-06-23-UseDockerUptimeKumaandTraefikToMonitorYourWebsite_2.png)\n\nìƒˆë¡œìš´ UIê°€ ë‚˜íƒ€ë‚˜ë©° íŠ¹ì • ë™ì‘ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n![2024-06-23-UseDockerUptimeKumaandTraefikToMonitorYourWebsite_3.png](/assets/img/2024-06-23-UseDockerUptimeKumaandTraefikToMonitorYourWebsite_3.png)\n\nì´ì œ ì²« ë²ˆì§¸ ëª¨ë‹ˆí„°ë¥¼ ë§Œë“¤ì—ˆìœ¼ë¯€ë¡œ, Discord, ì´ë©”ì¼ ë˜ëŠ” ê¸°íƒ€ ì–´ë–¤ ìœ í˜•ì˜ ì•Œë¦¼ë„ êµ¬ì„±í•´ì•¼ í•©ë‹ˆë‹¤. ëª¨ë‹ˆí„°ê°€ ì˜ˆìƒëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•Šì„ ë•Œë§ˆë‹¤ ì•Œë¦¼ì„ ë°›ê²Œ ë©ë‹ˆë‹¤. ì´ ê³¼ì •ì€ ë³´í†µ ë§¤ìš° ì‰½ê³  ë‹¤ìŒìœ¼ë¡œ ì„¤ëª…ë  ê²ƒì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ë””ìŠ¤ì½”ë“œ ì•Œë¦¼ ì„¤ì •í•˜ê¸° (ê·¸ë¦¬ê³  ìŠ¬ë™, íŒ€ì¦ˆ)\n\në””ìŠ¤ì½”ë“œ ì•Œë¦¼ (ë˜ëŠ” íŒ€ì¦ˆ, ìŠ¬ë™)ì„ í™œì„±í™”í•˜ë ¤ë©´ Uptime Kumaê°€ ê²½ê³ ë¥¼ ë³´ë‚¼ ì„œë²„ì™€ ì±„ë„ì— ëŒ€í•œ ë””ìŠ¤ì½”ë“œ (ë˜ëŠ” íŒ€ì¦ˆ, ìŠ¬ë™) ì›¹í›…ì´ í•„ìš”í•©ë‹ˆë‹¤. ë””ìŠ¤ì½”ë“œì—ì„œëŠ” ì´ë¥¼ 'ì„œë²„ ì„¤ì • - í†µí•© - ì›¹í›… ìƒì„±'ì„ í†µí•´ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì›¹í›…ì„ ë§Œë“  í›„ì— í•´ë‹¹ ì›¹í›… URLì„ ë³µì‚¬í•©ë‹ˆë‹¤. íŒ€ì¦ˆë‚˜ ìŠ¬ë™ì—ì„œë„ ê±°ì˜ ë¹„ìŠ·í•˜ê²Œ ì‘ë™í•´ì•¼ í•©ë‹ˆë‹¤.\n\nê·¸ëŸ° ë‹¤ìŒ, ëª¨ë‹ˆí„°ë¥¼ í¸ì§‘í•˜ê³  \"ì•Œë¦¼ ì„¤ì •\"ì„ ëˆ„ë¦…ë‹ˆë‹¤. ë‚˜íƒ€ë‚˜ëŠ” ëŒ€í™” ìƒìì—ì„œ ë””ìŠ¤ì½”ë“œ (ë˜ëŠ” íŒ€ì¦ˆ, ìŠ¬ë™)ì„ ì„ íƒí•˜ê³  ì¹œìˆ™í•œ ì´ë¦„ì„ ì§€ì–´ì£¼ê³  ì›¹í›… URLì„ ë¶™ì—¬ë„£ìŠµë‹ˆë‹¤. ë””ìŠ¤ì½”ë“œì˜ ê²½ìš° UIëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë³´ì´ì–´ì•¼ í•©ë‹ˆë‹¤:\n\n![ë””ìŠ¤ì½”ë“œ ì„¤ì • í™”ë©´](/assets/img/2024-06-23-UseDockerUptimeKumaandTraefikToMonitorYourWebsite_4.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n**í…Œì´ë¸” íƒœê·¸ë¥¼ Markdown í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•˜ë©´ ë©ë‹ˆë‹¤.**\n\nê¸°ì¡´ ëª¨ë‹ˆí„°ì—ë„ ì ìš©í•˜ê±°ë‚˜ ìƒˆë¡œìš´ ëª¨ë‹ˆí„°ì˜ ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## ì´ë©”ì¼ ì•Œë¦¼ ì„¤ì •í•˜ê¸°\n\në§Œì•½ ë””ìŠ¤ì½”ë“œ, íŒ€ì¦ˆ, ë˜ëŠ” ìŠ¬ë™ ì•Œë¦¼ì„ ì›ì¹˜ ì•ŠëŠ”ë‹¤ë©´, ì´ë©”ì¼ ì•Œë¦¼ì„ ìƒì„±í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì„¤ì •í•˜ê¸° ìœ„í•´ ì´ë©”ì¼ ê³„ì •ì˜ í˜¸ìŠ¤íŠ¸ëª…, í¬íŠ¸, ì‚¬ìš©ìëª…, ë¹„ë°€ë²ˆí˜¸, ë³´ë‚´ëŠ”/ë°›ëŠ” ì´ë©”ì¼, ê·¸ë¦¬ê³  ì¸ì¦ ë°©ë²• (StartTLS ë˜ëŠ” SSL)ì´ í•„ìš”í•©ë‹ˆë‹¤. ë˜í•œ ìƒˆë¡œìš´ ëª¨ë‹ˆí„°ì˜ ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ì§€ì •í•˜ê±°ë‚˜ ê¸°ì¡´ ëª¨ë‹ˆí„°ì— ì¶”ê°€í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n# ë§ˆì§€ë§‰ìœ¼ë¡œ\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ê¸°ì‚¬ì—ì„œëŠ” Uptime Kumaë¥¼ ë¡œì»¬ ë˜ëŠ” Docker ë˜ëŠ” Docker Swarm í™˜ê²½ì— Traefik ì—­ë°©í–¥ í”„ë¡ì‹œì™€ í•¨ê»˜ ì„¤ì¹˜í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ë“œë ¸ì–´ìš”. ì´ ê°€ë²¼ìš´ ë„êµ¬ëŠ” ì„¤ì •ì´ ì‰½ê³  ë‹¤ì–‘í•œ êµ¬ì„± ì˜µì…˜ì„ ì œê³µí•˜ê¸° ë•Œë¬¸ì— ì–´ë–¤ ì›¹ì‚¬ì´íŠ¸ë“  ê°ì‹œí•˜ëŠ” ë° ì•„ì£¼ ì¢‹ì•„ìš”. ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œìë‚˜ ë¸”ë¡œê·¸ í˜¸ìŠ¤í„°ë¼ë©´ Uptime Kumaë¥¼ ì¶”ì²œë“œë¦´ê²Œìš”. ì´ë¥¼ í†µí•´ ì„œë¹„ìŠ¤ë‚˜ ë¸”ë¡œê·¸ê°€ ì œëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.\n\nì´ íŠœí† ë¦¬ì–¼ì€ ì—¬ê¸°ê¹Œì§€ì—ìš”. ì´ì œ ì„¤ì •í•  ìˆ˜ ìˆì„ ê±°ì—ìš”. ì—¬ì „íˆ ê¶ê¸ˆí•œ ì ì´ ìˆë‹¤ë©´ ëŒ“ê¸€ ì„¹ì…˜ì— ì§ˆë¬¸í•´ ì£¼ì„¸ìš”.\n\nì´ ê¸°ì‚¬ë¥¼ ì¦ê²ê²Œ ì½ì—ˆë‹¤ë©´ ì†Œì¤‘í•œ ìƒê°ì„ ëŒ“ê¸€ë¡œ ë‚¨ê²¨ì£¼ì‹­ì‹œì˜¤! í”¼ë“œë°±ì„ ë“£ê³  ì‹¶ì–´ìš”.\n\nëˆ„êµ¬ì—ê²Œë“  ì´ ê¸°ì‚¬ë¥¼ ê³µìœ í•˜ê³  ì œ ê°œì¸ ë¸”ë¡œê·¸, LinkedIn, Twitter ë° GitHubì—ì„œ ì—°ë½í•´ ì£¼ì„¸ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ê¸€ì€ ì œ ë¸”ë¡œê·¸ì—ë„ ê²Œì¬ë˜ì—ˆìŠµë‹ˆë‹¤: [https://www.paulsblog.dev/use-docker-uptime-kuma-and-traefik-to-monitor-your-website/](https://www.paulsblog.dev/use-docker-uptime-kuma-and-traefik-to-monitor-your-website/)\n","ogImage":{"url":"/assets/img/2024-06-23-UseDockerUptimeKumaandTraefikToMonitorYourWebsite_0.png"},"coverImage":"/assets/img/2024-06-23-UseDockerUptimeKumaandTraefikToMonitorYourWebsite_0.png","tag":["Tech"],"readingTime":10},{"title":"ìŠ¤í”„ë§ ë¶€íŠ¸ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë„ì»¤ë¼ì´ì§• ë°©ë²• ë‹¨ê³„ë³„ ê°€ì´ë“œ","description":"","date":"2024-06-23 00:44","slug":"2024-06-23-HowtoDockerizeSpringBootMicroservicesAStep-by-StepGuide","content":"\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-HowtoDockerizeSpringBootMicroservicesAStep-by-StepGuide_0.png)\n\ní˜„ëŒ€ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ í™˜ê²½ì—ì„œ, ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ëŠ” í™•ì¥ì„±, ìœ ì—°ì„± ë° ìœ ì§€ ë³´ìˆ˜ì„± ë•Œë¬¸ì— ìƒë‹¹í•œ ì¸ê¸°ë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤. ì„ ë„ì ì¸ ì»¨í…Œì´ë„ˆí™” í”Œë«í¼ì¸ DockerëŠ” ê° ì„œë¹„ìŠ¤ë¥¼ ìœ„í•œ ê²©ë¦¬ëœ í™˜ê²½ì„ ì œê³µí•˜ì—¬ ì§€ì†ì ì¸ í†µí•© ë° ë°°í¬ (CI/CD)ë¥¼ ìš©ì´í•˜ê²Œ í•˜ê³ , ì„œë¡œ ë‹¤ë¥¸ í™˜ê²½ì—ì„œ ì¼ê´€ëœ ë™ì‘ì„ ë³´ì¥í•¨ìœ¼ë¡œì¨ ì´ ì•„í‚¤í…ì²˜ë¥¼ ë³´ì™„í•©ë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì˜ ë„ì»¤í™” ê³¼ì •ì„ ì•ˆë‚´í•˜ë©°, ì£¼ìš” ê°œë…, ëª¨ë²” ì‚¬ë¡€ ë° ì‹¤ìš©ì ì¸ ë‹¨ê³„ë¥¼ ê°•ì¡°í•  ê²ƒì…ë‹ˆë‹¤.\n\n# ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë€?\n\në§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ëŠ” ê±°ëŒ€í•œ ë‹¨ì¼ ì‘ìš© í”„ë¡œê·¸ë¨ì„ ì‘ì€, ë…ë¦½ì ì¸ ì„œë¹„ìŠ¤ë¡œ ë¶„í•´í•˜ì—¬ ê°œë°œ, ë°°í¬ ë° í™•ì¥ì´ ë…ë¦½ì ìœ¼ë¡œ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜ì…ë‹ˆë‹¤. ê° ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ëŠ” íŠ¹ì • ê¸°ëŠ¥ì„ ë‹´ë‹¹í•˜ê³  ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì™€ APIë¥¼ í†µí•´ í†µì‹ í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# Microservicesì— Dockerë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ?\n\nDocker ì»¨í…Œì´ë„ˆëŠ” Microservicesì— ë‹¤ìŒê³¼ ê°™ì€ ë§ì€ ì´ì ì„ ì œê³µí•©ë‹ˆë‹¤:\n\n- ê²©ë¦¬ì„±: ê° MicroserviceëŠ” ìì²´ ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰ë˜ì–´ í”„ë¡œì„¸ìŠ¤ì™€ ë¦¬ì†ŒìŠ¤ë¥¼ ê²©ë¦¬í•©ë‹ˆë‹¤.\n- ì¼ê´€ì„±: Docker ì»¨í…Œì´ë„ˆëŠ” ê°œë°œ, í…ŒìŠ¤íŠ¸ ë° í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‘ìš© í”„ë¡œê·¸ë¨ì´ ë™ì¼í•˜ê²Œ ì‘ë™í•¨ì„ ë³´ì¥í•©ë‹ˆë‹¤.\n- ì´ì‹ì„±: Docker ì´ë¯¸ì§€ëŠ” Dockerë¥¼ ì§€ì›í•˜ëŠ” ëª¨ë“  í”Œë«í¼ì—ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- í™•ì¥ì„±: ì»¨í…Œì´ë„ˆëŠ” ìˆ˜ìš”ì— ë”°ë¼ ì‰½ê²Œ í™•ì¥í•˜ê±°ë‚˜ ì¶•ì†Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ê°„í¸í•œ CI/CD: DockerëŠ” CI/CD íŒŒì´í”„ë¼ì¸ê³¼ ì˜ í†µí•©ë˜ì–´ ìë™ ë¹Œë“œ, í…ŒìŠ¤íŠ¸ ë° ë°°í¬ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.\n\n# ì¤€ë¹„ ì‚¬í•­\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- Docker ë° Docker Composeì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ì´í•´ë„\n- ë¡œì»¬ì—ì„œ ì„¤ì •ëœ Spring Boot ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í”„ë¡œì íŠ¸\n- ê³µì‹ Docker ì›¹ì‚¬ì´íŠ¸ì—ì„œ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆëŠ” ë³¸ì¸ì˜ ì»´í“¨í„°ì— Dockerê°€ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\n\n# Spring Boot ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ Dockerí™”í•˜ëŠ” ë‹¨ê³„\n\n- ê° ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì— ëŒ€í•´ Dockerfile ì‘ì„±\n\nê° Spring Boot ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì— ëŒ€í•´ í”„ë¡œì íŠ¸ì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— Dockerfileì„ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤. ë‹¤ìŒì€ Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ Dockerfile ì˜ˆì‹œì…ë‹ˆë‹¤:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì¿ í° ì„œë¹„ìŠ¤ìš©:\n\n```js\n# ê³µì‹ OpenJDK ëŸ°íƒ€ì„ì„ ë¶€ëª¨ ì´ë¯¸ì§€ë¡œ ì‚¬ìš©\nFROM openjdk:17-alpine\n\n# JAR íŒŒì¼ì„ ì»¨í…Œì´ë„ˆë¡œ ë³µì‚¬\nADD target/couponservice-0.0.1-SNAPSHOT.jar couponservice-0.0.1-SNAPSHOT.jar\n\n# ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰\nENTRYPOINT [ \"java\",\"-jar\",\"couponservice-0.0.1-SNAPSHOT.jar\" ]\n```\n\nìƒí’ˆ ì„œë¹„ìŠ¤ìš©:\n\n```js\n# ê³µì‹ OpenJDK ëŸ°íƒ€ì„ì„ ë¶€ëª¨ ì´ë¯¸ì§€ë¡œ ì‚¬ìš©\nFROM openjdk:17-alpine\n\n# JAR íŒŒì¼ì„ ì»¨í…Œì´ë„ˆë¡œ ë³µì‚¬\nADD target/productservice-0.0.1-SNAPSHOT.jar productservice-0.0.1-SNAPSHOT.jar\n\n# ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰\nENTRYPOINT [ \"java\",\"-jar\",\"productservice-0.0.1-SNAPSHOT.jar\" ]\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n2. ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë©”ì´ë¸ì„ í†µí•´ ë‘ ê°œì˜ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ë¹Œë“œí•˜ì„¸ìš”:\n\n```js\nmvn clean package -DskipTests\n```\n\n3. ë„ì»¤ ì´ë¯¸ì§€ ë¹Œë“œí•˜ê¸°\n\në„ì»¤ íŒŒì¼ì„ í¬í•¨í•˜ëŠ” ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•œ í›„ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ì„¸ìš”:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\në„ì»¤ build -f Dockerfile -t coupon_app .\n```\n\n```js\në„ì»¤ build -f Dockerfile -t product_app .\n```\n\n4. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì„ ìœ„í•œ MySQL ì»¨í…Œì´ë„ˆ ì„¤ì •í•©ë‹ˆë‹¤.\n\n```js\në„ì»¤ run -d -p 6666:3306 --name=docker-mysql --env=\"MYSQL_ROOT_PASSWORD=test1234\" --env=\"MYSQL_DATABASE=mydb\" mysql\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n5. ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ Docker ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤:\n\n- MySQL ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í•˜ê³  ë‹¨ì¼ ëª…ë ¹ì–´ë¡œ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤.\n\n```js\ndocker exec -i docker-mysql mysql -uroot -ptest1234 mydb \u003ctables.sql\n```\n\n2. ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‘ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\në„ì»¤ ì‹¤í–‰ -t --name=coupon-app --link docker-mysql:mysql -p 10555:9091 coupon_app\n```\n\n```js\në„ì»¤ ì‹¤í–‰ -t --link docker-mysql:mysql --link coupon-app:coupon_app -p 10666:9090 product_app\n```\n\n6. Postmanì„ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ í…ŒìŠ¤íŠ¸í•˜ê¸°.\n\nì—”ë“œí¬ì¸íŠ¸ë¥¼ í˜¸ì¶œí•˜ì—¬ Postmanì„ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/assets/img/2024-06-23-HowtoDockerizeSpringBootMicroservicesAStep-by-StepGuide_1.png\" /\u003e\n\n\u003cimg src=\"/assets/img/2024-06-23-HowtoDockerizeSpringBootMicroservicesAStep-by-StepGuide_2.png\" /\u003e\n\në°ëª¨ì— ì‚¬ìš©ëœ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì˜ ì†ŒìŠ¤ ì½”ë“œëŠ” ì œ GitHub ì €ì¥ì†Œì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# ê²°ë¡ \n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nSpring Boot ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ë„ì»¤í™”í•˜ë©´ ê°œë°œ, ë°°í¬ ë° í™•ì¥ í”„ë¡œì„¸ìŠ¤ë¥¼ ê°„í¸í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”. ê° ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ìœ„í•œ ë„ì»¤ íŒŒì¼ì„ ë§Œë“¤ê³  ë„ì»¤ì˜ í™˜ê²½ ì¼ê´€ì„± ë° ê²©ë¦¬ ê¸°ëŠ¥ì„ í™œìš©í•¨ìœ¼ë¡œì¨ ê²¬ê³ í•˜ê³  í™•ì¥ ê°€ëŠ¥í•œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆì–´ìš”. ì´ ì•ˆë‚´ì„œì— ë‚˜ì˜¨ ë‹¨ê³„ì— ë”°ë¼ Spring Boot ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ë„ì»¤í™”í•˜ê³  ì»¨í…Œì´ë„ˆí™”ì˜ ëª¨ë“  ì ì¬ë ¥ì„ í™œìš©í•´ ë³´ì„¸ìš”.\n","ogImage":{"url":"/assets/img/2024-06-23-HowtoDockerizeSpringBootMicroservicesAStep-by-StepGuide_0.png"},"coverImage":"/assets/img/2024-06-23-HowtoDockerizeSpringBootMicroservicesAStep-by-StepGuide_0.png","tag":["Tech"],"readingTime":6},{"title":"Poetryë¡œ ì´ˆê³ ì† Python Docker ë¹Œë“œ í•˜ëŠ” ë°©ë²• ","description":"","date":"2024-06-23 00:42","slug":"2024-06-23-BlazingfastPythonDockerbuildswithPoetry","content":"\n## ëŠë¦° ë²ˆê±°ë¡œìš´ ë„ì»¤ ë¹Œë“œë¥¼ ì›í™œí•œ ì‘ì—…ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ìˆëŠ” ë°©ë²•\n\n![image](/assets/img/2024-06-23-BlazingfastPythonDockerbuildswithPoetry_0.png)\n\ní”„ë¡œì íŠ¸ì˜ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ëŠ” ê²ƒì€ ì¼ë°˜ì ìœ¼ë¡œ ì¬í˜„ ê°€ëŠ¥í•˜ê³  ê²°ì •ë¡ ì ì¸ ë°©ì‹ìœ¼ë¡œ ì¢…ì†ì„±ì„ ì„¤ì¹˜í•˜ëŠ” ì‘ì—…ì„ í¬í•¨í•©ë‹ˆë‹¤. íŒŒì´ì¬ ì»¤ë®¤ë‹ˆí‹°ì—ì„œ PoetryëŠ” ì´ë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•œ ê°€ì¥ í™•ì‹¤í•œ ë„êµ¬ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë„ì»¤ ë¹Œë“œì—ì„œ Poetryë¥¼ ìµœì ìœ¼ë¡œ í™œìš©í•˜ì§€ ì•Šìœ¼ë©´ ì„±ëŠ¥ì´ ì €í•˜ë˜ê³  ê¸´ ë¹Œë“œ ì‹œê°„ìœ¼ë¡œ ê°œë°œì ìƒì‚°ì„±ì´ ì €í•˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në³¸ ë¬¸ì„œëŠ” ì´ë¯¸ Poetryì™€ ë„ì»¤, íŠ¹íˆ ë„ì»¤ ë ˆì´ì–´ ìºì‹± ì‘ë™ ë°©ì‹ì— ëŒ€í•´ ìµìˆ™í•œ ë…ìë“¤ì„ ê°€ì •í•˜ê³  ìˆìœ¼ë©° ë¹Œë“œë¥¼ ìµœì í™”í•˜ê¸° ìœ„í•œ ë°©ë²•ì„ ì°¾ê³  ìˆëŠ” ë…ìë¥¼ ìœ„í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ ê¸€ì€ ê° ìµœì í™”ì˜ ì˜í–¥ì„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ìˆœì§„í•œ í•´ê²°ì±…ë¶€í„° ìµœì í™”ëœ í•´ê²°ì±…ê¹Œì§€ êµ¬ì¡°í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì†Œê°œëŠ” ì—¬ê¸°ê¹Œì§€, ì´ì œ ëª‡ ê°œì˜ Dockerfileì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤! ğŸ’ª\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 0. í”„ë¡œì íŠ¸ êµ¬ì¡°\n\nìš°ë¦¬ëŠ” ì´ì•¼ê¸°í•  ì‘ì€ í”„ë¡œì íŠ¸ë¥¼ ì‚¬ìš©í•´ ë³¼ê¹Œìš”? ê·¸ ì´ë¦„ì€ ì œê°€ ë³¸ ì‚° ì¤‘ì—ì„œ ìµœê³ ì¸ ì•Œë‚˜í‘¸ë¥´ë‚˜ ì‚°ìœ¼ë¡œ ì„ì˜ë¡œ ì§€ì—ˆìŠµë‹ˆë‹¤ â›° ê·¹ì†Œ í”„ë¡œì íŠ¸ êµ¬ì„±ì€ pyproject.toml, ê´€ë ¨ëœ poetry.lock, ì½”ë“œ ë° Dockerfileì„ í¬í•¨í•  ê²ƒì…ë‹ˆë‹¤.\n\n```js\n.\nâ”œâ”€â”€ Dockerfile\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ annapurna\nâ”‚   â”œâ”€â”€ __init__.py\nâ”‚   â””â”€â”€ main.py\nâ”œâ”€â”€ poetry.lock\nâ””â”€â”€ pyproject.toml\n```\n\në‹¨ìˆœí•¨ì„ ìœ„í•´, ìœ ëª…í•œ fastapi ì›¹ ì„œë²„ë¥¼ poetry add fastapië¥¼ í†µí•´ ì„¤ì¹˜í•˜ê³ , ì œ í”„ë¡œì íŠ¸ì—ì„œ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ëª‡ ê°€ì§€ ë¦°í„°ë“¤ì„ ì„¤ì¹˜í•´ë³´ì•˜ìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n[tool.poetry]\nname = \"annapurna\"\nversion = \"1.0.0\"\ndescription = \"\"\nauthors = [\"Riccardo Albertazzi \u003cmy@email.com\u003e\"]\nreadme = \"README.md\"\n\n[tool.poetry.dependencies]\npython = \"^3.11\"\n\nfastapi = \"^0.95.1\"\n\n[tool.poetry.group.dev.dependencies]\nblack = \"^23.3.0\"\nmypy = \"^1.2.0\"\nruff = \"^0.0.263\"\n\n[build-system]\nrequires = [\"poetry-core\"]\nbuild-backend = \"poetry.core.masonry.api\"\n\n## 1. The naive approach ğŸ˜\n\nWhat our Docker build needs to do is having Python and Poetry installed, getting our code, installing the dependencies and setting the projectâ€™s entrypoint. This is exactly what we are doing in here:\n\n```js\nFROM python:3.11-buster\n\nRUN pip install poetry\n\nCOPY . .\n\nRUN poetry install\n\nENTRYPOINT [\"poetry\", \"run\", \"python\", \"-m\", \"annapurna.main\"]\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ê°„ë‹¨í•œ Dockerfileì€ ì¼ì„ í•´ë‚´ê³ , ë‹¨ìˆœí•œ `docker build .` ëª…ë ¹ìœ¼ë¡œ ì´ë¯¸ ë™ì‘í•˜ëŠ” ì´ë¯¸ì§€ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¤ì œë¡œ ì´ê²ƒì€ ììŠµì„œì™€ ì˜¤í”ˆ ì†ŒìŠ¤ í”„ë¡œì íŠ¸ì—ì„œ ë³´ê²Œ ë˜ëŠ” ì „í˜•ì ì¸ Dockerfileë¡œ, ì´í•´í•˜ê¸° ì‰½ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ í”„ë¡œì íŠ¸ê°€ ì„±ì¥í•˜ë©´ ë²ˆê±°ë¡œìš´ ë¹Œë“œì™€ ê±°ëŒ€í•œ Docker ì´ë¯¸ì§€ë¡œ ì´ëŒê²Œ ë  ê²ƒì…ë‹ˆë‹¤. ì €ì˜ ê²°ê³¼ Docker ì´ë¯¸ì§€ëŠ” ì‹¤ì œë¡œ 1.1GBì…ë‹ˆë‹¤! ìš°ë¦¬ê°€ ë³¼ ìµœì í™”ëŠ” ìºì‹±ì„ í™œìš©í•˜ê³  ìµœì¢… ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ì¤„ì´ëŠ” ë°©í–¥ìœ¼ë¡œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.\n\n## 2. ì›Œë°ì—… ğŸš¶\n\nì›Œë°ì—…ì„ ìœ„í•œ ëª‡ ê°€ì§€ ê°œì„  ì‚¬í•­ë¶€í„° ì‹œì‘í•´ë´…ì‹œë‹¤:\n\n- Poetry ë²„ì „ì„ ê³ ì •í•˜ì„¸ìš”. PoetryëŠ” ë§ˆì´ë„ˆ ë²„ì „ ê°„ì— ì¤‘ìš”í•œ ë³€ê²½ ì‚¬í•­ì´ í¬í•¨ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìƒˆ ë²„ì „ì´ ì¶œì‹œë  ë•Œ ë¹Œë“œê°€ ê°‘ìê¸° ì‹¤íŒ¨í•˜ì§€ ì•Šë„ë¡ í•˜ë ¤ë©´ ë¡œì»¬ì—ì„œ ì‚¬ìš© ì¤‘ì¸ ë²„ì „ê³¼ ë™ì¼í•œ ë²„ì „ìœ¼ë¡œ ëª…í™•íˆ ê³ ì •í•´ì•¼ í•©ë‹ˆë‹¤.\n- í•„ìš”í•œ ë°ì´í„°ë§Œ COPYí•˜ì„¸ìš”. ì´ë ‡ê²Œ í•˜ë©´ ì˜ˆë¥¼ ë“¤ì–´ ë¡œì»¬ ê°€ìƒ í™˜ê²½(.venvì— ìœ„ì¹˜)ì˜ ë¶ˆí•„ìš”í•œ ë³µì‚¬ë¥¼ í”¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. README.md íŒŒì¼ì´ ì—†ìœ¼ë©´ Poetryê°€ ê²½ê³ ë¥¼ í‘œì‹œí•  ê²ƒì´ì§€ë§Œ(ì €ëŠ” ì´ ì„ íƒì„ ê³µìœ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤), ë”°ë¼ì„œ ë¹„ì–´ìˆëŠ” íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ë¡œì»¬ íŒŒì¼ì„ ë³µì‚¬í•  ìˆ˜ë„ ìˆì§€ë§Œ ìˆ˜ì •í•  ë•Œë§ˆë‹¤ Docker ë ˆì´ì–´ ìºì‹±ì„ íš¨ê³¼ì ìœ¼ë¡œ ë°©ì§€í•˜ê²Œ ë©ë‹ˆë‹¤.\n- ê°œë°œ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•˜ì§€ ë§ˆì„¸ìš”. ì‹¤ì œë¡œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ë¦°í„°(linters)ì™€ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸(test suites)ê°€ í•„ìš”í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ `poetry install --without dev`ë¡œ ê°œë°œ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•˜ì§€ ë§ˆì„¸ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nFROM python:3.11-buster\n\nRUN pip install poetry==1.4.2\n\nWORKDIR /app\n\nCOPY pyproject.toml poetry.lock ./\nCOPY annapurna ./annapurna\nRUN touch README.md\n\nRUN poetry install --without dev\n\nENTRYPOINT [\"poetry\", \"run\", \"python\", \"-m\", \"annapurna.main\"]\n```\n\nì´ë¡œì¨ ì´ë¯¸ 1.1GBì—ì„œ 959MBë¡œ ì¤„ì—ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ ë§ì§€ëŠ” ì•Šì§€ë§Œ, ì„±ì‹¤í•˜ê²Œ ì‘ì—…í•œ ê²°ê³¼ë„¤ìš”.\n\n# 3. Poetry ìºì‹œ ì •ë¦¬ ğŸ§¹\n\nê¸°ë³¸ì ìœ¼ë¡œ PoetryëŠ” ë‹¤ìš´ë¡œë“œí•œ íŒ¨í‚¤ì§€ë¥¼ ìºì‹œí•˜ì—¬ ì´í›„ì˜ ì„¤ì¹˜ ëª…ë ¹ì— ì¬ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ìš°ë¦¬ëŠ” Docker ë¹Œë“œì—ì„œ ì´ë¥¼ ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤ (ê·¸ë ‡ì£ ?) ê·¸ë˜ì„œ ì¤‘ë³µ ì €ì¥ì†Œë¥¼ ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ì‹œëŠ” --no-cache ì˜µì…˜ë„ ì§€ì›í•˜ë¯€ë¡œ ì™œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê±¸ê¹Œìš”? ë‚˜ì¤‘ì— ì´ì— ëŒ€í•´ ì•Œì•„ë³´ê² ì£  ;)\n- ìºì‹œ í´ë”ë¥¼ ì œê±°í•  ë•ŒëŠ” ë™ì¼í•œ RUN ëª…ë ¹ì–´ì—ì„œ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤. ë³„ë„ì˜ RUN ëª…ë ¹ì–´ì—ì„œ ìˆ˜í–‰í•˜ë©´ ìºì‹œëŠ” ì´ì „ Docker ë ˆì´ì–´ (poetry installì„ í¬í•¨í•˜ëŠ” ë ˆì´ì–´)ì˜ ì¼ë¶€ë¡œ ë‚¨ì•„ ìˆì–´ì„œ ìµœì í™”ê°€ ë¬´ìš©ì§€ë¬¼ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë™ì•ˆ ë¹Œë“œì˜ ê²°ì •ì  íŠ¹ì„±ì„ ë” ê°•í™”í•˜ê¸° ìœ„í•´ ëª‡ ê°€ì§€ Poetry í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ê·¸ ì¤‘ì—ì„œë„ ê°€ì¥ ë…¼ë€ì´ ë˜ëŠ” ê²ƒì€ POETRY_VIRTUALENVS_CREATE=1ì…ë‹ˆë‹¤. ë„ì»¤ ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ ê°€ìƒ í™˜ê²½ì„ ë§Œë“¤ê³  ì‹¶ì€ ì´ìœ ê°€ ë­˜ê¹Œìš”? ì†”ì§íˆ ì´ í”Œë˜ê·¸ë¥¼ ë¹„í™œì„±í™”í•˜ëŠ” ê²ƒë³´ë‹¤ ì´ ì†”ë£¨ì…˜ì„ ì„ í˜¸í•©ë‹ˆë‹¤. ì´ í”Œë˜ê·¸ë¥¼ ë¹„í™œì„±í™”í•˜ëŠ” ê²ƒë³´ë‹¤ í™˜ê²½ì´ ê°€ëŠ¥í•œ í•œ ê²©ë¦¬ë˜ê³ , ë¬´ì—‡ë³´ë‹¤ë„ ì„¤ì¹˜ê°€ ì‹œìŠ¤í…œ Pythonì´ë‚˜ ì‹¬ì§€ì–´ Poetry ìì²´ì™€ ì¶©ëŒí•˜ì§€ ì•Šë„ë¡ í•´ì¤ë‹ˆë‹¤.\n\n```js\nFROM python:3.11-buster\n\nRUN pip install poetry==1.4.2\n\nENV POETRY_NO_INTERACTION=1 \\\n    POETRY_VIRTUALENVS_IN_PROJECT=1 \\\n    POETRY_VIRTUALENVS_CREATE=1 \\\n    POETRY_CACHE_DIR=/tmp/poetry_cache\n\nWORKDIR /app\n\nCOPY pyproject.toml poetry.lock ./\nCOPY annapurna ./annapurna\nRUN touch README.md\n\nRUN poetry install --without dev \u0026\u0026 rm -rf $POETRY_CACHE_DIR\n\nENTRYPOINT [\"poetry\", \"run\", \"python\", \"-m\", \"annapurna.main\"]\n```\n\n# 4. Installing dependencies before copying code ğŸ‘\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì§€ê¸ˆê¹Œì§€ ì˜ ì§„í–‰ë˜ê³  ìˆì§€ë§Œ,\nDocker ë¹Œë“œê°€ ì—¬ì „íˆ ë§¤ìš° ê³ í†µìŠ¤ëŸ¬ìš´ ë¬¸ì œë¥¼ ê²ªê³  ìˆì–´ìš”: ì½”ë“œë¥¼ ìˆ˜ì •í•  ë•Œë§ˆë‹¤ ì˜ì¡´ì„±ì„ ë‹¤ì‹œ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤! ì´ê²ƒì€ ìš°ë¦¬ê°€ ì½”ë“œë¥¼ COPY(ì´ê²ƒì´ Poetryê°€ í”„ë¡œì íŠ¸ë¥¼ ì„¤ì¹˜í•˜ëŠ” ë° í•„ìš”í•œ ê²ƒ)í•˜ê¸° ì „ì— RUN poetry install ëª…ë ¹ì„ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. Docker ë ˆì´ì–´ ìºì‹±ì´ ì‘ë™í•˜ëŠ” ë°©ì‹ ë•Œë¬¸ì— COPY ë ˆì´ì–´ê°€ ë¬´íš¨í™”ë  ë•Œë§ˆë‹¤ ë‹¤ìŒ ë ˆì´ì–´ë„ ë‹¤ì‹œ ë¹Œë“œí•´ì•¼ í•©ë‹ˆë‹¤. í”„ë¡œì íŠ¸ê°€ ì ì  ì»¤ì§ˆìˆ˜ë¡ ì½”ë“œ í•œ ì¤„ì„ ë³€ê²½í•˜ë”ë¼ë„ ë§¤ìš° ì§€ë£¨í•˜ê³  ë¹Œë“œ ì‹œê°„ì´ ê¸¸ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\ní•´ë‹µì€ Poetryì— ê°€ìƒ í™˜ê²½ì„ ë¹Œë“œí•˜ëŠ” ë° í•„ìš”í•œ ìµœì†Œí•œì˜ ì •ë³´ë¥¼ ì œê³µí•˜ê³  ë‚˜ì¤‘ì— ì½”ë“œë² ì´ìŠ¤ë¥¼ COPY í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ --no-root ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ í”„ë¡œì íŠ¸ë¥¼ ê°€ìƒ í™˜ê²½ì— ì„¤ì¹˜í•˜ì§€ ì•Šë„ë¡ ì§€ì‹œí•  ìˆ˜ ìˆì–´ìš”.\n\nFROM python:3.11-buster\n\nRUN pip install poetry==1.4.2\n\nENV POETRY_NO_INTERACTION=1 \\\n POETRY_VIRTUALENVS_IN_PROJECT=1 \\\n POETRY_VIRTUALENVS_CREATE=1 \\\n POETRY_CACHE_DIR=/tmp/poetry_cache\n\nWORKDIR /app\n\nCOPY pyproject.toml poetry.lock ./\nRUN touch README.md\n\nRUN poetry install --without dev --no-root \u0026\u0026 rm -rf $POETRY_CACHE_DIR\n\nCOPY annapurna ./annapurna\n\nRUN poetry install --without dev\n\nENTRYPOINT [\"poetry\", \"run\", \"python\", \"-m\", \"annapurna.main\"]\n\nì´ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œë¥¼ ìˆ˜ì •í•´ë³´ì„¸ìš”. ë§ˆì§€ë§‰ 3ê°œì˜ ë ˆì´ì–´ë§Œ ë‹¤ì‹œ ê³„ì‚°ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆì–´ìš”. ë¹Œë“œê°€ ì—„ì²­ë‚˜ê²Œ ë¹¨ë¼ì¡Œì£ ! ğŸš€\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ê°€ìƒ í™˜ê²½ì—ì„œ í”„ë¡œì íŠ¸ë¥¼ ì„¤ì¹˜í•˜ë ¤ë©´ ì¶”ê°€ì ì¸ ì‹¤í–‰í•  `poetry install --without dev` ëª…ë ¹ì´ í•„ìš”í•©ë‹ˆë‹¤. ì´ëŠ” ì‚¬ìš©ì ì •ì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì„¤ì¹˜í•˜ëŠ” ë° ìœ ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ì— ë”°ë¼ ì´ ë‹¨ê³„ê°€ í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì–´ì¨Œë“ , ì´ë¯¸ í”„ë¡œì íŠ¸ ì¢…ì†ì„±ì´ ì„¤ì¹˜ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì´ ê³„ì¸µ ì‹¤í–‰ì€ ë§¤ìš° ë¹ ë¥¼ ê²ƒì…ë‹ˆë‹¤.\n\n# 5. ë‹¤ì¤‘ ë‹¨ê³„ Docker ë¹Œë“œ ì‚¬ìš© ğŸƒâ€â™€\n\nì§€ê¸ˆê¹Œì§€ ë¹Œë“œëŠ” ë¹ ë¥´ì§€ë§Œ ì—¬ì „íˆ í° Docker ì´ë¯¸ì§€ê°€ ìƒì„±ë©ë‹ˆë‹¤. ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë‹¤ì¤‘ ë‹¨ê³„ ë¹Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìµœì í™”ëŠ” ì˜¬ë°”ë¥¸ ì‘ì—…ì— ëŒ€í•´ ì˜¬ë°”ë¥¸ ë² ì´ìŠ¤ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ë‹¬ì„±ë©ë‹ˆë‹¤:\n\n- Python busterëŠ” ê°œë°œ ì˜ì¡´ì„±ì´ í¬í•¨ëœ í° ì´ë¯¸ì§€ì´ë©°, ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°€ìƒ í™˜ê²½ì„ ì„¤ì¹˜í•  ê²ƒì…ë‹ˆë‹¤.\n- Python slim-busterëŠ” Pythonì„ ì‹¤í–‰í•˜ëŠ” ë° í•„ìš”í•œ ìµœì†Œí•œì˜ ì¢…ì†ì„±ë§Œ í¬í•¨ëœ ì‘ì€ ì´ë¯¸ì§€ì´ë©°, ìš°ë¦¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” ë° ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në‹¤ë‹¨ê³„ ë¹Œë“œë¥¼ í†µí•´ í•œ ë‹¨ê³„ì—ì„œ ë‹¤ë¥¸ ë‹¨ê³„ë¡œ ì •ë³´ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ êµ¬ì¶• ì¤‘ì¸ ê°€ìƒ í™˜ê²½ì…ë‹ˆë‹¤. ì£¼ëª©í•´ ì£¼ì„¸ìš”:\n\n- ì‹¤í–‰ ë‹¨ê³„ì—ëŠ” ì‹¬ì§€ì–´ Poetryê°€ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. ì‚¬ì‹¤ Python ì‘ìš© í”„ë¡œê·¸ë¨ì´ ê°€ìƒ í™˜ê²½ì´ êµ¬ì¶•ëœ í›„ì— ì‹¤í–‰í•˜ëŠ” ë° ë¶ˆí•„ìš”í•œ ì¢…ì†ì„±ì´ì—ìš”. í™˜ê²½ ë³€ìˆ˜ (ì˜ˆ: VIRTUAL_ENV ë³€ìˆ˜)ë¥¼ ì¡°ì •í•˜ì—¬ Pythonì´ ì˜¬ë°”ë¥¸ ê°€ìƒ í™˜ê²½ì„ ì¸ì‹í•˜ë„ë¡ ë§Œë“¤ì–´ì£¼ê¸°ë§Œ í•˜ë©´ ë¼ìš”.\n- ê°„ë‹¨í•˜ê²Œ ë§ì”€ë“œë¦¬ë©´, ì¥ë‚œê° í”„ë¡œì íŠ¸ì—ëŠ” í•„ìš” ì—†ìœ¼ë¯€ë¡œ ë‘ ë²ˆì§¸ ì„¤ì¹˜ ë‹¨ê³„ (RUN poetry install --without dev)ë¥¼ ì œê±°í–ˆì–´ìš”. í•˜ì§€ë§Œ ì‹¤í–‰ ì´ë¯¸ì§€ì— ì—¬ì „íˆ í•œ ë²ˆì˜ ëª…ë ¹ì–´ë¡œ ì¶”ê°€í•  ìˆ˜ ìˆì–´ìš”: RUN pip install poetry \u0026\u0026 poetry install --without dev \u0026\u0026 pip uninstall poetry.\n\nDockerfileì´ ë³µì¡í•´ì§€ë©´ ìƒˆë¡œìš´ ë¹Œë“œ ë°±ì—”ë“œì¸ Buildkitì„ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ì œì•ˆë“œë ¤ìš”. ë¹ ë¥´ê³  ì•ˆì „í•œ ë¹Œë“œë¥¼ ì›í•œë‹¤ë©´ ê·¸ê²ƒì„ ì‚¬ìš©í•˜ëŠ” ê²Œ ì¢‹ì•„ìš”.\n\n```js\nDOCKER_BUILDKIT=1 docker build --target=runtime .\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ë¹Œë” ì´ë¯¸ì§€, ê°€ìƒ í™˜ê²½ì„ êµ¬ì¶•í•˜ëŠ” ë° ì‚¬ìš©ë¨\n\nFROM python:3.11-buster as builder\n\nRUN pip install poetry==1.4.2\n\nENV POETRY_NO_INTERACTION=1 \\\n POETRY_VIRTUALENVS_IN_PROJECT=1 \\\n POETRY_VIRTUALENVS_CREATE=1 \\\n POETRY_CACHE_DIR=/tmp/poetry_cache\n\nWORKDIR /app\n\nCOPY pyproject.toml poetry.lock ./\nRUN touch README.md\n\nRUN poetry install --without dev --no-root \u0026\u0026 rm -rf $POETRY_CACHE_DIR\n\n# ì‹¤í–‰ ì´ë¯¸ì§€, ê°€ìƒ í™˜ê²½ë§Œ ì‹¤í–‰í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©\n\nFROM python:3.11-slim-buster as runtime\n\nENV VIRTUAL_ENV=/app/.venv \\\n PATH=\"/app/.venv/bin:$PATH\"\n\nCOPY --from=builder ${VIRTUAL_ENV} ${VIRTUAL_ENV}\n\nCOPY annapurna ./annapurna\n\nENTRYPOINT [\"python\", \"-m\", \"annapurna.main\"]\n\nê²°ê³¼ëŠ”? ëŸ°íƒ€ì„ ì´ë¯¸ì§€ê°€ 6ë°°ë‚˜ ì‘ì•„ì¡Œì–´ìš”! 6ë°°ë‚˜! ` 1.1 GBì—ì„œ 170 MBë¡œ ì¤„ì—ˆì–´ìš”.\n\n# 6. Buildkit ìºì‹œ ë§ˆìš´íŠ¸ â›°\n\nì´ë¯¸ ì‘ì€ Docker ì´ë¯¸ì§€ì™€ ì½”ë“œ ë³€ê²½ ì‹œ ë¹ ë¥¸ ë¹Œë“œë¥¼ ì–»ì—ˆëŠ”ë°, ë” ì–»ì„ ìˆ˜ ìˆëŠ” ê²Œ ìˆì„ê¹Œìš”? ìŒâ€¦ ì˜ì¡´ì„±ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œë„ ë¹ ë¥¸ ë¹Œë“œë¥¼ ì–»ì„ ìˆ˜ ìˆì–´ìš” ğŸ˜\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ìµœì¢… íŒì€ ë‹¤ë¥¸ ê¸°ëŠ¥ë“¤ê³¼ ë¹„êµí–ˆì„ ë•Œ ìƒëŒ€ì ìœ¼ë¡œ ìµœê·¼ì— ë„ì…ëœ ê²ƒì´ê¸° ë•Œë¬¸ì— ë§ì€ ì‚¬ëŒë“¤ì´ ì•Œì§€ ëª»í•©ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ Buildkit ìºì‹œ ë§ˆìš´íŠ¸ë¥¼ í™œìš©í•˜ë©°, ê¸°ë³¸ì ìœ¼ë¡œ Buildkitì—ê²Œ ìºì‹± ëª©ì ìœ¼ë¡œ í´ë”ë¥¼ ë§ˆìš´íŠ¸í•˜ê³  ê´€ë¦¬í•˜ë„ë¡ ì§€ì‹œí•©ë‹ˆë‹¤. í¥ë¯¸ë¡œìš´ ì ì€ ì´ëŸ¬í•œ ìºì‹œê°€ ë¹Œë“œ ê°„ì— ì§€ì†ë  ê²ƒì´ë¼ëŠ” ê²ƒì…ë‹ˆë‹¤!\n\nì´ ê¸°ëŠ¥ì„ Poetry ìºì‹œì™€ ì—°ê²°í•˜ë©´ (ì´ì   ì™œ ìºì‹±ì„ ìœ ì§€í•˜ê¸¸ ì›í–ˆëŠ”ì§€ ì•Œê² ì£ ?) ì‚¬ì‹¤ìƒ ë¹Œë“œí•  ë•Œë§ˆë‹¤ ì˜ì¡´ì„± ìºì‹œë¥¼ ì–»ê²Œ ë©ë‹ˆë‹¤. ë™ì¼í•œ í™˜ê²½ì—ì„œ ì—¬ëŸ¬ ë²ˆ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•  ë•Œ ì˜ì¡´ì„± ë¹Œë“œ ë‹¨ê³„ê°€ ë¹ ë¥´ê²Œ ì™„ë£Œë  ê²ƒì…ë‹ˆë‹¤.\n\nPoetry ìºì‹œê°€ ì„¤ì¹˜ í›„ì— ì§€ì›Œì§€ì§€ ì•ŠëŠ” ì ì— ìœ ì˜í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•¨ìœ¼ë¡œì¨ ìºì‹œë¥¼ ì €ì¥í•˜ê³  ë¹Œë“œ ê°„ì— ë‹¤ì‹œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤. ë¹Œë“œëœ ì´ë¯¸ì§€ì— ê´€ë¦¬ëœ ìºì‹œë¥¼ ì˜ì†í™”í•˜ì§€ ì•Šì„ ê²ƒì´ë¯€ë¡œ (ê²Œë‹¤ê°€ ëŸ°íƒ€ì„ ì´ë¯¸ì§€ë„ ì•„ë‹™ë‹ˆë‹¤.) ì´ê²ƒì€ ê´œì°®ì€ ì ‘ê·¼ì…ë‹ˆë‹¤.\n\n```js\nFROM python:3.11-buster as builder\n\nRUN pip install poetry==1.4.2\n\nENV POETRY_NO_INTERACTION=1 \\\n    POETRY_VIRTUALENVS_IN_PROJECT=1 \\\n    POETRY_VIRTUALENVS_CREATE=1 \\\n    POETRY_CACHE_DIR=/tmp/poetry_cache\n\nWORKDIR /app\n\nCOPY pyproject.toml poetry.lock ./\nRUN touch README.md\n\nRUN --mount=type=cache,target=$POETRY_CACHE_DIR poetry install --without dev --no-root\n\nFROM python:3.11-slim-buster as runtime\n\nENV VIRTUAL_ENV=/app/.venv \\\n    PATH=\"/app/.venv/bin:$PATH\"\n\nCOPY --from=builder ${VIRTUAL_ENV} ${VIRTUAL_ENV}\n\nCOPY annapurna ./annapurna\n\nENTRYPOINT [\"python\", \"-m\", \"annapurna.main\"]\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ìµœì í™”ì˜ ë‹¨ì ì€ ë¬´ì—‡ì¼ê¹Œìš”? í˜„ì¬ Buildkitì€ ìºì‹œ ë§ˆìš´íŠ¸ê°€ ë§¤ìš° CI ì¹œí™”ì ì´ì§€ ì•ŠìŠµë‹ˆë‹¤. ì™œëƒí•˜ë©´ Buildkitì€ ìºì‹œì˜ ì €ì¥ ìœ„ì¹˜ë¥¼ ì œì–´í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. Buildkit ì €ì¥ì†Œì—ì„œ ê°€ì¥ íˆ¬í‘œë¥¼ ë§ì´ ë°›ì€ ì˜¤í”ˆ GitHub ì´ìŠˆë¼ë‹ˆ ë†€ë¼ìš´ ì¼ì´ë„¤ìš” ğŸ˜„\n\n# ìš”ì•½\n\nì´ë¯¸ì§€ë¥¼ ëª‡ ë¶„ ë§Œì— 1GBë¡œ ë§Œë“œëŠ” ê°„ë‹¨í•˜ì§€ë§Œ í˜•í¸ì—†ëŠ” Dockerfileì„ ìµœì í™”ëœ ë²„ì „ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ëª‡ ì´ˆ ë§Œì— ëª‡ ë°± MBì˜ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤. ëª¨ë“  ìµœì í™”ëŠ” ì£¼ë¡œ ëª‡ ê°€ì§€ Docker ë¹Œë“œ ë§¤ë‹ˆí”¼ìŠ¤ë¥¼ í™œìš©í•©ë‹ˆë‹¤:\n\n- ê³„ì¸µì„ ì‘ê²Œ ìœ ì§€í•˜ì—¬ ë³µì‚¬í•˜ê³  ì„¤ì¹˜í•˜ëŠ” í•­ëª©ì˜ ì–‘ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤.\n- Docker ë ˆì´ì–´ ìºì‹±ì„ í™œìš©í•˜ê³  ìºì‹œ ë¯¸ìŠ¤ë¥¼ ìµœëŒ€í•œ ì¤„ì…ë‹ˆë‹¤.\n- ëŠë¦¬ê²Œ ë³€ê²½ë˜ëŠ” ê²ƒ(í”„ë¡œì íŠ¸ ì˜ì¡´ì„±)ì€ ë¹ ë¥´ê²Œ ë³€ê²½ë˜ëŠ” ê²ƒ(ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œ)ë³´ë‹¤ ë¨¼ì € ë¹Œë“œí•´ì•¼ í•©ë‹ˆë‹¤.\n- Docker ë‹¤ë‹¨ê³„ ë¹Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ëŸ°íƒ€ì„ ì´ë¯¸ì§€ë¥¼ ìµœëŒ€í•œ ê°€ë³ê²Œ ë§Œë“­ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\níŒŒì´ì¬ í”„ë¡œì íŠ¸ë¥¼ Poetryë¡œ ê´€ë¦¬í•  ë•Œ ì´ëŸ¬í•œ ì›ì¹™ì„ ì ìš©í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´ë“œë ¸ëŠ”ë°, ì´ì™€ ìœ ì‚¬í•œ ì›ì¹™ì€ ë‹¤ë¥¸ ì¢…ì†ì„± ê´€ë¦¬ì(PDM ë“±) ë° ë‹¤ë¥¸ ì–¸ì–´ì—ë„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në¹Œë“œê°€ ë¹¨ë¼ì§€ê³  ìš©ëŸ‰ì´ ì‘ì•„ì§€ëŠ” ê²ƒì„ ë³´ê³  ê¸°ì¨ì˜ ëˆˆë¬¼ì„ í˜ë¦¬ì‹œê¸°ë¥¼ ë°”ëë‹ˆë‹¤. ì¶”ê°€ë¡œ ì•Œê³  ê³„ì‹  Docker ê´€ë ¨ íŒì´ ìˆìœ¼ë©´ ëŒ“ê¸€ì— ë‚¨ê²¨ì£¼ì„¸ìš”! ğŸ‘‹\n","ogImage":{"url":"/assets/img/2024-06-23-BlazingfastPythonDockerbuildswithPoetry_0.png"},"coverImage":"/assets/img/2024-06-23-BlazingfastPythonDockerbuildswithPoetry_0.png","tag":["Tech"],"readingTime":12},{"title":"ì €ë ´í•œ ë‚ ì”¨ ê´€ì¸¡ì†Œì™€ ê¸°ì¡´ ì¥ë¹„ë¡œ ê°œì¸ DevOps ìŠ¤íƒ€ì¼ ë‚ ì”¨ ëŒ€ì‹œë³´ë“œ ë§Œë“œëŠ” ë°©ë²•","description":"","date":"2024-06-23 00:39","slug":"2024-06-23-HowIturnedacheapweatherstationandawholelotofthingsIalreadyownintoapersonalDevOps-styleweatherdashboard","content":"\n# ìµœì¢… ê²°ê³¼\n\nì‹œê°ì ìœ¼ë¡œ ë§¤ë ¥ì ì¸ ë¶€ë¶„ë¶€í„° ì‹œì‘í•´ ë³´ê² ìŠµë‹ˆë‹¤. ì•„ë§ˆ ì—¬ëŸ¬ë¶„ì„ ì—¬ê¸°ë¡œ ì¸ë„í•œ ê²ƒì´ ì´ê²ƒì¼ ê²ƒì…ë‹ˆë‹¤. ì—¬ê¸° ì œ ëŒ€ì‹œë³´ë“œì˜ ëª¨ìŠµì…ë‹ˆë‹¤...\n\n# ë ˆì´ì•„ì›ƒ\n\në‚´ í™ˆë©ì—ëŠ” ì´ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ê¸° ìœ„í•´ ë§ì€ ë¶€í’ˆë“¤ì´ ì›€ì§ì´ê³  ìˆìŠµë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì˜ ë²„ì „ì€ ë” ê°„ë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì œ ê²½ìš°ì—ëŠ” ì´ë ‡ê²Œ ì‘ë™í–ˆìŠµë‹ˆë‹¤. í›„ì† ì„¹ì…˜ì—ì„œ ê° êµ¬ì„± ìš”ì†Œë¥¼ ìì„¸íˆ ì‚´í´ë³´ê² ì§€ë§Œ, ì„¸ë¶€ ì‚¬í•­ì— ë“¤ì–´ê°€ê¸° ì „ì— 10,000í”¼íŠ¸ ìƒì—ì„œ ì‹œì‘í•˜ëŠ” ê²Œ ë‚«ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/assets/img/2024-06-23-HowIturnedacheapweatherstationandawholelotofthingsIalreadyownintoapersonalDevOps-styleweatherdashboard_0.png\" /\u003e\n\n# í•˜ë“œì›¨ì–´\n\nì—¬ê¸°ì—ëŠ” ë‚´ í™ˆ ë„¤íŠ¸ì›Œí‚¹ ì¥ë¹„ë¥¼ ì œì™¸í•œ ë‚´ê°€ ì‚¬ìš© ì¤‘ì¸ í•˜ë“œì›¨ì–´ê°€ ìˆìŠµë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ë¥¼ ìœ„í•´ ëª…ì‹œì ìœ¼ë¡œ êµ¬ì…í•œ ê²ƒì€ ë‚ ì”¨ ì„¼ì„œë¿ì´ë©°, ê·¸ ì™¸ì˜ ëª¨ë“  ê²ƒì€ ì´ë¯¸ ê°€ì§€ê³  ìˆì—ˆìŠµë‹ˆë‹¤.\n\n- ë‚ ì”¨ ì„¼ì„œ â€” WS2032 ë‚ ì”¨ ê´€ì¸¡ì†Œ\n  $40~85 ë¯¸êµ­ ë‹¬ëŸ¬, ì‚¬ì´íŠ¸ì— ë”°ë¼ ë‹¤ë¦„. ì €ëŠ” rtl_433 í”„ë¡œì íŠ¸ë¥¼ ë°œê²¬í–ˆê³  ì´ ì¥ì¹˜ê°€ ì§€ì›ë˜ê³  ìˆë‹¤ëŠ” ì´ìœ ë¡œ ì´ë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤.\n- ë¼ë””ì˜¤ ìˆ˜ì‹ ê¸° â€” RTL-SDR USB ë¼ë””ì˜¤ ìˆ˜ì‹ ê¸°\n  $30 ë¯¸êµ­ ë‹¬ëŸ¬, ì•„ë§ˆì¡´ì—ì„œ êµ¬ì…. ë‚ ì”¨ ê´€ì¸¡ì†Œì—ì„œ 433MHz ë¼ë””ì˜¤ ì‹ í˜¸ë¥¼ ìˆ˜ì‹ í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ì „ í”„ë¡œì íŠ¸ì—ì„œ ì´ë¯¸ ê°€ì§€ê³  ìˆë˜ ê²ƒì…ë‹ˆë‹¤.\n- Home Assistantë¥¼ ì‹¤í–‰í•  ì¥ë¹„ â€” Home Assistant Blue\n  ë” ì´ìƒ íŒë§¤ë˜ì§€ ì•Šì§€ë§Œ Home Assistant Yellowë‚˜ ë¼ì¦ˆë² ë¦¬ íŒŒì´ë¥¼ ê³ ë ¤í•´ë³´ì„¸ìš”.\n- Grafanaì™€ InfluxDBë¥¼ ì‹¤í–‰í•  ì¥ë¹„ â€” Synology NAS DSM 918+\n  ë” ìµœì‹  ëª¨ë¸ì´ ìˆìœ¼ë©°, ë„ì»¤ ì»¨í…Œì´ë„ˆë¥¼ Home Assistantì™€ ê°™ì€ í•˜ë“œì›¨ì–´ì—ì„œ ì‹¤í–‰í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. NASì—ì„œ ì´ ë‘ ê°€ì§€ë¥¼ ì‹¤í–‰í–ˆëŠ”ë° NASì— ë” ë§ì€ ì €ì¥ ê³µê°„ì´ ìˆì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ë‚ ì”¨ ê´€ì¸¡ì†Œ ì„¤ì •í•˜ê¸°\n\n![ì´ë¯¸ì§€](https://miro.medium.com/v2/resize:fit:1280/1*BzJX0ldpzm-RtlqcEJO9KQ.gif)\n\nì´ ë‹¨ê³„ëŠ” ê°€ì¥ ì‰½ê²Œ ì§„í–‰ëœ ê²ƒì¼ì§€ë„ ëª¨ë¦…ë‹ˆë‹¤. WS2032ì˜ ì¡°ë¦½ì€ ë‘ ê°œì˜ AA ê±´ì „ì§€ì™€ ëª‡ ê°œì˜ ë‚˜ì‚¬ë¡œ ê½¤ ì§ê´€ì ì´ì—ˆìŠµë‹ˆë‹¤. ê°€ê²© ëŒ€ë¹„, í™€ íš¨ê³¼ ì„¼ì„œë¡œ ë³´ì´ëŠ” ê²ƒë“¤ì´ ì‚¬ìš©ë˜ì–´ ë‚¨í’ê³¼ í•´í’ êµ¬ì„± ìš”ì†Œì˜ ìœ„ì¹˜ì™€ íšŒì „ ì†ë„ë¥¼ ê°ì§€í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì˜¨ë„ ë° ìŠµë„ ì„¼ì„œëŠ” ê±´ì „ì§€ë¥¼ ë³´ê´€í•˜ëŠ” ì¤‘ì•™ ì½”ì–´ì— ë‚´ì¥ë˜ì–´ ìˆìœ¼ë©°, ì´ ì¡°ë¦½ì€ ì§ì‚¬ê´‘ì„ ì´ ì§ì ‘ ë¹„ì¹˜ì§€ ì•Šë„ë¡ ì°¨ë‹¨ë˜ì–´ ìˆìœ¼ë©° ì¸µì¸µì´ ìŒ“ì¸ ë¦° ë””ìì¸ì˜ ì—´ë¡œ ëƒ‰ê°ë©ë‹ˆë‹¤. ê·¸ë“¤ì€ ì¤‘ì•™ ì½”ì–´ê°€ ë¬¼ì— ì –ì§€ ì•Šìœ¼ë©´ì„œ ì—¬ì „íˆ ì£¼ë³€ì˜ ë ˆì´ë“œë¥¼ ì–»ì„ ìˆ˜ ìˆê²Œí•˜ëŠ” ì¸µì¸µì´ ìŒ“ì¸ ë””ìì¸ìœ¼ë¡œ ë³´í˜¸í•©ë‹ˆë‹¤. ì´ ì„¤ì •ì˜ ê°€ì¥ ì–´ë ¤ìš´ ë¶€ë¶„ì€ ì •ì¤‘ì•™ ë°©í–¥ì´ ìœ„ì— ë‚˜ì—´ë˜ì–´ ìˆëŠ” ë°”ëŒ í”¼ë¦¬ì™€ ì¼ì¹˜ì‹œí‚¤ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì¥ì¹˜ì—ì„œ ì˜¤ëŠ” ì½ê¸°ë¥¼ ë³¸ í›„, ì •ë°€ë„ê°€ 45Âºë¡œ ì œí•œë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ë‚˜ì¹¨ë°˜ê³¼ì˜ ì •ë ¬ì€ ë§¤ìš° ìš©ì„œë˜ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤. WS2032ì—ëŠ” ì‹¤ë‚´ìš© LCD í‘œì‹œ ì¥ì¹˜ê°€ í•¨ê»˜ ì œê³µë˜ë©°, ì´ ì¥ì¹˜ë¥¼ í†µí•´ ì„¼ì„œê°€ ì‘ë™í•˜ê³  ëŒ€ëµì ìœ¼ë¡œ ì •í™•í•œ ë°ì´í„°ë¥¼ ì œê³µí•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n\n# í™ˆ ì–´ì‹œìŠ¤í„´íŠ¸ ì„¤ì •í•˜ê¸°\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nHA(Home Assistant)ì˜ ì „ì²´ ì„¤ì • íŠœí† ë¦¬ì–¼ì€ ì•ˆë‚´í•˜ì§€ ì•Šê² ì–´ìš”. ì´ë¯¸ ì‹œì‘í•˜ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ë§ì€ ì¢‹ì€ ìë£Œë“¤ì´ ìˆê±°ë“ ìš”. ì´ ì„¹ì…˜ì—ì„œ ë‹¤ë£° ë‚´ìš©ì€ ì´ë¯¸ êµ¬ë™ ì¤‘ì¸ Home Assistant ì¸ìŠ¤í„´ìŠ¤ì— í•„ìš”í•œ ë³€ê²½ ì‚¬í•­ë“¤ì´ì—ìš”.\n\n## í•˜ì§€ë§Œ, RTL-SDRì— ëŒ€í•œ ê°„ë‹¨í•œ ì†Œê°œë¶€í„°\n\në‚ ì”¨ ê´€ì¸¡ì†Œê°€ ì„¤ì¹˜ë˜ì–´ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ì‹œì‘í–ˆìœ¼ë‹ˆ, í•´ë‹¹ ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•  ë¬´ì–¸ê°€ë¥¼ ì„¤ì •í•  ì°¨ë¡€ì…ë‹ˆë‹¤. rtl_433ì€ ì—¬ëŸ¬ ê°€ì§€ ì„¼ì„œë¡œë¶€í„°ì˜ ë°ì´í„°ë¥¼ íŒŒì‹±í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì§„ ì˜¤í”ˆ ì†ŒìŠ¤ í”„ë¡œì íŠ¸ë¡œ, ê°€ì¥ í”í•œ ì£¼íŒŒìˆ˜ì¸ 433 MHzë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì†¡ìˆ˜ì‹ í•˜ëŠ” RF(ë¼ë””ì˜¤ ì£¼íŒŒìˆ˜) ì‹ í˜¸ë“¤ì„ í•´ì„í•©ë‹ˆë‹¤. ê¸°íƒ€ ì£¼íŒŒìˆ˜ë„ ì§€ì›í•©ë‹ˆë‹¤.\n\nRFë¥¼ ì‚¬ìš©í•˜ëŠ” ì¥ì¹˜ë“¤ì€ Bluetooth, WiFi, ZigBee, Z-Wave, ë˜ëŠ” Thread ëŒ€ì‹  ì‚¬ìš©ë˜ë©°, ì¢…ì¢… ë³´ë‹¤ ì €ë ´í•˜ê±°ë‚˜ ì˜¤ë˜ë˜ì–´ ìˆìœ¼ë©° ì´ˆê¸°ì—ëŠ” ìµœì‹  ìŠ¤ë§ˆíŠ¸ í™ˆì— í†µí•©ë˜ë„ë¡ ì„¤ê³„ëœ ê²ƒì€ ì•„ë‹ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°€ìŠ¤ ë˜ëŠ” ìˆ˜ë„ê³„, ëˆ„ìˆ˜ íƒì§€ê¸°, ì‹¬ì§€ì–´ ìë™ì°¨ì˜ íƒ€ì´ì–´ ì••ë ¥ ì„¼ì„œì™€ ê°™ì€ ê²ƒë“¤ì´ rtl_433ì„ ì‚¬ìš©í•˜ì—¬ ê°ì§€ ë° íŒŒì‹±ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. rtl_433ëŠ” ì£¼ë¡œ ì—¬ëŸ¬ ê°€ì§€ USB ë¼ë””ì˜¤ ìˆ˜ì‹ ê¸°ì¸ ì†Œí”„íŠ¸ì›¨ì–´ ì •ì˜ ë¼ë””ì˜¤(SDR)ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në””ì§€í„¸ TVì˜ ë°œëª…ìœ¼ë¡œ í•˜ë“œì›¨ì–´ë¥¼ ë””ì½”ë”©í•˜ëŠ” ì €ë ´í•œ ì¹©ì…‹ì´ ë“±ì¥í–ˆìŠµë‹ˆë‹¤. ê·¸ ì¤‘ í•˜ë‚˜ì¸ RealTekì˜ RTL2832U (ì¼ë°˜ì ìœ¼ë¡œ RTLë¡œ ì¤„ì—¬ì§)ì€ ì—¬ëŸ¬ ë¬´ì„  ì£¼íŒŒìˆ˜ë¥¼ ì„œë¹„ìŠ¤í•  ìˆ˜ ìˆëŠ” í•´í‚¹ì´ ê°€ëŠ¥í–ˆê³ , ë””ì§€í„¸ ë¬´ì „ê¸° í•´ì»¤ë“¤ì€ ì»´í“¨í„°ë¡œ ê²½ì°° ë° ê³µí•­ ëŒ€ì—­ê³¼ ê°™ì€ ê²ƒë“¤ì„ ìˆ˜ì‹ í•  ìˆ˜ ìˆì—ˆê³  ê·¸ë ‡ê²Œ RTL-SDR ìš´ë™ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.\n\nê·¸ëŸ° ì´ì•¼ê¸°ê°€ ìš°ë¦¬ë¥¼ rtl_433ë¡œ ì´ë•ë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ëŠ” RF ì‹ í˜¸ë¥¼ ìˆ˜ì‹ í•˜ê³  ê·¸ ë°ì´í„°ë¥¼ êµ¬ë¬¸ ë¶„ì„í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•˜ë©°, ê·¸ì¤‘ WS2032 ë‚ ì”¨ ê´€ì¸¡ì†Œë¥¼ í¬í•¨í•©ë‹ˆë‹¤.\n\n## rtl_433 ì„¤ì • ë°©ë²•\n\në§Œì•½ ì´ë¯¸ Home Assistantê°€ ì‹¤í–‰ ì¤‘ì´ë¼ë©´ - íŠ¹íˆ Home Assistant OS ë°°í¬ê°€ ê°€ëŠ¥ì¼€ í•˜ëŠ” í™˜ê²½ì—ì„œëŠ” \"ì• ë“œì˜¨\"ì´ë¼ ë¶ˆë¦¬ëŠ” Docker ì»¨í…Œì´ë„ˆì˜ ë‹¤ë¥¸ ì´ë¦„ ì´ ì»¤ë®¤ë‹ˆí‹°ì—ì„œëŠ” - RF ì¥ì¹˜ë¥¼ Home Assistantë¡œ ì‰½ê²Œ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì€ ì„¸ ê°€ì§€ ì¶”ê°€ ê¸°ëŠ¥ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- Mosquitto - ê°€ì¥ ê°„ë‹¨í•œ ì„¤ì •ì€ ì¸ê¸°ìˆëŠ” MQTT ë¸Œë¡œì»¤ì¸ ì´ ê³µì‹ ì• ë“œì˜¨ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ ì• ë“œì˜¨ì„ ì‚¬ìš©í•˜ë©´ ë‹¤ë¥¸ ë‘ ì• ë“œì˜¨ì´ ì´ë¯¸ ì´ë¥¼ ì‚¬ìš©í•˜ë„ë¡ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ê¸°ì¡´ì˜ MQTT ë¸Œë¡œì»¤ë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ë‘ ë‹¤ë¥¸ ì• ë“œì˜¨ì„ ì‚¬ìš©ì ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤. MQTT ì„¤ëª…ì€ ì´ ë¬¸ì„œì˜ ë²”ìœ„ë¥¼ ë²—ì–´ë‚©ë‹ˆë‹¤ë§Œ, TL;DRì€ ì´ê²ƒì´ ì‚¬ë¬¼ ì¸í„°ë„·(IoT) ì¥ì¹˜ë“¤ì—ì„œ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë©”ì‹œì§• í”Œë«í¼ì´ë¼ëŠ” ê²ƒì…ë‹ˆë‹¤.\n- rtl_433 - ì´ ì• ë“œì˜¨ì€ RTL-SDR ì¥ì¹˜ì™€ USBë¥¼ í†µí•´ ì—°ê²°í•˜ê³  RF ë°ì´í„°ë¥¼ ê°ì§€í•˜ê³  íŒŒì‹±í•˜ì—¬ MQTT ë©”ì‹œì§€ë¡œ ë³€í™˜í•œ í›„ í•´ë‹¹ ë©”ì‹œì§€ë¥¼ ë¸Œë¡œì»¤ì˜ íŠ¹ì • ì£¼ì œë¡œ ë³´ë‚´ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. ì´ëŠ” í‘œì¤€ì ì¸ ì• ë“œì˜¨ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì œ ì¸ìŠ¤í„´ìŠ¤ì—ì´ ì• ë“œì˜¨ì„ ì¶”ê°€í•˜ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € GitHub ì‚¬ìš©ì pbkhrvì˜ rtl_433 ì• ë“œì˜¨ ì €ì¥ì†Œë¥¼ ì¶”ê°€í•´ì•¼ í–ˆìŠµë‹ˆë‹¤. í•´ë‹¹ ì €ì¥ì†Œì˜ READMEì—ëŠ” ì„¤ì¹˜ ë°©ë²•ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n- rtl_433 Home Assistant MQTT Auto Discovery - ê¸°ë³¸ì ìœ¼ë¡œ Home Assistantì—ì„œ MQTT í†µí•©ì„ ì¼°ë”ë¼ë„ ëª¨ë“  MQTT ë©”ì‹œì§€ë¥¼ ìë™ìœ¼ë¡œ ì½ê³  ìŠ¤ë§ˆíŠ¸ í™ˆ ì¥ì¹˜ë¡œ ì „í™˜í•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ Home AssistantëŠ” ìŠ¤ë§ˆíŠ¸ ì¥ì¹˜ì— ì˜í•´ Home Assistant ì „ìš©ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” íŠ¹ë³„í•œ MQTT ë©”ì‹œì§€ë¥¼ ì§€ì›í•˜ì—¬ ì´ë¥¼ ìë™ìœ¼ë¡œ Home Assistantì— ì¶”ê°€í•˜ì—¬ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì• ë“œì˜¨ì€ rtl_433 ì• ë“œì˜¨ì—ì„œ ì˜¤ëŠ” MQTT ë©”ì‹œì§€ë¥¼ ê°ì§€í•˜ê³  MQTTë¥¼ í†µí•´ Home Assistantì— ìë™ ë°œê²¬ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. ì´ ì• ë“œì˜¨ì€ ì•ì„œ êµ¬ì„±í•œ ì „ì²´ rtl_433 ì• ë“œì˜¨ ì €ì¥ì†Œì˜ ì¼ë¶€ë¡œ ì œê³µë©ë‹ˆë‹¤. ë§ˆì§€ë§‰ ë‹¨ê³„ëŠ” ì´ ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•˜ì—¬ ì• ë“œì˜¨ì„ ì„¤ì¹˜í•˜ëŠ” ê²ƒë¿ì…ë‹ˆë‹¤. í—·ê°ˆë¦¬ì…¨ë‚˜ìš”? HAì— ì• ë“œì˜¨ ì €ì¥ì†Œë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ì„¤ì¹˜í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ ì• ë“œì˜¨ ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤. Home Assistantì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ì• ë“œì˜¨ìœ¼ë¡œ ì´ì œ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.\n\nì—¬ê¸°ì„œ ë§ˆì§€ë§‰ ë‹¨ê³„ëŠ” ì´ë¯¸ í•˜ì§€ ì•Šì•˜ë‹¤ë©´ Home Assistantì™€ MQTT í†µí•©ì„ í™œì„±í™”í•˜ê³  Mosquitto ì• ë“œì˜¨ì„ ê°€ë¦¬í‚¤ë„ë¡ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. Mosquitto ì• ë“œì˜¨ì˜ READMEì—ì„œ ì´ ì„¤ì •ì— ëŒ€í•´ ë‹¤ë£¨ê³  ìˆì§€ë§Œ, ëª…ì‹œì ìœ¼ë¡œ ì–¸ê¸‰í•˜ê³ ì í–ˆìŠµë‹ˆë‹¤.\n\nì´ ì‹œì ì—ì„œ Home Assistantë¡œ ë°ì´í„°ê°€ í˜ëŸ¬ë“¤ì–´ê°€ê³  ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ê°œë°œì ë„êµ¬ íŒ¨ë„ì— ë“¤ì–´ê°€ì„œ States íƒ­ì—ì„œ ws2032ë¥¼ ê²€ìƒ‰í•´ë³´ì„¸ìš”. ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì„ ë³´ê²Œ ë  ê²ƒì…ë‹ˆë‹¤(ë‹¨, ì´ë¦„ì€ ìì„¸í•˜ê³  \"\\_mph\" ì—”í‹°í‹°ëŠ” ì œê°€ ì§ì ‘ ì‚¬ìš©ì ì •ì˜í–ˆìŠµë‹ˆë‹¤).\n\n\u003cimg src=\"/assets/img/2024-06-23-HowIturnedacheapweatherstationandawholelotofthingsIalreadyownintoapersonalDevOps-styleweatherdashboard_1.png\" /\u003e\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ì—”í‹°í‹° ì‚¬ìš©ì ì •ì˜\n\nìœ„ ì˜ˆì‹œì—ì„œ ë³´ë“¯ì´, ë°°í„°ë¦¬ ì½ê¸°ê°€ ì•„ë§ˆë„ rtl_433 ì»¨í…Œì´ë„ˆì— ì˜í•´ ìë™ìœ¼ë¡œ ë°œê²¬ë˜ëŠ” ê²ƒ ì¤‘ ìœ ì‚¬í•œ ê²ƒ ì´ì™¸ì—ëŠ” ì—¬ëŸ¬ë¶„ì´ ë³¼ ìˆ˜ ìˆëŠ” ê²ƒê³¼ ê°€ì¥ ê·¼ì ‘í•  ê²ƒì…ë‹ˆë‹¤. HA ëŒ€ì‹œë³´ë“œì— ì—”í‹°í‹°ë¥¼ ì¶”ê°€í•  ë•Œ ì˜ˆì˜ê²Œ ê¾¸ë¯¸ê¸° ìœ„í•´ ê° ì—”í‹°í‹°ë¡œ ì´ë™í•˜ê³  ì¹œìˆ™í•œ ì´ë¦„ ë° ì•„ì´ì½˜ì„ ì‚¬ìš©ì ì •ì˜í–ˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë²ˆê±°ë¡­ì§€ ì•Šê²Œ ì¹´ë“œì— ì—”í‹°í‹°ë¥¼ ë¹ ë¥´ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në‹¤ìŒì€ ì´ëŸ¬í•œ ì‚¬ìš©ì ì •ì˜ê°€ ì ìš©ëœ ë‚´ HA ëŒ€ì‹œë³´ë“œì˜ ì „í˜•ì ì¸ ì¹´ë“œì…ë‹ˆë‹¤.\n\n\u003cimg src=\"/assets/img/2024-06-23-HowIturnedacheapweatherstationandawholelotofthingsIalreadyownintoapersonalDevOps-styleweatherdashboard_2.png\" /\u003e\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nWS2032ë¡œë¶€í„° ë‚˜ì˜¨ í’ì†ê³¼ ëŒí’ ì†ë„ ì¸¡ì •ê°’ì€ km/hë¡œ ë˜ì–´ ìˆëŠ”ë°, ì €ëŠ” ë¯¸êµ­ì¸ì´ë¼ mphë¡œ ë³€í™˜í•˜ì—¬ í‘œì‹œí•˜ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ê·¸ë“¤ì˜ ê°’ì„ ì˜ë¯¸ ë‹¨ìœ„ë¡œ ë³€í™˜í•˜ëŠ” ë‘ ê°œì˜ í…œí”Œë¦¿ ì—”í‹°í‹°ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ë˜í•œ í’í–¥ ì¸¡ì •ê°’ì„ ë„ì—ì„œ ê¸°ë³¸ ë‚˜ì¹¨ë°˜ ë°©í–¥ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ì„¸ ë²ˆì§¸ ì—”í‹°í‹°ë„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.\n\n## ì»¤ìŠ¤í…€ HA ëŒ€ì‹œë³´ë“œ ë° ì¹´ë“œ\n\nInfluxDBì™€ Grafanaì— ì°©ìˆ˜í•˜ê¸° ì „ì—, ì´ì œ ìˆ˜ì§‘ëœ ë°ì´í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ Home Assistantë¥¼ ì„¤ì •í–ˆìŠµë‹ˆë‹¤. ëª‡ ê°€ì§€ ì˜ˆì‹œë¥¼ ë³´ì—¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤:\n\nì´ì   ì œê°€ í¥ë¯¸ë¥¼ ëŠë¼ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ë” ì•Œê³  ì‹¶ì–´ì¡Œì£ ...\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- í™ˆ ì–´ì‹œìŠ¤í„´íŠ¸ì˜ ëŸ¬ë¸”ë ˆì´ìŠ¤ í”„ë¡ íŠ¸ì—”ë“œê°€ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë°©ë²• ì´ìƒìœ¼ë¡œ ë°ì´í„°ë¥¼ ìŠ¬ë¼ì´ìŠ¤í•©ë‹ˆë‹¤.\n- ì¥ê¸° íŠ¸ë Œë“œë¥¼ ë¶„ì„í•˜ê¸° ìœ„í•´ ë°ì´í„°ë¥¼ ì˜êµ¬íˆ ë³´ê´€í•©ë‹ˆë‹¤.\n\nê·¸ë˜ì„œ ë‚˜ëŠ” ê°€ëŠ¥í•œ í•œ ì˜¤ë«ë™ì•ˆ ë°ì´í„°ë¥¼ ì €ì¥í•  ìˆ˜ ìˆë„ë¡ ì´ ëª¨ë“  ë°ì´í„°ë¥¼ ê¸°ë¡í•˜ê¸° ìœ„í•´ InfluxDBë¥¼ ì„¤ì •í•˜ëŠ” ì‹œê°„ì´ ëœ ê²ƒì„ ê¹¨ë‹«ê²Œ ë˜ì—ˆê³ , Grafanaë¥¼ í†µí•´ ëª¨ë‘ ì‹œê°í™”í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.\n\n# InfluxDB ë° Grafana ì„¤ì •\n\nê°€ì¥ ë¹ ë¥´ê²Œ ì‹œì‘í•˜ë ¤ë©´ InfluxDBë¥¼ í™ˆ ì–´ì‹œìŠ¤í„´íŠ¸ ì• ë“œì˜¨ìœ¼ë¡œ ì„¤ì¹˜í•˜ê³  Grafanaë¥¼ í™ˆ ì–´ì‹œìŠ¤í„´íŠ¸ ì• ë“œì˜¨ìœ¼ë¡œ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‚˜ëŠ” Synology NASì—ì„œ ë‘ ê°€ì§€ë¥¼ ëª¨ë‘ ì‹¤í–‰í•˜ê³  ìˆê³ , ì´ ê¸€ì„ ì“°ëŠ” ì‹œì ì—ì„œ InfluxDB 2.5.1 ë° Grafana 9.2.6ì„ Docker Hubì—ì„œ ì œê³µí•˜ëŠ” ê³µì‹ Docker ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ ë„ì»¤ ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nInfluxDBë¥¼ ì‹¤í–‰í•œ í›„ì— ì§‘ì„ ë‚˜íƒ€ë‚´ëŠ” ì¡°ì§ê³¼ Home Assistantì˜ ë°ì´í„°ë¥¼ ë³´ê´€í•  ë²„í‚·ì„ ë§Œë“¤ì—ˆì–´ìš”. ë˜í•œ Home Assistantê°€ ì‚¬ìš©í•  API í† í° í•˜ë‚˜ì™€ Grafanaê°€ ì‚¬ìš©í•  ë‹¤ë¥¸ API í† í° ë‘ ê°œë¥¼ ìƒì„±í–ˆì–´ìš”.\n\n## Home Assistantë¥¼ InfluxDBì— ì—°ê²°í•˜ê¸°\n\nHome Assistantì—ëŠ” ëª¨ë“  ì´ë²¤íŠ¸ë¥¼ InfluxDBë¡œ ë³´ë‚´ëŠ” ê¸°ë³¸ ì§€ì›ì´ ìˆì–´ìš”. ê·¸ë˜ì„œ ë‚ ì”¨ ëŒ€ì‹œë³´ë“œë¥¼ ë§Œë“¤ ë¿ë§Œ ì•„ë‹ˆë¼ Grafanaì—ì„œ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ë§ì€ ë°ì´í„°ë„ ìˆì„ ê±°ì˜ˆìš”. ì´ ì´ë²¤íŠ¸ íë¦„ì„ HAì—ì„œ InfluxDBë¡œ í™œì„±í™”í•˜ë ¤ë©´ Home Assistantì˜ configuration.yaml íŒŒì¼ì— ì¡°ê¸ˆì˜ YAMLì„ ì¶”ê°€í•˜ì„¸ìš”.\n\n```js\ninfluxdb:\n  api_version: 2\n  ssl: false\n  host: nas.iot.jaxzin.com\n  port: 8086\n  token: !secret influxdb_token\n  organization: 8d2a3be3fdc94fa2\n  bucket: fallen-leaf\n  tags:\n    source: HA\n  tags_attributes:\n    - friendly_name\n  default_measurement: units\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## InfluxDBë¥¼ Grafanaì— ë°ì´í„° ì†ŒìŠ¤ë¡œ ì¶”ê°€í•˜ê¸°\n\nì €ëŠ” Flux ì¿¼ë¦¬ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì—ˆëŠ”ë°, ì´ˆê¸° ì¡°ì‚¬ ê²°ê³¼ë¡œ ì•Œ ìˆ˜ ìˆì—ˆë“¯ì´ ê°•ë ¥í•œ í•¨ìˆ˜í˜• ì–¸ì–´ì…ë‹ˆë‹¤. ë‹¤ìŒ ì„¹ì…˜ì—ì„œ Fluxì— ëŒ€í•´ ìì„¸íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n\n## Wind Rose í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜\n\nì €ëŠ” ê¸°ë³¸ Grafana ì„¤ì¹˜ì— í¬í•¨ë˜ì§€ ì•Šì•˜ì§€ë§Œ ê¼­ í•„ìš”í–ˆë˜ ì‹œê°í™” ìœ í˜•ì¸ ë°”ëŒ ì¥ë¯¸ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤. Grafanaì—ëŠ” ëª‡ ê°€ì§€ ë°”ëŒ ì¥ë¯¸ í”ŒëŸ¬ê·¸ì¸ì´ ìˆì§€ë§Œ, ì €ëŠ” spectraphilicì˜ windrose í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤. ì„¤ì¹˜ ì§€ì¹¨ì€ READMEì— ìˆìœ¼ë©°, Grafana Docker ì§€ì¹¨ì—ëŠ” ì‚¬ìš©ì ì •ì˜ í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì´ ì„¤ëª…ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![Dashboard Image](/assets/img/2024-06-23-HowIturnedacheapweatherstationandawholelotofthingsIalreadyownintoapersonalDevOps-styleweatherdashboard_3.png)\n\n# ëŒ€ì‹œë³´ë“œ ë§Œë“¤ê¸°\n\nì´ì œ ì¬ë¯¸ìˆê³  ì•½ê°„ ì••ë„ë˜ëŠ” ë¶€ë¶„, ì»¤ìŠ¤í…€ Grafana ëŒ€ì‹œë³´ë“œë¥¼ ë§Œë“œëŠ” ê²ƒì¸ë°, ì´ëŠ” Fluxë¥¼ ë°°ìš°ê³  ì›í•˜ëŠ” ëª¨ìŠµì„ ì–´ë–»ê²Œ êµ¬í˜„í• ì§€ ì°¾ê¸° ìœ„í•´ ë§ì´ êµ¬ê¸€ë§í•˜ëŠ” ê³¼ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.\n\n## ë°”ëŒì˜ ì¥ë¯¸\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\ní–‰ë³µí•œ ì†Œì‹ì…ë‹ˆë‹¤! spectraphilicì´ Grafana í”ŒëŸ¬ê·¸ì¸ì˜ READMEì— Flux ì˜ˆì œë¥¼ í¬í•¨í•´ ì£¼ì—ˆì–´ìš”. ê·¸ë˜ì„œ ë°”ëŒ ì¥ë¯¸ë¥¼ ìœ„í•œ Flux ì¿¼ë¦¬ ì‘ì„±ì— ë¹ ë¥´ê²Œ ì‹œì‘í•  ìˆ˜ ìˆì—ˆê³  íš¨ê³¼ì ìœ¼ë¡œ ì§„í–‰í–ˆì–´ìš”. ì´ ì˜ˆì œì—ì„œëŠ” WS2032ì—ì„œ í’í–¥...\\_wd ë° í’ì†...\\_ws ë°ì´í„°ë¥¼ ê²°í•©í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.\n\nìœ„ ì½”ë“œëŠ” \"fallen-leaf\" ë²„í‚·ì—ì„œ \"entity_id\"ê°€ \"ws2032_28817_wd\"ì´ê±°ë‚˜ \"ws2032_28817_ws\"ì¸ í•„ë“œë¥¼ ê°€ì§„ ë°ì´í„° ì¤‘ \"value\" í•„ë“œë¥¼ ê°€ì§„ ë°ì´í„°ë¥¼ ì„ íƒí•©ë‹ˆë‹¤. ì„ íƒí•œ ë°ì´í„°ë¥¼ ${period} ì£¼ê¸°ë¡œ í‰ê· ì„ ê³„ì‚°í•˜ê³  ê²°ê³¼ ê°’ì„ ë™ì¼í•œ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ê¸°ì¤€ìœ¼ë¡œ rowì— ë°°ì¹˜í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë‘ ê°’ì´ ëª¨ë‘ ìˆëŠ” í–‰ë§Œ ë‚¨ê¸°ê³ , \"ws2032_28817_wd\" ì»¬ëŸ¼ì„ \"direction\", \"ws2032_28817_ws\" ì»¬ëŸ¼ì„ \"speedKmps\"ë¡œ ì´ë¦„ì„ ë³€ê²½í•©ë‹ˆë‹¤. ì†ë„ë¥¼ km/së¡œ ë³€í™˜í•˜ê³ , í•„ìš”í•œ ì—´ë§Œ ë‚¨ê¸°ë©°, ê° ì°½ì— ëŒ€í•´ ì²« ë²ˆì§¸ í–‰ì„ ìƒ˜í”Œë§í•©ë‹ˆë‹¤.\n\nê²°ê³¼ëŠ” ì‹œê°„, ë°©í–¥ ë° ì†ë„ ì„¸ ê°€ì§€ ì—´ë¡œ êµ¬ì„±ëœ ë°ì´í„° í…Œì´ë¸”ì…ë‹ˆë‹¤. ë°”ëŒ ì¥ë¯¸ ì‹œê°í™”ëŠ” ì´ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì†ë„ë¥¼ ë°©í–¥ë³„ë¡œ ë¬¶ì–´ë‚¸ í›„, WS2032ì˜ í•´ìƒë„ê°€ 8ê°œ ë°©í–¥ì´ë¯€ë¡œ ì¥ë¯¸ë¥¼ 8ê°œì˜ \"ì¼€ì´í¬ ì¡°ê°\"ë§Œ ì‚¬ìš©í•˜ë„ë¡ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.\n\nì´ë¯¸ì§€ëŠ” ê°œì¸ìš© DevOps ìŠ¤íƒ€ì¼ ë‚ ì”¨ ëŒ€ì‹œë³´ë“œë¡œ ì €ë ´í•œ ê¸°ìƒ ê´€ì¸¡ì†Œì™€ ì´ë¯¸ ìˆëŠ” ë¬¼í’ˆì„ í™œìš©í•œ ê²½í—˜ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## í†µê³„ ê¸°ê°„ì„ ìœ„í•œ ëŒ€ì‹œë³´ë“œ ë³€ìˆ˜ ì¶”ê°€\n\në‹¤ë¥¸ ì‹œê°í™”ë¡œ ë„˜ì–´ê°€ê¸° ì „ì—, ë°ì´í„°ì˜ ë‹¤ë¥¸ ë²”ìœ„ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒë³´ë‹¤ ë” ë§ì€ ìœ ì—°ì„±ì„ ì›í–ˆì–´ìš”. ë°”ëŒ ë°ì´í„°ëŠ” ì •ë§ ì†ŒìŒì´ ë§ê¸° ë•Œë¬¸ì— ì„ íƒëœ ì‹œê°„ ë²”ìœ„ ë‚´ì—ì„œ ìƒ˜í”Œë§ ê¸°ê°„ì„ ì‰½ê²Œ ë³€ê²½í•  ìˆ˜ë„ ìˆì—ˆìœ¼ë©´ ì¢‹ê² ì–´ìš”. ì´ ìƒ˜í”Œë§ ê¸°ê°„ì€ í‰ê· , ìµœëŒ€, ìµœì†Œ ë˜ëŠ” ë°±ë¶„ìœ„ ë“±ì˜ í†µê³„ë¥¼ ê³„ì‚°í•  ë•Œ ì‚¬ìš©ë  ê±°ì˜ˆìš”. ê·¸ë˜ì„œ ë°”ëŒ ì†ë„ë‚˜ ë°©í–¥ì„ ì‹œê°„ë³„ ë˜ëŠ” ì¼ë³„ë¡œ ë‚˜ëˆ„ì–´ ë³¼ ìˆ˜ë„ ìˆê² ì£ . ì´ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ Window Periodë¥¼ ìœ„í•œ ì‚¬ìš©ì ì •ì˜ ë³€ìˆ˜ë¥¼ ëŒ€ì‹œë³´ë“œì— ì¶”ê°€í•´ì•¼ í–ˆì–´ìš”. ë‚˜ì¤‘ì˜ Flux ì¿¼ë¦¬ì—ì„œ $'period'ë¡œ ì°¸ì¡°ë˜ëŠ” ê²ƒì„ ë³´ê²Œ ë  ê±°ì˜ˆìš”.\n\n## ë°”ëŒ ì†ë„ë¥¼ ì—´ì§€ë„ë¡œ í‘œí˜„\n\ní•œë™ì•ˆ ë°”ëŒ ì†ë„ ê¸°ë¡ì˜ ë‹¤ì–‘í•œ ì‹œê°í™”ë¥¼ ê³ ë¯¼í–ˆì–´ìš”. í•œ ì°¨íŠ¸ì— ëŒí’ê³¼ ë°”ëŒ ì†ë„ë¥¼ ë³´ì—¬ì£¼ê³  ì‹¶ì—ˆê³ , ì†ë„ì˜ ìµœì†Œ, í‰ê·  ë° ìµœëŒ€ ë¼ì¸ì„ ì‚¬ìš©í•˜ì—¬ ë³€ë™ ì†ë„ë¥¼ ë³´ë‹¤ ì˜ ë³´ì—¬ì£¼ê¸° ìœ„í•´ ì´ ì‹œê°í™” ê²°ê³¼ë¬¼ì— ê²°ì •í–ˆì–´ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\ní‘œ íƒœê·¸ë¥¼ Markdown í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•˜ì‹­ì‹œì˜¤.\n\n\u003cimg src=\"/assets/img/2024-06-23-HowIturnedacheapweatherstationandawholelotofthingsIalreadyownintoapersonalDevOps-styleweatherdashboard_5.png\" /\u003e\n\nì´ íš¨ê³¼ë¥¼ ì–»ìœ¼ë ¤ë©´ ê¸°ë³¸ì ìœ¼ë¡œ 5 ì„¸íŠ¸ì˜ ë°ì´í„°ê°€ í•„ìš”í•©ë‹ˆë‹¤. ê·¸ë˜í”„ì•„ë‚˜ì™€ Flux ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ 5ê°œì˜ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒë§Œí¼ ê°„ë‹¨í•˜ì§€ë§Œ(íš¨ìœ¨ì ì´ì§€ëŠ” ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤).\n\n```js\n// í’ì†: ìµœëŒ€, í‰ê· , ìµœì†Œ\nfrom(bucket: \"fallen-leaf\")\n  |\u003e range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |\u003e filter(fn: (r) =\u003e r[\"entity_id\"] == \"ws2032_28817_ws_mph\")\n  |\u003e filter(fn: (r) =\u003e r[\"_measurement\"] == \"mph\")\n  |\u003e filter(fn: (r) =\u003e r[\"_field\"] == \"value\")\n  |\u003e keep(columns: [\"_time\",\"_value\", \"value\", \"_field\"])\n  |\u003e set(key:\"_field\", value:\"max\")\n  |\u003e aggregateWindow(every: ${period}, fn: max, createEmpty: true)\n  |\u003e yield(name: \"max\")\n\nfrom(bucket: \"fallen-leaf\")\n  |\u003e range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |\u003e filter(fn: (r) =\u003e r[\"entity_id\"] == \"ws2032_28817_ws_mph\")\n  |\u003e filter(fn: (r) =\u003e r[\"_measurement\"] == \"mph\")\n  |\u003e filter(fn: (r) =\u003e r[\"_field\"] == \"value\")\n  |\u003e keep(columns: [\"_time\",\"_value\", \"value\", \"_field\"])\n  |\u003e set(key:\"_field\", value:\"mean\")\n  |\u003e aggregateWindow(every: ${period}, fn: mean, createEmpty: true)\n  |\u003e yield(name: \"mean\")\n\nfrom(bucket: \"fallen-leaf\")\n  |\u003e range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |\u003e filter(fn: (r) =\u003e r[\"entity_id\"] == \"ws2032_28817_ws_mph\")\n  |\u003e filter(fn: (r) =\u003e r[\"_measurement\"] == \"mph\")\n  |\u003e filter(fn: (r) =\u003e r[\"_field\"] == \"value\")\n  |\u003e keep(columns: [\"_time\",\"_value\", \"value\", \"_field\"])\n  |\u003e set(key:\"_field\", value:\"min\")\n  |\u003e aggregateWindow(every: ${period}, fn: min, createEmpty: true)\n  |\u003e yield(name: \"min\")\n\n// ëŒí’ ì†ë„: ìµœëŒ€ ë° í‰ê· \nfrom(bucket: \"fallen-leaf\")\n  |\u003e range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |\u003e filter(fn: (r) =\u003e r[\"entity_id\"] == \"ws2032_28817_gs_mph\")\n  |\u003e filter(fn: (r) =\u003e r[\"_measurement\"] == \"mph\")\n  |\u003e filter(fn: (r) =\u003e r[\"_field\"] == \"value\")\n  |\u003e keep(columns: [\"_time\",\"_value\", \"value\", \"_field\"])\n  |\u003e set(key:\"_field\", value:\"max (gust)\")\n  |\u003e aggregateWindow(every: ${period}, fn: max, createEmpty: true)\n  |\u003e yield(name: \"max_g\")\n\nfrom(bucket: \"fallen-leaf\")\n  |\u003e range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |\u003e filter(fn: (r) =\u003e r[\"entity_id\"] == \"ws2032_28817_gs_mph\")\n  |\u003e filter(fn: (r) =\u003e r[\"_measurement\"] == \"mph\")\n  |\u003e filter(fn: (r) =\u003e r[\"_field\"] == \"value\")\n  |\u003e keep(columns: [\"_time\",\"_value\", \"value\", \"_field\"])\n  |\u003e set(key:\"_field\", value:\"mean (gust)\")\n  |\u003e aggregateWindow(every: ${period}, fn: mean, createEmpty: true)\n  |\u003e yield(name: \"mean_g\")\n```\n\nê·¸ëŸ¬ë‚˜ ì—¬ì „íˆ ë§ˆìŒì— ë“¤ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë…¸ì´ì¦ˆê°€ ìˆëŠ” ë°ì´í„°ë¥¼ ì‹œê°í™”í•˜ëŠ” ê²ƒ ê°™ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ íˆíŠ¸ë§µ ì‹œê°í™”ë¥¼ ì‹œë„í•´ë³´ì•˜ê³ , í’ì†ì˜ ë¶„ì‚°ì„ ë³´ì—¬ì£¼ë©´ì„œë„ í’ì†ì´ ëŒ€ë¶€ë¶„ ì–´ë””ì— ì§‘ì¤‘ë˜ì–´ ìˆëŠ”ì§€ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆëŠ” ê²ƒìœ¼ë¡œ ìƒê°ë©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-HowIturnedacheapweatherstationandawholelotofthingsIalreadyownintoapersonalDevOps-styleweatherdashboard_6.png)\n\n```js\nfrom(bucket: \"fallen-leaf\")\n  |\u003e range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |\u003e filter(fn: (r) =\u003e r[\"entity_id\"] == \"ws2032_28817_ws\")\n  |\u003e filter(fn: (r) =\u003e r[\"_measurement\"] == \"km/h\")\n  |\u003e filter(fn: (r) =\u003e r[\"_field\"] == \"value\")\n  |\u003e map(fn: (r) =\u003e ({r with _value: r._value * 0.618}))\n  |\u003e keep(columns: [\"_time\",\"_value\", \"value\", \"_field\"])\n```\n\nì°¨íŠ¸ í•˜ë‚˜ì— ë°”ëŒê³¼ ëŒí’ ì†ë„ë¥¼ í•¨ê»˜ í‘œì‹œí•  ìˆ˜ ì—†ì–´ì„œ ë‘ ê°œë¥¼ í•¨ê»˜ ìœ ì§€í–ˆì–´ìš”. ë” ë‚˜ì€ í•´ê²°ì±…ì„ ì°¾ì„ ë•Œê¹Œì§€ëŠ” ì´ë ‡ê²Œ ìœ ì§€í•  ê±°ì˜ˆìš”.\n\n## í¼ì„¼íƒ€ì¼ì„ ì‚¬ìš©í•œ ìœˆë“œ ë°©í–¥ì˜ ì˜ì‚¬ í† í´ë¡œì§€ ì°¨íŠ¸\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në°”ëŒ ë°©í–¥ ë°ì´í„°ê°€ ì •ë§ ì†Œë€ìŠ¤ëŸ½ê¸° ë•Œë¬¸ì— í†µê³„ì˜ í˜ì„ í™œìš©í•˜ì—¬ ì†ŒìŒ ì†ì—ì„œ ì‹ í˜¸ë¥¼ ì°¾ì„ ìˆ˜ ìˆëŠ” ì‹œê°í™”ë¥¼ ë§Œë“¤ì–´ ë³´ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ê° ë°±ë¶„ìœ„ë¥¼ ê°ê°ì˜ ì„ ìœ¼ë¡œ ê·¸ë ¤ë³¼ê¹Œ? ë°ì´í„°ì˜ ë°©í–¥ì„ ë³´ì—¬ì£¼ë©´ì„œ ë¶„ì‚°ì„ ë” ì˜ íŒŒì•…í•  ìˆ˜ ìˆì„ê¹Œ? (ì°¸ê³ ë¡œ, ì´ê²ƒì€ ìœ„ì˜ íˆíŠ¸ë§µì„ í™œìš©í•˜ê¸° ì „ì— ìƒê°í•œ ê²ƒìœ¼ë¡œ, ì´ ê³³ì—ë„ ì¢‹ì€ í•´ê²°ì±…ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤).\n\ní•˜ì§€ë§Œ ê° ë°±ë¶„ìœ„ì— ëŒ€í•´ 21ê°€ì§€ ë‹¤ë¥¸ ì¿¼ë¦¬ë¥¼ ì…ë ¥í•˜ê³  ì‹¶ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ê° ë°±ë¶„ìœ„ë¥¼ ê³„ì‚°í•˜ëŠ” ë™ì  Flux ì¿¼ë¦¬ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì„ê¹Œìš”? ì´ ì¿¼ë¦¬ë¥¼ ìœ„í•´ ë„ì›€ì„ ìš”ì²­í•˜ê¸° ìœ„í•´ Flux í¬ëŸ¼ì„ ì°¾ì•„ë‹¤ë‹ˆë˜ ì¤‘ì´ì—ˆê³ , ìµœì¢… ì¿¼ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n```js\nimport \"experimental/array\"\n\n// ì£¼ì–´ì§„ ë²”ìœ„ ë‚´ ëª¨ë“  í’í–¥ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n// ì´ëŠ” dataë¼ëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒìœ¼ë¡œ, ë‚˜ì¤‘ì— ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œí•  ê²ƒì…ë‹ˆë‹¤.\ndata = () =\u003e from(bucket: \"fallen-leaf\")\n  |\u003e range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |\u003e filter(fn: (r) =\u003e r[\"entity_id\"] == \"ws2032_28817_wd\")\n  |\u003e filter(fn: (r) =\u003e r[\"_field\"] == \"value\")\n  |\u003e filter(fn: (r) =\u003e r[\"_measurement\"] == \"Â°\")\n  |\u003e map(fn: (r) =\u003e ({r with _value: r._value * 400.0/360.0})) // 360ì„ 400ìœ¼ë¡œ ë§¤í•‘í•˜ì—¬ Grafanaì—ì„œ ê¸°ë³¸ ë°©í–¥ì´ yì¶• ë ˆì´ë¸”ë¡œ í‘œì‹œë  ìˆ˜ ìˆë„ë¡ í•¨\n  |\u003e aggregateWindow( // 8ë°©ìœ„ ë°©í–¥ì€ ê·¸ë‹¤ì§€ ì„¸ë¶„í™”ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë°ì´í„°ë¥¼ ì„¸ë¶„í™”í•˜ê³  í‰ê· ì„ êµ¬í•©ì‹œë‹¤.\n    every: duration(v: int(v: ${period}) / 12),\n    fn: mean\n  )\n\n// ê³„ì‚°í•˜ë ¤ëŠ” ë°±ë¶„ìœ„\np = [1,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,99]\n\n// í•¨ìˆ˜ 'q' ì •ì˜: 'data'ë¥¼ í˜¸ì¶œí•˜ê³  í•œ ë°±ë¶„ìœ„ 'v'ë¥¼ ê³„ì‚°í•¨\nq = (v) =\u003e {\n  d = data ()\n    |\u003e aggregateWindow(\n        column: \"_value\",\n        every: ${period},\n        fn: (column, tables=\u003c-) =\u003e tables |\u003e quantile(q: float(v: v)/100.0, column: column),\n    )\n    |\u003e set(key: \"_field\", value: \"p${if v \u003c 10 then \"0\" else \"\"}${v}\")\n  return d\n}\n\n// ì›í•˜ëŠ” ê° ë°±ë¶„ìœ„ì— ëŒ€í•´ 'q'ë¥¼ í˜¸ì¶œí•˜ê³  ê²°ê³¼ë¥¼ ì—°ê²°í•¨\nunion(tables:  p\n  |\u003e array.map(fn: (x) =\u003e (  q(v: x))))\n  |\u003e keep(columns: [\"_time\", \"_field\", \"_value\"])\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì™€ìš°, í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ì–¸ì–´ëŠ” ì •ë§ ê°•ë ¥í•  ìˆ˜ ìˆì£ ! ì´ êµ¬ë¬¸ì„ ì¢‹ì•„í•˜ê³  ëª‡ ì¤„ì˜ ì½”ë“œë¡œ 21ê°œì˜ ë°ì´í„° ì„¸íŠ¸ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆì—ˆë˜ ê²ƒì´ ì •ë§ ì¢‹ì•˜ì–´ìš”. influxDataì˜ Jay Cliffordì—ê²Œ ì´ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ëŠ” ë° ë„ì›€ì„ ì¤€ ê²ƒì— ëŒ€í•´ í° ê°ì‚¬ë¥¼ ì „í•´ìš”.\n\n## ìƒ‰ìƒ ë° ìŠ¤íƒ€ì¼ ì‚¬ìš©ì ì •ì˜\n\nì´ì œ ë°ì´í„°ë¥¼ ê°€ì¡Œì§€ë§Œ ê¸°ë³¸ì ìœ¼ë¡œ Grafana Time Series ì‹œê°í™”ëŠ” ë¬´ì§€ê°œ ìƒ‰ìƒìœ¼ë¡œ ëœ ì„ ìœ¼ë¡œ í‘œì‹œë¼ìš”. ì¤‘ì•™ê°’(ì¦‰, p50)ì„ ë” ë°ì€ ì‹¤ì„ ìœ¼ë¡œ ê°•ì¡°í•˜ê³  ë‹¤ë¥¸ ë°±ë¶„ìœ„ìˆ˜ëŠ” ëŒ€ì‹œ ì„ ìœ¼ë¡œ í‘œì‹œí•˜ê³  ì‹¶ì—ˆì–´ìš”. ë˜í•œ ì¤‘ì•™ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ìœ„ì™€ ì•„ë˜ë¥¼ ê°•ì¡°í•˜ê¸° ìœ„í•´ ì¼ë¶€ ë°°ê²½ì„ ì±„ìš°ê³  ì‹¶ì—ˆì–´ìš”.\n\nì´ëŸ¬í•œ ì‚¬ìš©ì ì •ì˜ì˜ í•´ë‹µì€ Grafana ì˜¤ë²„ë¼ì´ë“œì…ë‹ˆë‹¤. ë‘ ê°œì˜ ì„  ì‚¬ì´ë¥¼ ì±„ìš°ë ¤ë©´, ë°ì´í„° ì‹œë¦¬ì¦ˆì˜ ë” ë†’ì€ ë¶€ë¶„ì—ì„œ \"ì•„ë˜ë¡œ ì±„ìš°ê¸°\"ë¼ëŠ” ìƒˆ ì†ì„± ì˜¤ë²„ë¼ì´ë“œë¥¼ ì„ íƒí•˜ê³  ë‚®ì€ ë°ì´í„° ì‹œë¦¬ì¦ˆë¥¼ ì„ íƒí•˜ì„¸ìš”. ì´ì œ ì‹œê°í™”ì—ëŠ” ë‘ ì‹œë¦¬ì¦ˆ ì‚¬ì´ì— ë™ì  ë°°ê²½ ì±„ìš°ê¸°ê°€ í¬í•¨ë  ê±°ì—ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì €ëŠ” table íƒœê·¸ë¥¼ Markdown í˜•ì‹ìœ¼ë¡œ ë³€ê²½í–ˆê³ , ì´ë²ˆì—ëŠ” ê·¸ ìœ„ì— ì •ê·œì‹ ì˜¤ë²„ë¼ì´ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í•„ë“œ ì´ë¦„ì´ p[0-4]\\d(ì¦‰, p01-p49)ì¸ ì¤„ì€ ë³´ë¼ìƒ‰ìœ¼ë¡œ, p[5-9]\\d|p5[1-9] (ì¦‰, p51-p99)ì¸ ì¤„ì€ ì´ˆë¡ìƒ‰ìœ¼ë¡œ ì¹ í•˜ë„ë¡ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.\n\nì¤‘ì•™ê°’ì„ ê°•ì¡°í•˜ê¸° ìœ„í•´ ì¤„ì„ ê¸°ë³¸ì ìœ¼ë¡œ ì ì„ ìœ¼ë¡œ ì„¤ì •í•˜ê³ , p50 ì¤„ì— ëŒ€í•œ ì˜¤ë²„ë¼ì´ë“œë¥¼ ì¶”ê°€í•˜ì—¬ ì„  ìŠ¤íƒ€ì¼, ìƒ‰ìƒ ë° ë‘ê»˜ë¥¼ ì‚¬ìš©ì ì •ì˜í–ˆì–´ìš”.\n\n## ê°ë„ ëŒ€ì‹  ë‚˜ì¹¨ë°˜ ë°©í–¥ìœ¼ë¡œ ìƒê°í•˜ê¸°\n\nì—¬ê¸°ì„œ ì‘ì—…ì´ ê±°ì˜ ëë‚¬ì§€ë§Œ, ì¸¡ì •ê°’ ë° y-ì¶•ì´ ì—¬ì „íˆ ê°ë„ë¡œ ë˜ì–´ ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë°”ëŒ ë°©í–¥ì„ ê³ ë ¤í•  ë•Œ ë‚˜ëŠ” ê¸°ë³¸ (N, E, S, W) ë° ì¤‘ê°„ (NE, SE, SW, NW) ë°©í–¥ìœ¼ë¡œ ìƒê°í•˜ê³  ìˆì—ˆê¸° ë•Œë¬¸ì— ì‹œê°í™”ê°€ ê·¸ê²ƒì„ ë°˜ì˜í•˜ë„ë¡ ë³€ê²½í•˜ê³  ì‹¶ì—ˆì–´ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ê°’ ë§¤í•‘\n\nì‹œê³„ì—´ ì‹œê°í™”ëŠ” ìˆ«ì ê°’ì„ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ë§¤í•‘í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ê¸°ë³¸ ë° ì„œìˆ˜ ë°©í–¥ê³¼ ê°™ì€ ê°„ë‹¨í•œ í…ìŠ¤íŠ¸ë¥¼ í¬í•¨í•©ë‹ˆë‹¤. íŠ¹ì • ê°’ì„ ë§¤í•‘í•˜ê±°ë‚˜ ë²”ìœ„ ë˜ëŠ” ì •ê·œì‹ì„ ì‚¬ìš©í•œ ë§¤í•‘ì˜ ë” ë³µì¡í•œ ì •ì˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë§¤í•‘ì€ ë°ì´í„° í¬ì¸íŠ¸ ìœ„ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¸ì„ ë•Œ íˆ´íŒì— í‘œì‹œë˜ëŠ” ê°’ì„ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤. ë˜í•œ y-ì¶•ì— í‘œì‹œë˜ëŠ” ê°’ì—ë„ ì˜í–¥ì„ ì¤ë‹ˆë‹¤. ê·¸ë˜ì„œ ë‚˜ëŠ” ê°ë„ ë²”ìœ„ë¥¼ ë‚˜ì¹¨ë°˜ ë°©í–¥ìœ¼ë¡œ ë§¤í•‘í–ˆìŠµë‹ˆë‹¤.\n\n## ì„ê³„ê°’\n\në‹¤ë¥¸ ê²ƒ ì¤‘ì—ì„œ ë‚´ê°€ ì£¼ëª©í•œ ê²ƒì€ x/y ê·¸ë˜í”„ì—ì„œ ì¹´ë””ë„ ë°©í–¥ê³¼ ê°™ì€ ë°©í–¥ê³¼ ê°€ê¹Œìš´ ê°’ì´ ì–´ë””ì— ìˆëŠ”ì§€ ì‹œê°ì ìœ¼ë¡œ íŒë‹¨í•˜ê¸° ì–´ë ¤ì› ë‹¤ëŠ” ì ì´ì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ë‚˜ëŠ” ì´ ë„¤ ê°€ì§€ ë°©í–¥ì˜ ê°ê°ì— ìˆ˜í‰ ì ì„  í˜•íƒœì˜ ì§€ì‹œìë¥¼ ê·¸ë˜í”„ì— ì¶”ê°€í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ìœ í˜•ì˜ ìˆ˜í‰ ì§€ì‹œì ì¶”ê°€ëŠ” ì„ê³„ê°’ì´ë¼ê³  í•˜ë©°, ê·¸ëƒ¥ ìˆ˜í‰ì„ ì„ ì¶”ê°€í•˜ëŠ” ê²ƒë³´ë‹¤ ê°•ë ¥í•©ë‹ˆë‹¤. ì„ê³„ê°’ì€ ê°’ì— ë”°ë¼ ì„ ì˜ ìƒ‰ìƒì„ ì§€ì •í•˜ê±°ë‚˜ ë°°ê²½ì„ ì±„ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë‚˜ëŠ” ì¹´ë””ë„ ë°©í–¥ì— ëŒ€í•œ ì„ê³„ê°’ì„ ì¶”ê°€í•˜ì—¬ ì„ ê³¼ ë°°ê²½ì„ í‘œì‹œí•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ë°ì´í„° ë³€í™˜ì„ í†µí•´ y-ì¶• ë ˆì´ë¸” ìˆ˜ì •í•˜ê¸°\n\n(Grafanaì˜ ê¸°ëŒ€ì— ë§ì¶”ê¸° ìœ„í•´)\n\nëª¨ë“  ê²ƒì´ ì˜ ë³´ì˜€ì§€ë§Œ, y-ì¶•ì— 360Âºì˜ ìµœëŒ€ê°’ì„ ì¶”ê°€í–ˆì„ ë•Œ N, E, S, Wì˜ ì„ê³„ê°’ì´ ëª…í™•í•˜ê²Œ í‘œì‹œë˜ì§€ ì•Šì•˜ì–´ìš”. ì—¬ëŸ¬ í¬ëŸ¼ì„ ì°¾ì•„ë³´ë‹¤ê°€, 90Âº, 180Âº, 270Âº ë° 360Âºê³¼ ê°™ì€ ì´ ë¹„ìŠ·í•˜ì§€ë§Œ ëë‚˜ì§€ ì•ŠëŠ” ìˆ«ìë“¤ì„ y-ì¶•ì— ë ˆì´ë¸”ë§í•˜ëŠ” ê²ƒì´ ì–´ë ¤ìš¸ ê²ƒì´ë¼ê³  ì ì  í¬ë§ì„ ìƒê³  ìˆì—ˆì£ . 100Âº, 200Âº, 300Âº ë“±ì˜ ë ˆì´ë¸”ë§ì„ í•˜ë ¤ëŠ” ê²ƒ ê°™ì•„ìš”. ê·¸ë˜ì„œ ì˜ê°ì´ ìŠ¤ì³¤ì–´ìš”. ì´ë¯¸ í‘œì‹œëœ ê°’ì„ ë§¤í•‘í•˜ê³  ìˆì—ˆëŠ”ë°, ì›ë˜ì˜ ê°ë„ ê°’ì„ Grafanaì˜ ì˜ˆìƒì— ë§ê²Œ ì¡°ì •í•˜ê³  ë¹ ë¥¸ ì¡°ì¹˜ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œìš”? ê·¸ë˜ì„œ ì´ ì½”ë“œ ë¼ì¸ì´ ì¡´ì¬í•˜ëŠ” ì´ìœ ì…ë‹ˆë‹¤.\n\n```js\n...\n|\u003e map(fn: (r) =\u003e ({r with _value: r._value * 400.0/360.0}))\n...\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nN, E, S, Wë¥¼ 0, 100, 200, 300 ë° 400(N)ìœ¼ë¡œ ë‹¤ì‹œ ë§¤í•‘í•˜ë©´ y-ì¶•ì´ ê¸°ë³¸ì ìœ¼ë¡œ ì–¸ê¸‰í•˜ëŠ” ê¸°ì¤€ì¹˜ë¥¼ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆì—ˆì–´ìš”. ë°ì´í„°ê°€ ì´ì œ ë”ì´ìƒ 0Âºì—ì„œ 360Âºê¹Œì§€ê°€ ì•„ë‹ˆì–´ë„ ìŠ¤í¬ë¦° í‘œì‹œì—ëŠ” í° ì˜í–¥ì´ ì—†ì–´ìš”. í•˜ì§€ë§Œ ìƒ ë°ì´í„°ë¥¼ ì‚´í´ë³´ë©´ 360Âº ì´ìƒì˜ ê°’ì´ ë³´ì´ë©´ ì¡°ê¸ˆ ì´ìƒí•  ìˆ˜ë„ ìˆì–´ìš”.\n\n# ë‹¤ìŒ ë‹¨ê³„ëŠ”?\n\n- ë°”ëŒ ë°ì´í„°ì™€ ê·¸ë¦´ ì˜¨ë„ ìƒê´€ ì‹œí‚¤ê¸°\n  ê·¸ë˜ì„œ ë‚ ì”¨ ê´€ì¸¡ì†Œë¥¼ ì‚° ì´ìœ ê°€ ìˆì–´ìš”! ì¶”ìˆ˜ê°ì‚¬ì ˆ ë•Œ ê·¸ë¦´ì— ì¹ í•œ ì¹ ë©´ì¡°ë¥¼ ì—°ê¸°ë¡œ ìµí˜”ëŠ”ë° ë°”ëŒì´ ê·¸ë¦´ ì˜¨ë„ì— ì •ë§ ì˜í–¥ì„ ë¯¸ì¹œë‹¤ëŠ” ê²ƒì„ ì•Œì•˜ì–´ìš” (ë‚´ MEATER+ë¡œ Home Assistantë¥¼ í†µí•´ ì¶”ì í–ˆì–´ìš”). ê·¸ë˜ì„œ í˜¸ê¸°ì‹¬ì´ ìƒê²¨ ë‚ ì”¨ ê´€ì¸¡ì†Œë¥¼ ìƒ€ì–´ìš”. ì—­ì‚¬ì ì¸ ê·¸ë¦´ ì˜¨ë„ì™€ ë°”ëŒ ì†ë„ë¥¼ ìƒí˜¸ ì°¸ì¡°í•˜ëŠ” ëŒ€ì‹œë³´ë“œë¥¼ ë§Œë“¤ê³  ì‹¶ì–´ìš”.\n- ê°•ìš° ì„¼ì„œ ì¶”ê°€ ë° ìŠµë„ ì„¼ì„œ ìˆ˜ë¦¬\n  ì´ì œ ë” ë§ì€ ë°ì´í„°ë¥¼ ì›í•´ìš”! ê·¸ë¦¬ê³  ìŠµë„ ì„¼ì„œê°€ ë•Œë•Œë¡œ ì˜¤ì‘ë™í•˜ëŠ” ê²ƒ ê°™ì•„ì„œ ë” ì‹ ë¢°í•  ìˆ˜ ìˆê²Œ í•  ìˆ˜ ìˆëŠ”ì§€ ì¡°ì‚¬í•´ì•¼ í•´ìš”.\n- ê´‘ëŸ‰ ì„¼ì„œ ì¶”ê°€\n  ì–¼ë§ˆ ì „ë¶€í„° ì‹¤ì™¸ ë°ê¸°ë¥¼ ì‚¬ìš©í•´ì„œ ì‹¤ë‚´ ì¡°ëª…ì„ ì¡°ì ˆí•˜ê³  ì‹¶ì—ˆì–´ìš”. ì˜¨ë„ ì‹œê°í™”ì— íƒœì–‘ ê³ ë„ë¥¼ ì¶”ê°€í•œ ê²ƒì²˜ëŸ¼, ëŒ€ì‰¬ë³´ë“œì—ì„œ ê´‘ëŸ‰ë„ í¥ë¯¸ë¡œìš´ ë°ì´í„° í¬ì¸íŠ¸ì¼ ìˆ˜ ìˆë‹¤ê³  ìƒìƒí•  ìˆ˜ ìˆì–´ìš”. ë‚´ ì§‘ì˜ ì¡°ëª… ê°œìˆ˜ì™€ ì•¼ì™¸ ê´‘ëŸ‰ ì‚¬ì´ì— ìƒê´€ ê´€ê³„ê°€ ìˆì„ê¹Œìš”? ì•„ë§ˆë„ ìˆì§€ë§Œ ì¦ê±°ë¥¼ ë³´ê³  ì‹¶ì–´ìš”.\n- ê³„ì† ì¡°ì •í•˜ê¸°!\n  ëŠì„ì—†ëŠ” ì‹¤í—˜ì˜ ê³µê°„ì´ ë  ê²ƒ ê°™ì•„ìš”.\n- ì´ í”„ë¡œì íŠ¸ì—ì„œ ë°°ìš´ ê²ƒì„ ë‚´ ì§ì¥ì— ì ìš©í•˜ê¸°\n  ë‚˜ëŠ” DevOps íŒ€ì˜ ì—”ì§€ë‹ˆì–´ ê´€ë¦¬ìë¡œ ì¼í•˜ëŠ” ë‚  ê°œì¸ ìë™í™” í”„ë¡œì íŠ¸ë“¤ì„ ë§ì´ í™œìš©í•´ì„œ ë¬´ì–¸ê°€ ìƒˆë¡œìš´ ê²ƒì„ ë°°ìš°ëŠ” í…ŒìŠ¤íŠ¸ë² ë“œë¡œ ì‚¬ìš©í•´ìš”. Grafanaì˜ ê°•ë ¥í•¨ê³¼ InfluxDBì™€ ê°™ì€ ë°ì´í„° ì†ŒìŠ¤ë¥¼ ì¶”ìƒí™”í•˜ì§€ ì•Šê³  ê°ê°ì˜ ì¿¼ë¦¬ ì–¸ì–´ë¥¼ í™œìš©í•˜ëŠ” ì ì´ ì •ë§ ê°•ë ¥í•˜ë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆì–´ìš”.\n","ogImage":{"url":"/assets/img/2024-06-23-HowIturnedacheapweatherstationandawholelotofthingsIalreadyownintoapersonalDevOps-styleweatherdashboard_0.png"},"coverImage":"/assets/img/2024-06-23-HowIturnedacheapweatherstationandawholelotofthingsIalreadyownintoapersonalDevOps-styleweatherdashboard_0.png","tag":["Tech"],"readingTime":22},{"title":"GitLabì—ì„œ Dockerë¥¼ ì‚¬ìš©í•˜ì—¬ Playwright í…ŒìŠ¤íŠ¸ ì‹¤í–‰í•˜ëŠ” ë°©ë²•","description":"","date":"2024-06-23 00:38","slug":"2024-06-23-RunningPlaywrighttestswithDockeronGitLab","content":"\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-RunningPlaywrighttestswithDockeronGitLab_0.png)\n\nì•ˆë…•í•˜ì„¸ìš” ì—¬ëŸ¬ë¶„, ì´ ê¸€ì—ì„œëŠ” ë„ì»¤ë¥¼ ì‚¬ìš©í•˜ì—¬ Playwrightë¥¼ ì„¤ì¹˜í•˜ê³  GitLabì—ì„œ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤. Trendyol í”„ë¡œì íŠ¸ì˜ ì„¤ì¹˜ ê³¼ì • ì¤‘ì— ì§ë©´í•œ ì¼ë¶€ ì–´ë ¤ì›€ë“¤ë„ í•¨ê»˜ ê³µìœ í•  ê²ƒì…ë‹ˆë‹¤.\n\nì‹œì‘í•˜ê¸° ì „ì— Playwrightì— ëŒ€í•œ ê¸°ë³¸ ì •ë³´ì™€ í”„ë¡œì íŠ¸ ì„¤ì¹˜ ë‹¨ê³„ì— ëŒ€í•œ ê¸°ë³¸ ì‚¬í•­ì€ ìƒëµí•  ì˜ˆì •ì´ë‹ˆ ì°¸ê³ í•´ ì£¼ì„¸ìš”.\n\n# ë¬¸ì œì \n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì‹œì‘í•˜ê¸° ì „ì—, ì™œ ìš°ë¦¬ê°€ ë„ì»¤ ì´ë¯¸ì§€ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ”ì§€ ì„¤ëª…í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ì €í¬ í”„ë¡œì íŠ¸ì—ì„œëŠ” ë¸Œëœì¹˜ë³„ í…ŒìŠ¤íŒ…ì„ ì§„í–‰í•˜ê³  ìˆëŠ”ë°ìš”, ê·¸ê²ƒì€ ìŠ¤í”„ë¦°íŠ¸ ë™ì•ˆ ê°œë°œ ì¤‘ì¸ ê¸°ëŠ¥ ë¸Œëœì¹˜ì— ëŒ€í•´ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ ë¸Œëœì¹˜ëŠ” í…ŒìŠ¤íŠ¸ í”„ë¡œì íŠ¸ ì´ë¯¸ì§€ì™€ í•¨ê»˜ í’€ë˜ì–´ ë„ì»¤ ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰ë˜ë©°, ê·¸ í›„ í•´ë‹¹ ì‹¤í–‰ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ëŒ€í•´ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. ì•„ë˜ì— í”„ë¡œì„¸ìŠ¤ë¥¼ ì„¤ëª…í•˜ëŠ” ìŠ¤í¬ë¦°ìƒ·ê³¼ í”Œë¡œìš°ì°¨íŠ¸ë¥¼ í¬í•¨í•˜ì˜€ìŠµë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€ ë§í¬](/assets/img/2024-06-23-RunningPlaywrighttestswithDockeronGitLab_1.png)\n\nìœ„ì˜ ì´ë¯¸ì§€ì—ì„œ ë³´ë“¯ì´, í…ŒìŠ¤íŠ¸ ìë™í™” ë‹¨ê³„ì—ì„œ ê°œë°œëœ ë¸Œëœì¹˜ë¥¼ í’€ê³ , ê°œë°œ ì¤‘ì¸ ê²©ë¦¬ í™˜ê²½ì—ì„œ í•´ë‹¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ì‹¤í–‰ ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ëŒ€í•´ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤. ì´ ìƒˆë¡œìš´ ê°œë°œì´ ì•„ë¬´ ë¬¸ì œë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•Šì•˜ë‹¤ê³  í™•ì‹ ì„ ê°–ê²Œ ë˜ë©´, ë³‘í•© ìš”ì²­ì„ ì˜¬ë¦¬ëŠ” ê³¼ì •ìœ¼ë¡œ ë‚˜ì•„ê°‘ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€ ë§í¬](/assets/img/2024-06-23-RunningPlaywrighttestswithDockeronGitLab_2.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ì„¤ì¹˜\n\nì²˜ìŒì— ì–¸ê¸‰í–ˆë“¯ì´ ì„¤ì¹˜ ê³¼ì •ì€ ê±´ë„ˆëœë‹ˆë‹¤. ë„ì›€ì´ í•„ìš”í•˜ë©´ ì´ ë¬¸ì„œë¥¼ ì°¸ì¡°í•´ ì£¼ì„¸ìš”. Playwrightë¥¼ ì„¤ì¹˜í•œ í›„ì—ëŠ” í”„ë¡œì íŠ¸ê°€ ë‹¤ìŒê³¼ ê°™ì´ ë³´ì¼ ê²ƒì…ë‹ˆë‹¤.\n\n\u003cimg src=\"/assets/img/2024-06-23-RunningPlaywrighttestswithDockeronGitLab_3.png\" /\u003e\n\në¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ ì»´í“¨í„°ì— Dockerë¥¼ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ë§í¬ì—ì„œ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# í”„ë¡œì íŠ¸ì— Docker ì¶”ê°€í•˜ê¸°\n\nì´ë¥¼ ì‹¤í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” í”„ë¡œì íŠ¸ì— Dockerfileì„ í¬í•¨ì‹œí‚¤ê³  ê·¸ ë‹¨ê³„ë“¤ì„ êµ¬ì„±í•´ì•¼ í•©ë‹ˆë‹¤.\n\n![Docker ì´ë¯¸ì§€](/assets/img/2024-06-23-RunningPlaywrighttestswithDockeronGitLab_4.png)\n\n```js\nFROM mcr.microsoft.com/playwright:v1.44.0-jammy\n\nWORKDIR /app\n\nCOPY package*.json ./\n\nRUN npm ci\n\nCOPY . .\n\nCMD [\"npx\", \"playwright\", \"test\"]\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ê¸°ì‚¬ì˜ ëŒ€ìƒì€ Dockerì— ëŒ€í•´ ì²˜ìŒ ì ‘í•˜ëŠ” ì‚¬ëŒë¶€í„° Docker ì „ë¬¸ê°€ê¹Œì§€ ë‹¤ì–‘í•©ë‹ˆë‹¤. ëª¨ë‘ê°€ ëª…í™•íˆ ì´í•´í•  ìˆ˜ ìˆë„ë¡ í•œ ì¤„ì”© ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.\n\n- ë¨¼ì €, ìš°ë¦¬ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ë° í•„ìš”í•œ ëª¨ë“  ê²ƒì„ í¬í•¨í•˜ëŠ” ê³µì‹ Playwright ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\n- í”„ë¡œì íŠ¸ë¥¼ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì— ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“­ë‹ˆë‹¤.\n- ì‘ì—… ë””ë ‰í† ë¦¬ì— package.json ë° package-lock.json íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.\n- í•„ìš”í•œ íŒŒì¼ì„ ë³µì‚¬í•œ í›„, \"npm ci\"ë¥¼ ì‹¤í–‰í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ì»¨í…Œì´ë„ˆì— ì„¤ì¹˜í•©ë‹ˆë‹¤.\n- í”„ë¡œì íŠ¸ë¥¼ ì„¤ì¹˜í•œ í›„ì—ëŠ” í…ŒìŠ¤íŠ¸ íŒŒì¼, êµ¬ì„± íŒŒì¼ ë“± ì¶”ê°€ íŒŒì¼ì„ ì»¨í…Œì´ë„ˆì— ë³µì‚¬í•©ë‹ˆë‹¤.\n- ë§ˆì§€ë§‰ ë‹¨ê³„ëŠ” Playwright í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nì°¸ê³ : Dockerì—ì„œ npm íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•  ë•Œ ë‹¤ë¥¸ ì˜ˆì œì—ì„œ ë°œê²¬í•  ìˆ˜ ìˆëŠ” ê²ƒê³¼ ë‹¬ë¦¬ \"npm install\" ëŒ€ì‹  \"npm ci\"ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê¶Œì¥ë©ë‹ˆë‹¤. ì¼ë¶€ ë¶ˆí•„ìš”í•œ ë‹¨ê³„ë¥¼ ê±´ë„ˆë›¸ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n# ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ ë¨¼ì € Dockerë¥¼ ì‹œì‘í•˜ê³  í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìƒì„±í•œ ë„ì»¤ íŒŒì¼ì„ ë¹Œë“œí•´ì•¼ í•©ë‹ˆë‹¤. VS Code í„°ë¯¸ë„ì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë„ì»¤ íŒŒì¼ì„ ë¹Œë“œí•©ë‹ˆë‹¤. \"docker build -t playwright-demo .\"\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-RunningPlaywrighttestswithDockeronGitLab_5.png)\n\nì°¸ê³ : Playwrightì˜ í€µìŠ¤íƒ€íŠ¸ í´ë” \"tests-examples\"ë¥¼ ì œê±°í–ˆìŠµë‹ˆë‹¤. ë¶ˆí•„ìš”í•œ í…ŒìŠ¤íŠ¸ ì˜ˆì œ ì‹¤í–‰ì„ í”¼í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.\n\nì´ë¯¸ì§€ê°€ ì„±ê³µì ìœ¼ë¡œ ë¹Œë“œë˜ë©´ \"docker run -it â€” rm playwright-demo\"ìœ¼ë¡œ ì‹¤í–‰ ì¤€ë¹„ê°€ ì™„ë£Œë©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/assets/img/2024-06-23-RunningPlaywrighttestswithDockeronGitLab_6.png\" /\u003e\n\ní”„ë¡œì íŠ¸ì— í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•˜ì—¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ê°€ì†í™”í–ˆìŠµë‹ˆë‹¤. ì§€ê¸ˆ í™•ì¸í•´ë³´ë©´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ì´ ì™„ë£Œëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# Gitlab-ci.yml êµ¬ì„±\n\ní”„ë¡œì íŠ¸ì— gitlab-ci.yml íŒŒì¼ì„ ì¶”ê°€í•˜ê³  ì´ë¥¼ êµ¬ì„±í•˜ì—¬ íŒŒì´í”„ë¼ì¸ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•´ë´…ì‹œë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```YAML\nê¸°ë³¸ê°’:\n  ì´ë¯¸ì§€: docker:24.0.5\n  ì„œë¹„ìŠ¤:\n    - docker:24.0.5-dind\n\në³€ìˆ˜:\n  DOCKER_HOST: tcp://docker:2376\n  DOCKER_TLS_CERTDIR: \"/certs\"\n  DOCKER_DRIVER: overlay2\n  DOCKER_BUILDKIT: '1'\n  FF_USE_FASTZIP: \"true\"\n  ARTIFACT_COMPRESSION_LEVEL: \"fast\"\n  CACHE_COMPRESSION_LEVEL: \"fast\"\n\në‹¨ê³„:\n  - ë¹Œë“œ\n  - í…ŒìŠ¤íŠ¸\n\në¹Œë“œ:\n  stage: ë¹Œë“œ\n  before_script:\n    - echo \"$CI_REGISTRY_PASSWORD\" | docker login $CI_REGISTRY -u $CI_REGISTRY_USER --password-stdin\n  script:\n    - docker pull $CI_REGISTRY_IMAGE:latest || true\n    - docker build\n      --cache-from $CI_REGISTRY_IMAGE:latest\n      --tag $CI_REGISTRY_IMAGE:latest\n      --build-arg BUILDKIT_INLINE_CACHE=1\n      \".\"\n    - docker push $CI_REGISTRY_IMAGE:latest\n\ní…ŒìŠ¤íŠ¸:\n  stage: í…ŒìŠ¤íŠ¸\n  before_script:\n    - echo \"$CI_REGISTRY_PASSWORD\" | docker login $CI_REGISTRY -u $CI_REGISTRY_USER --password-stdin\n    - mkdir playwright-report\n    - mkdir test-results\n  script:\n    - docker run --ipc=host --name playwright-tests $CI_REGISTRY_IMAGE:latest\n  after_script:\n    - docker cp playwright-tests:app/playwright-report/. playwright-report\n    - docker cp playwright-tests:app/test-results/. test-results\n  allow_failure: false\n  artifacts:\n    when: í•­ìƒ\n    paths:\n      - playwright-report\n      - test-results\n    expire_in: 1 ì£¼\n```\n\nìš°ë¦¬ëŠ” Docker ì´ë¯¸ì§€ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ì´ ì„¹ì…˜ ëì—ì„œ ëª‡ ê°€ì§€ ì¤‘ìš”í•œ ì‚¬í•­ì„ ì£¼ëª©í•´ì•¼ í•©ë‹ˆë‹¤.\n\në³€ìˆ˜ ì„¹ì…˜ì—ì„œëŠ” ì£¼ë¡œ Docker ë° ê·¸ ìºì‹± ë©”ì»¤ë‹ˆì¦˜ê³¼ ê´€ë ¨ëœ ë³€ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì‹œê°„ì„ ë‹¨ì¶•í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.\n\níŒŒì´í”„ë¼ì¸ì˜ ì´ˆê¸° ë‹¨ê³„ì—ì„œëŠ” \"before_script\" ì„¹ì…˜ ë‚´ì—ì„œ dockerì— ë¡œê·¸ì¸í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. Gitlab ì´ë¯¸ì§€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì´ë¯¸ì§€ê°€ ìˆëŠ” ê²½ìš°ì—ëŠ” ìºì‹œì—ì„œ ê°€ì ¸ì˜µë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë¡œì»¬ë¡œ ë¹Œë“œí•œ ë‹¤ìŒ ë¯¸ë˜ ë¹Œë“œë¥¼ ê°€ì†í™”í•˜ê¸° ìœ„í•´ ì´ë¯¸ì§€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— í‘¸ì‹œí•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\ní…ŒìŠ¤íŠ¸ ë‹¨ê³„ì—ì„œëŠ” Dockerì— ë¡œê·¸ì¸í•˜ê³  ìš°ë¦¬ì˜ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ Docker ì´ë¯¸ì§€ì—ì„œ Gitlab ì•„í‹°íŒ©íŠ¸ë¡œ ì „ì†¡í•˜ê¸° ìœ„í•´ ë‘ ê°œì˜ í´ë”ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ìŠ¤í¬ë¦½íŠ¸ ì„¹ì…˜ì—ì„œëŠ” ìš°ë¦¬ì˜ ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í•˜ê³ , ë§ˆì§€ë§‰ìœ¼ë¡œ ì•„í‹°íŒ©íŠ¸ ì„¹ì…˜ì—ì„œ í…ŒìŠ¤íŠ¸ í´ë”ì˜ ê²½ë¡œë¥¼ ì§€ì •í•©ë‹ˆë‹¤.\n\nì¤‘ìš” ì°¸ê³  ì‚¬í•­: í”„ë¡œì íŠ¸ ì„¤ì • ì¤‘ì— Docker ë²„ì „ê³¼ Node.jsê°€ ì¶©ëŒí•˜ëŠ” íŠ¹ì´í•œ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì´ì „ ë²„ì „ì˜ Dockerë¥¼ ì‚¬ìš©í•˜ë©´ Playwrightë¥¼ ì‹¤í–‰í•  ë•Œ ì˜ˆê¸°ì¹˜ ì•Šì€ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ í”„ë¡œì íŠ¸ë¥¼ ì´ˆê¸°í™”í•  ë•Œ ìµœì‹  ë²„ì „ì˜ Docker ë° Playwright ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê¶Œì¥ë©ë‹ˆë‹¤.\n\n# Gitlab íŒŒì´í”„ë¼ì¸ì—ì„œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰\n\në³€ê²½ ì‚¬í•­ì„ GitLabì— í‘¸ì‹œí•˜ë©´ íŒŒì´í”„ë¼ì¸ì—ì„œ ì´ì™€ ìœ ì‚¬í•œ ë‚´ìš©ì´ í‘œì‹œë©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/assets/img/2024-06-23-RunningPlaywrighttestswithDockeronGitLab_7.png\" /\u003e\n\nì‹¤í–‰ëœ íŒŒì´í”„ë¼ì¸ì—ì„œ í…ŒìŠ¤íŠ¸ ë‹¨ê³„ë¥¼ í´ë¦­í•˜ë©´ ê²°ê³¼ì—ì„œ ë¹„ìŠ·í•œ ë¡œê·¸ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cimg src=\"/assets/img/2024-06-23-RunningPlaywrighttestswithDockeronGitLab_8.png\" /\u003e\n\n# ë³´ê³ ì„œì— ì ‘ê·¼í•˜ê¸°\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në³´ê³ ì„œì— ì•¡ì„¸ìŠ¤í•˜ë ¤ë©´ í˜ì´ì§€ ìš°ì¸¡ í•˜ë‹¨ì— ìˆëŠ” \"ì°¾ì•„ë³´ê¸°\" ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ í”„ë¡œì íŠ¸ ìë£Œë¥¼ í™•ì¸í•˜ì„¸ìš”.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-RunningPlaywrighttestswithDockeronGitLab_9.png)\n\nìë£Œì—ì„œ \"playwright-report\" í•˜ìœ„ì— ìˆëŠ” HTML ë³´ê³ ì„œë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-RunningPlaywrighttestswithDockeronGitLab_10.png)\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ê²°ë¡ \n\ní•„ìš”í•˜ë‹¤ë©´ ì—¬ê¸°ì„œ GitLab ì €ì¥ì†Œë¥¼ ì°¾ì„ ìˆ˜ ìˆì–´ìš”.\n\nì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ì´ ê¸€ì„ ê°€ëŠ¥í•œ í•œ ê°„ë‹¨í•˜ê²Œ ìœ ì§€í•˜ê¸° ìœ„í•´ ë…¸ë ¥í–ˆì–´ìš”. ìœ ìš©í•˜ê²Œ ì°¾ìœ¼ì…¨ìœ¼ë©´ ì¢‹ê² ì–´ìš”. ììœ ë¡­ê²Œ ëŒ“ê¸€ì„ ë‚¨ê²¨ì£¼ì„¸ìš”. ë‹¤ìŒ ê¸€ì—ì„œ ë§Œë‚˜ìš”! ğŸ‘‹\n","ogImage":{"url":"/assets/img/2024-06-23-RunningPlaywrighttestswithDockeronGitLab_0.png"},"coverImage":"/assets/img/2024-06-23-RunningPlaywrighttestswithDockeronGitLab_0.png","tag":["Tech"],"readingTime":9},{"title":"Alpine, Distroless, ì•„ë‹ˆë©´ Scratch ë„ì»¤ ì´ë¯¸ì§€ ì„ íƒ ê°€ì´ë“œ","description":"","date":"2024-06-23 00:36","slug":"2024-06-23-alpinedistrolessorscratch","content":"\nì €ëŠ” ìµœê·¼ ì˜¨ë¼ì¸ ë¶€í‹°í¬ ìƒ˜í”Œ ì•±ì˜ 4ê°œ Golang ì•±ì„ ì•ŒíŒŒì¸ì—ì„œ ìŠ¤í¬ë˜ì¹˜ë¡œ ì´ì£¼í–ˆì–´ìš”. ê·¸ëŸ° ê³¼ì •ì—ì„œ ë°°ìš´ ë©‹ì§„ ê²ƒë“¤ì´ ìˆìŠµë‹ˆë‹¤.\n\nì•ŒíŒŒì¸ì€ ìš°ë¦¬ì˜ ì»¨í…Œì´ë„ˆí™”ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ì¤„ì´ëŠ” ë° ì¸ê¸° ìˆëŠ” ì´ë¯¸ì§€ì…ë‹ˆë‹¤. ê·¸ë¡œ ì¸í•´ ë³´ì•ˆ ìƒíƒœë„ ê°œì„ ë©ë‹ˆë‹¤(ê³µê²© í‘œë©´ì´ ì ê³  CVEê°€ ì ìŠµë‹ˆë‹¤).\n\ní•˜ì§€ë§Œ ì´ê²ƒë§Œìœ¼ë¡œ ì¶©ë¶„í•˜ì§€ëŠ” ì•Šì•„ìš”. ì•ŒíŒŒì¸ì—ëŠ” ì•„ì§ ì·¨ì•½ì ì´ ìˆëŠ” íŒ¨í‚¤ì§€ê°€ í¬í•¨ë˜ì–´ ìˆê³ , busyboxì™€ wgetì´ ìˆì–´ì„œ í”„ë¡œë•ì…˜ í™˜ê²½ì— ì í•©í•˜ì§€ ì•Šì€ ê²ƒì´ì£ .\n\nì•ŒíŒŒì¸ë³´ë‹¤ ë” ë‚˜ì€ ê²ƒì„ í•  ìˆ˜ ìˆì„ê¹Œìš”? ê·¸ëŸ¼! distrolessê°€ ë„ì›€ì´ ë  ê±°ì—ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në” ë§ê³  ë” ë‚˜ì€ ê²ƒì„ í•  ìˆ˜ ìˆì„ê¹Œìš”? ë„¤! scratchê°€ ë„ì›€ì´ ë  ìˆ˜ ìˆì–´ìš”.\n\nì´ ì„¸ ê°€ì§€ ì´ë¯¸ì§€ ê°„ì˜ ì°¨ì´ë¥¼ ì‚´í´ë´…ì‹œë‹¤.\n\nì´ë¥¼ ìœ„í•´ Kelsey Hightowerì˜ helloworld ì•±ì„ ì‚¬ìš©í•˜ê³  scratchë¥¼ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸í•´ë³´ê² ì§€ë§Œ, ì•ŒíŒŒì¸ ë° distrolessë¡œë„ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•  ê±°ì—ìš”.\n\n```js\nFROM golang:1.22\nWORKDIR /go/src/github.com/kelseyhightower/app/\nCOPY . .\nRUN CGO_ENABLED=0 GOOS=linux go build .\n\n# FROM alpine\n# FROM gcr.io/distroless/static\n# FROM cgr.dev/chainguard/static\nFROM scratch\nCOPY --from=0 /go/src/github.com/kelseyhightower/app/helloworld .\nENTRYPOINT [\"/helloworld\"]\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# í¬ê¸°\n\në‹¤ì–‘í•œ ë³€í˜•ì˜ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•œ í›„ì— ì´ì œ í¬ê¸°ë¥¼ ë¹„êµí•´ë´…ì‹œë‹¤:\n\n```js\nREPOSITORY   TAG          IMAGE ID       CREATED          SIZE\nhelloworld   alpine       2c2991efd7cd   7 minutes ago    14.4MB\nhelloworld   distroless   08308f5bc54d   16 minutes ago   9.03MB\nhelloworld   chainguard   eaa8a9d18fef   8 seconds ago    7.79MB\nhelloworld   scratch      287ad0140c46   32 minutes ago   7.04MB\n```\n\nëª¨ë‘ ë§¤ìš° ê°€ë²¼ìš°ë©° ì‘ìŠµë‹ˆë‹¤. Alpineì€ ë” í¬ë©°, ë” ë§ì€ íŒ¨í‚¤ì§€ë¥¼ ì œê³µí•˜ê¸° ë•Œë¬¸ì— Scratchë³´ë‹¤ ë‘ ë°° ë” í½ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ì¸ \"ì´ë¯¸ì§€ í¬ê¸°ëŠ” í•µì‹¬ì´ ì•„ë‹ˆë‹¤\"ëŠ” ì´ë¯¸ì§€ í¬ê¸°ì—ë§Œ ì§‘ì¤‘í•´ì„œëŠ” ì•ˆ ëœë‹¤ëŠ” ì´ìœ ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤. ì‘ì€ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ê°€ì§€ëŠ” ê²ƒì€ ì¢…ì¢… ì„±ëŠ¥ì´ ë” ìš°ìˆ˜í•˜ê³  ë³´ì•ˆ ìˆ˜ì¤€ì´ ë†’ë‹¤ëŠ” ì¢‹ì€ ì‹ í˜¸ì…ë‹ˆë‹¤.\n\n# íŒ¨í‚¤ì§€\n\nì´ì œ ë¹Œë“œëœ ì´ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ì— í¬í•¨ëœ íŒ¨í‚¤ì§€ë¥¼ ë¹„êµí•´ ë³´ê² ìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ syftë¥¼ ì‚¬ìš©í•´ ë´…ì‹œë‹¤.\n\nì•ŒíŒŒì¸ (17 ê°œ íŒ¨í‚¤ì§€):\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nì´ë¦„                    ë²„ì „               ìœ í˜•\nalpine-baselayout       3.4.3-r2              apk\nalpine-baselayout-data  3.4.3-r2              apk\nalpine-keys             2.4-r1                apk\napk-tools               2.14.0-r5             apk\nbusybox                 1.36.1-r15            apk\nbusybox-binsh           1.36.1-r15            apk\nca-certificates-bundle  20230506-r0           apk\nhelloworld              (devel)               go-module\nlibc-utils              0.7.2-r5              apk\nlibcrypto3              3.1.4-r5              apk\nlibssl3                 3.1.4-r5              apk\nmusl                    1.2.4_git20230717-r4  apk\nmusl-utils              1.2.4_git20230717-r4  apk\nscanelf                 1.3.7-r2              apk\nssl_client              1.36.1-r15            apk\nstdlib                  go1.22.2              go-module\nzlib                    1.3.1-r0              apk\n```\n\ndistroless (5 ê°œ):\n\n```js\nì´ë¦„        ë²„ì „          ìœ í˜•\nbase-files  12.4+deb12u5     deb\nhelloworld  (devel)          go-module\nnetbase     6.4              deb\nstdlib      go1.22.2         go-module\ntzdata      2024a-0+deb12u1  deb\n```\n\nchainguard (7 ê°œ):\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nì´ë¦„                    ë²„ì „                    ìœ í˜•\nì•ŒíŒŒì¸-ë² ì´ìŠ¤ë ˆì´ì•„ì›ƒ-ë°ì´í„°  3.6.4-r0                 apk\nì•ŒíŒŒì¸-í‚¤               2.4-r1                   apk\nì•ŒíŒŒì¸-ë¦´ë¦¬ìŠ¤            3.20.0_alpha20240329-r0  apk\nCA-ì¸ì¦ì„œ ë²ˆë“¤         20240226-r0              apk\ní—¬ë¡œìš°ì›”ë“œ              (ê°œë°œ ì¤‘)                  go-ëª¨ë“ˆ\ní‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬          go1.22.2                 go-ëª¨ë“ˆ\nì‹œê°„ëŒ€ ë°ì´í„°            2024a-r1                 apk\n```\n\nê¸°ë³¸ (2 ê°œì˜ íŒ¨í‚¤ì§€):\n\n```js\nì´ë¦„        ë²„ì „   ìœ í˜•\ní—¬ë¡œìš°ì›”ë“œ  (ê°œë°œ ì¤‘)   go-ëª¨ë“ˆ\ní‘œì¤€      go1.22.2  go-ëª¨ë“ˆ\n```\n\nìš°ë¦¬ëŠ” ì´ì œ ì´ë“¤ì„ ìš°ë¦¬ì˜ í•„ìš”ì— ë§ê²Œ í˜„ëª…í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”. ì‚¬ìš©í•˜ëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì— ë”°ë¼ ë¬´ì—‡ì´ ë“¤ì–´ìˆëŠ”ì§€ ì •í™•íˆ ì•Œì•„ì•¼ í•˜ëŠ” ê²ƒì´ ì •ë§ ë©‹ì§€ê³  ì¤‘ìš”í•˜ì£ ?\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# CVEs\n\në¶ˆí•„ìš”í•œ ì¢…ì†ì„±ê³¼ íŒ¨í‚¤ì§€ì˜ ìˆ˜ë¥¼ ì¤„ì´ë©´ ìœ ì§€ ë³´ìˆ˜ ì‹œê°„ê³¼ ê´€ë ¨ëœ CVEs ì—…ë°ì´íŠ¸ë¡œë¶€í„° ì˜¤ëŠ” í”¼ë¡œë¥¼ ì¤„ì¼ ìˆ˜ ìˆì–´ìš”.\n\në§Œì•½ trivyì™€ ê°™ì€ ë„êµ¬ë¥¼ ì‚¬ìš©í•œë‹¤ë©´, ì´ ë¸”ë¡œê·¸ ê¸€ì„ ì‘ì„±í•  ë•Œ alpineë§Œ CVEsê°€ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”:\n\n```js\nhelloworld:alpine (alpine 3.19.1)\n=================================\nTotal: 2 (UNKNOWN: 0, LOW: 2, MEDIUM: 0, HIGH: 0, CRITICAL: 0)\n\n|  ë¼ì´ë¸ŒëŸ¬ë¦¬ | ì·¨ì•½ì  | ì‹¬ê°ë„ | ìƒíƒœ | ì„¤ì¹˜ëœ ë²„ì „ | ìˆ˜ì •ëœ ë²„ì „ | ì œëª© |\n|----------|----------|--------|------|-----------------|-----------------|------------------------------------------------------------------|\n| libcrypto3 | CVE-2024-2511 | LOW | fixed | 3.1.4-r5 | 3.1.4-r6 | openssl: Unbounded memory growth with session handling in TLSv1.3 |\n| | | | | | | [ìì„¸íˆ ë³´ê¸°](https://avd.aquasec.com/nvd/cve-2024-2511) |\n| libssl3 | | | | | | |\n| | | | | | | |\n| | | | | | | |\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ì˜ˆì‹œì—ì„œëŠ” ë‚®ì€ ìˆ˜ì¤€ì˜ ë³´ì•ˆì´ì§€ë§Œ ê·¸ë˜ë„ ì¤‘ìš”í•©ë‹ˆë‹¤. ì—¬ì „íˆ ìì‹ ì˜ ì•± íŒ¨í‚¤ì§€ì˜ CVEsë¥¼ ë‹¤ë£¨ì–´ì•¼ í•˜ë¯€ë¡œ ê¸°ë³¸ ì´ë¯¸ì§€ì—ì„œ ì´ë¥¼ ì œê±°í•˜ëŠ” ê²ƒì€ í•­ìƒ í° ì´ì ì…ë‹ˆë‹¤.\n\n# ë” ë§ì€ ë³´ì•ˆ\n\në‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë‘ë¥¼ íŠ¹ê¶Œ ì—†ì´ ì‹¤í–‰í•˜ëŠ” ê²ƒì€ ì–´ë ¤ì›€ì´ ì—†ìŠµë‹ˆë‹¤. ëª¨ë‘ ì„±ê³µì ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤:\n\n```js\ndocker run \\\n    -d \\\n    -p 8080:8080 \\\n    --read-only \\\n    --cap-drop=ALL \\\n    --user=65532 \\\n    CONTAINER_IMAGE\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê·¸ë¦¬ê³  docker exec ë˜ëŠ” kubectl execë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ìœ ì¼í•œ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ëŠ” alpine ì´ë¯¸ì§€ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ì´ë¯¸ì§€ë“¤ì€ ì…¸ì„ ê°–ê³  ìˆì§€ ì•Šê¸° ë•Œë¬¸ì— ì´ ì‘ì—…ì„ í—ˆìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë³´ì•ˆì ì¸ ì¸¡ë©´ì—ì„œ ì…¸ì´ ì—†ëŠ” ê²ƒì€ ë³´ì•ˆ í¬ì§€ì…˜ì„ ê°œì„ í•˜ëŠ” ì¢‹ì€ ì‹¤ì²œë²•ì´ì£  (ë‹¤ì‹œ ë§í•´, ê³µê²© í‘œë©´ì„ ì¤„ì…ë‹ˆë‹¤).\n\n# ì´ê²ƒìœ¼ë¡œ ë§ˆì¹˜ê² ìŠµë‹ˆë‹¤!\n\në§Œì•½ ì •ì ìœ¼ë¡œ ì»´íŒŒì¼ëœ Golang ë˜ëŠ” Rust ì•±ì„ ì‚¬ìš©í•œë‹¤ë©´, scratchë¥¼ ì‚¬ìš©í•˜ì„¸ìš”. ca-certificatesë‚˜ tzdataì™€ ê°™ì€ ê²ƒì´ í•„ìš”í•˜ë‹¤ë©´ gcr.io/distroless/static ë˜ëŠ” cgr.dev/chainguard/staticì„ ì„ íƒí•˜ì„¸ìš”.\n\nì´ê²ƒì´ ë°”ë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ í”„ë¡œì íŠ¸ê°€ ì´ë¯¸ 4ë…„ê°„ ì§„í–‰í•´ ì˜¨ ì‘ì—…ì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në§Œì•½ libcê°€ í•„ìš”í•˜ë‹¤ë©´ gcr.io/distroless/base-nossl ë˜ëŠ” libsslì´ í¬í•¨ëœ gcr.io/distroless/baseë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”.\n\në˜í•œ Java, .NET, Python ë“± ë‹¤ë¥¸ ìœ í˜•ì˜ ì•±ì„ ìœ„í•œ ë” ë§ì€ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë“¤ë„ ìˆì–´ìš”.\n\ndistroless ì£¼ë³€ì—ì„œ ë” ë§ì€ ë…¸ë ¥ë“¤ë„ ìˆì–´ìš”:\n\n- ChainguardëŠ” ì¤‘ìš”í•œ ì—­í• ì„ í•˜ëŠ”ë°, ê·¸ë“¤ì€ ë§ì€ distroless ì´ë¯¸ì§€ë¥¼ ê°€ì§€ê³  ìˆì–´ìš”.\n- RedHatì€ UBI Microë¥¼ ê°€ì§€ê³  ìˆì–´ìš”.\n- UbuntuëŠ” Chiseledì„ ê°€ì§€ê³  ìˆì–´ìš” â€” ì´ì œ Microsoftê°€ dotnet ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ì™€ í•¨ê»˜ í¬í•¨ì‹œì¼°ì–´ìš”. ì˜ˆë¥¼ ë“¤ì–´, ì €ëŠ” ì´ ì»¨í…Œì´ë„ˆì™€ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆë¥¼ alpineì—ì„œ chiseledë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í–ˆì–´ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në˜í•œ, í´ëŸ¬ìŠ¤í„° ë‚´ì—ì„œ ë°°í¬í•˜ëŠ” ì™¸ë¶€ ì»¨í…Œì´ë„ˆì—ëŠ” distroless flavorë¥¼ ìš”ì²­í•˜ì‹­ì‹œì˜¤. ì˜ˆë¥¼ ë“¤ì–´, Jibë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, ì´ì œ distrolessë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. Istioì˜ ê²½ìš° Istio ì‚¬ì´ë“œì¹´ í”„ë¡ì‹œì— distrolessë¥¼ ì„ íƒì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\ndistrolesssë¥¼ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆì— ëŒ€í•œ ë””ë²„ê¹… ê¸°ëŠ¥ì´ ì œê±°ë©ë‹ˆë‹¤(ì‰˜ ì—†ìŒ, íŒ¨í‚¤ì§€ ê´€ë¦¬ì ì—†ìŒ, wget/curl ì—†ìŒ). í•˜ì§€ë§Œ ìƒì‚° í™˜ê²½ì—ì„œ ë””ë²„ê·¸ ëª¨ë“œë¡œ ì§„ì…í•˜ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šì€ ì‹¤ì²œ ë°©ë²•ì…ë‹ˆë‹¤(ì ì¬ì  í•´ì»¤ì—ê²Œ ë” ë§ì€ ë„êµ¬ë¥¼ ì œê³µí•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤). ëŒ€ì‹ ì— kubernetes debug ë˜ëŠ” initContainersì™€ ê°™ì€ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. í•„ìš”í•œ ê²½ìš°ì—ëŠ”ìš”.\n\n# ë¦¬ì†ŒìŠ¤\n\n- scratch for checkout, frontend, productcatalog and shipping by mathieu-benoit Â· Pull Request #2512 Â· GoogleCloudPlatform/microservices-demo (github.com)\n- Is Your Container Image Really Distroless? | Docker\n- erickduran/docker-distroless-poc: A simple Proof of Concept of a vulnerable web app using a distroless image and Python. (github.com)\n- Chiselled Ubuntu containers: the benefits of combining Distroless and Ubuntu | Ubuntu\n- Why I Will Never Use Alpine Linux Ever Again | by Martin Heinz | Better Programming\n","ogImage":{"url":"/assets/img/2024-06-23-alpinedistrolessorscratch_0.png"},"coverImage":"/assets/img/2024-06-23-alpinedistrolessorscratch_0.png","tag":["Tech"],"readingTime":9},{"title":"ì „ì²´ êµ¬ì„± Compose íŒŒì¼ ì‰½ê²Œ ì„¤ì •í•˜ëŠ” ë°©ë²•","description":"","date":"2024-06-23 00:30","slug":"2024-06-23-TheWholeShebangComposeFiles","content":"\n\u003cimg src=\"/assets/img/2024-06-23-TheWholeShebangComposeFiles_0.png\" /\u003e\n\nìš”ì¦˜ Docker ë° ì»¨í…Œì´ë„ˆì— ëŒ€í•´ ë§ì´ ì“°ê³  ê°€ë¥´ì¹˜ê³  ìˆìŠµë‹ˆë‹¤. ë‚´ ì»¨í…ì¸ ë¥¼ ì†Œë¹„í•˜ê³  í”¼ë“œë°±ì„ ì œê³µí•´ ì£¼ì‹œëŠ” ì—¬ëŸ¬ë¶„ë“¤ì—ê²Œ ë§¤ìš° ê°ì‚¬í•©ë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì˜ ì˜ê²¬ì„ ë“£ê³  ë‹¤ìŒ ì£¼ì œëŠ” ë‹¹ì—°íˆ Docker Composeì…ë‹ˆë‹¤. ì™œëƒí•˜ë©´ ì´ì œ ì—¬ëŸ¬ë¶„ì€ ìì‹ ì˜ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ê³  ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì„ ì•Œê³  ìˆìœ¼ë¯€ë¡œ, ë‹¤ìŒìœ¼ë¡œ ë…¼ë¦¬ì ìœ¼ë¡œ ë‚¨ì€ ì¼ì€ ë³µì¡í•œ ë©€í‹° ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ê³  ê·¸ ëª¨ë“  ê²ƒì„ ë‹¨ì¼ ì†Œí”„íŠ¸ì›¨ì–´ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n# Docker Compose: ê·¸ê²Œ ë­”ë°, ì™œ í•„ìš”í•œê°€ìš”?\n\nê³µì‹ ë¬¸ì„œì—ì„œ ë” ë§ì€ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì§€ë§Œ, ê°„ë‹¨íˆ ë§í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤: Dockerë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ, ì´ë¯¸ì§€, ë³¼ë¥¨ ë“±ì„ ê´€ë¦¬í•©ë‹ˆë‹¤. docker runì„ ì‹¤í–‰í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ë‹¨ì¼ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë§Œì•½ ì²« ë²ˆì§¸ ì»¨í…Œì´ë„ˆì™€ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë‘ ë²ˆì§¸ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•˜ë ¤ë©´ docker runì„ ë‹¤ì‹œ ì‹¤í–‰í•´ì•¼ í•˜ë©°, ë³¼ë¥¨ ë° ë„¤íŠ¸ì›Œí¬ë¥¼ ë³„ë„ë¡œ ì²˜ë¦¬í•˜ì—¬ ì„œë¡œë¥¼ ë³´ê³  í†µì‹ í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në„ì»¤ ì»´í¬ì¦ˆëŠ” ë„ì»¤ ìœ„ì— ë˜í¼ë¥¼ ì œê³µí•˜ì—¬ ì´ ëª¨ë“  ê²ƒì„ ì¶”ìƒí™”í•©ë‹ˆë‹¤ (ë§ì•„ìš”! ë„ì»¤ ì»´í¬ì¦ˆëŠ” ë‹¨ìˆœíˆ ë„ì»¤ë¥¼ ìœ„í•œ ê³ ìˆ˜ì¤€ CLIì…ë‹ˆë‹¤). ì‹¤ì œë¡œ ëŒ€ë¶€ë¶„ì˜ ì˜µì…˜ì´ docker run í•˜ìœ„ ëª…ë ¹ì–´ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ì˜µì…˜ë“¤ê³¼ ë§¤ìš° ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ ëª…ëª…ë©ë‹ˆë‹¤.\n\në„ì»¤ ì»´í¬ì¦ˆë¥¼ ì‚¬ìš©í•˜ë©´ YAML íŒŒì¼ì¸ ì»´í¬ì¦ˆ íŒŒì¼ì„ í†µí•´ ì»¨í…Œì´ë„ˆ(ë„ì»¤ ì»´í¬ì¦ˆ ì„¸ê³„ì—ì„œëŠ” ì„œë¹„ìŠ¤ë¼ê³  ë¶ˆë¦½ë‹ˆë‹¤... ë‹¨ì§€ ìŠ¤ì›œ ëª¨ë“œì—ì„œë„ ì»´í¬ì¦ˆ íŒŒì¼ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—... ë‹¤ë¥¸ ê¸€ì—ì„œ ì„¤ëª…í•  ì˜ˆì •), ë³¼ë¥¨ ë° ë„¤íŠ¸ì›Œí¬ë¥¼ í¬í•¨í•œ ëª¨ë“  ê²ƒì„ ì„ ì–¸ì ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë©€í‹° ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê´€ë¦¬í•´ì•¼ í•  ë•Œ, ì´ compose íŒŒì¼ë§Œ ê±´ë“œë¦¬ê³  ë‚˜ë¨¸ì§€ëŠ” ë„ì»¤ ì»´í¬ì¦ˆê°€ ëª¨ë‘ ì²˜ë¦¬í•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# ì»´í¬ì¦ˆ íŒŒì¼\n\nìš°ì„ , ë©€í‹° ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì˜¬ë°”ë¥´ê²Œ ìš´ì˜í•˜ë ¤ë©´ ì»´í¬ì¦ˆ íŒŒì¼ì„ ì‘ì„±í•˜ëŠ” ë°©ë²•ì„ ìµí˜€ì•¼ í•˜ë¯€ë¡œ ë„ì»¤ ì»´í¬ì¦ˆ CLIì— ëŒ€í•´ì„œëŠ” ë‹¤ë¥¸ ê¸€ì—ì„œ ë‹¤ë£° ì˜ˆì •ì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në„ì»¤ì˜ êµ¬ì„± íŒŒì¼ ê´€ë ¨ ë¬¸ì„œëŠ” ë§¤ìš° ì™„ë²½í•˜ì§€ë§Œ, ì €ëŠ” ì‹¤ìš©ì£¼ì˜ì™€ ê²½í—˜ìœ¼ë¡œë¶€í„° ë°°ìš°ëŠ” ê²ƒì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ì‚¬ëŒì´ë¼ì„œ ëª¨ë“  Compose íŒŒì¼ ì˜µì…˜ì„ ì†ì§ˆí•˜ê³  ëª…ë£Œí•œ ì„¤ëª…ê³¼ ì‹¤ì œ ì˜ˆì‹œë¥¼ ë‹´ì•„ë‚´ë ¤ê³  í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì‹œì‘í•´ë´…ì‹œë‹¤!\n\nì°¸ê³  1: ì´ ê¸°ì‚¬ë¥¼ ì‘ì„±í•˜ëŠ” ì‹œì ì—ì„œ ìµœì‹  ë²„ì „ì¸ v3ì˜ Compose íŒŒì¼ ëª…ì„¸ì— ëŒ€í•œ ì˜µì…˜ê³¼ ìŠ¤í‚¤ë§ˆë§Œ ë‹¤ë£° ì˜ˆì •ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‹ˆ ê±±ì •í•˜ì§€ ë§ˆì„¸ìš”.\n\nì°¸ê³  2: ê° ì˜µì…˜ì— ëŒ€í•´ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ì„¤ëª…ê³¼ ì˜ˆì‹œë§Œ ì œê³µí•  ê²ƒì´ë©°, íŠ¹ì • ì˜µì…˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ë³¸ ì ì´ ì—†ëŠ” ê²½ìš°ì—ëŠ” \"ì¼ë°˜ì ì´ì§€ ì•ŠìŒ\"ìœ¼ë¡œ ê°„ì£¼í•  ê²ƒì…ë‹ˆë‹¤. ì–´ë–¤ ì˜µì…˜ì˜ ì ì€ ì‚¬ìš© ë°©ë²• ë° ì¼ë°˜ì ì´ì§€ ì•Šì€ ë§¤ê°œë³€ìˆ˜ë¥¼ ë” ìì„¸íˆ ì•Œê³  ì‹¶ë‹¤ë©´ ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ì¡°í•´ì£¼ì„¸ìš”.\n\nì˜ˆì‹œì— ë“¤ì–´ê°€ê¸° ì „ì—, ëª¨ë“  êµ¬ì„± íŒŒì¼ì€ ì‘ì„±í•˜ëŠ” í˜„ì¬ì˜ íŒŒì¼ ìŠ¤í‚¤ë§ˆë¥¼ ë‚˜íƒ€ë‚´ëŠ” í‚¤ì›Œë“œ versionìœ¼ë¡œ ì‹œì‘ë©ë‹ˆë‹¤. ì•ì„œ ë§í•œëŒ€ë¡œ, ì €í¬ëŠ” ìµœì‹  (ë²„ì „: \"3\")ì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ë¹Œë“œ\n\nê¸°ë³¸ì ìœ¼ë¡œ Docker Composeë¡œ ë¬´ì–¸ê°€ë¥¼ ì‹œì‘í•  ë•Œ, Docker ì´ë¯¸ì§€ ë˜ëŠ” Dockerfileì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•˜ê¸° ì „ì— Dockerê°€ ì´ë¯¸ì§€ë¥¼ ì§ì ‘ ë¹Œë“œí•˜ë„ë¡ í•˜ê³  ì‹¶ë‹¤ë©´ ìˆ˜ë™ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ì§€ ì•Šê³ ë„ ì´ ì˜µì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´:\n\n```js\n$ cat \u003eDockerfile \u003c\u003cEOF\n# ì´ê²ƒì€ Dockerfileì…ë‹ˆë‹¤\nFROM ubuntu\nCMD [\"echo\", \"Hello Medium readers\"]\n# Dockerfile ë\nEOF\n$\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  my-test-container:\n    build: .\nEOF\n$\n$ docker-compose up\në””í´íŠ¸ ë“œë¼ì´ë²„ë¥¼ ì‚¬ìš©í•˜ì—¬ \"mediumcom_default\" ë„¤íŠ¸ì›Œí¬ ìƒì„± ì¤‘\nmy-test-container ë¹Œë“œ ì¤‘\nDocker ë°ëª¬ìœ¼ë¡œ ë¹Œë“œ ì»¨í…ìŠ¤íŠ¸ ë³´ë‚´ëŠ” ì¤‘  1.337MB\në‹¨ê³„ 1/2 : FROM ubuntu\n ---\u003e ba6acccedd29\në‹¨ê³„ 2/2 : CMD [\"echo\", \"Hello Medium readers\"]\n ---\u003e ìºì‹œ ì‚¬ìš© ì¤‘\n ---\u003e 6c8b22fa650c\nì„±ê³µì ìœ¼ë¡œ ë¹Œë“œë˜ì—ˆìŠµë‹ˆë‹¤ 6c8b22fa650c\nmediumcom_my-test-container:latestë¡œ ì„±ê³µì ìœ¼ë¡œ íƒœê¹…ë˜ì—ˆìŠµë‹ˆë‹¤\nmediumcom_my-test-container_1 ìƒì„± ì¤‘ ... ì™„ë£Œ\nmediumcom_my-test-container_1ì— ì—°ê²° ì¤‘\nmy-test-container_1  | Hello Medium readers\nmediumcom_my-test-container_1ëŠ” ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n$\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në³´ì‹œë‹¤ì‹œí”¼, Docker ComposeëŠ” Dockerì—ê²Œ ë„ì»¤íŒŒì¼(ì»´í¬ì¦ˆ íŒŒì¼ê³¼ ë™ì¼í•œ ê²½ë¡œì— ìœ„ì¹˜)ë¡œë¶€í„° ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ë„ë¡ ì§€ì‹œí•˜ê³ , ê·¸ í›„ì— ìë™ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.\n\nì°¸ê³ : ì¼ë°˜ì ìœ¼ë¡œ docker buildì™€ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ì¼ë¶€ ì˜µì…˜ë“¤(ë¹Œë“œ ì¸ì ì „ë‹¬, Dockerfileì˜ ê²½ë¡œ ë° ì´ë¦„ ì§€ì • ë“±)ë„ ì—¬ê¸°ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ë¬¸ì„œë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.\n\n## ì´ë¯¸ì§€\n\nì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ Docker ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•  í•„ìš”ëŠ” ì—†ê² ì£ ... ê·¸ë ‡ê²Œ í•˜ë©´ ë¶ˆí¸í•˜ê² ì£ . ë”°ë¼ì„œ ì´ë¯¸ì§€ë¥¼ ë¯¸ë¦¬ ë¹Œë“œí•˜ê±°ë‚˜ ê°„ë‹¨íˆ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ì§€ì •í•˜ë©´ ë©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì˜ˆë¥¼ ë“¤ì–´, ì´ì „ ì˜ˆì œì˜ Dockerfileê³¼ ë‹¤ìŒì˜ compose íŒŒì¼ì„ ì‚´í´ë³´ì„¸ìš”:\n\n```js\n$ # ì´ì „ ì˜ˆì œ ì •ë¦¬í•˜ê¸° ìœ„í•¨\n$ # ì´ì œë¶€í„° ê° ì˜ˆì œì—ì„œ ë‹¤ìŒ ëª…ë ¹ ì‹¤í–‰í•´ì£¼ì„¸ìš”\n$ docker-compose down -v --remove-orphans\n$\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    build: .\n  second:\n    image: hello-world\nEOF\n$ # Dockerfileì´ ë³€ê²½ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì²« ë²ˆì§¸ ì´ë¯¸ì§€ê°€ ë‹¤ì‹œ ë¹Œë“œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤\n$ docker-compose up\në„¤íŠ¸ì›Œí¬ \"mediumcom_default\" ìƒì„± ì¤‘\nmediumcom_first_1  ... ìƒì„±ë¨\nmediumcom_second_1 ... ìƒì„±ë¨\nmediumcom_second_1, mediumcom_first_1ì— ì—°ê²° ì¤‘\nfirst_1   | Hello Medium readers\nsecond_1  |\nsecond_1  | Hello from Docker!\nsecond_1  | This message shows that your installation appears to be working correctly.\nsecond_1  |\nsecond_1  | To generate this message, Docker took the following steps:\nsecond_1  |  1. The Docker client contacted the Docker daemon.\nsecond_1  |  2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub.\nsecond_1  |     (amd64)\nsecond_1  |  3. The Docker daemon created a new container from that image which runs the\nsecond_1  |     executable that produces the output you are currently reading.\nsecond_1  |  4. The Docker daemon streamed that output to the Docker client, which sent it\nsecond_1  |     to your terminal.\nsecond_1  |\nsecond_1  | To try something more ambitious, you can run an Ubuntu container with:\nsecond_1  |  $ docker run -it ubuntu bash\nsecond_1  |\nsecond_1  | Share images, automate workflows, and more with a free Docker ID:\nsecond_1  |  https://hub.docker.com/\nsecond_1  |\nsecond_1  | For more examples and ideas, visit:\nsecond_1  |  https://docs.docker.com/get-started/\nsecond_1  |\nmediumcom_second_1ì´ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\nmediumcom_first_1ì´ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\nì—¬ê¸°ì„œ ë³´ë“¯ì´, ì´ì œ í•˜ë‚˜ì˜ Compose íŒŒì¼ê³¼ í•˜ë‚˜ì˜ docker-compose ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë™ì¼í•œ ë‹¤ì¤‘ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œ ë³‘ë ¬ë¡œ 2ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤. í•˜ë‚˜ì˜ ì»¨í…Œì´ë„ˆëŠ” \"Hello Medium readers\"ë¼ê³  ë§í•˜ëŠ” ì‚¬ìš©ì ì§€ì • Docker ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í–ˆê³ , ë‹¤ë¥¸ í•˜ë‚˜ëŠ” Docker Hubì—ì„œ \"hello-world\" ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì™€ ìì²´ Hello World ë©”ì‹œì§€ë¥¼ ì¶œë ¥í–ˆìŠµë‹ˆë‹¤.\n\n## ëª…ë ¹\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆì˜ ëª…ë ¹ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ Docker ì´ë¯¸ì§€ì— entrypointê°€ ì •ì˜ë˜ì–´ ìˆìœ¼ë©´ ì´ ëª…ë ¹ì´ í•´ë‹¹ entrypointì˜ ì¸ìˆ˜ê°€ ë©ë‹ˆë‹¤. ì˜ˆì‹œ:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu\n    command: echo \"I am at your command!\"\nEOF\n$ docker-compose up\nCreating network \"mediumcom_default\" with the default driver\nCreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1  | I am at your command!\nmediumcom_first_1 exited with code 0\n```\n\nì•„ì£¼ ê°„ë‹¨í•˜ì§€ìš”?\n\n## entrypoint\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ë¦„ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´ í•´ë‹¹ ê¸°ëŠ¥ì€ ì»¨í…Œì´ë„ˆì˜ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ë¥¼ ì¬ì •ì˜í•˜ê²Œ í•´ì¤ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì»¨í…Œì´ë„ˆê°€ echo ì‹¤í–‰ íŒŒì¼ë¡œ ì‹¤í–‰ë˜ë„ë¡ í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•  ìˆ˜ ìˆì–´ìš”:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu\n    entrypoint: [\"echo\"]\n    command: \"I am just an arg\"\nEOF\n$ docker-compose up\nCreating network \"mediumcom_default\" with the default driver\nCreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1  | I am just an arg\nmediumcom_first_1 exited with code 0\n```\n\nê°„ë‹¨í•˜ì§€ìš”? ê·¸ë¦¬ê³  command ëŒ€ entrypoint ë“±ì— ëŒ€í•´ ê¶ê¸ˆí•´ í•œë‹¤ë©´ ë‹¹ì‹ ë§Œì´ ì•„ë‹™ë‹ˆë‹¤. ì´ê²ƒì€ ë§¤ìš° ì¼ë°˜ì ì¸ í˜¼ë€ í¬ì¸íŠ¸ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ê¸°ì‚¬ \"ì „ë¶€ ë‹¤: Dockerfiles\"ì—ì„œ ì´ì— ëŒ€í•´ ì´ì•¼ê¸°í–ˆì–´ìš”. ê°„ë‹¨íˆ ë§í•´ì„œ, ì €ëŠ” ì´ ë‘ ì˜µì…˜ì„ ì¡°ìœ¨í•  ë•Œ í•„ìš”í•œ ì¹˜íŠ¸ ì‹œíŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤: https://docs.docker.com/engine/reference/builder/#understand-how-cmd-and-entrypoint-interact\n\n## cap_add\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në§Œì•½ ì»¨í…Œì´ë„ˆì— ì¶”ê°€ ê¸°ëŠ¥ì´ í•„ìš”í•œ ê²½ìš°, ë‹¤ìŒê³¼ ê°™ì´ ì¶”ê°€í•  ìˆ˜ ìˆì–´ìš”:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu:14.04\n    command: ip link add dummy0 type dummy\n    cap_add:\n     - NET_ADMIN\nEOF\n$ docker-compose up\nRecreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nmediumcom_first_1 exited with code 0\n```\n\nì´ì œ ìœ„ì™€ ê°™ì€ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ë ¤ê³  í•˜ì§€ë§Œ ê¸°ëŠ¥ì´ ì—†ëŠ” ê²½ìš°, ì—ëŸ¬ê°€ ë°œìƒí•  ê±°ì˜ˆìš”:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu:14.04\n    command: ip link add dummy0 type dummy\nEOF\n$ docker-compose up\nRecreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1  | RTNETLINK answers: Operation not permitted\nmediumcom_first_1 exited with code 2\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## cap_drop\n\ncap_addì˜ ì • ë°˜ëŒ€ì…ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆì—ì„œ ê¸°ëŠ¥ì„ ì œê±°í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ìŠˆí¼ ê¶Œí•œì´ ë¶€ì—¬ëœ ì»¨í…Œì´ë„ˆê°€ ìˆë‹¤ê³  ê°€ì •í•´ë³´ê² ìŠµë‹ˆë‹¤:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu:14.04\n    command: ip link add dummy0 type dummy\n    cap_add:\n     - ALL\nEOF\n$ docker-compose up\nRecreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nmediumcom_first_1 exited with code 0\n```\n\nê·¸ëŸ¬ë‚˜ í˜¸ìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí¬ ìŠ¤íƒì„ ê´€ë¦¬í•˜ë ¤ê³  í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```sh\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu:14.04\n    command: ip link add dummy0 type dummy\n    cap_add:\n     - ALL\n    cap_drop:\n     - NET_ADMIN\nEOF\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ìƒì„±í•˜ëŠ” ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²° ì¤‘\nfirst_1 | RTNETLINK ë‹µë³€: ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤\nmediumcom_first_1ì€ ì½”ë“œ 2ë¡œ ì¢…ë£Œë¨\n```\n\n## cgroup_parent\n\ncgroupì— ëŒ€í•´ ì²˜ìŒì´ë¼ë©´ ì´ê³³ì— ê´€í•œ ì§§ì€ ì¢‹ì€ ê¸°ì‚¬ê°€ ìˆìŠµë‹ˆë‹¤. ê°„ë‹¨íˆ ë§í•´, Linux ì»¤ë„ì€ ì œì–´ ê·¸ë£¹ (cgroups)ì„ í†µí•´ í”„ë¡œì„¸ìŠ¤ë³„ë¡œ ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ì˜ ì‚¬ìš©ëŸ‰ì„ ì—„ê²©í•˜ê²Œ ì œì–´í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. Dockerì—ì„œëŠ” ì´ë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆê°€ íŠ¹ì • ë¦¬ì†ŒìŠ¤ë¥¼ ì–¼ë§ˆë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ì§€ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆëŠ” ê°€ëŠ¥í•œ ë§ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  ì‹œë„í•  ê²ƒì…ë‹ˆë‹¤:\n\n```sh\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu\n    command: sleep 30\nEOF\n$ docker-compose up -d\nê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ ë„¤íŠ¸ì›Œí¬ \"root_default\"ë¥¼ ìƒì„± ì¤‘\nroot_first_1 ì»¨í…Œì´ë„ˆ ìƒì„± ì¤‘... ì™„ë£Œ\n$ docker inspect root_first_1 --format '{.HostConfig.CgroupParent}'\n$\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në³´ì‹œëŠ” ëŒ€ë¡œ, ê¸°ë³¸ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆì— í• ë‹¹ëœ ì œì–´ ê·¸ë£¹ì´ ì—†ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ìš°ë¦¬ê°€ í• ë‹¹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¬ì§€ì–´ ìš°ë¦¬ ìì‹ ì˜ ê²ƒì„ í• ë‹¹í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:\n\n```js\n$ cgcreate -g cpu:test-cgroup-medium\n$ ls /sys/fs/cgroup/cpu\ncgroup-limit           cgroup.sane_behavior  cpu.shares    cpuacct.usage         cpuacct.usage_percpu_sys   cpuacct.usage_user  release_agent  test-cgroup-medium\ncgroup.clone_children  cpu.cfs_period_us     cpu.stat      cpuacct.usage_all     cpuacct.usage_percpu_user  docker              system.slice   user.slice\ncgroup.procs           cpu.cfs_quota_us      cpuacct.stat  cpuacct.usage_percpu  cpuacct.usage_sys          notify_on_release   tasks\n```\n\nê·¸ë¦¬ê³  ì´ ì˜µì…˜ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì´ ì»¨í…Œì´ë„ˆì—ì„œ CPU ì‚¬ìš©ëŸ‰ì„ ì—„ê²©í•˜ê²Œ ì œì–´í•  ìˆ˜ ìˆê²Œ ë  ê²ƒì…ë‹ˆë‹¤. cgroup \"cpu:test-cgroup-medium\"ì„ í†µí•´:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu\n    command: sleep 30\n    cgroup_parent: \"cpu:test-cgroup-medium\"\nEOF\n$ docker-compose up -d\nRecreating root_first_1 ... done\n$ docker inspect root_first_1 --format '{.HostConfig.CgroupParent}'\ncpu:test-cgroup-medium\n$\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## container_name\n\nì´ ì˜µì…˜ì— ëŒ€í•´ ë¡œì¼“ ê³¼í•™ê°™ì€ ê²ƒì€ ì—†ìŠµë‹ˆë‹¤. ì´ ì˜µì…˜ì€ Docker Compose ë°°í¬ì—ì„œ ìƒì„±ëœ ì»¨í…Œì´ë„ˆì˜ ì´ë¦„ì„ ê³ ì •í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\nì´ì „ì— ì–¸ê¸‰í•œ ë°”ì™€ ê°™ì´, ê¸°ë³¸ì ìœ¼ë¡œ Docker ComposeëŠ” ì»¨í…Œì´ë„ˆì— ì ‘ë¯¸ì‚¬ë¥¼ ì¶”ê°€í•˜ë©° ì´ëŠ” Docker Compose í”„ë¡œì íŠ¸ì˜ ì´ë¦„ê³¼ ì¼ì¹˜í•©ë‹ˆë‹¤ (í”„ë¡œì íŠ¸ ì´ë¦„ì„ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•˜ì§€ ì•ŠëŠ” ê²½ìš° Docker Composeê°€ í˜„ì¬ ê²½ë¡œë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¼ìŠµë‹ˆë‹¤).\n\në”°ë¼ì„œ Docker Composeì˜ ì´ ë™ì‘ì„ ì¬ì •ì˜í•˜ê³  ìƒì„±ëœ ì»¨í…Œì´ë„ˆì— ìì²´ì ìœ¼ë¡œ ì •ì˜í•œ ì‚¬ìš©ì ì •ì˜ ì´ë¦„ì„ ì§€ì •í•˜ë ¤ë©´ container_nameì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆì‹œ:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ubuntu\n    container_name: my-own-container-name\nEOF\n$ docker-compose up\nê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ \"mediumcom_default\" ë„¤íŠ¸ì›Œí¬ ìƒì„± ì¤‘\nmy-own-container-name ìƒì„± ì™„ë£Œ\nmy-own-container-nameì— ì—°ê²° ì¤‘\nmy-own-container-nameì—ì„œ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\nP.S.: ë„¤, ê¶ê¸ˆí•´í•˜ì‹¤ ìˆ˜ë„ ìˆì§€ë§Œ, ì´ Docker Compose ë°°í¬ ë‚´ì˜ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆë“¤ì€ ì»¨í…Œì´ë„ˆ ì´ë¦„ì— ì˜í•´ ì„œë¡œì—ê²Œ ë„ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆ:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 5\n    container_name: my-own-container-name\n  second:\n    image: alpine\n    command: ping -c 1 my-own-container-name\nEOF\n$ docker-compose up\nmy-own-container-nameì„ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_second_1 ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_second_1, my-own-container-nameì— ì—°ê²° ì¤‘\nsecond_1  | my-own-container-name(172.18.0.3) í•‘ ì¤‘: 56 data bytes\nsecond_1  | 64 bytes from 172.18.0.3: seq=0 ttl=64 time=0.743 ms\nsecond_1  |\nsecond_1  | --- my-own-container-name í•‘ í†µê³„ ---\nsecond_1  | ì „ì†¡ëœ íŒ¨í‚·: 1, ìˆ˜ì‹ ëœ íŒ¨í‚·: 1, íŒ¨í‚· ì†ì‹¤: 0%\nsecond_1  | ì™•ë³µ ìµœì†Œ/í‰ê· /ìµœëŒ€ ì‹œê°„ = 0.743/0.743/0.743 ms\nmediumcom_second_1ì´ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\nmy-own-container-nameì´ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\n## depends_on\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në¨¼ì € ë§í•˜ìë©´, ì•„ë‹ˆìš”, ì´ ì˜µì…˜ì€ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹œì‘ ìˆœì„œë¥¼ ì œì–´í•  ìˆ˜ ìˆê²Œ í•´ì£¼ì§€ ì•Šì•„ìš”! ë§ì€ ì‚¬ëŒë“¤ì´ í•˜ëŠ” ì‹¤ìˆ˜ì£ . í•˜ì§€ë§Œ ìƒê°í•´ë³´ì„¸ìš”â€¦ ë‹¹ì‹ ì˜ ì»¨í…Œì´ë„ˆëŠ” ë‚´ë¶€ì—ì„œ í•˜ë‚˜ ì´ìƒì˜ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•˜ê³  ìˆê¸° ë•Œë¬¸ì—, Docker(ì»¨í…Œì´ë„ˆë¥¼ ê´€ë¦¬í•˜ëŠ” ì£¼ì²´)ê°€ í•´ë‹¹ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜/í”„ë¡œì„¸ìŠ¤ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì™„ë²½íˆ ì´í•´í•˜ê³  ìˆë‹¤ê³  ê°€ì •í•˜ëŠ” ê²ƒì€ ìˆœì§„í•œ íŒë‹¨ì¼ ê±°ì˜ˆìš”.\n\nì´ê²ƒì€ ë¯¸ë¬˜í•œ ì°¨ì´ê°€ ìˆì§€ë§Œ, ì´ ì˜µì…˜ì´ í•˜ëŠ” ì¼ì€ ëŒ€ì‹ ì— Docker Composeì—ê²Œ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•˜ê³  ì¤‘ì§€í•  ë•Œì˜ ìˆœì„œë¥¼ ëª…ì‹œí•˜ëŠ” ê²ƒë¿ì´ì—ìš”.\n\nì˜ˆì‹œ:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    depends_on:\n     - second\n  second:\n    image: alpine\n    depends_on:\n     - first\nEOF\n$ docker-compose up\nCreating network \"mediumcom_default\" with the default driver\nCreating mediumcom_second_1 ... done\nCreating mediumcom_first_1  ... done\nAttaching to mediumcom_second_1, mediumcom_first_1\nmediumcom_second_1 exited with code 0\nmediumcom_first_1 exited with code 0\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në´ìš”! ë‘ ë²ˆì§¸ì— ì˜ì¡´í•˜ëŠ” ì²« ë²ˆì§¸ ì»¨í…Œì´ë„ˆê°€ ë¨¼ì € ì‹œì‘ë˜ë¯€ë¡œ, ë‘ ë²ˆì§¸ ì»¨í…Œì´ë„ˆê°€ ë¨¼ì € ì‹œì‘ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë©ˆì¶œ ë•Œë„ ë§ˆì°¬ê°€ì§€ â€” ë¨¼ì € ì˜ì¡´í•˜ëŠ” ì²« ë²ˆì§¸ê°€ ìˆê¸° ë•Œë¬¸ì— ë‘ ë²ˆì§¸ê°€ ë§ˆì§€ë§‰ìœ¼ë¡œ ë‚´ë ¤ê°‘ë‹ˆë‹¤!\n\n```js\n$ docker-compose down\nmediumcom_first_1  ... ì‚­ì œë¨\nmediumcom_second_1 ... ì‚­ì œë¨\nmediumcom_default ë„¤íŠ¸ì›Œí¬ ì œê±°ë¨\n```\n\nì¶”ì‹ : ë§Œì•½ í˜¼ëˆì„ ì¦ê¸´ë‹¤ë©´, ë‘ ë²ˆì§¸ë„ ì²« ë²ˆì§¸ì— ì˜ì¡´í•˜ë„ë¡ ë§Œë“¤ì—ˆë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”? ğŸ˜ ê±±ì • ë§ˆì„¸ìš”, DockerëŠ” ë˜‘ë˜‘í•´ì„œ ë‹¤ìŒê³¼ ê°™ì€ ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì¤„ ê±°ì˜ˆìš”:\n\n## ë³¼ë¥¨\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në„ì»¤ ë³¼ë¥¨ì— ëŒ€í•´ ìì„¸íˆ ì„¤ëª…í•˜ì§€ ì•Šì„ ê±°ì˜ˆìš”. ì´ ì£¼ì œëŠ” ê½¤ í¬ê±°ë“ ìš”. ë‹¨ì§€ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°ì´í„°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” 4ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤ëŠ” ê²ƒë§Œ ë§ì”€ë“œë¦´ê²Œìš”:\n\n- ì»¨í…Œì´ë„ˆì˜ ì“°ê¸° ê°€ëŠ¥í•œ ë ˆì´ì–´ ë‚´ì— ëª¨ë“  ë°ì´í„°ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤ (ë³¼ë¥¨ ì—†ìŒ)\n- í˜¸ìŠ¤íŠ¸ì™€ ì»¨í…Œì´ë„ˆ ì‚¬ì´ì— ë§ˆìš´íŠ¸ ì§€ì ì„ ë§Œë“­ë‹ˆë‹¤ (ë°”ì¸ë“œ ë§ˆìš´íŠ¸)\n- ì»¨í…Œì´ë„ˆì˜ ìˆ˜ëª…ì£¼ê¸°ì™€ ë…ë¦½ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ í˜¸ìŠ¤íŒ…í•˜ê³  ê´€ë¦¬í•˜ëŠ” ì „ìš© ë„ì»¤ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ (ë³¼ë¥¨)\n- ì„±ëŠ¥ì„ ìµœì í™”í•˜ê¸° ìœ„í•´ ë°ì´í„°ë¥¼ ì˜êµ¬ ì €ì¥í•˜ì§€ ì•Šê³  ë©”ëª¨ë¦¬ì— ìœ ì§€í•©ë‹ˆë‹¤ (tmpfs).\n\nì´ë ‡ê²Œ ë§ì”€ë“œë¦° ë°”ì™€ ê°™ì´ Compose íŒŒì¼ì—ì„œ ì´ëŸ¬í•œ íƒ€ì…ì˜ ë³¼ë¥¨ì„ ëª¨ë‘ ê´€ë¦¬í•  ìˆ˜ ìˆì–´ìš”. ì§€ê¸ˆê¹Œì§€ ëª¨ë“  ì˜ˆì œëŠ” ì»¨í…Œì´ë„ˆì˜ ì“°ê¸° ê°€ëŠ¥í•œ ë ˆì´ì–´ë¥¼ ì‚¬ìš©í–ˆì§€ë§Œ, ë‚˜ë¨¸ì§€ 3ê°€ì§€ ë°ì´í„° ê´€ë¦¬ ì˜µì…˜ì„ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: ls /\n    volumes:\n     - /:/my-hostfs\n     - my-volume:/my-volume\n     - type: tmpfs\n       target: /my-tmpfs\nvolumes:\n  my-volume:\nEOF\n$ docker-compose up\nCreating network \"test_default\" with the default driver\nCreating volume \"test_my-volume\" with default driver\nCreating test_first_1 ... done\nAttaching to test_first_1\nfirst_1  | bin\nfirst_1  | dev\nfirst_1  | etc\nfirst_1  | home\nfirst_1  | lib\nfirst_1  | media\nfirst_1  | mnt\nfirst_1  | my-hostfs\nfirst_1  | my-tmpfs\nfirst_1  | my-volume\nfirst_1  | opt\nfirst_1  | proc\nfirst_1  | root\nfirst_1  | run\nfirst_1  | sbin\nfirst_1  | srv\nfirst_1  | sys\nfirst_1  | tmp\nfirst_1  | usr\nfirst_1  | var\ntest_first_1 exited with code 0\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì—¬ê¸°ì— ì„¸ ê°€ì§€ ë‹¤ë¥¸ ìœ í˜•ì˜ ë§ˆìš´íŠ¸ê°€ í•œêº¼ë²ˆì— ë‚˜ì™”ì–´ìš”. ê·¸ëŸ°ë° ì•Œì•„ë‘ì…¨ë‚˜ìš”? ì œê°€ 3ê°€ì§€ ë‹¤ë¥¸ êµ¬ë¬¸ì„ ì‚¬ìš©í–ˆì–´ìš”... ì„ í˜¸í•˜ëŠ” ê²ƒì´ë‚˜ ë§ˆìš´íŠ¸ì— ê°€ì¥ ì í•©í•œ ê²ƒì„ ì„ íƒí•  ìˆ˜ ìˆì–´ìš” (ì—¬ê¸°ì—ì„œ ë” ìì„¸íˆ ì½ì„ ìˆ˜ ìˆì–´ìš”).\n\nì¶”ê°€ë¡œ, tmpfsë„ ì „ìš© ì˜µì…˜ì„ í†µí•´ ì„¤ì •í•  ìˆ˜ ìˆì–´ìš”... ì˜ˆì œë¥¼ ë³´ë ¤ë©´ ë‹¤ìŒ ì„¹ì…˜ì„ ì½ì–´ë³´ì„¸ìš”.\n\n## tmpfs\n\nì´ë¯¸ ì´ì „ ì„¹ì…˜ì—ì„œ ì„¤ëª…í–ˆì§€ë§Œ, ì•Œì•„ë‘ì‹œë©´ ì¢‹ì•„ìš”. ì´ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ìœ„í•œ ë¹„ì˜êµ¬ì  ë§ˆìš´íŠ¸ í¬ì¸íŠ¸ë¥¼ ì„¤ì •í•˜ëŠ” ë˜ ë‹¤ë¥¸ ê°„ë‹¨í•œ ë°©ë²•ì¼ ë¿ì´ì—ìš”:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```sh\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: ls /\n    tmpfs: /my-tmpfs\nEOF\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì²¨ë¶€ ì¤‘\nfirst_1  | bin\nfirst_1  | dev\nfirst_1  | etc\nfirst_1  | home\nfirst_1  | lib\nfirst_1  | media\nfirst_1  | mnt\nfirst_1  | my-tmpfs\nfirst_1  | opt\nfirst_1  | proc\nfirst_1  | root\nfirst_1  | run\nfirst_1  | sbin\nfirst_1  | srv\nfirst_1  | sys\nfirst_1  | tmp\nfirst_1  | usr\nfirst_1  | var\nmediumcom_first_1ê°€ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\n## ë””ë°”ì´ìŠ¤\n\nê·¸ ì´ë¦„ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´, ì´ ì˜µì…˜ì€ ì»¨í…Œì´ë„ˆê°€ ì‹œìŠ¤í…œ ë””ë°”ì´ìŠ¤ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤. ì´ ê²ƒì´ ì¼ë°˜ì ì¸ ë°”ì¸ë“œ-ë§ˆìš´íŠ¸ì™€ ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€ ê¶ê¸ˆí•  ê²ƒì…ë‹ˆë‹¤. ë‹¨ìˆœíˆ ë””ë°”ì´ìŠ¤ë¥¼ ì»¨í…Œì´ë„ˆì— ë°”ì¸ë“œ-ë§ˆìš´íŠ¸í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œìš”? ìŒ, ê·¸ë ‡ê³  ê·¸ë ‡ì§€ ì•ŠìŠµë‹ˆë‹¤... ì»¨í…Œì´ë„ˆê°€ í•´ë‹¹ ë””ë°”ì´ìŠ¤ë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤. ë””ë°”ì´ìŠ¤ íŒŒì¼ì€ ì¼ë°˜ íŒŒì¼ ë° ë””ë ‰í† ë¦¬ì™€ ì•½ê°„ ë‹¤ë¥´ë©° (/dev í´ë” ì•„ë˜ì—ì„œ ì¼ë°˜ íŒŒì¼ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ), ë””ë°”ì´ìŠ¤ íŒŒì¼ì€ ë””ë°”ì´ìŠ¤ ë“œë¼ì´ë²„ ë° ë¬¼ë¦¬ ë””ë°”ì´ìŠ¤ë¡œì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ë¯€ë¡œ ë” ì„¸ë¶„í™”ëœ ì•¡ì„¸ìŠ¤ ì œì–´ê°€ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” cgroupsë¥¼ í†µí•´ ê´€ë¦¬ë˜ë©°(ì—¬ê¸°ì—ì„œ ë” ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤).\n\nìš”ì•½í•˜ë©´, ì»¨í…Œì´ë„ˆê°€ íŠ¹ê¶Œ ëª¨ë“œì—ì„œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ê²½ìš°ì—ë„ ì´ ì˜µì…˜ì„ í†µí•´ íŠ¹ì • ë””ë°”ì´ìŠ¤ íŒŒì¼ì— ëŒ€í•œ ì»¨í…Œì´ë„ˆ ì•¡ì„¸ìŠ¤ë¥¼ ë¶€ì—¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nìš°ë¦¬ ì»´í“¨í„°ì— ì›¹ìº ì´ ì—°ê²°ë˜ì–´ ìˆë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤.\n\n```bash\n$ lsusb -s 001:003\nBus 001 Device 003: ID 046d:0826 Logitech, Inc. HD Webcam C525\n```\n\nê·¸ë¦¬ê³  ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì›¹ìº ì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ì§„ì„ ì°ê³  ì‹¶ì–´í•©ë‹ˆë‹¤. ë‹¤ìŒ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê³ ë ¤í•´ë³´ì„¸ìš”:\n\n- ë¨¼ì €, ì˜µì…˜ì„ ì ìš©í•˜ì§€ ì•Šê³  ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì›¹ìº ì— ì•¡ì„¸ìŠ¤í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ccordeiro/fswebcam:armv7l\n    command: fswebcam -r 640x480 --jpeg 85 -D 1 picture.jpg\nEOF\n$ docker-compose up\në„¤íŠ¸ì›Œí¬ \"tmp_default\"ë¥¼ ê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ ìƒì„±ì¤‘\ntmp_first_1 ë¥¼ ìƒì„±ì¤‘... ì™„ë£Œ\ntmp_first_1 ì— ì—°ê²°ì¤‘\nfirst_1  | --- /dev/video0 ì—´ê¸° ì¤‘...\nfirst_1  | stat: í•´ë‹¹ íŒŒì¼ ë˜ëŠ” ë””ë ‰í„°ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤\nfirst_1  | tmp_first_1ì´ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤\n```\n\nâ€¦ê·¸ëŸ¬ë‚˜ ë¶„ëª…íˆ ì»¨í…Œì´ë„ˆì—ëŠ” ì–´ë–¤ ì¥ì¹˜ë„ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤â€¦\n\n- ë‘ ë²ˆì§¸ë¡œ, ì¥ì¹˜ íŒŒì¼ì„ ë°”ì¸ë“œ ë§ˆìš´íŠ¸í•´ ë´…ì‹œë‹¤\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ccordeiro/fswebcam:armv7l\n    command: fswebcam -r 640x480 --jpeg 85 -D 1 picture.jpg\n    volumes:\n     - /dev/video0:/dev/video0\nEOF\n$ docker-compose up\ntmp_first_1 ì¬ìƒì„±ì¤‘... ì™„ë£Œ\ntmp_first_1 ì— ì—°ê²°ì¤‘\nfirst_1  | --- /dev/video0 ì—´ê¸° ì¤‘...\nfirst_1  | v4l2 ëª¨ë“ˆ ì‹œë„ ì¤‘...\nfirst_1  | ê¸°ê¸° ì—´ê¸° ì‹¤íŒ¨: /dev/video0\nfirst_1  | ì—´ê¸°: ì‘ì—…ì„ í—ˆìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤\nfirst_1  | v4l1 ëª¨ë“ˆ ì‹œë„ì¤‘...\nfirst_1  | ê¸°ê¸° ì—´ê¸° ì‹¤íŒ¨: /dev/video0\nfirst_1  | ì—´ê¸°: ì‘ì—…ì„ í—ˆìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤\nfirst_1  | /dev/video0ì„ ì½ì„ ìˆ˜ ìˆëŠ” ì†ŒìŠ¤ ëª¨ë“ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\nfirst_1  | tmp_first_1ì´ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nâ€¦ìŒ, ì»¨í…Œì´ë„ˆëŠ” ë³´ì´ì§€ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì´ ì—†ë„¤ìš”.\n\n- ë§ˆì§€ë§‰ìœ¼ë¡œ ì¥ì¹˜ë¥¼ ì‚¬ìš©í•´ ë´…ì‹œë‹¤\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: ccordeiro/fswebcam:armv7l\n    command: fswebcam -r 640x480 --jpeg 85 -D 1 picture.jpg\n    devices:\n     - /dev/video0:/dev/video0\nEOF\n$ docker-compose up\nRecreating tmp_first_1 ... done\nAttaching to tmp_first_1\nfirst_1  | --- Opening /dev/video0...\nfirst_1  | Trying source module v4l2...\nfirst_1  | /dev/video0 opened.\nfirst_1  | No input was specified, using the first.\nfirst_1  | Delaying 1 seconds.\nfirst_1  | --- Capturing frame...\nfirst_1  | Captured frame in 0.00 seconds.\nfirst_1  | --- Processing captured image...\nfirst_1  | Setting output format to JPEG, quality 85\nfirst_1  | Writing JPEG image to 'picture.jpg'.\nfirst_1  | tmp_first_1 exited with code 0\n```\n\nê·¸ë¦¬ê³  ì„±ê³µì…ë‹ˆë‹¤!\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## network_mode\n\nDockerì˜ ë„¤íŠ¸ì›Œí‚¹ ì‹œìŠ¤í…œì€ ë„¤íŠ¸ì›Œí‚¹ ë“œë¼ì´ë²„ì— ê¸°ë°˜í•˜ê³  ìˆëŠ” ê²ƒì„ ì•Œê³  ê³„ì‹¤ ê²ƒì…ë‹ˆë‹¤. ì´ ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë„¤íŠ¸ì›Œí¬ ëª¨ë“œë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´, ê¸°ë³¸ ë¸Œë¦¿ì§€ ë„¤íŠ¸ì›Œí¬ì— 1ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼, í˜¸ìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí¬ì— 1ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼, ì²« ë²ˆì§¸ ì»¨í…Œì´ë„ˆì™€ ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ì— 1ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼, ê·¸ë¦¬ê³  ì–´ë–¤ ë„¤íŠ¸ì›Œí¬ë„ ì—†ëŠ” ìƒíƒœë¡œ 1ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ ë°°í¬í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ì•„ë˜ëŠ” ì´ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sh -c 'ifconfig eth0 \u0026\u0026 sleep 5'\n    network_mode: bridge\n  second:\n    image: alpine\n    command: ifconfig eth0\n    network_mode: host\n  third:\n    image: alpine\n    command: ifconfig eth0\n    depends_on:\n     - first\n    network_mode: service:first\n  fourth:\n    image: alpine\n    command: ifconfig eth0\n    network_mode: none\nEOF\n$ docker-compose up\nCreating mediumcom_first_1  ... done\nCreating mediumcom_fourth_1 ... done\nCreating mediumcom_second_1 ... done\nCreating mediumcom_third_1  ... done\nAttaching to mediumcom_second_1, mediumcom_fourth_1, mediumcom_first_1, mediumcom_third_1\nfirst_1   | eth0      Link encap:Ethernet  HWaddr 02:42:AC:11:00:02\nfirst_1   |           inet addr:172.17.0.2  Bcast:172.17.255.255  Mask:255.255.0.0\n...\nfourth_1  | ifconfig: eth0: error fetching interface information: Device not found\n...\nsecond_1  | eth0      Link encap:Ethernet  HWaddr 02:50:00:00:00:01\nsecond_1  |           inet addr:192.168.65.3  Bcast:192.168.65.255  Mask:255.255.255.0\n...\nthird_1   | eth0      Link encap:Ethernet  HWaddr 02:42:AC:11:00:02\nthird_1   |           inet addr:172.17.0.2  Bcast:172.17.255.255  Mask:255.255.0.0\n...\nmediumcom_fourth_1 exited with code 1\nmediumcom_second_1 exited with code 0\nmediumcom_third_1 exited with code 0\nmediumcom_first_1 exited with code 0\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê·¸ë˜ì„œ, ë¬´ìŠ¨ ì¼ì´ ìˆì—ˆë‚˜ìš”? ì´ë¥¼ ê°„ë‹¨íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:\n\n- ì²« ë²ˆì§¸ ì»¨í…Œì´ë„ˆëŠ” ë¸Œë¦¬ì§€ ëª¨ë“œë¡œ ë“¤ì–´ê°€ì„œ ìì²´ eth0 ê°œì¸ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í• ë‹¹ ë°›ì•˜ìŠµë‹ˆë‹¤(IP 172.17.0.2ë¡œ, Docker ë¸Œë¦¬ì§€ ì„œë¸Œë„·ì˜ ì¼ë¶€ì…ë‹ˆë‹¤).\n- ë‘ ë²ˆì§¸ ì»¨í…Œì´ë„ˆëŠ” í˜¸ìŠ¤íŠ¸ ëª¨ë“œë¡œ ë“¤ì–´ê°€ì„œ í˜¸ìŠ¤íŠ¸ì™€ ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ ìˆ˜ì¤€ì—ì„œ ì‹¤í–‰ë˜ë¯€ë¡œ í˜¸ìŠ¤íŠ¸ì˜ ëª¨ë“  ë„¤íŠ¸ì›Œí‚¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ì„¸ ë²ˆì§¸ ì»¨í…Œì´ë„ˆëŠ” ì²« ë²ˆì§¸ ê²ƒê³¼ ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.\n- ë„¤ ë²ˆì§¸ ì»¨í…Œì´ë„ˆëŠ” ë„¤íŠ¸ì›Œí¬ê°€ ì—†ì–´ eth0 ì¸í„°í˜ì´ìŠ¤ë¥¼ ì°¾ì§€ ëª»í•˜ì—¬ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\n\n## ë„¤íŠ¸ì›Œí¬\n\nì´ì œ ìœ„ì—ì„œ ì–¸ê¸‰í•œ ì˜µì…˜ì„ í™œìš©í•˜ì—¬, ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©ì ì •ì˜ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”(ê¸°ì¡´ ë„¤íŠ¸ì›Œí¬ ë˜ëŠ” ìƒˆë¡œ ìƒì„±í•œ ê²ƒ ì¤‘)? ê·¸ëŸ´ ë•ŒëŠ” networksë¥¼ ì‚¬ìš©í•˜ì„¸ìš”:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n$ docker network create cjdc-test\n0f5e35bf6b8d396c45c19545540957fbc5fa15ba1ca0e5fbca4add3802c7db6d\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 30\n    networks:\n     - new-net\n  second:\n    image: alpine\n    command: sleep 30\n    networks:\n     - cjdc-test\nnetworks:\n  new-net:\n  cjdc-test:\n    external: true\n    name: cjdc-test\nEOF\n$ docker-compose up -d\nCreating network \"mediumcom_new-net\" with the default driver\nCreating mediumcom_second_1 ... done\nCreating mediumcom_first_1  ... done\n$ docker inspect --format '{.NetworkSettings.Networks}' mediumcom_first_1\nmap[mediumcom_new-net:0xc0004d8f00]\n$ docker inspect --format '{.NetworkSettings.Networks}' mediumcom_second_1\nmap[cjdc-test:0xc0003e8f00]\n```\n\n## dns\n\nIt basically lets you define a custom DNS server for your container. Example:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: cat /etc/resolv.conf\n    dns: 1.2.3.4\n    network_mode: bridge\nEOF\n$ docker-compose up\nRecreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1  | nameserver 1.2.3.4\nmediumcom_first_1 exited with code 0\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì£¼ì˜: ì‚¬ìš©ì ì •ì˜ ë„¤íŠ¸ì›Œí¬ì—ì„œëŠ” DNS ì˜µì…˜ì´ ê¸°ë³¸ì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë¸Œë¦¿ì§€ ë„¤íŠ¸ì›Œí¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.\n\n## dns_search\n\nì—¬ê¸°ì—ì„œ ì‚¬ìš©ì ë§ì¶¤ DNS ê²€ìƒ‰ ë„ë©”ì¸ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: cat /etc/resolv.conf\n    dns_search: my.custom.dns\n    network_mode: bridge\nEOF\n$ docker-compose up\nRecreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1  | search my.custom.dns\nfirst_1  | nameserver 192.168.65.5\nmediumcom_first_1 exited with code 0\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## env_file\n\nì¼ë°˜ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆ í™˜ê²½ì„ í•˜ë‚˜ì”© ì„¤ì •í•˜ëŠ” ë° ìµìˆ™í•  ìˆ˜ ìˆì§€ë§Œ, í•œ ë²ˆì— ì´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë„ë¡ ëŒ€ì‹  íŒŒì¼ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\n$ cat \u003emy-env \u003c\u003cEOF\nVAR1=value\nMY_VAR_FROM_FILE=1\nFOO=BAR\nEOF\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: env\n    env_file:\n     - my-env\nEOF\n$ docker-compose up\nmediumcom_first_1 ë‹¤ì‹œ ë§Œë“¤ê¸° ... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²°\nfirst_1  | PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nfirst_1  | HOSTNAME=157e34e4fc64\nfirst_1  | VAR1=value\nfirst_1  | MY_VAR_FROM_FILE=1\nfirst_1  | FOO=BAR\nfirst_1  | HOME=/root\nmediumcom_first_1 ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œ\n```\n\n## environment\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ë¥¼ í†µí•´ ì»´í¬ì¦ˆ íŒŒì¼ì—ì„œ ì»¨í…Œì´ë„ˆì˜ í™˜ê²½ ë³€ìˆ˜ë¥¼ í•˜ë‚˜ì”© ì§ì ‘ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ì—¬ env_file ì˜µì…˜ì„ í†µí•´ ë¡œë“œë˜ëŠ” ë³€ìˆ˜ë¥¼ ì¬ì •ì˜í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: env\nEOF\n$ docker-compose up\nRecreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1  | PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nfirst_1  | HOSTNAME=68e909013198\nfirst_1  | NEW_VAR=yes\nfirst_1  | HOME=/root\nmediumcom_first_1 exited with code 0\n```\n\n## ë…¸ì¶œ\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në„ì»¤íŒŒì¼ê³¼ ìœ ì‚¬í•˜ê²Œ, ì´ ì˜µì…˜ì€ ì»¨í…Œì´ë„ˆì˜ í¬íŠ¸ë¥¼ í‘œì‹œí•˜ê³  ë‹¤ë¥¸ ì—°ê²°ëœ ì»¨í…Œì´ë„ˆì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 20\n    expose:\n     - 9876\nEOF\n$ docker-compose up -d\nRecreating mediumcom_first_1 ... done\n$ docker ps\nCONTAINER ID   IMAGE     COMMAND      CREATED          STATUS          PORTS      NAMES\n3be377f4bf6c   alpine    \"sleep 20\"   18 seconds ago   Up 16 seconds   9876/tcp   mediumcom_first_1\n```\n\n## external_links\n\nì˜µì…˜ì„ ê±´ë„ˆë›°ì–´ì•¼ í•©ë‹ˆë‹¤. ì™œëƒí•˜ë©´ 1) ì´ê²ƒì€ ë ˆê±°ì‹œ ì˜µì…˜ì´ê¸° ë•Œë¬¸ì—, ê·¸ë¦¬ê³  2) ë™ì¼í•œ ê²°ê³¼ë¥¼ ì–»ê¸° ìœ„í•´ ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(ì¦‰, ì»¨í…Œì´ë„ˆë¥¼ ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ì— í¬í•¨ë˜ì–´ ìˆì§€ ì•Šì€ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì— ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤).\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## extra_hosts\n\nì´ ê¸°ëŠ¥ì€ ì»¨í…Œì´ë„ˆì˜ /etc/hosts íŒŒì¼ì— ìƒˆ í•­ëª©ì„ ì¶”ê°€í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì»¨í…Œì´ë„ˆê°€ \"localhost\"ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ìŠ¤ìŠ¤ë¡œë¥¼ í˜¸ì¶œí•˜ë„ë¡ í•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sh -c 'cat /etc/hosts; ping me -c 1'\n    extra_hosts:\n     - \"myself:127.0.0.1\"\n     - \"me:127.0.0.1\"\nEOF\n$ docker-compose up\nRecreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1  | 127.0.0.1 localhost\nfirst_1  | ::1 localhost ip6-localhost ip6-loopback\nfirst_1  | fe00::0 ip6-localnet\nfirst_1  | ff00::0 ip6-mcastprefix\nfirst_1  | ff02::1 ip6-allnodes\nfirst_1  | ff02::2 ip6-allrouters\nfirst_1  | 127.0.0.1 myself\nfirst_1  | 127.0.0.1 me\nfirst_1  | 172.22.0.2 01d566c4380a\nfirst_1  | PING me (127.0.0.1): 56 data bytes\nfirst_1  | 64 bytes from 127.0.0.1: seq=0 ttl=64 time=1.192 ms\nfirst_1  |\nfirst_1  | --- me ping statistics ---\nfirst_1  | 1 packets transmitted, 1 packets received, 0% packet loss\nfirst_1  | round-trip min/avg/max = 1.192/1.192/1.192 ms\nmediumcom_first_1 exited with code 0\n```\n\n## healthcheck\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në‹¹ì—°íˆ, ì´ê²ƒì€ ë„ì»¤ íŒŒì¼ ì˜µì…˜ê³¼ ë§¤ìš° ìœ ì‚¬í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤. ë„ì»¤ê°€ ì»¨í…Œì´ë„ˆê°€ \"healthy(ê±´ê°•í•œ)\"ì¸ì§€ ì•„ë‹Œì§€ í‰ê°€í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ì ì •ì˜ í™•ì¸ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê·¸ëŸ¬ë‹ˆê¹Œ, /tmpì— medium.txtë¼ëŠ” íŒŒì¼ì´ ìˆì„ ë•Œë§Œ ìš°ë¦¬ ì»¨í…Œì´ë„ˆê°€ ê±´ê°•í•œ ê²ƒìœ¼ë¡œ ê°„ì£¼ë©ë‹ˆë‹¤.\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sh -c 'touch /tmp/NOT_MY_FILE; sleep 10'\n    healthcheck:\n      test: \"[ -f /tmp/medium.txt ]\"\n      # run asap\n      interval: 1s\n      timeout: 5s\n      retries: 1\n      start_period: 0s\n  second:\n    image: alpine\n    command: sh -c 'touch /tmp/medium.txt; sleep 10'\n    healthcheck:\n      test: \"[ -f /tmp/medium.txt ]\"\n      # run asap\n      interval: 1s\n      timeout: 5s\n      retries: 1\n      start_period: 0s\nEOF\n$ docker-compose up -d\nRecreating mediumcom_first_1 ... done\nCreating mediumcom_second_1  ... done\n$ docker ps\nCONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS                     PORTS     NAMES\nb8804cbb440d   alpine    \"sh -c 'touch /tmp/Nâ€¦\"   4 seconds ago   Up 2 seconds (unhealthy)             mediumcom_first_1\n604a6880f3c6   alpine    \"sh -c 'touch /tmp/mâ€¦\"   4 seconds ago   Up 2 seconds (healthy)               mediumcom_second_1\n```\n\nê·¸ëŸ°ë° ì—¬ê¸°ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, ì²˜ìŒ ê²ƒì€ ê±´ê°•í•˜ì§€ ì•Šì§€ë§Œ ë‘ ë²ˆì§¸ëŠ” ê±´ê°•í•˜ë‹¤ê³  ë‚˜ì˜µë‹ˆë‹¤. í•„ìš”í•œ íŒŒì¼ì´ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ì— ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ì´ˆê¸°í™”\n\nì´ë¥¼ í†µí•´ Dockerì—ê²Œ ì»¨í…Œì´ë„ˆì— ëŒ€í•œ initë¥¼ ì‚¬ìš©í• ì§€ ì—¬ë¶€ë¥¼ ì•Œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì°¸ì¼ ê²½ìš°, DockerëŠ” tini ê¸°ë°˜ì˜ docker-initì´ë¼ëŠ” initì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. ì°¨ì´ë¥¼ ì‚´í´ë´…ì‹œë‹¤:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: ps -a\n    init: false\nEOF\n$ docker-compose up\nmediumcom_first_1 ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì°¸ì—¬ ì¤‘\nfirst_1  | PID   USER     TIME  COMMAND\nfirst_1  |     1 root      0:00 ps -a\nmediumcom_first_1ì€ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\nê·¸ëŸ¬ë‚˜ ì´ˆê¸°í™”ë¥¼ í™œì„±í™”í•˜ë©´ ì´ì™€ ê°™ì€ í”„ë¡œì„¸ìŠ¤ ë˜í¼ë¥¼ ì–»ê²Œ ë˜ë©°, ì´ëŠ” PID 1ë¡œ ì¶”ê°€ ê¸°ëŠ¥ì´ ìˆëŠ” ê²½ìš° (ì´ ê²½ìš°ì—ëŠ” docker-init)ì…ë‹ˆë‹¤:\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\nfirst:\nimage: alpine\ncommand: ps -a\ninit: true\nEOF\n$ docker-compose up\nStarting mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1 | PID USER TIME COMMAND\nfirst_1 | 1 root 0:00 /sbin/docker-init -- ps -a\nfirst_1 | 8 root 0:00 ps -a\nmediumcom_first_1 exited with code 0\n\n## ê²©ë¦¬\n\në¦¬ëˆ…ìŠ¤ì˜ ê²½ìš°, ì´ ì˜µì…˜ì€ í•­ìƒ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. ìœˆë„ìš°ì˜ ê²½ìš° ë” ë§ì€ ì˜µì…˜ì´ ìˆì§€ë§Œ, ì•„ì‰½ê²Œë„ ì—¬ëŸ¬ë¶„ì„ ìœ„í•œ ì˜ˆì œë¥¼ ì‹¤í–‰í•  ìœˆë„ìš° ë¨¸ì‹ ì´ ì—†ìŠµë‹ˆë‹¤ ğŸ˜› ìœˆë„ìš° ì‚¬ìš©ìë¶„ë“¤ ì£„ì†¡í•´ìš”!\n\n## ë ˆì´ë¸”\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì½˜í…Œì´ë„ˆì— ë ˆì´ë¸”ì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ì´ ì˜µì…˜ì˜ ì´ë¦„ì²˜ëŸ¼:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 10\n    labels:\n     - \"foo=bar\"\nEOF\n$ docker-compose up -d\nRecreating mediumcom_first_1 ... done\n$ docker ps --filter 'label=foo=bar'\nCONTAINER ID   IMAGE     COMMAND      CREATED          STATUS         PORTS     NAMES\n94e844176d76   alpine    \"sleep 10\"   30 seconds ago   Up 7 seconds             mediumcom_first_1\n```\n\n## ë§í¬\n\nì™¸ë¶€ ë§í¬ì— ëŒ€í•œ ë‚´ìš©ì€ ê³¼ê±°ì˜ ì˜µì…˜ì„ ê±´ë„ˆë›°ê² ìŠµë‹ˆë‹¤. ì»¨í…Œì´ë„ˆ ê°„ í†µì‹ ì€ ì‚¬ìš©ì ì •ì˜ ë„¤íŠ¸ì›Œí¬ë¡œ ì‰½ê²Œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ë¡œê¹…\n\nì‹¤ì œë¡œ ì´ ì˜µì…˜ì´ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•´ìš”. ëŒ€ë¶€ë¶„ì˜ ì‚¬ìš©ìë“¤ì€ ë³´í†µ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸ì˜ í¬ê¸°ê°€ ê³„ì†í•´ì„œ ì»¤ì§€ê³  ìˆë‹¤ëŠ” ì‚¬ì‹¤ì— ì¶©ë¶„í•œ ì£¼ì˜ë¥¼ ê¸°ìš¸ì´ì§€ ì•ŠìŠµë‹ˆë‹¤. í˜¸ìŠ¤íŠ¸ ê³µê°„ì´ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ê°€ë“ ì°¨ì§€ ì•Šê¸°ë¥¼ ì›í•œë‹¤ë©´, ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¡œê·¸ë¥¼ ê¸°ë¡í•˜ëŠ” ë°©ì‹ë„ ì œì–´í•´ì•¼ í•©ë‹ˆë‹¤. Dockerë¥¼ í†µí•´ ì´ ë¡œê¹… ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ stdout ë¡œê·¸ë¥¼ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¡œê¹… ì¢…ë¥˜ ë¿ë§Œ ì•„ë‹ˆë¼ ë¡œê¹… í¬ê¸° ì œí•œ ë° ë¡œí…Œì´ì…˜ ë§¤ê°œë³€ìˆ˜ë„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sh -c 'while true; do echo `date`; done'\n    logging:\n      options:\n        max-size: \"50k\"\n        max-file: \"10\"\nEOF\n$ docker-compose up -d\ntmp_first_1ì„ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œë¨\n$ docker ps -f 'name=tmp_first_1'\nCONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS     NAMES\n2ea63dd32607   alpine    \"sh -c 'while true; â€¦\"   2 minutes ago   Up 2 minutes             tmp_first_1\n$\n$ du -h /var/lib/docker/containers/2ea63dd32607*/*log*\n20K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.1\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.2\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.3\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.4\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.5\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.6\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.7\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.8\n52K /var/lib/docker/containers/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60/2ea63dd32607ea5c5b3238ed4da2233a049c41422cfff96b6a2e45c818f96f60-json.log.9\n```\n\nê·¸ëŸ¬ë‹ˆê¹Œ ì´ ì˜ˆì œì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, DockerëŠ” ìµœëŒ€ 10ê°œì˜ ë¡œê·¸ íŒŒì¼ë§Œ ìœ ì§€í•˜ê³ , ê·¸ í¬ê¸°ê°€ ìš°ë¦¬ê°€ ì›í•˜ëŠ” 50 Kibibytes(= 52K)ë¥¼ ì´ˆê³¼í•˜ì§€ ì•ŠëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## PID\n\nìš”ì²­ ì‹œ, ì»¨í…Œì´ë„ˆê°€ í˜¸ìŠ¤íŠ¸ì™€ PID ì£¼ì†Œ ê³µê°„ì„ ê³µìœ í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ì˜µì…˜ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: ps -a\n    pid: \"host\"\n  second:\n    image: alpine\n    command: ps -a\nEOF\n$ docker-compose up\nCreating network \"mediumcom_default\" with the default driver\nCreating mediumcom_second_1 ... done\nCreating mediumcom_first_1  ... done\nAttaching to mediumcom_second_1, mediumcom_first_1\nsecond_1  | PID   USER     TIME  COMMAND\nsecond_1  |     1 root      0:00 ps -a\nfirst_1   | PID   USER     TIME  COMMAND\nfirst_1   |     1 root      0:07 /sbin/init\nfirst_1   |     2 root      0:00 [kthreadd]\nfirst_1   |     3 root      0:00 [rcu_gp]\nfirst_1   |     4 root      0:00 [rcu_par_gp]\nfirst_1   |     6 root      0:00 [kworker/0:0H-ev]\nfirst_1   |     8 root      0:00 [mm_percpu_wq]\nfirst_1   |     9 root      0:00 [rcu_tasks_rude_]\nfirst_1   |    10 root      0:00 [rcu_tasks_trace]\nfirst_1   |    11 root      0:22 [ksoftirqd/0]\nfirst_1   |    12 root      0:10 [rcu_sched]\nfirst_1   |    13 root      0:07 [migration/0]\nfirst_1   |    15 root      0:00 [cpuhp/0]\nfirst_1   |    16 root      0:00 [cpuhp/1]\n...\n```\n\nì´ê²ƒì€ ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ í˜¸ìŠ¤íŠ¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ê´€ë¦¬í•˜ê³ (í¬í•¨í•˜ì—¬ ì¢…ë£Œ)í•  ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ì´ë¯€ë¡œ ì´ ì˜µì…˜ì„ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## í¬íŠ¸\n\nê°€ì¥ ì¸ê¸° ìˆëŠ” ì˜µì…˜ ì¤‘ í•˜ë‚˜ì¸ ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ í¬íŠ¸ë¥¼ í˜¸ìŠ¤íŠ¸ë¡œ ê²Œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ì»¨í…Œì´ë„ˆê°€ ì´ë¯¸ \"í˜¸ìŠ¤íŠ¸\" ëª¨ë“œì—ì„œ ì‹¤í–‰ ì¤‘ì´ì§€ ì•Šì€ ê²½ìš°).\n\nì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒê³¼ ê°™ì´ ê²Œì‹œí•˜ë ¤ëŠ” ê²½ìš°ë¥¼ ìƒê°í•´ ë´…ì‹œë‹¤:\n\n- í¬íŠ¸ 3000ì„ ì„ì˜ì˜ í¬íŠ¸ë¡œ\n- í¬íŠ¸ ë²”ìœ„ 3005ë¶€í„° 3010ê¹Œì§€\n- ë¡œì»¬í˜¸ìŠ¤íŠ¸ì˜ í¬íŠ¸ 80ì„ í¬íŠ¸ 80ìœ¼ë¡œë§Œ\n- ëª¨ë“  í˜¸ìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤ì˜ í¬íŠ¸ 443ì„ í¬íŠ¸ 443ìœ¼ë¡œ\n- í˜¸ìŠ¤íŠ¸ì˜ í¬íŠ¸ 3011ì„ UDPë§Œì„ ì‚¬ìš©í•˜ì—¬ í¬íŠ¸ 9876ë¡œ\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 10\n    ports:\n     - 3000\n     - 3005-3010\n     - 127.0.0.1:80:80\n     - 443:443\n     - 9876:3011/udp\nEOF\n$ docker-compose up -d\nì¤‘ë³µ ì»¨í…Œì´ë„ˆ \"mediumcom_second_1\"ë¥¼ ì œê±°í•˜ëŠ” ì¤‘\nmediumcom_first_1ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. ... ì™„ë£Œ\n$ docker ps --format '{.Ports}'\n127.0.0.1:80-\u003e80/tcp, 0.0.0.0:443-\u003e443/tcp, 0.0.0.0:61290-\u003e3000/tcp, 0.0.0.0:61292-\u003e3005/tcp, 0.0.0.0:61293-\u003e3006/tcp, 0.0.0.0:61294-\u003e3007/tcp, 0.0.0.0:61295-\u003e3008/tcp, 0.0.0.0:61296-\u003e3009/tcp, 0.0.0.0:61291-\u003e3010/tcp, 0.0.0.0:9876-\u003e3011/udp\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## í”„ë¡œí•„\n\n\"í”„ë¡œí•„\"ì€ ì»´í¬ì¦ˆ íŒŒì¼ ë‚´ì—ì„œ ì—­í• ì„ ë¶„ë¦¬í•  ìˆ˜ ìˆëŠ” ë©‹ì§„ ì œì–´ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. ìš°ë¦¬ê°€ ì»´í¬ì¦ˆ íŒŒì¼ ë‚´ì—ì„œ ì¼ë¶€ ì»¨í…Œì´ë„ˆê°€ ë§¤ìš° íŠ¹ì •í•œ ì„¤ì •í•˜ì—ì„œë§Œ ì‹¤í–‰ë˜ê±°ë‚˜ í•„ìš”í•  ë•Œë§Œ ì‹¤í–‰ë˜ë„ë¡ ì›í•œë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤ (ì¦‰, \"í”„ë¡œí•„\"ì´ë¼ê³ ë„ í•¨). ì´ê²ƒì´ í•  ìˆ˜ ìˆëŠ” ê²ƒì…ë‹ˆë‹¤:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: nginx\n  second:\n    image: alpine\n    command: wget http://first\n    profiles: [\"debug\"]\nEOF\n$ docker-compose up -d\në„¤íŠ¸ì›Œí¬ \"mediumcom_default\"ë¥¼ ê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ ìƒì„± ì¤‘\nmediumcom_first_1 ìƒì„± ì™„ë£Œ\n$ # ë³´ì„¸ìš”? nginx ì»¨í…Œì´ë„ˆë§Œ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ \"debug\"ë¥¼ í™œì„±í™”í•´ ë´…ì‹œë‹¤\n$ docker-compose --profile debug up\nmediumcom_first_1 is up-to-date\nmediumcom_second_1 ìƒì„± ì™„ë£Œ\nmediumcom_first_1, mediumcom_second_1ì— ì²¨ë¶€\nsecond_1  | first(172.26.0.2:80)ì— ì—°ê²° ì¤‘\nsecond_1  | 'index.html' ì €ì¥ ì¤‘\nsecond_1  | index.html           100% |********************************|   615  0:00:00 ë‚¨ìŒ\nsecond_1  | 'index.html' ì €ì¥ë¨\nfirst_1   | /docker-entrypoint.sh: /docker-entrypoint.d/ê°€ ë¹„ì–´ ìˆì§€ ì•Šìœ¼ë¯€ë¡œ êµ¬ì„±ì„ ì‹œë„í•  ê²ƒì…ë‹ˆë‹¤\n(first_ì´í•˜ ìƒëµ)\nmediumcom_second_1ì´ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\n## ì¬ì‹œì‘\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì»¨í…Œì´ë„ˆì˜ ì¬ì‹œì‘ ì •ì±…ì„ ì •ì˜í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤ (no, always, unless-stopped, on-failure ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒ).\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    restart: on-failure\n    command: sleep 4\n  second:\n    image: alpine\n    command: echo Hi `date`\n    restart: always\nEOF\n$ docker-compose up\nCreating network \"mediumcom_default\" with the default driver\nCreating mediumcom_first_1  ... done\nCreating mediumcom_second_1 ... done\nAttaching to mediumcom_first_1, mediumcom_second_1\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nmediumcom_second_1 exited with code 0\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nmediumcom_second_1 exited with code 0\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nmediumcom_second_1 exited with code 0\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nsecond_1  | Hi Tue Feb 1 17:21:11 CET 2022\nmediumcom_first_1 exited with code 0\n```\n\n## ë³´ì•ˆ ì„¤ì •\n\nì´ ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆì˜ SELinux ë ˆì´ë¸”ì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```bash\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 30\n    security_opt:\n     - label:user:USER\n  second:\n    image: alpine\n    command: sleep 30\nEOF\n$ docker inspect mediumcom_first_1 --format '{ .Id }: SecurityOpt={ .HostConfig.SecurityOpt }'\n2808e4b2ac6a6870b372ecf06da5ce0217efdd6d14df16cef4b332e1d4fb9b6a: SecurityOpt=[label:user:USER]\n$\n$ docker inspect mediumcom_second_1 --format '{ .Id }: SecurityOpt={ .HostConfig.SecurityOpt }'\ned4c417b27257cc9f793d5d3dad94672074859dba90effddd0cde49f12dd4115: SecurityOpt=\u003cno value\u003e\n```\n\n## stop_grace_period\n\nê¸°ë³¸ì ìœ¼ë¡œ DockerëŠ” SIGTERMì„ ìˆ˜ì‹ í•œ í›„ 10ì´ˆ ë‚´ì— ì»¨í…Œì´ë„ˆê°€ ìì—°ìŠ¤ëŸ½ê²Œ ì¤‘ì§€ë˜ì§€ ì•Šìœ¼ë©´ ì»¨í…Œì´ë„ˆë¥¼ ê°•ì œë¡œ ì¢…ë£Œí•©ë‹ˆë‹¤ (ì˜ˆ: docker stopìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ì˜ë„ì ìœ¼ë¡œ ì¤‘ì§€ì‹œí‚¨ í›„). ì´ ì‹œê°„ ê°„ê²©ì„ stop grace periodë¼ê³  í•˜ë©° êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```bash\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sh -c 'while true; do sleep 5 \u0026 done'\n  second:\n    image: alpine\n    command: sh -c 'while true; do sleep 5 \u0026 done'\n    stop_grace_period: 1s\nEOF\n$ docker-compose up -d\nRecreating mediumcom_first_1  ... done\nRecreating mediumcom_second_1 ... done\n$ time docker stop mediumcom_first_1\nmediumcom_first_1\nreal 0m10.847s\nuser 0m0.205s\nsys 0m0.092s\n$ time docker stop mediumcom_second_1\nmediumcom_second_1\nreal 0m1.883s\nuser 0m0.192s\nsys 0m0.105s\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## stop_signal\n\nì•ì„œ ì–¸ê¸‰í•œ ì˜µì…˜ì—ì„œ SIGTERMì´ ë„ì»¤ ì»¨í…Œì´ë„ˆë¥¼ ì¤‘ì§€í•˜ëŠ” ê¸°ë³¸ ì‹ í˜¸ì„ì„ ì´ë¯¸ ì•Œì•˜ì„ ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì—¬ëŸ¬ë¶„ì€ `docker stop`ì´ ì»¨í…Œì´ë„ˆ ì‘ìš© í”„ë¡œê·¸ë¨ìœ¼ë¡œ ì›í•˜ëŠ” ì‚¬ìš©ì ì •ì˜ ì‹ í˜¸ë¥¼ ì „ì†¡í•˜ë„ë¡ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 60\n    stop_signal: SIGUSR1\nEOF\n$ docker-compose up -d\nCreating network \"mediumcom_default\" with the default driver\nCreating mediumcom_first_1 ... done\n$ docker inspect mediumcom_first_1 --format '{.Config.StopSignal}'\nSIGUSR1\n```\n\n## sysctls\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ì˜µì…˜ì€ ì»¨í…Œì´ë„ˆì˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ëœ ì»¤ë„ ë§¤ê°œë³€ìˆ˜ë¥¼ ëŸ°íƒ€ì„ì—ì„œ êµ¬ì„±í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 60\n    sysctls:\n      net.core.somaxconn: 1024\n      net.ipv4.tcp_syncookies: 0\nEOF\n$ docker-compose up -d\në„¤íŠ¸ì›Œí¬ \"mediumcom_default\" ìƒì„± ì¤‘, ê¸°ë³¸ ë“œë¼ì´ë²„ë¡œ ì„¤ì •\nmediumcom_first_1 ìƒì„± ì¤‘... ì™„ë£Œ\n$ docker inspect mediumcom_first_1 --format '{json .HostConfig.Sysctls}'\n{\"net.core.somaxconn\": \"1024\", \"net.ipv4.tcp_syncookies\": \"0\"}\n```\n\n## ulimits\n\nì»¨í…Œì´ë„ˆì˜ ê¸°ë³¸ ulimitsë¥¼ ì¬ì •ì˜í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 60\n    ulimits:\n      nproc: 65535\n      nofile:\n        soft: 20000\n        hard: 40000\nEOF\n$ docker-compose up -d\nRecreating mediumcom_first_1 ... done\n$ docker inspect mediumcom_first_1 --format '{json .HostConfig.Ulimits}'\n[{\"Name\":\"nproc\",\"Hard\":65535,\"Soft\":65535},{\"Name\":\"nofile\",\"Hard\":40000,\"Soft\":20000}]\n```\n\n## userns_mode\n\në„ˆë¬´ ê¹Šê²Œ íŒŒê³ ë“¤ì§€ ì•Šê³  Docker ë°ëª¬ì—ì„œ ì‚¬ìš©ì ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ í™œì„±í™”í•œ ê²½ìš°, ë‹¨ì¼ ì»¨í…Œì´ë„ˆì—ì„œ ì‚¬ìš©ì ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ë¹„í™œì„±í™”í•˜ê²Œ í•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤. `userns_mode: \"host\"`ë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.\n\n## user\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì»¨í…Œì´ë„ˆ ì‘ìš©í”„ë¡œê·¸ë¨ì´ íŠ¹ì • ì‚¬ìš©ìë¡œ ì‹¤í–‰ë˜ë„ë¡ í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: whoami\n    user: nobody\nEOF\n$ docker-compose up\nRecreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1  | nobody\nmediumcom_first_1 exited with code 0\n```\n\n## working_dir\n\në„ì»¤ íŒŒì¼ì—ì„œ ë³¸ ì ì´ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆì˜ ëœë”© ê²½ë¡œ(PWD)ë¥¼ ì¬ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ì™€ ëª…ë ¹ì´ ì ˆëŒ€ ê²½ë¡œë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì—ë„ ë™ì‘ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: pwd\n    working_dir: /my/custom/medium/dir\nEOF\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²° ì¤‘\nfirst_1  | /my/custom/medium/dir\nmediumcom_first_1 ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\n## ë„ë©”ì¸ ì´ë¦„\n\në‹¹ì‹ ì˜ ì»¨í…Œì´ë„ˆëŠ” í˜¸ìŠ¤íŠ¸ëª…ê³¼ ë„ë©”ì¸ëª…ì„ ê°€ì§€ê³  ìˆë‹¤ëŠ” ê²ƒì„ ì•„ì‹œì£ . í˜¸ìŠ¤íŠ¸ ëª¨ë“œê°€ ì•„ë‹ ë•Œ, í˜¸ìŠ¤íŠ¸ëª…ì€ ì»¨í…Œì´ë„ˆì˜ IDì™€ ë™ì¼í•˜ë©°, ë„ë©”ì¸ëª…ì€ ì˜ˆìƒëŒ€ë¡œ ì—†ì„ ê²ƒì…ë‹ˆë‹¤. ë„ë©”ì¸ëª…ì„ ì„¤ì •í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•˜ì„¸ìš”:\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: hostname -f\n    domainname: cristovaocordeiro.medium.com\nEOF\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²° ì¤‘\nfirst_1  | 6e900c697939.cristovaocordeiro.medium.com\nmediumcom_first_1 ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## í˜¸ìŠ¤íŠ¸ì´ë¦„\n\në‹¹ì—°íˆ ë„ë©”ì¸ ì´ë¦„ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤ë©´ ì»¨í…Œì´ë„ˆì˜ í˜¸ìŠ¤íŠ¸ ì´ë¦„ë„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µë˜ëŠ” \"ì¶©ê²©ì ì¸\" ID í˜•ì‹ ëŒ€ì‹  í˜¸ìŠ¤íŠ¸ ì´ë¦„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ ğŸ˜œ\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: hostname -f\n    hostname: test-container\nEOF\n$ docker-compose up\nRecreating mediumcom_first_1 ... done\nAttaching to mediumcom_first_1\nfirst_1  | test-container\nmediumcom_first_1 exited with code 0\n```\n\n## ipc\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì»¨í…Œì´ë„ˆì˜ í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹ ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(ì„±ëŠ¥ ì¡°ì • ëª©ì ). ì´ ì˜µì…˜ì„ í†µí•´ ì»¨í…Œì´ë„ˆì˜ IPC ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: sleep 30\n    ipc: shareable\nEOF\n$ docker inspect mediumcom_first_1 --format '{json .HostConfig.IpcMode}'\n\"shareable\"\n```\n\n## mac_address\n\nì›í•˜ëŠ” ì»¨í…Œì´ë„ˆì— ì‚¬ìš©ì ì •ì˜ MAC ì£¼ì†Œë¥¼ ì„¤ì •í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\në²„ì „: \"3\"\nì„œë¹„ìŠ¤:\nÂ  first:\nÂ  Â  ì´ë¯¸ì§€: alpine\nÂ  Â  ëª…ë ¹: ifconfig eth0\nÂ  Â  mac_address: 00:ab:cd:12:34:56\nEOF\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²° ì¤‘\nfirst_1  | eth0 Link encap:EthernetÂ  HWaddr 00:AB:CD:12:34:56 Â \nfirst_1  | inet addr:172.29.0.2 Bcast:172.29.255.255 Mask:255.255.0.0\nfirst_1  | UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1\nfirst_1  | RX packets:2 errors:0 dropped:0 overruns:0 frame:0\nfirst_1  | TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\nfirst_1  | collisions:0 txqueuelen:0Â \nfirst_1  | RX bytes:200 (200.0 B)Â  TX bytes:0 (0.0 B)\nfirst_1  |\nmediumcom_first_1ê°€ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\n## íŠ¹ê¶Œì \n\nìœ„ì—ì„œ \"íŠ¹ê¶Œì \" ì»¨í…Œì´ë„ˆ ìƒíƒœë¥¼ ëª‡ ë²ˆ ë‹¤ë¤˜ìŠµë‹ˆë‹¤. ê°„ë‹¨íˆ ë§í•˜ë©´, (!!) í™•ì‹¤íˆ í™•ì‹ ì´ ìˆê³  ì»¨í…Œì´ë„ˆì— ê°€ëŠ¥í•œ ëª¨ë“  ê¸°ëŠ¥ì„ ë¶€ì—¬í•˜ê³  ì‹¶ë‹¤ë©´ (ë”°ë¼ì„œ í˜¸ìŠ¤íŠ¸ ì¥ì¹˜ ë° ê¸°íƒ€ ìì›ì— ì•¡ì„¸ìŠ¤ í•  ìˆ˜ ìˆìŒ), ì´ ì˜µì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\në²„ì „: \"3\"\nì„œë¹„ìŠ¤:\nÂ  first:\nÂ  Â  ì´ë¯¸ì§€: alpine\nÂ  Â  ëª…ë ¹: sh -c 'ls /dev/ | wc -l'\nÂ  second:\nÂ  Â  ì´ë¯¸ì§€: alpine\nÂ  Â  ëª…ë ¹: sh -c 'ls /dev/ | wc -l'\nÂ  Â  íŠ¹ê¶Œì : true\nEOF\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_second_1 ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²° ì¤‘, mediumcom_second_1ì— ì—°ê²° ì¤‘\nfirst_1  | 15\nsecond_1  | 150\nmediumcom_first_1ê°€ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\nmediumcom_second_1ê°€ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ì½ê¸° ì „ìš©\n\nì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•  ë•Œ ì½ê¸° ì „ìš© ì´ë¯¸ì§€ ë ˆì´ì–´ ìœ„ì— ì“°ê¸° ê°€ëŠ¥í•œ ë ˆì´ì–´ê°€ ìƒì„±ëœë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê³  ê³„ì‹¤ ê²ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ì“°ê¸° ê°€ëŠ¥í•œ ë ˆì´ì–´ë¥¼ ì½ê¸° ì „ìš©ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: touch /tmp/test\n  second:\n    image: alpine\n    command: touch /tmp/test\n    read_only: true\nEOF\n$ docker-compose up\nmediumcom_first_1  ... done\nmediumcom_second_1 ... done\nmediumcom_first_1, mediumcom_second_1ì— ì—°ê²° ì¤‘\nsecond_1  | touch: /tmp/test: ì½ê¸° ì „ìš© íŒŒì¼ ì‹œìŠ¤í…œ\nmediumcom_first_1 ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œ\nmediumcom_second_1 ì½”ë“œ 1ë¡œ ì¢…ë£Œ\n```\n\n## shm_size\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì»¨í…Œì´ë„ˆê°€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê³µìœ  ë©”ëª¨ë¦¬ ì–‘ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    command: df -h /dev/shm\n    shm_size: 123M\nEOF\n$ docker-compose up\nmediumcom_first_1 ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ìƒì„± ì¤‘... ì™„ë£Œ\nmediumcom_first_1ì— ì—°ê²° ì¤‘\nfirst_1  | íŒŒì¼ ì‹œìŠ¤í…œ                í¬ê¸°      ì‚¬ìš©í•¨ ì‚¬ìš© ê°€ëŠ¥í•¨ ì‚¬ìš©ë¥  ë§ˆìš´íŠ¸ëœ ìœ„ì¹˜\nfirst_1  | shm                     123.0M         0    123.0M   0% /dev/shm\nmediumcom_first_1ì€ ì½”ë“œ 0ìœ¼ë¡œ ì¢…ë£Œë¨\n```\n\n## stdin_open\n\nì´ëŠ” docker runì˜ -iì— í•´ë‹¹í•©ë‹ˆë‹¤. ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜¸ìŠ¤íŠ¸ì™€ ì»¨í…Œì´ë„ˆ ê°„ ìƒí˜¸ì‘ìš©ì´ ê°€ëŠ¥í•œ ì¸í„°ë™í‹°ë¸Œ ì„¸ì…˜ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```bash\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    stdin_open: true\nEOF\n$ docker-compose up -d\nRecreating mediumcom_first_1 ... done\n$ docker attach mediumcom_first_1\necho Hello, I am sending commands to the container\nHello, I am sending commands to the container\nexit\n```\n\nìœ„ì™€ ê°™ì´ ì»¨í…Œì´ë„ˆì™€ ìƒí˜¸ ì‘ìš©í•˜ê³  ìˆì§€ë§Œ í˜¸ìŠ¤íŠ¸ì™€ ì»¨í…Œì´ë„ˆ ì‚¬ì´ì— ì‹¤ì œë¡œ í„°ë¯¸ë„ ì„¸ì…˜ì´ ì—†ìŠµë‹ˆë‹¤... ê°„ë‹¨íˆ ë§í•´ì„œ íŒŒì´í”„ì¼ ë¿ì…ë‹ˆë‹¤.\n\n## tty\n\nì´ê²ƒì€ ë„ì»¤ ì‹¤í–‰ì—ì„œì˜ -tì™€ ë™ë“±í•©ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆì— ê°€ìƒ ttyë¥¼ í• ë‹¹í•˜ê³  stdin_openê³¼ ê²°í•©í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n$ cat \u003edocker-compose.yml \u003c\u003cEOF\nversion: \"3\"\nservices:\n  first:\n    image: alpine\n    stdin_open: true\n    tty: true\nEOF\n$ docker-compose up -d\nmediumcom_first_1 ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ìƒì„±í•©ë‹ˆë‹¤... ì™„ë£Œ\n$ docker attach mediumcom_first_1\n/ # echo now this is a real terminal\nnow this is a real terminal\n/ # sleep 5\n^C\n/ # echo $?\n130\n/ # exit\n```\n\nì´ì œ ìš°ë¦¬ëŠ” ì‹¤ì œ í„°ë¯¸ë„ê³¼ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ì„¸ì…˜ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì»¨í…Œì´ë„ˆ ì•ˆì—ì„œ ì›í•˜ëŠ” ì¼ì„ í•  ìˆ˜ ìˆì–´ìš”.\n\nìš°ì™€... ì •ë§ ê¸´ ê¸°ì‚¬ì˜€ì£ . ì£„ì†¡í•©ë‹ˆë‹¤. ë°ì€ ë©´ì—ì„œ ë§í•˜ë©´, ì—¬ëŸ¬ ê¸°ì‚¬ë¥¼ ë„˜ë‚˜ë“¤ë©° ë‹¤ì–‘í•œ ì»´í¬ì¦ˆ íŒŒì¼ ì˜µì…˜ì´ ë¬´ì—‡ì„ í•˜ëŠ”ì§€ ì°¾ì•„ë³´ì§€ ì•Šì•„ë„ ë˜ê² ì£ ?\n\nìŠ¤ì›œ ëª¨ë“œì—ì„œ ì„œë¹„ìŠ¤ì— íŠ¹ì •í•œ ì˜µì…˜(ë³€ìˆ˜ ì¹˜í™˜ ë° í™•ì¥ í•„ë“œ ê°™ì€ ê³ ìœ í•œ êµ¬ì¡°ì  ë…¸í•˜ìš°)ì„ ì¼ë¶€ ëºìŠµë‹ˆë‹¤. ì´ê²ƒë“¤ì€ ì„ íƒ ì‚¬í•­ì´ë©°, ë‹¤ë¥¸ ê¸°ì‚¬ì—ì„œ ë‹¤ë£° ìˆ˜ ìˆì–´ìš”.\n\n\u003c!-- ui-station ì‚¬ê°í˜• --\u003e\n\n\u003cins class=\"adsbygoogle\"\nstyle=\"display:block\"\ndata-ad-client=\"ca-pub-4877378276818686\"\ndata-ad-slot=\"7249294152\"\ndata-ad-format=\"auto\"\ndata-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ í…Œì´ë¸” íƒœê·¸ë¥¼ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•´ë“œë ¸ìŠµë‹ˆë‹¤.\n","ogImage":{"url":"/assets/img/2024-06-23-TheWholeShebangComposeFiles_0.png"},"coverImage":"/assets/img/2024-06-23-TheWholeShebangComposeFiles_0.png","tag":["Tech"],"readingTime":55}],"page":"19","totalPageCount":113,"totalPageGroupCount":6,"lastPageGroup":20,"currentPageGroup":0},"__N_SSG":true},"page":"/posts/[page]","query":{"page":"19"},"buildId":"T_Nz0g9U1yttYMSEma95P","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>